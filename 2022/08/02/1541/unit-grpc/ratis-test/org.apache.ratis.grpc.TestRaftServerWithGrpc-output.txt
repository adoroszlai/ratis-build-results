2022-08-02 21:04:34,278 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-02 21:04:34,281 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-02 21:04:34,285 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-02 21:04:34,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-02 21:04:34,352 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-58108B3F713F:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]
2022-08-02 21:04:34,352 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-02 21:04:34,353 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-02 21:04:34,353 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-02 21:04:34,353 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-02 21:04:34,353 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-02 21:04:34,353 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-02 21:04:34,359 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-58108B3F713F:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:34,361 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0
2022-08-02 21:04:34,363 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0 does not exist.
2022-08-02 21:04:34,363 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0
2022-08-02 21:04:34,390 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:34,451 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43381 (custom)
2022-08-02 21:04:34,452 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35491 (custom)
2022-08-02 21:04:34,452 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42217 (custom)
2022-08-02 21:04:34,453 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:34,455 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:34,456 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:34,457 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:34,477 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:34,480 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:34,481 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:34,679 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:34,681 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:34,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:34,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:34,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:34,693 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0] (custom)
2022-08-02 21:04:34,709 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-58108B3F713F:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER] returns group-58108B3F713F:java.util.concurrent.CompletableFuture@331e8b00[Not completed]
2022-08-02 21:04:34,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-58108B3F713F:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:34,709 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1
2022-08-02 21:04:34,710 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1 does not exist.
2022-08-02 21:04:34,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1
2022-08-02 21:04:34,710 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:34,711 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42793 (custom)
2022-08-02 21:04:34,711 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38371 (custom)
2022-08-02 21:04:34,711 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35771 (custom)
2022-08-02 21:04:34,712 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:34,712 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:34,713 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:34,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:34,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:34,714 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:34,715 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:34,722 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:34,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:34,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:34,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:34,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:34,724 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1] (custom)
2022-08-02 21:04:34,731 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:34,732 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:34,733 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:34,734 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-58108B3F713F:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER] returns group-58108B3F713F:java.util.concurrent.CompletableFuture@26a6a960[Not completed]
2022-08-02 21:04:34,734 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-58108B3F713F:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:34,735 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2
2022-08-02 21:04:34,735 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2 does not exist.
2022-08-02 21:04:34,735 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2
2022-08-02 21:04:34,735 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:34,736 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42871 (custom)
2022-08-02 21:04:34,736 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40191 (custom)
2022-08-02 21:04:34,736 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42023 (custom)
2022-08-02 21:04:34,736 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:34,736 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:34,736 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:34,737 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:34,737 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:34,737 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:34,737 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:34,738 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:34,739 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:34,739 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:34,739 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:34,740 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:34,740 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2] (custom)
2022-08-02 21:04:34,740 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-58108B3F713F:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:34,742 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:34,742 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:34,743 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:34,743 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:34,742 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:34,743 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:34,743 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:34,743 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:34,744 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:34,747 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-58108B3F713F:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:34,748 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:34,748 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:34,748 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:34,748 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:34,748 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:34,748 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:34,751 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-58108B3F713F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:34,752 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1] (custom)
2022-08-02 21:04:34,752 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-58108B3F713F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:34,754 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0] (custom)
2022-08-02 21:04:34,757 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:34,757 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:34,759 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-58108B3F713F:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER] returns group-58108B3F713F:java.util.concurrent.CompletableFuture@36eb256[Not completed]
2022-08-02 21:04:34,757 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:34,760 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:34,762 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:34,762 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:34,762 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:34,762 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-58108B3F713F:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:34,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:34,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:34,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:34,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:34,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:34,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:34,763 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-58108B3F713F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:34,763 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2] (custom)
2022-08-02 21:04:34,764 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:34,764 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:34,765 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:34,765 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:34,765 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:34,768 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:34,768 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:34,768 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:34,771 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:34,771 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:34,772 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:34,790 [pool-2-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-08-02 21:04:34,853 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:34,854 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:34,854 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:34,855 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:34,855 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:34,856 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:34,857 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0/a6dce66a-5b55-4c78-981e-58108b3f713f does not exist. Creating ...
2022-08-02 21:04:34,854 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:34,857 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:34,857 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:34,857 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:34,857 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:34,858 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0/a6dce66a-5b55-4c78-981e-58108b3f713f
2022-08-02 21:04:34,859 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:34,860 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:34,860 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:34,860 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:34,863 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0/a6dce66a-5b55-4c78-981e-58108b3f713f/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:34,863 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0/a6dce66a-5b55-4c78-981e-58108b3f713f/current
2022-08-02 21:04:34,864 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0/a6dce66a-5b55-4c78-981e-58108b3f713f/sm
2022-08-02 21:04:34,870 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0/a6dce66a-5b55-4c78-981e-58108b3f713f has been successfully formatted.
2022-08-02 21:04:34,871 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:34,872 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:34,873 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:34,880 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:34,880 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:34,881 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:34,881 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:34,883 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:34,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:34,891 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:34,898 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-58108B3F713F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0/a6dce66a-5b55-4c78-981e-58108b3f713f
2022-08-02 21:04:34,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:34,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:34,900 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:34,900 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:34,901 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:34,901 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:34,901 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:34,904 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:34,911 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:34,912 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:34,912 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:34,917 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-58108B3F713F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:34,918 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-58108B3F713F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:34,919 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-58108B3F713F: start as a follower, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:34,919 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-58108B3F713F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:34,920 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-58108B3F713F-FollowerState
2022-08-02 21:04:34,922 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-58108B3F713F,id=s0
2022-08-02 21:04:34,923 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:34,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:34,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:34,927 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-08-02 21:04:34,963 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 35491
2022-08-02 21:04:34,964 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 42217
2022-08-02 21:04:34,968 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 43381
2022-08-02 21:04:34,971 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1/a6dce66a-5b55-4c78-981e-58108b3f713f does not exist. Creating ...
2022-08-02 21:04:34,972 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1/a6dce66a-5b55-4c78-981e-58108b3f713f
2022-08-02 21:04:34,972 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@13c4b674] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-02 21:04:34,973 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1/a6dce66a-5b55-4c78-981e-58108b3f713f/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:34,974 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1/a6dce66a-5b55-4c78-981e-58108b3f713f/current
2022-08-02 21:04:34,974 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1/a6dce66a-5b55-4c78-981e-58108b3f713f/sm
2022-08-02 21:04:34,976 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1/a6dce66a-5b55-4c78-981e-58108b3f713f has been successfully formatted.
2022-08-02 21:04:34,976 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:34,976 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:34,976 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:34,976 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:34,977 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:34,977 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:34,977 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:34,977 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:34,977 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:34,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:34,978 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-58108B3F713F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1/a6dce66a-5b55-4c78-981e-58108b3f713f
2022-08-02 21:04:34,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:34,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:34,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:34,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:34,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:34,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:34,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:34,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:34,979 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:34,979 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:34,979 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:34,980 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-58108B3F713F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:34,980 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-58108B3F713F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:34,981 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-58108B3F713F: start as a follower, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:34,981 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-58108B3F713F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:34,981 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-58108B3F713F-FollowerState
2022-08-02 21:04:34,982 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-58108B3F713F,id=s1
2022-08-02 21:04:34,983 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:34,983 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:34,983 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:34,983 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-08-02 21:04:34,984 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 38371
2022-08-02 21:04:34,984 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 35771
2022-08-02 21:04:34,985 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 42793
2022-08-02 21:04:34,987 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2/a6dce66a-5b55-4c78-981e-58108b3f713f does not exist. Creating ...
2022-08-02 21:04:34,988 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2/a6dce66a-5b55-4c78-981e-58108b3f713f
2022-08-02 21:04:34,988 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@7277b457] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-02 21:04:34,990 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2/a6dce66a-5b55-4c78-981e-58108b3f713f/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:34,990 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2/a6dce66a-5b55-4c78-981e-58108b3f713f/current
2022-08-02 21:04:34,990 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2/a6dce66a-5b55-4c78-981e-58108b3f713f/sm
2022-08-02 21:04:34,992 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2/a6dce66a-5b55-4c78-981e-58108b3f713f has been successfully formatted.
2022-08-02 21:04:34,992 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:34,992 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:34,992 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:34,992 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:34,993 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:34,993 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:34,993 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:34,993 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:34,993 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:34,993 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:34,993 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-58108B3F713F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2/a6dce66a-5b55-4c78-981e-58108b3f713f
2022-08-02 21:04:34,993 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:34,993 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:34,994 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:34,994 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:34,994 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:34,994 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:34,994 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:34,994 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:34,996 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:34,997 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:34,997 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:34,999 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-58108B3F713F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:34,999 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-58108B3F713F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:34,999 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-58108B3F713F: start as a follower, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,000 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-58108B3F713F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:35,000 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-58108B3F713F-FollowerState
2022-08-02 21:04:35,000 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-58108B3F713F,id=s2
2022-08-02 21:04:35,000 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:35,000 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:35,000 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:35,001 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-08-02 21:04:35,001 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 40191
2022-08-02 21:04:35,002 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 42023
2022-08-02 21:04:35,002 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 42871
2022-08-02 21:04:35,007 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:35,009 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:35,011 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@44b6db7b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-02 21:04:35,017 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:311)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:216)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:35,157 [s1@group-58108B3F713F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-58108B3F713F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:175990041ns, electionTimeout:173ms
2022-08-02 21:04:35,158 [s1@group-58108B3F713F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-58108B3F713F-FollowerState
2022-08-02 21:04:35,159 [s1@group-58108B3F713F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-58108B3F713F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:35,161 [s1@group-58108B3F713F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:35,161 [s1@group-58108B3F713F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-58108B3F713F-LeaderElection1
2022-08-02 21:04:35,166 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-58108B3F713F-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,210 [s0@group-58108B3F713F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-58108B3F713F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:289922067ns, electionTimeout:257ms
2022-08-02 21:04:35,210 [s0@group-58108B3F713F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-58108B3F713F-FollowerState
2022-08-02 21:04:35,211 [s0@group-58108B3F713F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-58108B3F713F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:35,211 [s0@group-58108B3F713F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:35,211 [s0@group-58108B3F713F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-58108B3F713F-LeaderElection2
2022-08-02 21:04:35,212 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-58108B3F713F-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,232 [s1@group-58108B3F713F-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-02 21:04:35,234 [s0@group-58108B3F713F-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-02 21:04:35,234 [s0@group-58108B3F713F-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-02 21:04:35,234 [s1@group-58108B3F713F-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-02 21:04:35,263 [s2@group-58108B3F713F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-58108B3F713F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:263495944ns, electionTimeout:263ms
2022-08-02 21:04:35,264 [s2@group-58108B3F713F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-58108B3F713F-FollowerState
2022-08-02 21:04:35,264 [s2@group-58108B3F713F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-58108B3F713F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:35,264 [s2@group-58108B3F713F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:35,264 [s2@group-58108B3F713F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-58108B3F713F-LeaderElection3
2022-08-02 21:04:35,274 [s2@group-58108B3F713F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-58108B3F713F-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,279 [s2@group-58108B3F713F-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-02 21:04:35,281 [s2@group-58108B3F713F-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-02 21:04:35,422 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-58108B3F713F-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-02 21:04:35,422 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-58108B3F713F-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2022-08-02 21:04:35,422 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-58108B3F713F-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,471 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:311)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:216)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:35,489 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-58108B3F713F-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-02 21:04:35,489 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-58108B3F713F-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2022-08-02 21:04:35,489 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-58108B3F713F-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,522 [s2@group-58108B3F713F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-58108B3F713F-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-02 21:04:35,522 [s2@group-58108B3F713F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-58108B3F713F-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2022-08-02 21:04:35,522 [s2@group-58108B3F713F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-58108B3F713F-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,534 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-58108B3F713F: receive requestVote(PRE_VOTE, s0, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,535 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,535 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-58108B3F713F: receive requestVote(PRE_VOTE, s0, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,536 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-58108B3F713F: receive requestVote(PRE_VOTE, s1, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,536 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,539 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-58108B3F713F: receive requestVote(PRE_VOTE, s0, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,539 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,540 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-58108B3F713F: receive requestVote(PRE_VOTE, s1, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,541 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-58108B3F713F: receive requestVote(PRE_VOTE, s2, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,541 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-58108B3F713F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,541 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-58108B3F713F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,543 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-58108B3F713F replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,545 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,545 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-58108B3F713F replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,545 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,545 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-58108B3F713F replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,547 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,547 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-58108B3F713F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,555 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-58108B3F713F: receive requestVote(PRE_VOTE, s2, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,556 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,556 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-58108B3F713F replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,557 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-58108B3F713F-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:35,557 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-02 21:04:35,557 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-58108B3F713F-LeaderElection2 PRE_VOTE round 1: result PASSED
2022-08-02 21:04:35,559 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-58108B3F713F-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,561 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-58108B3F713F: receive requestVote(PRE_VOTE, s0, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,561 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,561 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-58108B3F713F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,563 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-58108B3F713F: receive requestVote(PRE_VOTE, s2, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,563 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,563 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-58108B3F713F replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-58108B3F713F:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,569 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-58108B3F713F: receive requestVote(PRE_VOTE, s2, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,569 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,569 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-58108B3F713F replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,569 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-58108B3F713F: receive requestVote(PRE_VOTE, s1, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,569 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,569 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-58108B3F713F replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,571 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-58108B3F713F: receive requestVote(PRE_VOTE, s1, group-58108B3F713F, 0, (t:0, i:0))
2022-08-02 21:04:35,572 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-58108B3F713F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,572 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-58108B3F713F replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-58108B3F713F:t0, leader=null, voted=, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,573 [s2@group-58108B3F713F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-58108B3F713F-LeaderElection3: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-08-02 21:04:35,573 [s2@group-58108B3F713F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-08-02 21:04:35,573 [s2@group-58108B3F713F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-58108B3F713F-LeaderElection3 PRE_VOTE round 1: result DISCOVERED_A_NEW_TERM (term=1)
2022-08-02 21:04:35,574 [s2@group-58108B3F713F-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-58108B3F713F: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2022-08-02 21:04:35,574 [s2@group-58108B3F713F-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-58108B3F713F-LeaderElection3
2022-08-02 21:04:35,574 [s2@group-58108B3F713F-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-58108B3F713F-FollowerState
2022-08-02 21:04:35,576 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-58108B3F713F-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:35,576 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-02 21:04:35,576 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-58108B3F713F-LeaderElection1 PRE_VOTE round 1: result PASSED
2022-08-02 21:04:35,579 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-58108B3F713F-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,581 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-58108B3F713F: receive requestVote(ELECTION, s0, group-58108B3F713F, 1, (t:0, i:0))
2022-08-02 21:04:35,581 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-58108B3F713F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:35,581 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-58108B3F713F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-02 21:04:35,581 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-58108B3F713F-FollowerState
2022-08-02 21:04:35,581 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-58108B3F713F: receive requestVote(ELECTION, s0, group-58108B3F713F, 1, (t:0, i:0))
2022-08-02 21:04:35,582 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-58108B3F713F-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-08-02 21:04:35,582 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-58108B3F713F replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-58108B3F713F:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,584 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-58108B3F713F: receive requestVote(ELECTION, s1, group-58108B3F713F, 1, (t:0, i:0))
2022-08-02 21:04:35,584 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-58108B3F713F-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2022-08-02 21:04:35,584 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-58108B3F713F replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-58108B3F713F:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,585 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-58108B3F713F-FollowerState
2022-08-02 21:04:35,585 [s2@group-58108B3F713F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-58108B3F713F-FollowerState was interrupted
2022-08-02 21:04:35,590 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-58108B3F713F replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-58108B3F713F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,593 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-58108B3F713F-LeaderElection2: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-08-02 21:04:35,593 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-08-02 21:04:35,593 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t1
2022-08-02 21:04:35,593 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-58108B3F713F-LeaderElection2 ELECTION round 0: result PASSED
2022-08-02 21:04:35,593 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-58108B3F713F-LeaderElection2
2022-08-02 21:04:35,594 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-58108B3F713F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-02 21:04:35,594 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-58108B3F713F: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 828ms
2022-08-02 21:04:35,595 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-58108B3F713F: receive requestVote(ELECTION, s1, group-58108B3F713F, 1, (t:0, i:0))
2022-08-02 21:04:35,596 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-58108B3F713F-FOLLOWER: reject ELECTION from s1: already has voted for s0 at current term 1
2022-08-02 21:04:35,596 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-58108B3F713F replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-58108B3F713F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,598 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:35,598 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-58108B3F713F-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-02 21:04:35,599 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-02 21:04:35,599 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-02 21:04:35,599 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-58108B3F713F-LeaderElection1 ELECTION round 0: result REJECTED
2022-08-02 21:04:35,599 [s1@group-58108B3F713F-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-58108B3F713F: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-02 21:04:35,599 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-58108B3F713F-LeaderElection1
2022-08-02 21:04:35,599 [s1@group-58108B3F713F-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-58108B3F713F-FollowerState
2022-08-02 21:04:35,603 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:35,603 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:35,608 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:35,609 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:35,609 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:35,614 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:35,616 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:35,624 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:35,625 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:35,625 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:35,628 [s0@group-58108B3F713F-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:35,628 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:35,628 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:35,628 [s0@group-58108B3F713F-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:35,630 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:35,630 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:35,630 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:35,630 [s0@group-58108B3F713F-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:35,630 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:35,630 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:35,630 [s0@group-58108B3F713F-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:35,632 [s0@group-58108B3F713F-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-58108B3F713F-LeaderStateImpl
2022-08-02 21:04:35,647 [s0@group-58108B3F713F-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-58108B3F713F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:35,666 [s0@group-58108B3F713F-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-58108B3F713F: set configuration 0: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,695 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-58108B3F713F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 929ms
2022-08-02 21:04:35,696 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-58108B3F713F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 931ms
2022-08-02 21:04:35,713 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-58108B3F713F: set configuration 0: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,714 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-58108B3F713F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:35,715 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-58108B3F713F: set configuration 0: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:35,716 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-58108B3F713F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:35,775 [s2@group-58108B3F713F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-58108B3F713F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s2/a6dce66a-5b55-4c78-981e-58108b3f713f/current/log_inprogress_0
2022-08-02 21:04:35,775 [s0@group-58108B3F713F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-58108B3F713F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s0/a6dce66a-5b55-4c78-981e-58108b3f713f/current/log_inprogress_0
2022-08-02 21:04:35,775 [s1@group-58108B3F713F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-58108B3F713F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc3344572e/s1/a6dce66a-5b55-4c78-981e-58108b3f713f/current/log_inprogress_0
2022-08-02 21:04:35,923 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-58108B3F713F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-58108B3F713F:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-58108B3F713F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:35,956 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:35,957 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,006 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-B7E2841D69F1->s0: receive RaftClientReply:client-B7E2841D69F1->s0@group-58108B3F713F, cid=0, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-02 21:04:36,048 [s0@group-58108B3F713F-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-B7E2841D69F1
2022-08-02 21:04:36,056 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-B7E2841D69F1->s0: receive RaftClientReply:client-B7E2841D69F1->s0@group-58108B3F713F, cid=1, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-08-02 21:04:36,058 [s1@group-58108B3F713F-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-B7E2841D69F1
2022-08-02 21:04:36,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-02 21:04:36,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-02 21:04:36,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-02 21:04:36,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-02 21:04:36,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-02 21:04:36,071 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-58108B3F713F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-58108B3F713F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-58108B3F713F:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-58108B3F713F-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-58108B3F713F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-58108B3F713F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42217|admin:localhost:43381|client:localhost:35491|dataStream:localhost:33217|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35771|admin:localhost:42793|client:localhost:38371|dataStream:localhost:45469|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42023|admin:localhost:42871|client:localhost:40191|dataStream:localhost:39035|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:36,080 [s2@group-58108B3F713F-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-B7E2841D69F1
2022-08-02 21:04:36,084 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-08-02 21:04:36,084 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-58108B3F713F: shutdown
2022-08-02 21:04:36,085 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-58108B3F713F,id=s0
2022-08-02 21:04:36,085 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-58108B3F713F-LeaderStateImpl
2022-08-02 21:04:36,085 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-08-02 21:04:36,085 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-58108B3F713F: shutdown
2022-08-02 21:04:36,085 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-58108B3F713F-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:36,086 [s0@group-58108B3F713F->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s0@group-58108B3F713F->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:36,086 [s0@group-58108B3F713F->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s0@group-58108B3F713F->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:36,086 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-58108B3F713F,id=s1
2022-08-02 21:04:36,088 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-58108B3F713F-FollowerState
2022-08-02 21:04:36,088 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-58108B3F713F-StateMachineUpdater: set stopIndex = 2
2022-08-02 21:04:36,088 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-58108B3F713F: closes. applyIndex: 2
2022-08-02 21:04:36,089 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-58108B3F713F-StateMachineUpdater: set stopIndex = 1
2022-08-02 21:04:36,089 [s0@group-58108B3F713F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-58108B3F713F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:36,090 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-58108B3F713F: closes. applyIndex: 1
2022-08-02 21:04:36,086 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-08-02 21:04:36,091 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-58108B3F713F: shutdown
2022-08-02 21:04:36,091 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-58108B3F713F-SegmentedRaftLogWorker close()
2022-08-02 21:04:36,088 [s1@group-58108B3F713F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-58108B3F713F-FollowerState was interrupted
2022-08-02 21:04:36,088 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#13-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-08-02 21:04:36,088 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#15-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-08-02 21:04:36,093 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:36,093 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-58108B3F713F->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:36,091 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-58108B3F713F,id=s2
2022-08-02 21:04:36,091 [s1@group-58108B3F713F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-58108B3F713F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:36,093 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-58108B3F713F->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:36,095 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-58108B3F713F->s1: nextIndex: updateUnconditionally 3 -> 2
2022-08-02 21:04:36,095 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-58108B3F713F-FollowerState
2022-08-02 21:04:36,095 [grpc-default-executor-9] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-58108B3F713F->s2: nextIndex: updateUnconditionally 3 -> 2
2022-08-02 21:04:36,095 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-58108B3F713F-StateMachineUpdater: set stopIndex = 1
2022-08-02 21:04:36,095 [s2@group-58108B3F713F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-58108B3F713F-FollowerState was interrupted
2022-08-02 21:04:36,096 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-58108B3F713F: closes. applyIndex: 1
2022-08-02 21:04:36,096 [s2@group-58108B3F713F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-58108B3F713F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:36,096 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-58108B3F713F-SegmentedRaftLogWorker close()
2022-08-02 21:04:36,097 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-58108B3F713F-SegmentedRaftLogWorker close()
2022-08-02 21:04:36,097 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:36,098 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:36,100 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-02 21:04:36,101 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-02 21:04:36,103 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-02 21:04:36,101 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-02 21:04:36,105 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:36,105 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:36,107 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-02 21:04:36,110 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-02 21:04:36,110 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:36,110 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:36,111 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:36,111 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:36,111 [java.util.concurrent.ThreadPoolExecutor$Worker@24cb3893[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:36,112 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@13c4b674] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-02 21:04:36,113 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:36,113 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:36,113 [java.util.concurrent.ThreadPoolExecutor$Worker@3ab7bd52[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:36,113 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@7277b457] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-02 21:04:36,115 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:36,115 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:36,115 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:36,115 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:36,116 [java.util.concurrent.ThreadPoolExecutor$Worker@36e25bcd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:36,116 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@44b6db7b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-02 21:04:36,117 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-02 21:04:36,124 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-02 21:04:36,124 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-02 21:04:36,124 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-02 21:04:36,126 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-02 21:04:36,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-E7138837A5F0:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]
2022-08-02 21:04:36,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-02 21:04:36,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-02 21:04:36,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-02 21:04:36,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-02 21:04:36,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-02 21:04:36,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-02 21:04:36,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-E7138837A5F0:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:36,127 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0
2022-08-02 21:04:36,127 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0 does not exist.
2022-08-02 21:04:36,128 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0
2022-08-02 21:04:36,128 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:36,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36907 (custom)
2022-08-02 21:04:36,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40115 (custom)
2022-08-02 21:04:36,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42821 (custom)
2022-08-02 21:04:36,128 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,129 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:36,129 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,129 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:36,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:36,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:36,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:36,130 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:36,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:36,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:36,131 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:36,131 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:36,131 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0] (custom)
2022-08-02 21:04:36,134 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-E7138837A5F0:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER] returns group-E7138837A5F0:java.util.concurrent.CompletableFuture@1f7fe7ad[Not completed]
2022-08-02 21:04:36,135 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-E7138837A5F0:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:36,135 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1
2022-08-02 21:04:36,135 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:36,135 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1 does not exist.
2022-08-02 21:04:36,135 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1
2022-08-02 21:04:36,135 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:36,135 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:36,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37939 (custom)
2022-08-02 21:04:36,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34027 (custom)
2022-08-02 21:04:36,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44939 (custom)
2022-08-02 21:04:36,137 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:36,137 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:36,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:36,138 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:36,138 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:36,139 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:36,139 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-E7138837A5F0:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:36,139 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:36,139 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:36,139 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:36,139 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:36,139 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:36,139 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:36,140 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-E7138837A5F0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:36,140 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0] (custom)
2022-08-02 21:04:36,140 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:36,140 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:36,140 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:36,140 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:36,141 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:36,141 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:36,141 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:36,141 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:36,141 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1] (custom)
2022-08-02 21:04:36,141 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:36,141 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:36,142 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:36,142 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:36,142 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:36,143 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:36,143 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:36,145 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-E7138837A5F0:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER] returns group-E7138837A5F0:java.util.concurrent.CompletableFuture@7b935e23[Not completed]
2022-08-02 21:04:36,146 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-E7138837A5F0:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:36,146 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2
2022-08-02 21:04:36,146 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2 does not exist.
2022-08-02 21:04:36,146 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2
2022-08-02 21:04:36,146 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:36,146 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44925 (custom)
2022-08-02 21:04:36,147 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41867 (custom)
2022-08-02 21:04:36,147 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33399 (custom)
2022-08-02 21:04:36,147 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,147 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:36,147 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,147 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:36,147 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:36,147 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:36,147 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:36,149 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:36,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:36,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:36,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:36,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:36,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2] (custom)
2022-08-02 21:04:36,150 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:36,150 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:36,150 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:36,150 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-E7138837A5F0:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:36,150 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:36,151 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:36,151 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:36,151 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:36,151 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:36,151 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:36,151 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-E7138837A5F0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:36,151 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1] (custom)
2022-08-02 21:04:36,152 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:36,152 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:36,152 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:36,152 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:36,152 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:36,153 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:36,153 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:36,153 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:36,153 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:36,154 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:36,154 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-E7138837A5F0:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER] returns group-E7138837A5F0:java.util.concurrent.CompletableFuture@7b131b49[Not completed]
2022-08-02 21:04:36,154 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0/6de85dac-19b7-4fea-84dd-e7138837a5f0 does not exist. Creating ...
2022-08-02 21:04:36,155 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0/6de85dac-19b7-4fea-84dd-e7138837a5f0
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-E7138837A5F0:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:36,156 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-E7138837A5F0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:36,157 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2] (custom)
2022-08-02 21:04:36,157 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:36,157 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:36,157 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:36,157 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:36,157 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:36,157 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0/6de85dac-19b7-4fea-84dd-e7138837a5f0/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:36,157 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0/6de85dac-19b7-4fea-84dd-e7138837a5f0/current
2022-08-02 21:04:36,158 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0/6de85dac-19b7-4fea-84dd-e7138837a5f0/sm
2022-08-02 21:04:36,158 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:36,158 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:36,158 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:36,158 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:36,158 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:36,163 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0/6de85dac-19b7-4fea-84dd-e7138837a5f0 has been successfully formatted.
2022-08-02 21:04:36,163 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:36,164 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:36,164 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:36,164 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:36,164 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:36,164 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:36,164 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:36,164 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:36,164 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:36,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:36,165 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-E7138837A5F0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0/6de85dac-19b7-4fea-84dd-e7138837a5f0
2022-08-02 21:04:36,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:36,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:36,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:36,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:36,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:36,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:36,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:36,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:36,166 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:36,166 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:36,166 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:36,166 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-E7138837A5F0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:36,166 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-E7138837A5F0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:36,168 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-E7138837A5F0: start as a follower, conf=-1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,168 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-E7138837A5F0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:36,168 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E7138837A5F0-FollowerState
2022-08-02 21:04:36,169 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7138837A5F0,id=s0
2022-08-02 21:04:36,169 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:36,169 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:36,169 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:36,174 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-08-02 21:04:36,175 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 40115
2022-08-02 21:04:36,176 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 42821
2022-08-02 21:04:36,176 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 36907
2022-08-02 21:04:36,178 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1/6de85dac-19b7-4fea-84dd-e7138837a5f0 does not exist. Creating ...
2022-08-02 21:04:36,178 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1/6de85dac-19b7-4fea-84dd-e7138837a5f0
2022-08-02 21:04:36,178 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@1a90204e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-02 21:04:36,179 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1/6de85dac-19b7-4fea-84dd-e7138837a5f0/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:36,180 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1/6de85dac-19b7-4fea-84dd-e7138837a5f0/current
2022-08-02 21:04:36,180 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1/6de85dac-19b7-4fea-84dd-e7138837a5f0/sm
2022-08-02 21:04:36,183 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1/6de85dac-19b7-4fea-84dd-e7138837a5f0 has been successfully formatted.
2022-08-02 21:04:36,183 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:36,183 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:36,183 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:36,183 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:36,183 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:36,183 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:36,183 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:36,183 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-E7138837A5F0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1/6de85dac-19b7-4fea-84dd-e7138837a5f0
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:36,184 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:36,185 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:36,185 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:36,185 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:36,185 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-E7138837A5F0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:36,185 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-E7138837A5F0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:36,189 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-E7138837A5F0: start as a follower, conf=-1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,189 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-E7138837A5F0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:36,190 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E7138837A5F0-FollowerState
2022-08-02 21:04:36,190 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7138837A5F0,id=s1
2022-08-02 21:04:36,190 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:36,190 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:36,190 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:36,191 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-08-02 21:04:36,192 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 34027
2022-08-02 21:04:36,192 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 44939
2022-08-02 21:04:36,193 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 37939
2022-08-02 21:04:36,193 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2/6de85dac-19b7-4fea-84dd-e7138837a5f0 does not exist. Creating ...
2022-08-02 21:04:36,194 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2/6de85dac-19b7-4fea-84dd-e7138837a5f0
2022-08-02 21:04:36,194 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@d55f56b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-02 21:04:36,195 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2/6de85dac-19b7-4fea-84dd-e7138837a5f0/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:36,195 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2/6de85dac-19b7-4fea-84dd-e7138837a5f0/current
2022-08-02 21:04:36,196 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2/6de85dac-19b7-4fea-84dd-e7138837a5f0/sm
2022-08-02 21:04:36,197 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2/6de85dac-19b7-4fea-84dd-e7138837a5f0 has been successfully formatted.
2022-08-02 21:04:36,197 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:36,197 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:36,197 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-E7138837A5F0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2/6de85dac-19b7-4fea-84dd-e7138837a5f0
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:36,198 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:36,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:36,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:36,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:36,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:36,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:36,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:36,200 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-E7138837A5F0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:36,200 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-E7138837A5F0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:36,202 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-E7138837A5F0: start as a follower, conf=-1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,202 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-E7138837A5F0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:36,202 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E7138837A5F0-FollowerState
2022-08-02 21:04:36,203 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7138837A5F0,id=s2
2022-08-02 21:04:36,203 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:36,203 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:36,203 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:36,204 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-08-02 21:04:36,205 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 41867
2022-08-02 21:04:36,206 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 33399
2022-08-02 21:04:36,206 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 44925
2022-08-02 21:04:36,207 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@4c1f1987] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-02 21:04:36,207 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,207 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,220 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-DCEC2A436709->s0: receive RaftClientReply:client-DCEC2A436709->s0@group-E7138837A5F0, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-E7138837A5F0 is not the leader, logIndex=0, commits[s0:c-1]
2022-08-02 21:04:36,326 [java.util.concurrent.ThreadPoolExecutor$Worker@7aab76c6[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,326 [java.util.concurrent.ThreadPoolExecutor$Worker@7aab76c6[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,334 [s0@group-E7138837A5F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E7138837A5F0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165299693ns, electionTimeout:164ms
2022-08-02 21:04:36,334 [s0@group-E7138837A5F0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E7138837A5F0-FollowerState
2022-08-02 21:04:36,334 [s0@group-E7138837A5F0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-E7138837A5F0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:36,334 [s0@group-E7138837A5F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:36,334 [s0@group-E7138837A5F0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E7138837A5F0-LeaderElection4
2022-08-02 21:04:36,336 [s0@group-E7138837A5F0-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E7138837A5F0-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,337 [s0@group-E7138837A5F0-LeaderElection4-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-02 21:04:36,339 [s0@group-E7138837A5F0-LeaderElection4-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-02 21:04:36,347 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-E7138837A5F0: receive requestVote(PRE_VOTE, s0, group-E7138837A5F0, 0, (t:0, i:0))
2022-08-02 21:04:36,347 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E7138837A5F0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:36,347 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-E7138837A5F0 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-E7138837A5F0:t0, leader=null, voted=, raftlog=Memoized:s2@group-E7138837A5F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,348 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-E7138837A5F0: receive requestVote(PRE_VOTE, s0, group-E7138837A5F0, 0, (t:0, i:0))
2022-08-02 21:04:36,348 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E7138837A5F0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:36,348 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-E7138837A5F0 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-E7138837A5F0:t0, leader=null, voted=, raftlog=Memoized:s1@group-E7138837A5F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,351 [s0@group-E7138837A5F0-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E7138837A5F0-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:36,351 [s0@group-E7138837A5F0-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-02 21:04:36,351 [s0@group-E7138837A5F0-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E7138837A5F0-LeaderElection4 PRE_VOTE round 0: result PASSED
2022-08-02 21:04:36,352 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-DCEC2A436709->s1: receive RaftClientReply:client-DCEC2A436709->s1@group-E7138837A5F0, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-E7138837A5F0 is not the leader, logIndex=0, commits[s1:c-1]
2022-08-02 21:04:36,354 [s0@group-E7138837A5F0-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E7138837A5F0-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,357 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-E7138837A5F0: receive requestVote(ELECTION, s0, group-E7138837A5F0, 1, (t:0, i:0))
2022-08-02 21:04:36,357 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E7138837A5F0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:36,357 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-E7138837A5F0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-02 21:04:36,357 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E7138837A5F0-FollowerState
2022-08-02 21:04:36,358 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-E7138837A5F0: receive requestVote(ELECTION, s0, group-E7138837A5F0, 1, (t:0, i:0))
2022-08-02 21:04:36,358 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E7138837A5F0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:36,358 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-E7138837A5F0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-02 21:04:36,358 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E7138837A5F0-FollowerState
2022-08-02 21:04:36,358 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E7138837A5F0-FollowerState
2022-08-02 21:04:36,358 [s2@group-E7138837A5F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E7138837A5F0-FollowerState was interrupted
2022-08-02 21:04:36,361 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E7138837A5F0-FollowerState
2022-08-02 21:04:36,361 [s1@group-E7138837A5F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E7138837A5F0-FollowerState was interrupted
2022-08-02 21:04:36,363 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-E7138837A5F0 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-E7138837A5F0:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-E7138837A5F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,364 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-E7138837A5F0 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-E7138837A5F0:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-E7138837A5F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,367 [s0@group-E7138837A5F0-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E7138837A5F0-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:36,367 [s0@group-E7138837A5F0-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2022-08-02 21:04:36,367 [s0@group-E7138837A5F0-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E7138837A5F0-LeaderElection4 ELECTION round 0: result PASSED
2022-08-02 21:04:36,367 [s0@group-E7138837A5F0-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E7138837A5F0-LeaderElection4
2022-08-02 21:04:36,368 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-E7138837A5F0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-02 21:04:36,368 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-E7138837A5F0: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 227ms
2022-08-02 21:04:36,368 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:36,368 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-02 21:04:36,368 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-08-02 21:04:36,368 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:36,368 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:36,368 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:36,369 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-02 21:04:36,369 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:36,369 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:36,369 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:36,369 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:36,369 [s0@group-E7138837A5F0-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:36,369 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:36,370 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:36,370 [s0@group-E7138837A5F0-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:36,370 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:36,370 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:36,370 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:36,370 [s0@group-E7138837A5F0-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:36,370 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:36,370 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:36,371 [s0@group-E7138837A5F0-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:36,371 [s0@group-E7138837A5F0-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E7138837A5F0-LeaderStateImpl
2022-08-02 21:04:36,371 [s0@group-E7138837A5F0-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-E7138837A5F0-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:36,376 [s0@group-E7138837A5F0-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-E7138837A5F0: set configuration 0: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,379 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-E7138837A5F0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 227ms
2022-08-02 21:04:36,380 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-E7138837A5F0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 222ms
2022-08-02 21:04:36,381 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-E7138837A5F0: set configuration 0: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,381 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-E7138837A5F0-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:36,384 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-E7138837A5F0: set configuration 0: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:36,384 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-E7138837A5F0-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:36,390 [s0@group-E7138837A5F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-E7138837A5F0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s0/6de85dac-19b7-4fea-84dd-e7138837a5f0/current/log_inprogress_0
2022-08-02 21:04:36,402 [s1@group-E7138837A5F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-E7138837A5F0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s1/6de85dac-19b7-4fea-84dd-e7138837a5f0/current/log_inprogress_0
2022-08-02 21:04:36,403 [s2@group-E7138837A5F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-E7138837A5F0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc9e0945e5/s2/6de85dac-19b7-4fea-84dd-e7138837a5f0/current/log_inprogress_0
2022-08-02 21:04:36,456 [java.util.concurrent.ThreadPoolExecutor$Worker@5cf797b0[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,456 [java.util.concurrent.ThreadPoolExecutor$Worker@5cf797b0[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,474 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-DCEC2A436709->s2: receive RaftClientReply:client-DCEC2A436709->s2@group-E7138837A5F0, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-E7138837A5F0 is not the leader s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2022-08-02 21:04:36,477 [java.util.concurrent.ThreadPoolExecutor$Worker@6865f535[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,477 [java.util.concurrent.ThreadPoolExecutor$Worker@6865f535[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,485 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-DCEC2A436709->s0: receive RaftClientReply:client-DCEC2A436709->s0@group-E7138837A5F0, cid=2, SUCCESS, logIndex=0, commits[s0:c0, s1:c-1, s2:c-1]
2022-08-02 21:04:36,492 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-DCEC2A436709
2022-08-02 21:04:36,495 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-DCEC2A436709->s0: receive RaftClientReply:client-DCEC2A436709->s0@group-E7138837A5F0, cid=3, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-08-02 21:04:36,498 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-DCEC2A436709
2022-08-02 21:04:36,501 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-08-02 21:04:36,502 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-DCEC2A436709
2022-08-02 21:04:36,502 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,502 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,510 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-F186C963017F->s0: receive RaftClientReply:client-F186C963017F->s0@group-E7138837A5F0, cid=4, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-02 21:04:36,510 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,511 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,513 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,513 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,519 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,519 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,521 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,522 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-39CE5C5AF057->s0: receive RaftClientReply:client-39CE5C5AF057->s0@group-E7138837A5F0, cid=6, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-02 21:04:36,524 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,525 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-6705E4D3FFCB->s0: receive RaftClientReply:client-6705E4D3FFCB->s0@group-E7138837A5F0, cid=8, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-02 21:04:36,532 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,532 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,534 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,535 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,535 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-C1F32963A1BF->s0: receive RaftClientReply:client-C1F32963A1BF->s0@group-E7138837A5F0, cid=10, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2022-08-02 21:04:36,537 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,543 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,547 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,547 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,549 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,551 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,553 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,559 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-A5467EC7D9A3->s0: receive RaftClientReply:client-A5467EC7D9A3->s0@group-E7138837A5F0, cid=12, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-02 21:04:36,559 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,579 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-EB99E5B46719->s0: receive RaftClientReply:client-EB99E5B46719->s0@group-E7138837A5F0, cid=20, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-02 21:04:36,582 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-5735E4C9A663->s0: receive RaftClientReply:client-5735E4C9A663->s0@group-E7138837A5F0, cid=14, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-02 21:04:36,585 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-651F567ECA77->s0: receive RaftClientReply:client-651F567ECA77->s0@group-E7138837A5F0, cid=18, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-02 21:04:36,600 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-436D1B470A7D->s0: receive RaftClientReply:client-436D1B470A7D->s0@group-E7138837A5F0, cid=24, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-02 21:04:36,601 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-D6DB81C65DD0->s0: receive RaftClientReply:client-D6DB81C65DD0->s0@group-E7138837A5F0, cid=22, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-02 21:04:36,603 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-DC631205B6D2->s0: receive RaftClientReply:client-DC631205B6D2->s0@group-E7138837A5F0, cid=16, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-02 21:04:36,642 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 5
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E7138837A5F0: Failed to acquire a pending write request for RaftClientRequest:client-DC631205B6D2->s0@group-E7138837A5F0, cid=17, seq=2, RW, Message:6d6573736167652035
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:364)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:405)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:311)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:342)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E7138837A5F0: Failed to acquire a pending write request for RaftClientRequest:client-DC631205B6D2->s0@group-E7138837A5F0, cid=17, seq=2, RW, Message:6d6573736167652035
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:746)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:858)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:795)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:795)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2022-08-02 21:04:36,865 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-08-02 21:04:36,871 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-F186C963017F
2022-08-02 21:04:36,872 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-F186C963017F->s0: receive RaftClientReply:client-F186C963017F->s0@group-E7138837A5F0, cid=5, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2022-08-02 21:04:36,876 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 9@client-6705E4D3FFCB
2022-08-02 21:04:36,876 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 7@client-39CE5C5AF057
2022-08-02 21:04:36,877 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-C1F32963A1BF
2022-08-02 21:04:36,877 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-A5467EC7D9A3
2022-08-02 21:04:36,877 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, 21@client-EB99E5B46719
2022-08-02 21:04:36,877 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 15@client-5735E4C9A663
2022-08-02 21:04:36,878 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-651F567ECA77
2022-08-02 21:04:36,878 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, 25@client-436D1B470A7D
2022-08-02 21:04:36,878 [s0@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-D6DB81C65DD0
2022-08-02 21:04:36,881 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-5735E4C9A663->s0: receive RaftClientReply:client-5735E4C9A663->s0@group-E7138837A5F0, cid=15, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2022-08-02 21:04:36,881 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-D6DB81C65DD0->s0: receive RaftClientReply:client-D6DB81C65DD0->s0@group-E7138837A5F0, cid=23, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2022-08-02 21:04:36,882 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-651F567ECA77->s0: receive RaftClientReply:client-651F567ECA77->s0@group-E7138837A5F0, cid=19, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2022-08-02 21:04:36,882 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-C1F32963A1BF->s0: receive RaftClientReply:client-C1F32963A1BF->s0@group-E7138837A5F0, cid=11, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2022-08-02 21:04:36,882 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-39CE5C5AF057->s0: receive RaftClientReply:client-39CE5C5AF057->s0@group-E7138837A5F0, cid=7, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2022-08-02 21:04:36,883 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-EB99E5B46719->s0: receive RaftClientReply:client-EB99E5B46719->s0@group-E7138837A5F0, cid=21, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2022-08-02 21:04:36,883 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-436D1B470A7D->s0: receive RaftClientReply:client-436D1B470A7D->s0@group-E7138837A5F0, cid=25, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2022-08-02 21:04:36,883 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-A5467EC7D9A3->s0: receive RaftClientReply:client-A5467EC7D9A3->s0@group-E7138837A5F0, cid=13, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2022-08-02 21:04:36,884 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-6705E4D3FFCB->s0: receive RaftClientReply:client-6705E4D3FFCB->s0@group-E7138837A5F0, cid=9, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2022-08-02 21:04:36,894 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-F186C963017F
2022-08-02 21:04:36,916 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-F186C963017F
2022-08-02 21:04:36,916 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 9@client-6705E4D3FFCB
2022-08-02 21:04:36,917 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 7@client-39CE5C5AF057
2022-08-02 21:04:36,918 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-C1F32963A1BF
2022-08-02 21:04:36,918 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-A5467EC7D9A3
2022-08-02 21:04:36,918 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, 21@client-EB99E5B46719
2022-08-02 21:04:36,918 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 15@client-5735E4C9A663
2022-08-02 21:04:36,919 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-651F567ECA77
2022-08-02 21:04:36,919 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, 25@client-436D1B470A7D
2022-08-02 21:04:36,920 [s1@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-D6DB81C65DD0
2022-08-02 21:04:36,921 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 9@client-6705E4D3FFCB
2022-08-02 21:04:36,922 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 7@client-39CE5C5AF057
2022-08-02 21:04:36,922 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-C1F32963A1BF
2022-08-02 21:04:36,922 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-A5467EC7D9A3
2022-08-02 21:04:36,923 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, 21@client-EB99E5B46719
2022-08-02 21:04:36,923 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 15@client-5735E4C9A663
2022-08-02 21:04:36,923 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-651F567ECA77
2022-08-02 21:04:36,923 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, 25@client-436D1B470A7D
2022-08-02 21:04:36,924 [s2@group-E7138837A5F0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-D6DB81C65DD0
2022-08-02 21:04:36,925 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:36,927 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:36,938 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-B36DFF37FA6B->s0: receive RaftClientReply:client-B36DFF37FA6B->s0@group-E7138837A5F0, cid=26, SUCCESS, logIndex=14, commits[s0:c14, s1:c12, s2:c12]
2022-08-02 21:04:36,948 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E7138837A5F0: Failed to acquire a pending write request for RaftClientRequest:client-B36DFF37FA6B->s0@group-E7138837A5F0, cid=27, seq=2, RW, Message:7c76277fd2c13e83b924...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:364)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:405)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:311)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:342)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E7138837A5F0: Failed to acquire a pending write request for RaftClientRequest:client-B36DFF37FA6B->s0@group-E7138837A5F0, cid=27, seq=2, RW, Message:7c76277fd2c13e83b924...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:746)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:858)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:795)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:795)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2022-08-02 21:04:37,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-02 21:04:37,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-02 21:04:37,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-02 21:04:37,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-02 21:04:37,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-02 21:04:37,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E7138837A5F0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E7138837A5F0-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7138837A5F0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-E7138837A5F0-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7138837A5F0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-E7138837A5F0-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:42821|admin:localhost:36907|client:localhost:40115|dataStream:localhost:34473|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44939|admin:localhost:37939|client:localhost:34027|dataStream:localhost:41883|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33399|admin:localhost:44925|client:localhost:41867|dataStream:localhost:37823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:37,266 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-08-02 21:04:37,267 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-08-02 21:04:37,267 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-08-02 21:04:37,267 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-E7138837A5F0: shutdown
2022-08-02 21:04:37,267 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-E7138837A5F0: shutdown
2022-08-02 21:04:37,267 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-E7138837A5F0: shutdown
2022-08-02 21:04:37,268 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7138837A5F0,id=s1
2022-08-02 21:04:37,268 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E7138837A5F0-FollowerState
2022-08-02 21:04:37,268 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7138837A5F0,id=s0
2022-08-02 21:04:37,268 [s1@group-E7138837A5F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E7138837A5F0-FollowerState was interrupted
2022-08-02 21:04:37,268 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7138837A5F0,id=s2
2022-08-02 21:04:37,268 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E7138837A5F0-FollowerState
2022-08-02 21:04:37,268 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E7138837A5F0-LeaderStateImpl
2022-08-02 21:04:37,268 [s2@group-E7138837A5F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E7138837A5F0-FollowerState was interrupted
2022-08-02 21:04:37,269 [s0@group-E7138837A5F0->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s0@group-E7138837A5F0->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:37,269 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#32-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-08-02 21:04:37,269 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-E7138837A5F0-StateMachineUpdater: set stopIndex = 14
2022-08-02 21:04:37,270 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E7138837A5F0-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:37,270 [s0@group-E7138837A5F0->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s0@group-E7138837A5F0->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:37,270 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-E7138837A5F0-StateMachineUpdater: set stopIndex = 14
2022-08-02 21:04:37,270 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-E7138837A5F0->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:37,272 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-E7138837A5F0->s1: nextIndex: updateUnconditionally 15 -> 14
2022-08-02 21:04:37,272 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-E7138837A5F0: closes. applyIndex: 14
2022-08-02 21:04:37,272 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-E7138837A5F0: closes. applyIndex: 14
2022-08-02 21:04:37,272 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#32-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-08-02 21:04:37,273 [s2@group-E7138837A5F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-E7138837A5F0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:37,273 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-E7138837A5F0->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:37,273 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-E7138837A5F0->s2: nextIndex: updateUnconditionally 15 -> 14
2022-08-02 21:04:37,274 [s1@group-E7138837A5F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-E7138837A5F0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:37,274 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-E7138837A5F0-StateMachineUpdater: set stopIndex = 14
2022-08-02 21:04:37,274 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-E7138837A5F0: closes. applyIndex: 14
2022-08-02 21:04:37,274 [s0@group-E7138837A5F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-E7138837A5F0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:37,274 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-E7138837A5F0-SegmentedRaftLogWorker close()
2022-08-02 21:04:37,275 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-E7138837A5F0-SegmentedRaftLogWorker close()
2022-08-02 21:04:37,276 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:37,276 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:37,276 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:37,276 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:37,275 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-E7138837A5F0-SegmentedRaftLogWorker close()
2022-08-02 21:04:37,277 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:37,277 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:37,277 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:37,278 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:37,278 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:37,278 [java.util.concurrent.ThreadPoolExecutor$Worker@48a0a81a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:37,278 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-02 21:04:37,278 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-02 21:04:37,279 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@d55f56b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-02 21:04:37,279 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:37,279 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:37,279 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:37,279 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:37,279 [java.util.concurrent.ThreadPoolExecutor$Worker@1170a289[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:37,280 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:37,280 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:37,280 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@4c1f1987] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-02 21:04:37,280 [java.util.concurrent.ThreadPoolExecutor$Worker@377d1eeb[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:37,280 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@1a90204e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-02 21:04:37,281 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-02 21:04:37,283 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-02 21:04:37,283 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-02 21:04:37,283 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-02 21:04:37,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-02 21:04:37,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-7EA166F3EF1D:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]
2022-08-02 21:04:37,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-02 21:04:37,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-02 21:04:37,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-02 21:04:37,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-02 21:04:37,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-02 21:04:37,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-02 21:04:37,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-7EA166F3EF1D:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:37,285 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0
2022-08-02 21:04:37,286 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0 does not exist.
2022-08-02 21:04:37,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0
2022-08-02 21:04:37,286 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:37,286 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39011 (custom)
2022-08-02 21:04:37,286 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35541 (custom)
2022-08-02 21:04:37,286 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38959 (custom)
2022-08-02 21:04:37,286 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:37,286 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:37,287 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:37,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:37,288 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:37,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:37,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:37,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:37,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:37,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0] (custom)
2022-08-02 21:04:37,289 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-7EA166F3EF1D:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER] returns group-7EA166F3EF1D:java.util.concurrent.CompletableFuture@7536500a[Not completed]
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-7EA166F3EF1D:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-7EA166F3EF1D: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0] (custom)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:37,290 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:37,291 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:37,291 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:37,291 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:37,291 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:37,291 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:37,291 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:37,291 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:37,292 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:37,292 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0/69547a1e-99cc-4ee5-83a8-7ea166f3ef1d does not exist. Creating ...
2022-08-02 21:04:37,292 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0/69547a1e-99cc-4ee5-83a8-7ea166f3ef1d
2022-08-02 21:04:37,295 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0/69547a1e-99cc-4ee5-83a8-7ea166f3ef1d/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:37,296 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0/69547a1e-99cc-4ee5-83a8-7ea166f3ef1d/current
2022-08-02 21:04:37,296 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0/69547a1e-99cc-4ee5-83a8-7ea166f3ef1d/sm
2022-08-02 21:04:37,298 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0/69547a1e-99cc-4ee5-83a8-7ea166f3ef1d has been successfully formatted.
2022-08-02 21:04:37,298 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:37,298 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-7EA166F3EF1D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0/69547a1e-99cc-4ee5-83a8-7ea166f3ef1d
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:37,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:37,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:37,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:37,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:37,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:37,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:37,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:37,300 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-7EA166F3EF1D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:37,300 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-7EA166F3EF1D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:37,307 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-7EA166F3EF1D: start as a follower, conf=-1: peers:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:37,307 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7EA166F3EF1D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:37,307 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7EA166F3EF1D-FollowerState
2022-08-02 21:04:37,315 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7EA166F3EF1D,id=s0
2022-08-02 21:04:37,315 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:37,316 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:37,316 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:37,317 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-08-02 21:04:37,317 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 35541
2022-08-02 21:04:37,318 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 38959
2022-08-02 21:04:37,318 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 39011
2022-08-02 21:04:37,319 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@2abdf9d7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-02 21:04:37,320 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:37,320 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7EA166F3EF1D:t0, leader=null, voted=, raftlog=Memoized:s0@group-7EA166F3EF1D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:37,320 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7EA166F3EF1D:t0, leader=null, voted=, raftlog=Memoized:s0@group-7EA166F3EF1D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7EA166F3EF1D:t0, leader=null, voted=, raftlog=Memoized:s0@group-7EA166F3EF1D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:152)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:37,480 [s0@group-7EA166F3EF1D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7EA166F3EF1D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173015814ns, electionTimeout:165ms
2022-08-02 21:04:37,481 [s0@group-7EA166F3EF1D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7EA166F3EF1D-FollowerState
2022-08-02 21:04:37,481 [s0@group-7EA166F3EF1D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7EA166F3EF1D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:37,481 [s0@group-7EA166F3EF1D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:37,481 [s0@group-7EA166F3EF1D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7EA166F3EF1D-LeaderElection5
2022-08-02 21:04:37,482 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7EA166F3EF1D-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:37,482 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7EA166F3EF1D-LeaderElection5 PRE_VOTE round 0: result PASSED (term=0)
2022-08-02 21:04:37,485 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7EA166F3EF1D-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:37,485 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7EA166F3EF1D-LeaderElection5 ELECTION round 0: result PASSED (term=1)
2022-08-02 21:04:37,485 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7EA166F3EF1D-LeaderElection5
2022-08-02 21:04:37,485 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7EA166F3EF1D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-02 21:04:37,485 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-7EA166F3EF1D: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 194ms
2022-08-02 21:04:37,485 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:37,486 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:37,486 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-02 21:04:37,486 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:37,486 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:37,486 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:37,487 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:37,487 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:37,487 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7EA166F3EF1D-LeaderStateImpl
2022-08-02 21:04:37,487 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-7EA166F3EF1D-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:37,492 [s0@group-7EA166F3EF1D-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-7EA166F3EF1D: set configuration 0: peers:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:37,502 [s0@group-7EA166F3EF1D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-7EA166F3EF1D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc442731e9/s0/69547a1e-99cc-4ee5-83a8-7ea166f3ef1d/current/log_inprogress_0
2022-08-02 21:04:37,771 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7EA166F3EF1D:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7EA166F3EF1D-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:37,771 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39011 (custom)
2022-08-02 21:04:37,771 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35541 (custom)
2022-08-02 21:04:37,771 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38959 (custom)
2022-08-02 21:04:37,772 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:37,772 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:37,772 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:37,772 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:37,772 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:37,772 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:37,772 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:37,775 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-08-02 21:04:37,775 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:310)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:156)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:37,776 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-08-02 21:04:37,776 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:316)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:160)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:37,777 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-02 21:04:37,777 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-02 21:04:37,777 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-02 21:04:37,777 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-02 21:04:37,777 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-02 21:04:37,777 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7EA166F3EF1D:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7EA166F3EF1D-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38959|admin:localhost:39011|client:localhost:35541|dataStream:localhost:41129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:37,778 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-08-02 21:04:37,778 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-7EA166F3EF1D: shutdown
2022-08-02 21:04:37,778 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7EA166F3EF1D,id=s0
2022-08-02 21:04:37,778 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7EA166F3EF1D-LeaderStateImpl
2022-08-02 21:04:37,779 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-7EA166F3EF1D-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:37,779 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-7EA166F3EF1D-StateMachineUpdater: set stopIndex = 0
2022-08-02 21:04:37,780 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-7EA166F3EF1D: closes. applyIndex: 0
2022-08-02 21:04:37,780 [s0@group-7EA166F3EF1D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-7EA166F3EF1D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:37,781 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-7EA166F3EF1D-SegmentedRaftLogWorker close()
2022-08-02 21:04:37,781 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:37,781 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:37,781 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:37,782 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:37,782 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:37,782 [java.util.concurrent.ThreadPoolExecutor$Worker@3daf0fb0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:37,782 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@2abdf9d7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-02 21:04:37,782 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-02 21:04:37,783 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-02 21:04:37,783 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-02 21:04:37,783 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-02 21:04:37,784 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-02 21:04:37,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-D4F8C80FB3B4:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]
2022-08-02 21:04:37,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-02 21:04:37,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-02 21:04:37,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-02 21:04:37,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-02 21:04:37,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-02 21:04:37,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-02 21:04:37,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-D4F8C80FB3B4:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:37,785 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0
2022-08-02 21:04:37,785 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0 does not exist.
2022-08-02 21:04:37,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0
2022-08-02 21:04:37,786 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:37,786 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38595 (custom)
2022-08-02 21:04:37,786 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38029 (custom)
2022-08-02 21:04:37,786 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41277 (custom)
2022-08-02 21:04:37,786 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:37,786 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:37,786 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:37,786 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:37,786 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:37,786 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:37,787 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:37,788 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:37,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:37,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:37,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:37,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:37,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0] (custom)
2022-08-02 21:04:37,795 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-D4F8C80FB3B4:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER] returns group-D4F8C80FB3B4:java.util.concurrent.CompletableFuture@3daa9c06[Not completed]
2022-08-02 21:04:37,795 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:37,796 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:37,796 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:37,796 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-D4F8C80FB3B4:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:37,796 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:37,796 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:37,796 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:37,796 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:37,796 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:37,796 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:37,797 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-D4F8C80FB3B4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:37,798 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0] (custom)
2022-08-02 21:04:37,798 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:37,798 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:37,798 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:37,798 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:37,798 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:37,799 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:37,799 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:37,799 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:37,799 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:37,799 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:37,803 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4 does not exist. Creating ...
2022-08-02 21:04:37,804 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4
2022-08-02 21:04:37,806 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:37,806 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4/current
2022-08-02 21:04:37,806 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4/sm
2022-08-02 21:04:37,807 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4 has been successfully formatted.
2022-08-02 21:04:37,808 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:37,808 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:37,808 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:37,808 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:37,808 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:37,808 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:37,808 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:37,808 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-D4F8C80FB3B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:37,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:37,810 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:37,810 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:37,810 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-D4F8C80FB3B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:37,810 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-D4F8C80FB3B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:37,810 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-D4F8C80FB3B4: start as a follower, conf=-1: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:37,810 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-D4F8C80FB3B4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:37,810 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D4F8C80FB3B4-FollowerState
2022-08-02 21:04:37,811 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4F8C80FB3B4,id=s0
2022-08-02 21:04:37,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:37,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:37,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:37,812 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-08-02 21:04:37,812 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 38029
2022-08-02 21:04:37,813 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 41277
2022-08-02 21:04:37,813 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 38595
2022-08-02 21:04:37,813 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@4c3b35fa] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-02 21:04:37,814 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:37,814 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D4F8C80FB3B4:t0, leader=null, voted=, raftlog=Memoized:s0@group-D4F8C80FB3B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:37,814 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D4F8C80FB3B4:t0, leader=null, voted=, raftlog=Memoized:s0@group-D4F8C80FB3B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D4F8C80FB3B4:t0, leader=null, voted=, raftlog=Memoized:s0@group-D4F8C80FB3B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:118)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:38,041 [s0@group-D4F8C80FB3B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-D4F8C80FB3B4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:230304569ns, electionTimeout:229ms
2022-08-02 21:04:38,041 [s0@group-D4F8C80FB3B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D4F8C80FB3B4-FollowerState
2022-08-02 21:04:38,041 [s0@group-D4F8C80FB3B4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-D4F8C80FB3B4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:38,041 [s0@group-D4F8C80FB3B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:38,041 [s0@group-D4F8C80FB3B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D4F8C80FB3B4-LeaderElection6
2022-08-02 21:04:38,042 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D4F8C80FB3B4-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:38,043 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D4F8C80FB3B4-LeaderElection6 PRE_VOTE round 0: result PASSED (term=0)
2022-08-02 21:04:38,044 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D4F8C80FB3B4-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:38,045 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D4F8C80FB3B4-LeaderElection6 ELECTION round 0: result PASSED (term=1)
2022-08-02 21:04:38,045 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-D4F8C80FB3B4-LeaderElection6
2022-08-02 21:04:38,045 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-D4F8C80FB3B4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-02 21:04:38,045 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-D4F8C80FB3B4: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 246ms
2022-08-02 21:04:38,045 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:38,045 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:38,045 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-02 21:04:38,045 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:38,046 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:38,046 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:38,046 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:38,046 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:38,046 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D4F8C80FB3B4-LeaderStateImpl
2022-08-02 21:04:38,046 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-D4F8C80FB3B4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:38,047 [s0@group-D4F8C80FB3B4-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-D4F8C80FB3B4: set configuration 0: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:38,068 [s0@group-D4F8C80FB3B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-D4F8C80FB3B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4/current/log_inprogress_0
2022-08-02 21:04:38,265 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D4F8C80FB3B4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D4F8C80FB3B4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:38,268 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:38,268 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38595 (custom)
2022-08-02 21:04:38,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38029 (custom)
2022-08-02 21:04:38,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41277 (custom)
2022-08-02 21:04:38,269 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:38,269 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:38,269 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:38,269 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:38,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:38,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:38,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:38,270 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:38,271 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:38,271 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:38,271 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:38,271 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:38,271 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0] (custom)
2022-08-02 21:04:38,271 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(247)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4
2022-08-02 21:04:38,272 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-D4F8C80FB3B4:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER] returns group-D4F8C80FB3B4:java.util.concurrent.CompletableFuture@2fa27be3[Not completed]
2022-08-02 21:04:38,272 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:38,273 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:38,273 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:38,274 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:38,274 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:38,275 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:38,275 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-08-02 21:04:38,276 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:38,276 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38595 (custom)
2022-08-02 21:04:38,276 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38029 (custom)
2022-08-02 21:04:38,276 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41277 (custom)
2022-08-02 21:04:38,276 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:38,277 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:38,277 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:38,277 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:38,277 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:38,277 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:38,277 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:38,278 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:38,278 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:38,278 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:38,278 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:38,279 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:38,279 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0] (custom)
2022-08-02 21:04:38,279 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-D4F8C80FB3B4:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-D4F8C80FB3B4
2022-08-02 21:04:38,279 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:38,279 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:38,279 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:38,279 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:38,279 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:38,279 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:38,279 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-D4F8C80FB3B4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:38,279 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0] (custom)
2022-08-02 21:04:38,280 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:38,280 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:38,280 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:38,280 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:38,280 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:38,280 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:38,280 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:38,280 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:38,280 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:38,280 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:38,284 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(247)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4
2022-08-02 21:04:38,287 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-D4F8C80FB3B4:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER] returns group-D4F8C80FB3B4:java.util.concurrent.CompletableFuture@5920f256[Not completed]
2022-08-02 21:04:38,287 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-D4F8C80FB3B4:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-D4F8C80FB3B4
2022-08-02 21:04:38,288 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:38,288 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:38,288 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:38,288 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:38,288 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:38,288 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:38,288 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-D4F8C80FB3B4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:38,288 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0] (custom)
2022-08-02 21:04:38,288 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:38,288 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:38,289 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:38,289 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:38,289 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:38,289 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:38,289 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:38,289 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:38,289 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:38,289 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:38,290 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:38,290 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-02 21:04:39,290 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:39,291 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-02 21:04:40,292 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:40,292 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-02 21:04:41,293 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:41,294 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-02 21:04:42,294 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:42,295 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4. The directory is already locked
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.biRelay(CompletableFuture.java:1298)
	at java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1284)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcdca5178f/s0/847df540-4397-4572-850e-d4f8c80fb3b4. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-02 21:04:42,296 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38595 (custom)
2022-08-02 21:04:42,297 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38029 (custom)
2022-08-02 21:04:42,297 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41277 (custom)
2022-08-02 21:04:42,297 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:42,297 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:42,297 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:42,297 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:42,297 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:42,297 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:42,297 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:42,299 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-02 21:04:42,299 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-02 21:04:42,299 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-02 21:04:42,299 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-02 21:04:42,299 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-02 21:04:42,299 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D4F8C80FB3B4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D4F8C80FB3B4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41277|admin:localhost:38595|client:localhost:38029|dataStream:localhost:39575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:42,300 [java.util.concurrent.ThreadPoolExecutor$Worker@1a5f7815[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-08-02 21:04:42,300 [java.util.concurrent.ThreadPoolExecutor$Worker@1a5f7815[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-D4F8C80FB3B4: shutdown
2022-08-02 21:04:42,300 [java.util.concurrent.ThreadPoolExecutor$Worker@1a5f7815[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4F8C80FB3B4,id=s0
2022-08-02 21:04:42,300 [java.util.concurrent.ThreadPoolExecutor$Worker@1a5f7815[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-D4F8C80FB3B4-LeaderStateImpl
2022-08-02 21:04:42,301 [java.util.concurrent.ThreadPoolExecutor$Worker@1a5f7815[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-D4F8C80FB3B4-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:42,301 [java.util.concurrent.ThreadPoolExecutor$Worker@1a5f7815[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-D4F8C80FB3B4-StateMachineUpdater: set stopIndex = 0
2022-08-02 21:04:42,301 [java.util.concurrent.ThreadPoolExecutor$Worker@1a5f7815[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-D4F8C80FB3B4: closes. applyIndex: 0
2022-08-02 21:04:42,302 [s0@group-D4F8C80FB3B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-D4F8C80FB3B4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:42,303 [java.util.concurrent.ThreadPoolExecutor$Worker@1a5f7815[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-D4F8C80FB3B4-SegmentedRaftLogWorker close()
2022-08-02 21:04:42,303 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@4c3b35fa] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-02 21:04:42,303 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-02 21:04:42,304 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-02 21:04:42,304 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-02 21:04:42,304 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-02 21:04:42,309 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-02 21:04:42,310 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-86DCF40A42C2:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]
2022-08-02 21:04:42,310 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-02 21:04:42,310 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-02 21:04:42,310 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-02 21:04:42,310 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-02 21:04:42,310 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-02 21:04:42,310 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-02 21:04:42,310 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-86DCF40A42C2:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:42,310 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0
2022-08-02 21:04:42,311 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0 does not exist.
2022-08-02 21:04:42,311 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0
2022-08-02 21:04:42,311 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:42,311 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39181 (custom)
2022-08-02 21:04:42,311 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41023 (custom)
2022-08-02 21:04:42,311 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36303 (custom)
2022-08-02 21:04:42,312 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:42,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:42,312 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:42,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:42,312 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:42,312 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:42,312 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:42,313 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:42,313 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:42,313 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:42,314 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:42,314 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:42,314 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0] (custom)
2022-08-02 21:04:42,317 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-86DCF40A42C2:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] returns group-86DCF40A42C2:java.util.concurrent.CompletableFuture@5d9d4f72[Not completed]
2022-08-02 21:04:42,317 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:42,317 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-86DCF40A42C2:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:42,318 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1
2022-08-02 21:04:42,318 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:42,323 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:42,323 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-86DCF40A42C2:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:42,323 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:42,323 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:42,323 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:42,323 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:42,323 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:42,323 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:42,323 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-86DCF40A42C2: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:42,324 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0] (custom)
2022-08-02 21:04:42,324 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:42,324 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:42,324 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:42,324 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:42,324 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:42,325 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:42,325 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:42,325 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:42,325 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:42,325 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:42,325 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1 does not exist.
2022-08-02 21:04:42,327 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1
2022-08-02 21:04:42,327 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:42,327 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34201 (custom)
2022-08-02 21:04:42,327 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34571 (custom)
2022-08-02 21:04:42,327 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35321 (custom)
2022-08-02 21:04:42,327 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:42,327 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:42,327 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:42,328 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:42,328 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:42,328 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:42,328 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:42,329 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:42,329 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:42,329 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:42,329 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:42,329 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:42,330 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1] (custom)
2022-08-02 21:04:42,330 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-86DCF40A42C2:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] returns group-86DCF40A42C2:java.util.concurrent.CompletableFuture@a6388dc[Not completed]
2022-08-02 21:04:42,330 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:42,330 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-86DCF40A42C2:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:42,331 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2
2022-08-02 21:04:42,331 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:42,331 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2 does not exist.
2022-08-02 21:04:42,331 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2
2022-08-02 21:04:42,331 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:42,332 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-86DCF40A42C2:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:42,332 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:42,332 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:42,332 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34349 (custom)
2022-08-02 21:04:42,332 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:42,332 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37417 (custom)
2022-08-02 21:04:42,332 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37849 (custom)
2022-08-02 21:04:42,333 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:42,333 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:42,333 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:42,333 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:42,333 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:42,333 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:42,332 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:42,333 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:42,336 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:42,336 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:42,337 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:42,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:42,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:42,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:42,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:42,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2] (custom)
2022-08-02 21:04:42,339 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:42,339 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-86DCF40A42C2: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:42,339 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1] (custom)
2022-08-02 21:04:42,340 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:42,340 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:42,340 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:42,340 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:42,340 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:42,340 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:42,340 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:42,341 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:42,341 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:42,341 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:42,342 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-86DCF40A42C2:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] returns group-86DCF40A42C2:java.util.concurrent.CompletableFuture@754cd31[Not completed]
2022-08-02 21:04:42,343 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:42,343 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:42,343 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:42,343 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2 does not exist. Creating ...
2022-08-02 21:04:42,343 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-86DCF40A42C2:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:42,344 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2
2022-08-02 21:04:42,344 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:42,344 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:42,345 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:42,345 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:42,345 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:42,345 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:42,345 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-86DCF40A42C2: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:42,345 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2] (custom)
2022-08-02 21:04:42,345 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:42,345 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:42,345 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:42,346 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:42,346 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:42,346 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:42,346 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:42,346 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:42,346 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:42,347 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:42,348 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:42,348 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current
2022-08-02 21:04:42,348 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/sm
2022-08-02 21:04:42,350 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2 has been successfully formatted.
2022-08-02 21:04:42,350 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:42,350 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:42,350 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:42,350 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:42,350 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:42,350 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-86DCF40A42C2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:42,351 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:42,352 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:42,352 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:42,352 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:42,352 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-86DCF40A42C2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:42,352 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-86DCF40A42C2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:42,353 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-86DCF40A42C2: start as a follower, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,353 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-86DCF40A42C2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:42,353 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:42,353 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-86DCF40A42C2,id=s0
2022-08-02 21:04:42,353 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:42,353 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:42,353 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:42,354 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-08-02 21:04:42,357 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 41023
2022-08-02 21:04:42,358 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 36303
2022-08-02 21:04:42,359 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 39181
2022-08-02 21:04:42,360 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2 does not exist. Creating ...
2022-08-02 21:04:42,360 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2
2022-08-02 21:04:42,361 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@1167806f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-02 21:04:42,361 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:42,362 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current
2022-08-02 21:04:42,362 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/sm
2022-08-02 21:04:42,363 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2 has been successfully formatted.
2022-08-02 21:04:42,363 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:42,363 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:42,363 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-86DCF40A42C2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:42,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:42,365 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:42,365 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:42,365 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:42,365 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:42,365 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-86DCF40A42C2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:42,365 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-86DCF40A42C2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:42,366 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-86DCF40A42C2: start as a follower, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,366 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-86DCF40A42C2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:42,366 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:42,367 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-86DCF40A42C2,id=s1
2022-08-02 21:04:42,367 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:42,367 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:42,367 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:42,367 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-08-02 21:04:42,368 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 34571
2022-08-02 21:04:42,369 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 35321
2022-08-02 21:04:42,371 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 34201
2022-08-02 21:04:42,372 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2 does not exist. Creating ...
2022-08-02 21:04:42,372 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2
2022-08-02 21:04:42,374 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@39fce926] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-02 21:04:42,374 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:42,374 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current
2022-08-02 21:04:42,374 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/sm
2022-08-02 21:04:42,376 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2 has been successfully formatted.
2022-08-02 21:04:42,376 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:42,376 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:42,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:42,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:42,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:42,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-86DCF40A42C2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:42,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:42,378 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:42,378 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:42,378 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:42,378 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-86DCF40A42C2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:42,378 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-86DCF40A42C2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:42,378 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-86DCF40A42C2: start as a follower, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,379 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-86DCF40A42C2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:42,379 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:42,379 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-86DCF40A42C2,id=s2
2022-08-02 21:04:42,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:42,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:42,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:42,379 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-08-02 21:04:42,381 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 37417
2022-08-02 21:04:42,381 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 37849
2022-08-02 21:04:42,382 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 34349
2022-08-02 21:04:42,382 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@202e68ab] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-02 21:04:42,383 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:42,383 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:42,383 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:170)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:42,518 [s0@group-86DCF40A42C2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-86DCF40A42C2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165484007ns, electionTimeout:165ms
2022-08-02 21:04:42,519 [s0@group-86DCF40A42C2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:42,519 [s0@group-86DCF40A42C2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-86DCF40A42C2: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:42,520 [s0@group-86DCF40A42C2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:42,520 [s0@group-86DCF40A42C2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-86DCF40A42C2-LeaderElection7
2022-08-02 21:04:42,521 [s0@group-86DCF40A42C2-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-86DCF40A42C2-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,522 [s0@group-86DCF40A42C2-LeaderElection7-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-02 21:04:42,522 [s0@group-86DCF40A42C2-LeaderElection7-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-02 21:04:42,543 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-86DCF40A42C2: receive requestVote(PRE_VOTE, s0, group-86DCF40A42C2, 0, (t:0, i:0))
2022-08-02 21:04:42,544 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-86DCF40A42C2-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:42,544 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-86DCF40A42C2 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,549 [s0@group-86DCF40A42C2-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-86DCF40A42C2-LeaderElection7: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:42,549 [s0@group-86DCF40A42C2-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-02 21:04:42,549 [s0@group-86DCF40A42C2-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-86DCF40A42C2-LeaderElection7 PRE_VOTE round 0: result PASSED
2022-08-02 21:04:42,550 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-86DCF40A42C2: receive requestVote(PRE_VOTE, s0, group-86DCF40A42C2, 0, (t:0, i:0))
2022-08-02 21:04:42,550 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-86DCF40A42C2-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:42,551 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-86DCF40A42C2 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-86DCF40A42C2:t0, leader=null, voted=, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,551 [s0@group-86DCF40A42C2-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-86DCF40A42C2-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,566 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-86DCF40A42C2: receive requestVote(ELECTION, s0, group-86DCF40A42C2, 1, (t:0, i:0))
2022-08-02 21:04:42,566 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-86DCF40A42C2-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:42,566 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-86DCF40A42C2: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-02 21:04:42,566 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:42,566 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:42,570 [s1@group-86DCF40A42C2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-86DCF40A42C2-FollowerState was interrupted
2022-08-02 21:04:42,570 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-86DCF40A42C2 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-86DCF40A42C2:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,574 [s0@group-86DCF40A42C2-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-86DCF40A42C2-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:42,574 [s0@group-86DCF40A42C2-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-02 21:04:42,574 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-86DCF40A42C2: receive requestVote(ELECTION, s0, group-86DCF40A42C2, 1, (t:0, i:0))
2022-08-02 21:04:42,574 [s0@group-86DCF40A42C2-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-86DCF40A42C2-LeaderElection7 ELECTION round 0: result PASSED
2022-08-02 21:04:42,574 [s0@group-86DCF40A42C2-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-86DCF40A42C2-LeaderElection7
2022-08-02 21:04:42,574 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-86DCF40A42C2: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-02 21:04:42,574 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-86DCF40A42C2: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 250ms
2022-08-02 21:04:42,575 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:42,575 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:42,575 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-02 21:04:42,575 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:42,575 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:42,575 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:42,574 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-86DCF40A42C2-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:42,575 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:42,575 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-86DCF40A42C2: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-02 21:04:42,575 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:42,575 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:42,576 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:42,576 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:42,576 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:42,576 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:42,578 [s2@group-86DCF40A42C2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-86DCF40A42C2-FollowerState was interrupted
2022-08-02 21:04:42,578 [s0@group-86DCF40A42C2-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:42,580 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:42,580 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:42,580 [s0@group-86DCF40A42C2-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:42,581 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-86DCF40A42C2 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-86DCF40A42C2:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,582 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:42,582 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:42,582 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:42,582 [s0@group-86DCF40A42C2-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:42,582 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:42,582 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:42,582 [s0@group-86DCF40A42C2-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:42,583 [s0@group-86DCF40A42C2-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-86DCF40A42C2-LeaderStateImpl
2022-08-02 21:04:42,583 [s0@group-86DCF40A42C2-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-86DCF40A42C2-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:42,599 [s0@group-86DCF40A42C2-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-86DCF40A42C2: set configuration 0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,612 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-86DCF40A42C2: change Leader from null to s0 at term 1 for appendEntries, leader elected after 272ms
2022-08-02 21:04:42,619 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-86DCF40A42C2: set configuration 0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,620 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-86DCF40A42C2-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:42,620 [s0@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-86DCF40A42C2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_0
2022-08-02 21:04:42,629 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-86DCF40A42C2: change Leader from null to s0 at term 1 for appendEntries, leader elected after 283ms
2022-08-02 21:04:42,631 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-86DCF40A42C2: set configuration 0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:42,631 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-86DCF40A42C2-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:42,649 [s1@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-86DCF40A42C2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_0
2022-08-02 21:04:42,649 [s2@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-86DCF40A42C2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_0
2022-08-02 21:04:42,842 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:42,842 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:42,842 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:42,856 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-8A0565AA25CD->s0: receive RaftClientReply:client-8A0565AA25CD->s0@group-86DCF40A42C2, cid=28, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-02 21:04:42,874 [s0@group-86DCF40A42C2-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-8A0565AA25CD
2022-08-02 21:04:42,876 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-8A0565AA25CD->s0: receive RaftClientReply:client-8A0565AA25CD->s0@group-86DCF40A42C2, cid=29, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-08-02 21:04:42,877 [s1@group-86DCF40A42C2-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-8A0565AA25CD
2022-08-02 21:04:42,884 [s2@group-86DCF40A42C2-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-8A0565AA25CD
2022-08-02 21:04:42,886 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:42,886 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:42,902 [s0@group-86DCF40A42C2-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-9C0058EA354E
2022-08-02 21:04:42,904 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-9C0058EA354E->s0: receive RaftClientReply:client-9C0058EA354E->s0@group-86DCF40A42C2, cid=1, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c1]
2022-08-02 21:04:42,905 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-08-02 21:04:42,906 [s1@group-86DCF40A42C2-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-9C0058EA354E
2022-08-02 21:04:42,907 [s2@group-86DCF40A42C2-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-9C0058EA354E
2022-08-02 21:04:42,908 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2022-08-02 21:04:42,909 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:42,909 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:42,909 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:42,911 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:42,984 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-08-02 21:04:42,988 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2022-08-02 21:04:43,012 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:43,012 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:43,013 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:43,013 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:43,114 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:43,114 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:43,115 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:43,115 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:43,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:43,216 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:43,216 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:43,217 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:43,317 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:43,318 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:43,318 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:43,318 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #5/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:43,344 [s1@group-86DCF40A42C2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-86DCF40A42C2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:438449036ns, electionTimeout:286ms
2022-08-02 21:04:43,345 [s1@group-86DCF40A42C2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:43,345 [s1@group-86DCF40A42C2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-86DCF40A42C2: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-02 21:04:43,345 [s1@group-86DCF40A42C2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:43,345 [s1@group-86DCF40A42C2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-86DCF40A42C2-LeaderElection8
2022-08-02 21:04:43,346 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-86DCF40A42C2: change Leader from s0 to null at term 1 for PRE_VOTE
2022-08-02 21:04:43,346 [s1@group-86DCF40A42C2-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-86DCF40A42C2-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,346 [s1@group-86DCF40A42C2-LeaderElection8-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-02 21:04:43,348 [s1@group-86DCF40A42C2-LeaderElection8-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-02 21:04:43,360 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-86DCF40A42C2: receive requestVote(PRE_VOTE, s1, group-86DCF40A42C2, 1, (t:1, i:4))
2022-08-02 21:04:43,361 [s2@group-86DCF40A42C2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-86DCF40A42C2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:454037207ns, electionTimeout:283ms
2022-08-02 21:04:43,361 [s2@group-86DCF40A42C2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:43,361 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s0@group-86DCF40A42C2-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 786ms. Conf: 0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,362 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-86DCF40A42C2: receive requestVote(PRE_VOTE, s1, group-86DCF40A42C2, 1, (t:1, i:4))
2022-08-02 21:04:43,361 [s2@group-86DCF40A42C2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-86DCF40A42C2: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-02 21:04:43,366 [s2@group-86DCF40A42C2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:43,366 [s2@group-86DCF40A42C2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-86DCF40A42C2-LeaderElection9
2022-08-02 21:04:43,369 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-86DCF40A42C2->s1(c3,m4,n5, attendVote=true, lastRpcSendTime=3, lastRpcResponseTime=462)
2022-08-02 21:04:43,369 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-86DCF40A42C2->s2(c3,m4,n5, attendVote=true, lastRpcSendTime=38, lastRpcResponseTime=458)
2022-08-02 21:04:43,369 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-86DCF40A42C2: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-02 21:04:43,369 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-86DCF40A42C2-LeaderStateImpl
2022-08-02 21:04:43,369 [s0@group-86DCF40A42C2->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s0@group-86DCF40A42C2->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:43,369 [grpc-default-executor-3] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-86DCF40A42C2-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:43,370 [s0@group-86DCF40A42C2->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s0@group-86DCF40A42C2->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:43,370 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-86DCF40A42C2-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:43,371 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-86DCF40A42C2 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,371 [s2@group-86DCF40A42C2-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-86DCF40A42C2: change Leader from s0 to null at term 1 for PRE_VOTE
2022-08-02 21:04:43,371 [s2@group-86DCF40A42C2-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-86DCF40A42C2-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,374 [s2@group-86DCF40A42C2-LeaderElection9-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-02 21:04:43,375 [s1@group-86DCF40A42C2-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-86DCF40A42C2-LeaderElection8: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:43,377 [s1@group-86DCF40A42C2-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2022-08-02 21:04:43,377 [s1@group-86DCF40A42C2-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-86DCF40A42C2-LeaderElection8 PRE_VOTE round 0: result PASSED
2022-08-02 21:04:43,378 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:43,375 [s2@group-86DCF40A42C2-LeaderElection9-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-02 21:04:43,379 [s1@group-86DCF40A42C2-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-86DCF40A42C2-LeaderElection8 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,381 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-86DCF40A42C2-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-02 21:04:43,381 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-86DCF40A42C2 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,398 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-86DCF40A42C2: receive requestVote(PRE_VOTE, s2, group-86DCF40A42C2, 1, (t:1, i:4))
2022-08-02 21:04:43,398 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-86DCF40A42C2-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-08-02 21:04:43,398 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-86DCF40A42C2 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-86DCF40A42C2:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,399 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-86DCF40A42C2: receive requestVote(ELECTION, s1, group-86DCF40A42C2, 2, (t:1, i:4))
2022-08-02 21:04:43,400 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-86DCF40A42C2-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:43,400 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-86DCF40A42C2: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-08-02 21:04:43,400 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-86DCF40A42C2: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-08-02 21:04:43,400 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:43,400 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:43,400 [s0@group-86DCF40A42C2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-86DCF40A42C2-FollowerState was interrupted
2022-08-02 21:04:43,402 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-86DCF40A42C2: receive requestVote(ELECTION, s1, group-86DCF40A42C2, 2, (t:1, i:4))
2022-08-02 21:04:43,402 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-86DCF40A42C2-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:43,402 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-86DCF40A42C2: changes role from CANDIDATE to FOLLOWER at term 2 for candidate:s1
2022-08-02 21:04:43,402 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-86DCF40A42C2-LeaderElection9
2022-08-02 21:04:43,402 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:43,403 [s2@group-86DCF40A42C2-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-86DCF40A42C2-LeaderElection9: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:43,403 [s2@group-86DCF40A42C2-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:FAIL-t1
2022-08-02 21:04:43,403 [s2@group-86DCF40A42C2-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-86DCF40A42C2-LeaderElection9 PRE_VOTE round 0: result REJECTED
2022-08-02 21:04:43,405 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-86DCF40A42C2 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-86DCF40A42C2:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,405 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-86DCF40A42C2 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-86DCF40A42C2:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,408 [s1@group-86DCF40A42C2-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-86DCF40A42C2-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:43,408 [s1@group-86DCF40A42C2-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t2
2022-08-02 21:04:43,408 [s1@group-86DCF40A42C2-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-86DCF40A42C2-LeaderElection8 ELECTION round 0: result PASSED
2022-08-02 21:04:43,408 [s1@group-86DCF40A42C2-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-86DCF40A42C2-LeaderElection8
2022-08-02 21:04:43,409 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-86DCF40A42C2: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-02 21:04:43,409 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-86DCF40A42C2: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 62ms
2022-08-02 21:04:43,409 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:43,409 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:43,409 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-02 21:04:43,409 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:43,409 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:43,410 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:43,410 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:43,410 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:43,410 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:43,410 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:43,410 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:43,410 [s1@group-86DCF40A42C2-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:43,410 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:43,410 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:43,411 [s1@group-86DCF40A42C2-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:43,411 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:43,411 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:43,411 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:43,411 [s1@group-86DCF40A42C2-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:43,411 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:43,412 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:43,412 [s1@group-86DCF40A42C2-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-02 21:04:43,412 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-86DCF40A42C2: receive requestVote(PRE_VOTE, s2, group-86DCF40A42C2, 1, (t:1, i:4))
2022-08-02 21:04:43,412 [s1@group-86DCF40A42C2-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-86DCF40A42C2-LeaderStateImpl
2022-08-02 21:04:43,413 [s1@group-86DCF40A42C2-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-86DCF40A42C2-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-02 21:04:43,414 [s1@group-86DCF40A42C2-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-86DCF40A42C2: set configuration 5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,415 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-86DCF40A42C2-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-08-02 21:04:43,415 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-86DCF40A42C2 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-86DCF40A42C2:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,416 [s1@group-86DCF40A42C2-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_0-4
2022-08-02 21:04:43,417 [s1@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-86DCF40A42C2-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_0-4
2022-08-02 21:04:43,418 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:43,423 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-86DCF40A42C2:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-86DCF40A42C2:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:43,423 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-86DCF40A42C2 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-86DCF40A42C2 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:43,426 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-86DCF40A42C2: change Leader from null to s1 at term 2 for appendEntries, leader elected after 26ms
2022-08-02 21:04:43,427 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-86DCF40A42C2: set configuration 5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,427 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-86DCF40A42C2-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-02 21:04:43,428 [s0@group-86DCF40A42C2-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_0-4
2022-08-02 21:04:43,429 [s0@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-86DCF40A42C2-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_0-4
2022-08-02 21:04:43,438 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-86DCF40A42C2: change Leader from null to s1 at term 2 for appendEntries, leader elected after 66ms
2022-08-02 21:04:43,439 [s1@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-86DCF40A42C2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s1/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_5
2022-08-02 21:04:43,441 [s0@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-86DCF40A42C2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s0/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_5
2022-08-02 21:04:43,452 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-86DCF40A42C2: set configuration 5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:43,455 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-86DCF40A42C2-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-02 21:04:43,457 [s2@group-86DCF40A42C2-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_0-4
2022-08-02 21:04:43,457 [s2@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-86DCF40A42C2-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_0-4
2022-08-02 21:04:43,469 [s2@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-86DCF40A42C2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcbd674a54/s2/ecd13c1b-265a-4c37-bc82-86dcf40a42c2/current/log_inprogress_5
2022-08-02 21:04:43,874 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-86DCF40A42C2:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-86DCF40A42C2:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:43,874 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-08-02 21:04:43,874 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2022-08-02 21:04:43,875 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-08-02 21:04:43,875 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-9C0058EA354E->s0: Stream completed: no reply for async request cid=2
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:200)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-9C0058EA354E->s0: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:407)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:311)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:347)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2022-08-02 21:04:43,876 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-08-02 21:04:43,877 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:43,878 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:43,886 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-08-02 21:04:43,888 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2022-08-02 21:04:43,894 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#21-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-02 21:04:43,896 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-08-02 21:04:43,903 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#23-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-02 21:04:43,910 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-86DCF40A42C2->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:43,910 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-86DCF40A42C2->s1: nextIndex: updateUnconditionally 5 -> 4
2022-08-02 21:04:43,910 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-86DCF40A42C2->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:43,910 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-86DCF40A42C2->s2: nextIndex: updateUnconditionally 5 -> 4
2022-08-02 21:04:44,890 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-9C0058EA354E->s0 request #3 timeout 1s
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:208)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-9C0058EA354E->s0 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:385)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:389)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:384)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:377)
	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2022-08-02 21:04:44,897 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-9C0058EA354E->s0: receive RaftClientReply:client-9C0058EA354E->s0@group-86DCF40A42C2, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-08-02 21:04:47,891 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=327, target=localhost:41023}}. 
2022-08-02 21:04:47,896 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-02 21:04:47,896 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-02 21:04:47,896 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-02 21:04:47,896 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-02 21:04:47,896 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-02 21:04:47,896 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-86DCF40A42C2:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-86DCF40A42C2:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-86DCF40A42C2:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-86DCF40A42C2-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36303|admin:localhost:39181|client:localhost:41023|dataStream:localhost:40477|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35321|admin:localhost:34201|client:localhost:34571|dataStream:localhost:42447|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37849|admin:localhost:34349|client:localhost:37417|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:47,897 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-08-02 21:04:47,897 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-08-02 21:04:47,898 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-86DCF40A42C2: shutdown
2022-08-02 21:04:47,899 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-08-02 21:04:47,899 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-86DCF40A42C2: shutdown
2022-08-02 21:04:47,899 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-86DCF40A42C2,id=s1
2022-08-02 21:04:47,900 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-86DCF40A42C2-LeaderStateImpl
2022-08-02 21:04:47,900 [s1@group-86DCF40A42C2->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s1@group-86DCF40A42C2->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:47,900 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-86DCF40A42C2: shutdown
2022-08-02 21:04:47,901 [s1@group-86DCF40A42C2->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s1@group-86DCF40A42C2->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:47,901 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-86DCF40A42C2-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:47,901 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-02 21:04:47,899 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-86DCF40A42C2,id=s0
2022-08-02 21:04:47,903 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:47,903 [s0@group-86DCF40A42C2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-86DCF40A42C2-FollowerState was interrupted
2022-08-02 21:04:47,903 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-86DCF40A42C2-StateMachineUpdater: set stopIndex = 6
2022-08-02 21:04:47,902 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-86DCF40A42C2,id=s2
2022-08-02 21:04:47,903 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-02 21:04:47,904 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s1@group-86DCF40A42C2->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:47,904 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-86DCF40A42C2->s2: nextIndex: updateUnconditionally 7 -> 6
2022-08-02 21:04:47,904 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s1@group-86DCF40A42C2->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:47,904 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-86DCF40A42C2->s0: nextIndex: updateUnconditionally 7 -> 6
2022-08-02 21:04:47,908 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-86DCF40A42C2: closes. applyIndex: 6
2022-08-02 21:04:47,908 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-86DCF40A42C2-FollowerState
2022-08-02 21:04:47,909 [s2@group-86DCF40A42C2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-86DCF40A42C2-FollowerState was interrupted
2022-08-02 21:04:47,909 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-86DCF40A42C2-StateMachineUpdater: set stopIndex = 6
2022-08-02 21:04:47,908 [s0@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-86DCF40A42C2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:47,911 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-86DCF40A42C2: closes. applyIndex: 6
2022-08-02 21:04:47,911 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-86DCF40A42C2-StateMachineUpdater: set stopIndex = 6
2022-08-02 21:04:47,911 [s1@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-86DCF40A42C2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:47,911 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-86DCF40A42C2: closes. applyIndex: 6
2022-08-02 21:04:47,911 [s2@group-86DCF40A42C2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-86DCF40A42C2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:47,912 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-86DCF40A42C2-SegmentedRaftLogWorker close()
2022-08-02 21:04:47,913 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-86DCF40A42C2-SegmentedRaftLogWorker close()
2022-08-02 21:04:47,913 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-86DCF40A42C2-SegmentedRaftLogWorker close()
2022-08-02 21:04:47,914 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:47,917 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:47,918 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-02 21:04:47,918 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:47,919 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-02 21:04:47,919 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-02 21:04:47,920 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-02 21:04:47,921 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-02 21:04:47,922 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:47,922 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:47,922 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:47,922 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:47,922 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-02 21:04:47,923 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:47,924 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:47,924 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:47,924 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:47,925 [java.util.concurrent.ThreadPoolExecutor$Worker@1053bc85[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:47,925 [java.util.concurrent.ThreadPoolExecutor$Worker@1b0231e7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:47,925 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@39fce926] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-02 21:04:47,926 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@1167806f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-02 21:04:47,928 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:47,928 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:47,935 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:47,936 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:47,936 [java.util.concurrent.ThreadPoolExecutor$Worker@255e6b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:47,936 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@202e68ab] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-02 21:04:47,936 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-02 21:04:47,938 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-02 21:04:47,938 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-02 21:04:47,938 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-02 21:04:47,938 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-02 21:04:47,939 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-8D9E9AF633D6:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]
2022-08-02 21:04:47,939 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-02 21:04:47,939 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-02 21:04:47,939 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-02 21:04:47,939 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-02 21:04:47,939 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-02 21:04:47,939 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-02 21:04:47,939 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-8D9E9AF633D6:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:47,940 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0
2022-08-02 21:04:47,940 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0 does not exist.
2022-08-02 21:04:47,940 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0
2022-08-02 21:04:47,940 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:47,940 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38833 (custom)
2022-08-02 21:04:47,941 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42883 (custom)
2022-08-02 21:04:47,941 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34327 (custom)
2022-08-02 21:04:47,941 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:47,941 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:47,941 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:47,941 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:47,941 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:47,941 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:47,941 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:47,942 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:47,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:47,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:47,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:47,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:47,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0] (custom)
2022-08-02 21:04:47,944 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-8D9E9AF633D6:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER] returns group-8D9E9AF633D6:java.util.concurrent.CompletableFuture@10c4dabc[Not completed]
2022-08-02 21:04:47,945 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-8D9E9AF633D6:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:47,945 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1
2022-08-02 21:04:47,945 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1 does not exist.
2022-08-02 21:04:47,945 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1
2022-08-02 21:04:47,945 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:47,945 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35731 (custom)
2022-08-02 21:04:47,945 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35031 (custom)
2022-08-02 21:04:47,945 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41707 (custom)
2022-08-02 21:04:47,945 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:47,945 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:47,946 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:47,946 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:47,946 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:47,946 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:47,946 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:47,947 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:47,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:47,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:47,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:47,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:47,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1] (custom)
2022-08-02 21:04:47,948 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:47,948 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:47,948 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:47,949 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-8D9E9AF633D6:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER] returns group-8D9E9AF633D6:java.util.concurrent.CompletableFuture@6459325b[Not completed]
2022-08-02 21:04:47,949 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-8D9E9AF633D6:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:47,950 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:47,950 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:47,950 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:47,950 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:47,950 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:47,950 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:47,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-8D9E9AF633D6:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:47,950 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2
2022-08-02 21:04:47,950 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-8D9E9AF633D6: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:47,950 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2 does not exist.
2022-08-02 21:04:47,951 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2
2022-08-02 21:04:47,950 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0] (custom)
2022-08-02 21:04:47,951 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:47,951 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:47,951 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:47,951 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:47,951 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:47,952 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:47,952 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:47,952 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40533 (custom)
2022-08-02 21:04:47,953 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:47,953 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:47,953 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43227 (custom)
2022-08-02 21:04:47,953 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46407 (custom)
2022-08-02 21:04:47,953 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:47,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:47,954 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:47,954 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:47,954 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:47,954 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:47,954 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-8D9E9AF633D6:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:47,954 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:47,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:47,954 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:47,954 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:47,954 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:47,954 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:47,954 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:47,955 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:47,955 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:47,954 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:47,955 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-8D9E9AF633D6: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:47,955 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:47,955 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1] (custom)
2022-08-02 21:04:47,955 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:47,955 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:47,955 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:47,955 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:47,956 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:47,956 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:47,956 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:47,957 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:47,957 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:47,957 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:47,957 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:47,957 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:47,959 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:47,959 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:47,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:47,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:47,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2] (custom)
2022-08-02 21:04:47,960 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-8D9E9AF633D6:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER] returns group-8D9E9AF633D6:java.util.concurrent.CompletableFuture@6b8cf12c[Not completed]
2022-08-02 21:04:47,960 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:47,961 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0/bbe9187f-080e-4f5f-8869-8d9e9af633d6 does not exist. Creating ...
2022-08-02 21:04:47,961 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0/bbe9187f-080e-4f5f-8869-8d9e9af633d6
2022-08-02 21:04:47,961 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:47,961 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:47,961 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-8D9E9AF633D6:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:47,962 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:47,962 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:47,962 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:47,962 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:47,962 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:47,962 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:47,962 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-8D9E9AF633D6: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:47,962 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2] (custom)
2022-08-02 21:04:47,962 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:47,962 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:47,963 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:47,963 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:47,963 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:47,963 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0/bbe9187f-080e-4f5f-8869-8d9e9af633d6/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:47,963 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:47,963 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:47,963 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:47,963 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0/bbe9187f-080e-4f5f-8869-8d9e9af633d6/current
2022-08-02 21:04:47,964 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:47,964 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0/bbe9187f-080e-4f5f-8869-8d9e9af633d6/sm
2022-08-02 21:04:47,964 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:47,965 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0/bbe9187f-080e-4f5f-8869-8d9e9af633d6 has been successfully formatted.
2022-08-02 21:04:47,965 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-8D9E9AF633D6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0/bbe9187f-080e-4f5f-8869-8d9e9af633d6
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:47,966 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:47,967 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:47,967 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:47,967 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:47,967 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:47,967 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:47,967 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:47,967 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-8D9E9AF633D6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:47,967 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-8D9E9AF633D6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:47,971 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-8D9E9AF633D6: start as a follower, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:47,971 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-8D9E9AF633D6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:47,971 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8D9E9AF633D6-FollowerState
2022-08-02 21:04:47,972 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D9E9AF633D6,id=s0
2022-08-02 21:04:47,972 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:47,972 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:47,972 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:47,972 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-08-02 21:04:47,974 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 42883
2022-08-02 21:04:47,975 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 34327
2022-08-02 21:04:47,975 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 38833
2022-08-02 21:04:47,979 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@49fa1dae] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-02 21:04:47,979 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1/bbe9187f-080e-4f5f-8869-8d9e9af633d6 does not exist. Creating ...
2022-08-02 21:04:47,980 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1/bbe9187f-080e-4f5f-8869-8d9e9af633d6
2022-08-02 21:04:47,982 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1/bbe9187f-080e-4f5f-8869-8d9e9af633d6/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:47,982 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1/bbe9187f-080e-4f5f-8869-8d9e9af633d6/current
2022-08-02 21:04:47,982 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1/bbe9187f-080e-4f5f-8869-8d9e9af633d6/sm
2022-08-02 21:04:47,984 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1/bbe9187f-080e-4f5f-8869-8d9e9af633d6 has been successfully formatted.
2022-08-02 21:04:47,984 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:47,984 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:47,984 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:47,984 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:47,984 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:47,984 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-8D9E9AF633D6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1/bbe9187f-080e-4f5f-8869-8d9e9af633d6
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:47,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:47,986 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:47,987 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:47,987 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:47,988 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-8D9E9AF633D6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:47,988 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-8D9E9AF633D6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:47,989 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-8D9E9AF633D6: start as a follower, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:47,989 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-8D9E9AF633D6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:47,989 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8D9E9AF633D6-FollowerState
2022-08-02 21:04:47,990 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D9E9AF633D6,id=s1
2022-08-02 21:04:47,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:47,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:47,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:47,990 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-08-02 21:04:47,991 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 35031
2022-08-02 21:04:47,992 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 41707
2022-08-02 21:04:47,993 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 35731
2022-08-02 21:04:47,993 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@31a7e0df] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-02 21:04:47,993 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2/bbe9187f-080e-4f5f-8869-8d9e9af633d6 does not exist. Creating ...
2022-08-02 21:04:47,994 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2/bbe9187f-080e-4f5f-8869-8d9e9af633d6
2022-08-02 21:04:47,995 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2/bbe9187f-080e-4f5f-8869-8d9e9af633d6/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:47,995 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2/bbe9187f-080e-4f5f-8869-8d9e9af633d6/current
2022-08-02 21:04:47,995 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2/bbe9187f-080e-4f5f-8869-8d9e9af633d6/sm
2022-08-02 21:04:47,997 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2/bbe9187f-080e-4f5f-8869-8d9e9af633d6 has been successfully formatted.
2022-08-02 21:04:47,997 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:47,997 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:47,997 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:47,997 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:47,997 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:47,997 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:47,997 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:47,997 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-8D9E9AF633D6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2/bbe9187f-080e-4f5f-8869-8d9e9af633d6
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:47,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:47,999 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-8D9E9AF633D6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:47,999 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-8D9E9AF633D6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:47,999 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-8D9E9AF633D6: start as a follower, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:47,999 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-8D9E9AF633D6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:47,999 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-8D9E9AF633D6-FollowerState
2022-08-02 21:04:47,999 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D9E9AF633D6,id=s2
2022-08-02 21:04:47,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:47,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:48,000 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:48,000 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-08-02 21:04:48,004 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 43227
2022-08-02 21:04:48,005 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 46407
2022-08-02 21:04:48,008 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 40533
2022-08-02 21:04:48,009 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@219f0673] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-02 21:04:48,009 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:48,009 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s0@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s1@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s2@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:48,010 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s0@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s1@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s2@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s0@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s1@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s2@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:311)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:216)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:48,128 [s0@group-8D9E9AF633D6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-8D9E9AF633D6-FollowerState: change to CANDIDATE, lastRpcElapsedTime:156963473ns, electionTimeout:156ms
2022-08-02 21:04:48,129 [s0@group-8D9E9AF633D6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-8D9E9AF633D6-FollowerState
2022-08-02 21:04:48,129 [s0@group-8D9E9AF633D6-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-8D9E9AF633D6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:48,129 [s0@group-8D9E9AF633D6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:48,129 [s0@group-8D9E9AF633D6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8D9E9AF633D6-LeaderElection10
2022-08-02 21:04:48,130 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-8D9E9AF633D6-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:48,130 [s0@group-8D9E9AF633D6-LeaderElection10-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-02 21:04:48,130 [s0@group-8D9E9AF633D6-LeaderElection10-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-02 21:04:48,141 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-8D9E9AF633D6: receive requestVote(PRE_VOTE, s0, group-8D9E9AF633D6, 0, (t:0, i:0))
2022-08-02 21:04:48,141 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-8D9E9AF633D6: receive requestVote(PRE_VOTE, s0, group-8D9E9AF633D6, 0, (t:0, i:0))
2022-08-02 21:04:48,141 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-8D9E9AF633D6-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:48,141 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-8D9E9AF633D6-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:48,142 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-8D9E9AF633D6 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s2@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:48,142 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-8D9E9AF633D6 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-8D9E9AF633D6:t0, leader=null, voted=, raftlog=Memoized:s1@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:48,143 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-8D9E9AF633D6-LeaderElection10: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:48,143 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-08-02 21:04:48,143 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-8D9E9AF633D6-LeaderElection10 PRE_VOTE round 0: result PASSED
2022-08-02 21:04:48,145 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-8D9E9AF633D6-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:48,149 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-8D9E9AF633D6: receive requestVote(ELECTION, s0, group-8D9E9AF633D6, 1, (t:0, i:0))
2022-08-02 21:04:48,149 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-8D9E9AF633D6: receive requestVote(ELECTION, s0, group-8D9E9AF633D6, 1, (t:0, i:0))
2022-08-02 21:04:48,149 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-8D9E9AF633D6-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:48,149 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-8D9E9AF633D6-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:48,149 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-8D9E9AF633D6: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-02 21:04:48,149 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-8D9E9AF633D6: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-02 21:04:48,149 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-8D9E9AF633D6-FollowerState
2022-08-02 21:04:48,149 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-8D9E9AF633D6-FollowerState
2022-08-02 21:04:48,149 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-8D9E9AF633D6-FollowerState
2022-08-02 21:04:48,149 [s2@group-8D9E9AF633D6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8D9E9AF633D6-FollowerState was interrupted
2022-08-02 21:04:48,151 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8D9E9AF633D6-FollowerState
2022-08-02 21:04:48,151 [s1@group-8D9E9AF633D6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-8D9E9AF633D6-FollowerState was interrupted
2022-08-02 21:04:48,156 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-8D9E9AF633D6 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-8D9E9AF633D6:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:48,157 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-8D9E9AF633D6 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-8D9E9AF633D6:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:48,158 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-8D9E9AF633D6-LeaderElection10: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:48,158 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2022-08-02 21:04:48,158 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-8D9E9AF633D6-LeaderElection10 ELECTION round 0: result PASSED
2022-08-02 21:04:48,158 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-8D9E9AF633D6-LeaderElection10
2022-08-02 21:04:48,158 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-8D9E9AF633D6: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-02 21:04:48,158 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-8D9E9AF633D6: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 207ms
2022-08-02 21:04:48,158 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:48,158 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:48,158 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-02 21:04:48,159 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:48,159 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:48,159 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:48,159 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:48,159 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:48,159 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:48,159 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:48,159 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:48,159 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:48,159 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:48,160 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:48,160 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:48,160 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:48,160 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:48,160 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:48,160 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:48,160 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:48,160 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:48,160 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:48,160 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8D9E9AF633D6-LeaderStateImpl
2022-08-02 21:04:48,161 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-8D9E9AF633D6-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:48,172 [s0@group-8D9E9AF633D6-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-8D9E9AF633D6: set configuration 0: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:48,173 [s0@group-8D9E9AF633D6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-8D9E9AF633D6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s0/bbe9187f-080e-4f5f-8869-8d9e9af633d6/current/log_inprogress_0
2022-08-02 21:04:48,181 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-8D9E9AF633D6: change Leader from null to s0 at term 1 for appendEntries, leader elected after 218ms
2022-08-02 21:04:48,187 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-8D9E9AF633D6: set configuration 0: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:48,187 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-8D9E9AF633D6-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:48,195 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-8D9E9AF633D6: change Leader from null to s0 at term 1 for appendEntries, leader elected after 239ms
2022-08-02 21:04:48,197 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-8D9E9AF633D6: set configuration 0: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:48,197 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-8D9E9AF633D6-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:48,202 [s2@group-8D9E9AF633D6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-8D9E9AF633D6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s2/bbe9187f-080e-4f5f-8869-8d9e9af633d6/current/log_inprogress_0
2022-08-02 21:04:48,211 [s1@group-8D9E9AF633D6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-8D9E9AF633D6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc6e1b05f/s1/bbe9187f-080e-4f5f-8869-8d9e9af633d6/current/log_inprogress_0
2022-08-02 21:04:48,460 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D9E9AF633D6:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D9E9AF633D6:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D9E9AF633D6:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:48,461 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:48,461 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:48,470 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-713C3463CBA6->s0: receive RaftClientReply:client-713C3463CBA6->s0@group-8D9E9AF633D6, cid=30, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-02 21:04:48,476 [s0@group-8D9E9AF633D6-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-713C3463CBA6
2022-08-02 21:04:48,483 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-713C3463CBA6->s0: receive RaftClientReply:client-713C3463CBA6->s0@group-8D9E9AF633D6, cid=31, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-08-02 21:04:48,484 [s1@group-8D9E9AF633D6-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-713C3463CBA6
2022-08-02 21:04:48,484 [s0-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-08-02 21:04:48,485 [s2@group-8D9E9AF633D6-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-713C3463CBA6
2022-08-02 21:04:48,486 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-713C3463CBA6->s0: receive RaftClientReply:client-713C3463CBA6->s0@group-8D9E9AF633D6, cid=32, SUCCESS, logIndex=0, commits[s0:c1, s1:c1, s2:c0]
2022-08-02 21:04:52,489 [java.util.concurrent.ThreadPoolExecutor$Worker@6bbda605[State = -1, empty queue]] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=381, target=localhost:42883}}. 
2022-08-02 21:04:52,591 [java.util.concurrent.ThreadPoolExecutor$Worker@52ac78f8[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:52,591 [java.util.concurrent.ThreadPoolExecutor$Worker@52ac78f8[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:52,601 [s0-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-08-02 21:04:52,602 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-713C3463CBA6->s0: receive RaftClientReply:client-713C3463CBA6->s0@group-8D9E9AF633D6, cid=33, SUCCESS, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-08-02 21:04:52,604 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:52,604 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:52,615 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-713C3463CBA6->s1@group-8D9E9AF633D6, cid=34, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-713C3463CBA6->s1@group-8D9E9AF633D6, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-8D9E9AF633D6 is not the leader s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2022-08-02 21:04:52,617 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-713C3463CBA6->s1: receive RaftClientReply:client-713C3463CBA6->s1@group-8D9E9AF633D6, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-8D9E9AF633D6 is not the leader s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2022-08-02 21:04:52,625 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-713C3463CBA6->s0: receive RaftClientReply:client-713C3463CBA6->s0@group-8D9E9AF633D6, cid=34, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-02 21:04:52,628 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-713C3463CBA6->s0: receive RaftClientReply:client-713C3463CBA6->s0@group-8D9E9AF633D6, cid=35, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-02 21:04:52,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-02 21:04:52,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-02 21:04:52,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-02 21:04:52,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-02 21:04:52,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-02 21:04:52,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D9E9AF633D6:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D9E9AF633D6:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D9E9AF633D6:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D9E9AF633D6-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34327|admin:localhost:38833|client:localhost:42883|dataStream:localhost:43299|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41707|admin:localhost:35731|client:localhost:35031|dataStream:localhost:36477|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46407|admin:localhost:40533|client:localhost:43227|dataStream:localhost:36739|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:52,634 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-08-02 21:04:52,634 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-08-02 21:04:52,635 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-8D9E9AF633D6: shutdown
2022-08-02 21:04:52,635 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-8D9E9AF633D6: shutdown
2022-08-02 21:04:52,635 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-08-02 21:04:52,635 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D9E9AF633D6,id=s0
2022-08-02 21:04:52,635 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-8D9E9AF633D6-LeaderStateImpl
2022-08-02 21:04:52,635 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D9E9AF633D6,id=s1
2022-08-02 21:04:52,636 [s0@group-8D9E9AF633D6->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s0@group-8D9E9AF633D6->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:52,636 [s0@group-8D9E9AF633D6->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s0@group-8D9E9AF633D6->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:52,636 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-08-02 21:04:52,637 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-02 21:04:52,636 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-8D9E9AF633D6-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:52,637 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#17-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-08-02 21:04:52,636 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-08-02 21:04:52,636 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-8D9E9AF633D6: shutdown
2022-08-02 21:04:52,640 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-8D9E9AF633D6->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:52,640 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-8D9E9AF633D6->s1: nextIndex: updateUnconditionally 3 -> 2
2022-08-02 21:04:52,639 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-8D9E9AF633D6->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:52,640 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-8D9E9AF633D6->s1: nextIndex: updateUnconditionally 2 -> 1
2022-08-02 21:04:52,639 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-8D9E9AF633D6->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:52,640 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-8D9E9AF633D6->s2: nextIndex: updateUnconditionally 3 -> 2
2022-08-02 21:04:52,639 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-8D9E9AF633D6-StateMachineUpdater: set stopIndex = 2
2022-08-02 21:04:52,641 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-8D9E9AF633D6: closes. applyIndex: 2
2022-08-02 21:04:52,639 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-8D9E9AF633D6->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:52,638 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-8D9E9AF633D6-FollowerState
2022-08-02 21:04:52,641 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D9E9AF633D6,id=s2
2022-08-02 21:04:52,641 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-8D9E9AF633D6->s2: nextIndex: updateUnconditionally 2 -> 1
2022-08-02 21:04:52,641 [s0@group-8D9E9AF633D6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-8D9E9AF633D6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:52,641 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-8D9E9AF633D6-StateMachineUpdater: set stopIndex = 2
2022-08-02 21:04:52,641 [s1@group-8D9E9AF633D6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-8D9E9AF633D6-FollowerState was interrupted
2022-08-02 21:04:52,643 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-8D9E9AF633D6: closes. applyIndex: 2
2022-08-02 21:04:52,644 [s1@group-8D9E9AF633D6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-8D9E9AF633D6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:52,644 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-8D9E9AF633D6-FollowerState
2022-08-02 21:04:52,644 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-8D9E9AF633D6-StateMachineUpdater: set stopIndex = 2
2022-08-02 21:04:52,644 [s2@group-8D9E9AF633D6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8D9E9AF633D6-FollowerState was interrupted
2022-08-02 21:04:52,644 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-8D9E9AF633D6-SegmentedRaftLogWorker close()
2022-08-02 21:04:52,644 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-8D9E9AF633D6: closes. applyIndex: 2
2022-08-02 21:04:52,645 [s2@group-8D9E9AF633D6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-8D9E9AF633D6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:52,646 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-8D9E9AF633D6-SegmentedRaftLogWorker close()
2022-08-02 21:04:52,646 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:52,647 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-02 21:04:52,647 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-8D9E9AF633D6-SegmentedRaftLogWorker close()
2022-08-02 21:04:52,649 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:52,649 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:52,649 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:52,652 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-02 21:04:52,653 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:52,653 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:52,653 [java.util.concurrent.ThreadPoolExecutor$Worker@64f8eeec[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:52,655 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@31a7e0df] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-02 21:04:52,655 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:52,656 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:52,656 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:52,657 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:52,657 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:52,657 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:52,658 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:52,657 [java.util.concurrent.ThreadPoolExecutor$Worker@4a81f7ab[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:52,658 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@49fa1dae] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-02 21:04:52,659 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:52,659 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:52,660 [java.util.concurrent.ThreadPoolExecutor$Worker@35524913[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:52,660 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@219f0673] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-02 21:04:52,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-02 21:04:52,661 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-02 21:04:52,661 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-02 21:04:52,661 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-02 21:04:52,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-02 21:04:52,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-9AD38B62B8A9:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]
2022-08-02 21:04:52,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-02 21:04:52,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-02 21:04:52,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-02 21:04:52,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-02 21:04:52,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-02 21:04:52,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-02 21:04:52,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-9AD38B62B8A9:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:52,664 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0
2022-08-02 21:04:52,664 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0 does not exist.
2022-08-02 21:04:52,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0
2022-08-02 21:04:52,664 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:52,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41295 (custom)
2022-08-02 21:04:52,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 32975 (custom)
2022-08-02 21:04:52,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46031 (custom)
2022-08-02 21:04:52,665 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:52,665 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:52,665 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:52,665 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:52,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:52,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:52,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:52,667 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:52,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:52,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:52,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:52,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:52,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0] (custom)
2022-08-02 21:04:52,668 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-9AD38B62B8A9:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER] returns group-9AD38B62B8A9:java.util.concurrent.CompletableFuture@4e57bccb[Not completed]
2022-08-02 21:04:52,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-9AD38B62B8A9:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:52,668 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1
2022-08-02 21:04:52,668 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:52,668 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1 does not exist.
2022-08-02 21:04:52,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1
2022-08-02 21:04:52,668 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:52,669 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:52,669 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:52,669 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-9AD38B62B8A9:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:52,669 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:52,669 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:52,669 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:52,669 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:52,669 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:52,669 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:52,669 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-9AD38B62B8A9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:52,670 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0] (custom)
2022-08-02 21:04:52,670 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:52,670 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:52,670 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42637 (custom)
2022-08-02 21:04:52,670 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:52,670 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44799 (custom)
2022-08-02 21:04:52,670 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:52,670 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:52,670 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44615 (custom)
2022-08-02 21:04:52,671 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:52,671 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:52,671 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:52,671 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:52,671 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:52,671 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:52,671 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:52,671 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:52,672 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:52,672 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:52,672 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:52,672 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:52,675 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:52,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:52,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:52,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:52,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:52,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1] (custom)
2022-08-02 21:04:52,677 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-9AD38B62B8A9:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER] returns group-9AD38B62B8A9:java.util.concurrent.CompletableFuture@3a14121b[Not completed]
2022-08-02 21:04:52,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-9AD38B62B8A9:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:52,677 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2
2022-08-02 21:04:52,677 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:52,677 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2 does not exist.
2022-08-02 21:04:52,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2
2022-08-02 21:04:52,677 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:52,678 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:52,678 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-9AD38B62B8A9:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:52,678 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:52,678 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:52,678 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:52,678 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:52,678 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:52,678 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:52,678 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:52,678 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-9AD38B62B8A9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:52,679 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46605 (custom)
2022-08-02 21:04:52,679 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1] (custom)
2022-08-02 21:04:52,679 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39043 (custom)
2022-08-02 21:04:52,679 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:52,679 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40941 (custom)
2022-08-02 21:04:52,679 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:52,679 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:52,679 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:52,680 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:52,680 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:52,680 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:52,680 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:52,681 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:52,681 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:52,683 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:52,683 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:52,683 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:52,684 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:52,684 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:52,684 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:52,684 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:52,684 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:52,681 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:52,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:52,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:52,685 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:52,685 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2] (custom)
2022-08-02 21:04:52,685 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-9AD38B62B8A9:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER] returns group-9AD38B62B8A9:java.util.concurrent.CompletableFuture@33e2e601[Not completed]
2022-08-02 21:04:52,685 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0/c2577546-c98d-4ccb-accf-9ad38b62b8a9 does not exist. Creating ...
2022-08-02 21:04:52,686 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:52,686 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:52,686 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:52,686 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-9AD38B62B8A9:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:52,686 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0/c2577546-c98d-4ccb-accf-9ad38b62b8a9
2022-08-02 21:04:52,686 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:52,686 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:52,686 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:52,686 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:52,686 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:52,686 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:52,687 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-9AD38B62B8A9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:52,687 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2] (custom)
2022-08-02 21:04:52,687 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:52,687 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:52,687 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:52,687 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:52,687 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:52,688 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:52,688 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:52,688 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:52,688 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:52,688 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:52,689 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0/c2577546-c98d-4ccb-accf-9ad38b62b8a9/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:52,690 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0/c2577546-c98d-4ccb-accf-9ad38b62b8a9/current
2022-08-02 21:04:52,690 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0/c2577546-c98d-4ccb-accf-9ad38b62b8a9/sm
2022-08-02 21:04:52,691 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0/c2577546-c98d-4ccb-accf-9ad38b62b8a9 has been successfully formatted.
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-9AD38B62B8A9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0/c2577546-c98d-4ccb-accf-9ad38b62b8a9
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:52,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:52,693 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:52,693 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:52,693 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:52,693 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:52,693 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:52,693 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:52,693 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:52,693 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-9AD38B62B8A9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:52,693 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-9AD38B62B8A9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:52,695 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-9AD38B62B8A9: start as a follower, conf=-1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,695 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-9AD38B62B8A9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:52,695 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9AD38B62B8A9-FollowerState
2022-08-02 21:04:52,699 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AD38B62B8A9,id=s0
2022-08-02 21:04:52,699 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:52,699 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:52,699 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:52,700 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-08-02 21:04:52,701 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 32975
2022-08-02 21:04:52,702 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 46031
2022-08-02 21:04:52,703 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 41295
2022-08-02 21:04:52,707 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@297cbeac] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-02 21:04:52,707 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1/c2577546-c98d-4ccb-accf-9ad38b62b8a9 does not exist. Creating ...
2022-08-02 21:04:52,708 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1/c2577546-c98d-4ccb-accf-9ad38b62b8a9
2022-08-02 21:04:52,709 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1/c2577546-c98d-4ccb-accf-9ad38b62b8a9/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:52,709 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1/c2577546-c98d-4ccb-accf-9ad38b62b8a9/current
2022-08-02 21:04:52,709 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1/c2577546-c98d-4ccb-accf-9ad38b62b8a9/sm
2022-08-02 21:04:52,711 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1/c2577546-c98d-4ccb-accf-9ad38b62b8a9 has been successfully formatted.
2022-08-02 21:04:52,711 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:52,711 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:52,711 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:52,711 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:52,711 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:52,711 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:52,711 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:52,711 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:52,711 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-9AD38B62B8A9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1/c2577546-c98d-4ccb-accf-9ad38b62b8a9
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:52,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:52,713 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-9AD38B62B8A9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:52,713 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-9AD38B62B8A9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:52,714 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-9AD38B62B8A9: start as a follower, conf=-1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,714 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-9AD38B62B8A9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:52,714 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9AD38B62B8A9-FollowerState
2022-08-02 21:04:52,715 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AD38B62B8A9,id=s1
2022-08-02 21:04:52,715 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:52,715 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:52,715 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:52,719 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-08-02 21:04:52,722 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 44799
2022-08-02 21:04:52,723 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 44615
2022-08-02 21:04:52,724 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 42637
2022-08-02 21:04:52,724 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@52529e15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-02 21:04:52,724 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2/c2577546-c98d-4ccb-accf-9ad38b62b8a9 does not exist. Creating ...
2022-08-02 21:04:52,724 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2/c2577546-c98d-4ccb-accf-9ad38b62b8a9
2022-08-02 21:04:52,727 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2/c2577546-c98d-4ccb-accf-9ad38b62b8a9/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:52,727 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2/c2577546-c98d-4ccb-accf-9ad38b62b8a9/current
2022-08-02 21:04:52,727 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2/c2577546-c98d-4ccb-accf-9ad38b62b8a9/sm
2022-08-02 21:04:52,729 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2/c2577546-c98d-4ccb-accf-9ad38b62b8a9 has been successfully formatted.
2022-08-02 21:04:52,729 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:52,729 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:52,729 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:52,729 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:52,729 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:52,729 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:52,730 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:52,733 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:52,733 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:52,733 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-9AD38B62B8A9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2/c2577546-c98d-4ccb-accf-9ad38b62b8a9
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:52,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:52,735 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:52,735 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-9AD38B62B8A9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:52,735 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-9AD38B62B8A9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:52,736 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-9AD38B62B8A9: start as a follower, conf=-1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,736 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-9AD38B62B8A9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:52,736 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9AD38B62B8A9-FollowerState
2022-08-02 21:04:52,737 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AD38B62B8A9,id=s2
2022-08-02 21:04:52,737 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:52,737 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:52,737 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:52,738 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-08-02 21:04:52,740 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 39043
2022-08-02 21:04:52,741 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 40941
2022-08-02 21:04:52,742 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 46605
2022-08-02 21:04:52,743 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@6f345be1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-02 21:04:52,743 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:52,743 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:52,761 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-6C65AFEAFCB0->s0: receive RaftClientReply:client-6C65AFEAFCB0->s0@group-9AD38B62B8A9, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-9AD38B62B8A9 is not the leader, logIndex=0, commits[s0:c-1]
2022-08-02 21:04:52,865 [java.util.concurrent.ThreadPoolExecutor$Worker@6aa8d72[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:52,866 [java.util.concurrent.ThreadPoolExecutor$Worker@6aa8d72[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:52,879 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-6C65AFEAFCB0->s2: receive RaftClientReply:client-6C65AFEAFCB0->s2@group-9AD38B62B8A9, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-9AD38B62B8A9 is not the leader, logIndex=0, commits[s2:c-1]
2022-08-02 21:04:52,927 [s1@group-9AD38B62B8A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-9AD38B62B8A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:212802567ns, electionTimeout:212ms
2022-08-02 21:04:52,927 [s1@group-9AD38B62B8A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9AD38B62B8A9-FollowerState
2022-08-02 21:04:52,927 [s1@group-9AD38B62B8A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-9AD38B62B8A9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:52,927 [s1@group-9AD38B62B8A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:52,927 [s1@group-9AD38B62B8A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9AD38B62B8A9-LeaderElection11
2022-08-02 21:04:52,929 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-9AD38B62B8A9-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,930 [s1@group-9AD38B62B8A9-LeaderElection11-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-02 21:04:52,930 [s1@group-9AD38B62B8A9-LeaderElection11-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-02 21:04:52,943 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-9AD38B62B8A9: receive requestVote(PRE_VOTE, s1, group-9AD38B62B8A9, 0, (t:0, i:0))
2022-08-02 21:04:52,943 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-9AD38B62B8A9-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:52,943 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-9AD38B62B8A9 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-9AD38B62B8A9:t0, leader=null, voted=, raftlog=Memoized:s2@group-9AD38B62B8A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,944 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-9AD38B62B8A9-LeaderElection11: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:52,944 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2022-08-02 21:04:52,945 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-9AD38B62B8A9-LeaderElection11 PRE_VOTE round 0: result PASSED
2022-08-02 21:04:52,945 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-9AD38B62B8A9: receive requestVote(PRE_VOTE, s1, group-9AD38B62B8A9, 0, (t:0, i:0))
2022-08-02 21:04:52,945 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-9AD38B62B8A9-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:52,945 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-9AD38B62B8A9 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-9AD38B62B8A9:t0, leader=null, voted=, raftlog=Memoized:s0@group-9AD38B62B8A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,947 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-9AD38B62B8A9-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,951 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-9AD38B62B8A9: receive requestVote(ELECTION, s1, group-9AD38B62B8A9, 1, (t:0, i:0))
2022-08-02 21:04:52,952 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-9AD38B62B8A9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:52,952 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-9AD38B62B8A9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-02 21:04:52,952 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9AD38B62B8A9-FollowerState
2022-08-02 21:04:52,952 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9AD38B62B8A9-FollowerState
2022-08-02 21:04:52,952 [s0@group-9AD38B62B8A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9AD38B62B8A9-FollowerState was interrupted
2022-08-02 21:04:52,954 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-9AD38B62B8A9: receive requestVote(ELECTION, s1, group-9AD38B62B8A9, 1, (t:0, i:0))
2022-08-02 21:04:52,954 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-9AD38B62B8A9 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-9AD38B62B8A9:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-9AD38B62B8A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,954 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-9AD38B62B8A9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-02 21:04:52,954 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-9AD38B62B8A9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-02 21:04:52,954 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9AD38B62B8A9-FollowerState
2022-08-02 21:04:52,954 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9AD38B62B8A9-FollowerState
2022-08-02 21:04:52,955 [s2@group-9AD38B62B8A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-9AD38B62B8A9-FollowerState was interrupted
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-9AD38B62B8A9-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-9AD38B62B8A9-LeaderElection11 ELECTION round 0: result PASSED
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-9AD38B62B8A9-LeaderElection11
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-9AD38B62B8A9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-9AD38B62B8A9: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 272ms
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-02 21:04:52,956 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:52,957 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:52,958 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:52,958 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:52,958 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9AD38B62B8A9-LeaderStateImpl
2022-08-02 21:04:52,958 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-9AD38B62B8A9-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:52,964 [s1@group-9AD38B62B8A9-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-9AD38B62B8A9: set configuration 0: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,972 [s1@group-9AD38B62B8A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-9AD38B62B8A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s1/c2577546-c98d-4ccb-accf-9ad38b62b8a9/current/log_inprogress_0
2022-08-02 21:04:52,973 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-9AD38B62B8A9 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-9AD38B62B8A9:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-9AD38B62B8A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,979 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-9AD38B62B8A9: change Leader from null to s1 at term 1 for appendEntries, leader elected after 292ms
2022-08-02 21:04:52,982 [java.util.concurrent.ThreadPoolExecutor$Worker@2e64a5ff[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:52,982 [java.util.concurrent.ThreadPoolExecutor$Worker@2e64a5ff[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:52,985 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-9AD38B62B8A9: set configuration 0: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,985 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-9AD38B62B8A9-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:52,994 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-9AD38B62B8A9: change Leader from null to s1 at term 1 for appendEntries, leader elected after 324ms
2022-08-02 21:04:52,996 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-9AD38B62B8A9: set configuration 0: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:52,996 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-9AD38B62B8A9-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:52,997 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-6C65AFEAFCB0->s0: receive RaftClientReply:client-6C65AFEAFCB0->s0@group-9AD38B62B8A9, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-9AD38B62B8A9 is not the leader s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c-1]
2022-08-02 21:04:53,005 [java.util.concurrent.ThreadPoolExecutor$Worker@2fcf776[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,006 [java.util.concurrent.ThreadPoolExecutor$Worker@2fcf776[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,010 [s2@group-9AD38B62B8A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-9AD38B62B8A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s2/c2577546-c98d-4ccb-accf-9ad38b62b8a9/current/log_inprogress_0
2022-08-02 21:04:53,010 [s0@group-9AD38B62B8A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-9AD38B62B8A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc489daa25/s0/c2577546-c98d-4ccb-accf-9ad38b62b8a9/current/log_inprogress_0
2022-08-02 21:04:53,017 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-6C65AFEAFCB0->s1: receive RaftClientReply:client-6C65AFEAFCB0->s1@group-9AD38B62B8A9, cid=36, SUCCESS, logIndex=0, commits[s1:c0, s0:c-1, s2:c-1]
2022-08-02 21:04:53,024 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-6C65AFEAFCB0
2022-08-02 21:04:53,027 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-6C65AFEAFCB0->s1: receive RaftClientReply:client-6C65AFEAFCB0->s1@group-9AD38B62B8A9, cid=37, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-08-02 21:04:53,028 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-6C65AFEAFCB0
2022-08-02 21:04:53,035 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-08-02 21:04:53,036 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,036 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,036 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-6C65AFEAFCB0
2022-08-02 21:04:53,038 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,038 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,040 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,040 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,042 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,042 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,048 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,049 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,058 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-8419BCEEF480->s1: receive RaftClientReply:client-8419BCEEF480->s1@group-9AD38B62B8A9, cid=40, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-02 21:04:53,059 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-2A0E8B46D4A6->s1: receive RaftClientReply:client-2A0E8B46D4A6->s1@group-9AD38B62B8A9, cid=44, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-02 21:04:53,060 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-91A6273ED550->s1: receive RaftClientReply:client-91A6273ED550->s1@group-9AD38B62B8A9, cid=38, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-02 21:04:53,063 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-A3B6C6FA1D92->s1: receive RaftClientReply:client-A3B6C6FA1D92->s1@group-9AD38B62B8A9, cid=42, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-02 21:04:53,063 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,063 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,081 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-FB31D4B04A8A->s1: receive RaftClientReply:client-FB31D4B04A8A->s1@group-9AD38B62B8A9, cid=46, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-02 21:04:53,086 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,086 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,088 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,092 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,093 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,093 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,095 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,095 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,108 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-989FB2CE42D6->s1: receive RaftClientReply:client-989FB2CE42D6->s1@group-9AD38B62B8A9, cid=48, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-02 21:04:53,110 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,110 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,115 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-AE6D13A1E048->s1: receive RaftClientReply:client-AE6D13A1E048->s1@group-9AD38B62B8A9, cid=52, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-02 21:04:53,126 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-6B32BCDE088D->s1: receive RaftClientReply:client-6B32BCDE088D->s1@group-9AD38B62B8A9, cid=50, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-02 21:04:53,127 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-AB81D4B3EF91->s1: receive RaftClientReply:client-AB81D4B3EF91->s1@group-9AD38B62B8A9, cid=56, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-02 21:04:53,128 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-E21B372BB87C->s1: receive RaftClientReply:client-E21B372BB87C->s1@group-9AD38B62B8A9, cid=54, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-02 21:04:53,133 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-B570B63837ED->s1: receive RaftClientReply:client-B570B63837ED->s1@group-9AD38B62B8A9, cid=58, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-02 21:04:53,160 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-9AD38B62B8A9: Failed to acquire a pending write request for RaftClientRequest:client-B570B63837ED->s1@group-9AD38B62B8A9, cid=59, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:364)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:405)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:311)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:342)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-9AD38B62B8A9: Failed to acquire a pending write request for RaftClientRequest:client-B570B63837ED->s1@group-9AD38B62B8A9, cid=59, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:746)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:858)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:795)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:795)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2022-08-02 21:04:53,414 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-08-02 21:04:53,420 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, message 2 -> (t:1, i:3), STATEMACHINELOGENTRY, 45@client-2A0E8B46D4A6
2022-08-02 21:04:53,420 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-8419BCEEF480
2022-08-02 21:04:53,420 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, 39@client-91A6273ED550
2022-08-02 21:04:53,420 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 43@client-A3B6C6FA1D92
2022-08-02 21:04:53,420 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-FB31D4B04A8A
2022-08-02 21:04:53,421 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-989FB2CE42D6
2022-08-02 21:04:53,421 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-AE6D13A1E048
2022-08-02 21:04:53,421 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-6B32BCDE088D
2022-08-02 21:04:53,421 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, 57@client-AB81D4B3EF91
2022-08-02 21:04:53,421 [s1@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 55@client-E21B372BB87C
2022-08-02 21:04:53,422 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-A3B6C6FA1D92->s1: receive RaftClientReply:client-A3B6C6FA1D92->s1@group-9AD38B62B8A9, cid=43, SUCCESS, logIndex=6, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,422 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-91A6273ED550->s1: receive RaftClientReply:client-91A6273ED550->s1@group-9AD38B62B8A9, cid=39, SUCCESS, logIndex=5, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,423 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-2A0E8B46D4A6->s1: receive RaftClientReply:client-2A0E8B46D4A6->s1@group-9AD38B62B8A9, cid=45, SUCCESS, logIndex=3, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,423 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-AB81D4B3EF91->s1: receive RaftClientReply:client-AB81D4B3EF91->s1@group-9AD38B62B8A9, cid=57, SUCCESS, logIndex=11, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,423 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-6B32BCDE088D->s1: receive RaftClientReply:client-6B32BCDE088D->s1@group-9AD38B62B8A9, cid=51, SUCCESS, logIndex=10, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,424 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-AE6D13A1E048->s1: receive RaftClientReply:client-AE6D13A1E048->s1@group-9AD38B62B8A9, cid=53, SUCCESS, logIndex=9, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,424 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-E21B372BB87C->s1: receive RaftClientReply:client-E21B372BB87C->s1@group-9AD38B62B8A9, cid=55, SUCCESS, logIndex=12, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,424 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-989FB2CE42D6->s1: receive RaftClientReply:client-989FB2CE42D6->s1@group-9AD38B62B8A9, cid=49, SUCCESS, logIndex=8, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,425 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-8419BCEEF480->s1: receive RaftClientReply:client-8419BCEEF480->s1@group-9AD38B62B8A9, cid=41, SUCCESS, logIndex=4, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,425 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-FB31D4B04A8A->s1: receive RaftClientReply:client-FB31D4B04A8A->s1@group-9AD38B62B8A9, cid=47, SUCCESS, logIndex=7, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,426 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,426 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,429 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, message 2 -> (t:1, i:3), STATEMACHINELOGENTRY, 45@client-2A0E8B46D4A6
2022-08-02 21:04:53,429 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-8419BCEEF480
2022-08-02 21:04:53,429 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, 39@client-91A6273ED550
2022-08-02 21:04:53,429 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 43@client-A3B6C6FA1D92
2022-08-02 21:04:53,429 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-FB31D4B04A8A
2022-08-02 21:04:53,430 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-989FB2CE42D6
2022-08-02 21:04:53,430 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-AE6D13A1E048
2022-08-02 21:04:53,430 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-6B32BCDE088D
2022-08-02 21:04:53,430 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, 57@client-AB81D4B3EF91
2022-08-02 21:04:53,430 [s0@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 55@client-E21B372BB87C
2022-08-02 21:04:53,433 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, message 2 -> (t:1, i:3), STATEMACHINELOGENTRY, 45@client-2A0E8B46D4A6
2022-08-02 21:04:53,433 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-8419BCEEF480
2022-08-02 21:04:53,433 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, 39@client-91A6273ED550
2022-08-02 21:04:53,434 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 43@client-A3B6C6FA1D92
2022-08-02 21:04:53,434 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-43D29432B6FE->s1: receive RaftClientReply:client-43D29432B6FE->s1@group-9AD38B62B8A9, cid=60, SUCCESS, logIndex=12, commits[s1:c12, s0:c2, s2:c2]
2022-08-02 21:04:53,435 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-FB31D4B04A8A
2022-08-02 21:04:53,436 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-989FB2CE42D6
2022-08-02 21:04:53,436 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-AE6D13A1E048
2022-08-02 21:04:53,436 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-6B32BCDE088D
2022-08-02 21:04:53,436 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, 57@client-AB81D4B3EF91
2022-08-02 21:04:53,436 [s2@group-9AD38B62B8A9-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 55@client-E21B372BB87C
2022-08-02 21:04:53,448 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-9AD38B62B8A9: Failed to acquire a pending write request for RaftClientRequest:client-43D29432B6FE->s1@group-9AD38B62B8A9, cid=61, seq=2, RW, Message:6352ad3e30d4a19edede...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:364)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:405)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:311)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:342)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-9AD38B62B8A9: Failed to acquire a pending write request for RaftClientRequest:client-43D29432B6FE->s1@group-9AD38B62B8A9, cid=61, seq=2, RW, Message:6352ad3e30d4a19edede...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:746)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:858)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:795)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:795)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2022-08-02 21:04:53,763 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-02 21:04:53,763 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-02 21:04:53,764 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-02 21:04:53,764 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-02 21:04:53,764 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-02 21:04:53,764 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9AD38B62B8A9:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-9AD38B62B8A9-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-9AD38B62B8A9:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-9AD38B62B8A9-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9AD38B62B8A9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-9AD38B62B8A9-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s0|rpc:localhost:46031|admin:localhost:41295|client:localhost:32975|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44615|admin:localhost:42637|client:localhost:44799|dataStream:localhost:39167|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40941|admin:localhost:46605|client:localhost:39043|dataStream:localhost:41429|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:53,768 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-08-02 21:04:53,771 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-08-02 21:04:53,771 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-9AD38B62B8A9: shutdown
2022-08-02 21:04:53,772 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-08-02 21:04:53,772 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-9AD38B62B8A9: shutdown
2022-08-02 21:04:53,772 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AD38B62B8A9,id=s1
2022-08-02 21:04:53,772 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-9AD38B62B8A9-LeaderStateImpl
2022-08-02 21:04:53,772 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AD38B62B8A9,id=s0
2022-08-02 21:04:53,773 [s1@group-9AD38B62B8A9->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s1@group-9AD38B62B8A9->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:53,772 [s1@group-9AD38B62B8A9->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s1@group-9AD38B62B8A9->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:53,773 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-02 21:04:53,773 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#24-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:13), METADATAENTRY(c:12)
2022-08-02 21:04:53,773 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-08-02 21:04:53,774 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s1@group-9AD38B62B8A9->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:53,774 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-9AD38B62B8A9->s2: nextIndex: updateUnconditionally 14 -> 13
2022-08-02 21:04:53,773 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9AD38B62B8A9-FollowerState
2022-08-02 21:04:53,774 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#26-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:13), METADATAENTRY(c:12)
2022-08-02 21:04:53,774 [s0@group-9AD38B62B8A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9AD38B62B8A9-FollowerState was interrupted
2022-08-02 21:04:53,774 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s1@group-9AD38B62B8A9->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:53,774 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-9AD38B62B8A9->s2: nextIndex: updateUnconditionally 13 -> 12
2022-08-02 21:04:53,774 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-9AD38B62B8A9-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:53,774 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s1@group-9AD38B62B8A9->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:53,775 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-9AD38B62B8A9->s0: nextIndex: updateUnconditionally 14 -> 13
2022-08-02 21:04:53,774 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s1@group-9AD38B62B8A9->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:53,775 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-9AD38B62B8A9->s0: nextIndex: updateUnconditionally 13 -> 12
2022-08-02 21:04:53,775 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-9AD38B62B8A9-StateMachineUpdater: set stopIndex = 13
2022-08-02 21:04:53,775 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-9AD38B62B8A9: closes. applyIndex: 13
2022-08-02 21:04:53,776 [s0@group-9AD38B62B8A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-9AD38B62B8A9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:53,776 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-9AD38B62B8A9: shutdown
2022-08-02 21:04:53,778 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-9AD38B62B8A9-StateMachineUpdater: set stopIndex = 13
2022-08-02 21:04:53,779 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-9AD38B62B8A9: closes. applyIndex: 13
2022-08-02 21:04:53,779 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-9AD38B62B8A9-SegmentedRaftLogWorker close()
2022-08-02 21:04:53,779 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AD38B62B8A9,id=s2
2022-08-02 21:04:53,779 [s1@group-9AD38B62B8A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-9AD38B62B8A9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:53,779 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9AD38B62B8A9-FollowerState
2022-08-02 21:04:53,780 [s2@group-9AD38B62B8A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-9AD38B62B8A9-FollowerState was interrupted
2022-08-02 21:04:53,780 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-9AD38B62B8A9-StateMachineUpdater: set stopIndex = 13
2022-08-02 21:04:53,781 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-9AD38B62B8A9: closes. applyIndex: 13
2022-08-02 21:04:53,781 [s2@group-9AD38B62B8A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-9AD38B62B8A9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:53,782 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-9AD38B62B8A9-SegmentedRaftLogWorker close()
2022-08-02 21:04:53,784 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-9AD38B62B8A9-SegmentedRaftLogWorker close()
2022-08-02 21:04:53,785 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:53,785 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:53,786 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:53,786 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:53,787 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:53,786 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-02 21:04:53,788 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:53,788 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:53,791 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-02 21:04:53,792 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:53,792 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:53,792 [java.util.concurrent.ThreadPoolExecutor$Worker@2e0b0fa9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:53,792 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:53,792 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:53,792 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:53,792 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:53,792 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@6f345be1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-02 21:04:53,793 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:53,794 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:53,794 [java.util.concurrent.ThreadPoolExecutor$Worker@3ebf6181[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:53,794 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@297cbeac] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-02 21:04:53,794 [java.util.concurrent.ThreadPoolExecutor$Worker@c63e696[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:53,795 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@52529e15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-02 21:04:53,795 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-02 21:04:53,795 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-02 21:04:53,795 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-02 21:04:53,795 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-02 21:04:53,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-02 21:04:53,798 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-F7CBC1A3E6E7:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]
2022-08-02 21:04:53,799 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-02 21:04:53,799 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-02 21:04:53,799 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-02 21:04:53,799 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-02 21:04:53,799 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-02 21:04:53,799 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-02 21:04:53,799 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-F7CBC1A3E6E7:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:53,799 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0
2022-08-02 21:04:53,800 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0 does not exist.
2022-08-02 21:04:53,801 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0
2022-08-02 21:04:53,801 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:53,801 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33235 (custom)
2022-08-02 21:04:53,801 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39333 (custom)
2022-08-02 21:04:53,801 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36327 (custom)
2022-08-02 21:04:53,801 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:53,801 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:53,802 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:53,802 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:53,802 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:53,802 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:53,802 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:53,804 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:53,804 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:53,804 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:53,805 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:53,805 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:53,805 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0] (custom)
2022-08-02 21:04:53,808 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-F7CBC1A3E6E7:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER] returns group-F7CBC1A3E6E7:java.util.concurrent.CompletableFuture@4da0704b[Not completed]
2022-08-02 21:04:53,808 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-F7CBC1A3E6E7:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-F7CBC1A3E6E7: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:53,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0] (custom)
2022-08-02 21:04:53,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:53,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:53,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:53,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:53,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:53,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:53,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:53,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:53,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:53,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:53,811 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0/7e21a773-2194-4efd-a12b-f7cbc1a3e6e7 does not exist. Creating ...
2022-08-02 21:04:53,813 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0/7e21a773-2194-4efd-a12b-f7cbc1a3e6e7
2022-08-02 21:04:53,815 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0/7e21a773-2194-4efd-a12b-f7cbc1a3e6e7/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:53,815 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0/7e21a773-2194-4efd-a12b-f7cbc1a3e6e7/current
2022-08-02 21:04:53,815 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0/7e21a773-2194-4efd-a12b-f7cbc1a3e6e7/sm
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0/7e21a773-2194-4efd-a12b-f7cbc1a3e6e7 has been successfully formatted.
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:53,817 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-F7CBC1A3E6E7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0/7e21a773-2194-4efd-a12b-f7cbc1a3e6e7
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:53,818 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:53,819 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-F7CBC1A3E6E7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:53,819 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-F7CBC1A3E6E7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:53,819 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-F7CBC1A3E6E7: start as a follower, conf=-1: peers:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:53,819 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-F7CBC1A3E6E7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:53,819 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F7CBC1A3E6E7-FollowerState
2022-08-02 21:04:53,819 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F7CBC1A3E6E7,id=s0
2022-08-02 21:04:53,819 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:53,819 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:53,819 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:53,820 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-08-02 21:04:53,821 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 39333
2022-08-02 21:04:53,821 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 36327
2022-08-02 21:04:53,821 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 33235
2022-08-02 21:04:53,823 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@8a2e79b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-02 21:04:53,823 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:53,823 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F7CBC1A3E6E7:t0, leader=null, voted=, raftlog=Memoized:s0@group-F7CBC1A3E6E7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:53,823 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F7CBC1A3E6E7:t0, leader=null, voted=, raftlog=Memoized:s0@group-F7CBC1A3E6E7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F7CBC1A3E6E7:t0, leader=null, voted=, raftlog=Memoized:s0@group-F7CBC1A3E6E7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:152)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:54,067 [s0@group-F7CBC1A3E6E7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F7CBC1A3E6E7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:247723072ns, electionTimeout:247ms
2022-08-02 21:04:54,067 [s0@group-F7CBC1A3E6E7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F7CBC1A3E6E7-FollowerState
2022-08-02 21:04:54,067 [s0@group-F7CBC1A3E6E7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-F7CBC1A3E6E7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:54,067 [s0@group-F7CBC1A3E6E7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:54,067 [s0@group-F7CBC1A3E6E7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F7CBC1A3E6E7-LeaderElection12
2022-08-02 21:04:54,070 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F7CBC1A3E6E7-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:54,070 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F7CBC1A3E6E7-LeaderElection12 PRE_VOTE round 0: result PASSED (term=0)
2022-08-02 21:04:54,072 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F7CBC1A3E6E7-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F7CBC1A3E6E7-LeaderElection12 ELECTION round 0: result PASSED (term=1)
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F7CBC1A3E6E7-LeaderElection12
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-F7CBC1A3E6E7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-F7CBC1A3E6E7: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 263ms
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:54,073 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:54,074 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F7CBC1A3E6E7-LeaderStateImpl
2022-08-02 21:04:54,074 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-F7CBC1A3E6E7-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:54,078 [s0@group-F7CBC1A3E6E7-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-F7CBC1A3E6E7: set configuration 0: peers:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:54,087 [s0@group-F7CBC1A3E6E7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F7CBC1A3E6E7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpc29a436f/s0/7e21a773-2194-4efd-a12b-f7cbc1a3e6e7/current/log_inprogress_0
2022-08-02 21:04:54,274 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F7CBC1A3E6E7:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F7CBC1A3E6E7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:54,274 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33235 (custom)
2022-08-02 21:04:54,274 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39333 (custom)
2022-08-02 21:04:54,274 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36327 (custom)
2022-08-02 21:04:54,274 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:54,275 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:54,275 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:54,275 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:54,275 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:54,275 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:54,275 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:54,277 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-08-02 21:04:54,277 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:310)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:156)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:54,277 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-08-02 21:04:54,277 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:316)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:160)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:54,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-02 21:04:54,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-02 21:04:54,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-02 21:04:54,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-02 21:04:54,278 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-02 21:04:54,278 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F7CBC1A3E6E7:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F7CBC1A3E6E7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36327|admin:localhost:33235|client:localhost:39333|dataStream:localhost:45703|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:54,278 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-08-02 21:04:54,279 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-F7CBC1A3E6E7: shutdown
2022-08-02 21:04:54,279 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F7CBC1A3E6E7,id=s0
2022-08-02 21:04:54,279 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-F7CBC1A3E6E7-LeaderStateImpl
2022-08-02 21:04:54,279 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-F7CBC1A3E6E7-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:54,279 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-F7CBC1A3E6E7-StateMachineUpdater: set stopIndex = 0
2022-08-02 21:04:54,280 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-F7CBC1A3E6E7: closes. applyIndex: 0
2022-08-02 21:04:54,280 [s0@group-F7CBC1A3E6E7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-F7CBC1A3E6E7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:54,282 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-F7CBC1A3E6E7-SegmentedRaftLogWorker close()
2022-08-02 21:04:54,282 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:54,283 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:54,283 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:54,283 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:54,283 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:54,284 [java.util.concurrent.ThreadPoolExecutor$Worker@688d18d4[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:54,284 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@8a2e79b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-02 21:04:54,284 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-02 21:04:54,285 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-02 21:04:54,285 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-02 21:04:54,285 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-02 21:04:54,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-02 21:04:54,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-B3806FF4C130:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]
2022-08-02 21:04:54,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-02 21:04:54,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-02 21:04:54,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-02 21:04:54,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-02 21:04:54,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-02 21:04:54,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-02 21:04:54,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-B3806FF4C130:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:54,286 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0
2022-08-02 21:04:54,287 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0 does not exist.
2022-08-02 21:04:54,287 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0
2022-08-02 21:04:54,287 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:54,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41995 (custom)
2022-08-02 21:04:54,288 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41829 (custom)
2022-08-02 21:04:54,288 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41119 (custom)
2022-08-02 21:04:54,288 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:54,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:54,289 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:54,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:54,289 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:54,289 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:54,289 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:54,290 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:54,290 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:54,290 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:54,290 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:54,291 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:54,291 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0] (custom)
2022-08-02 21:04:54,292 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-B3806FF4C130:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER] returns group-B3806FF4C130:java.util.concurrent.CompletableFuture@35193bba[Not completed]
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-B3806FF4C130:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:54,292 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-B3806FF4C130: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:54,293 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0] (custom)
2022-08-02 21:04:54,293 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:54,293 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:54,293 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:54,293 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:54,293 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:54,293 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:54,293 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:54,293 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:54,293 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:54,294 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:54,294 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130 does not exist. Creating ...
2022-08-02 21:04:54,294 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130
2022-08-02 21:04:54,297 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:54,298 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130/current
2022-08-02 21:04:54,298 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130/sm
2022-08-02 21:04:54,299 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130 has been successfully formatted.
2022-08-02 21:04:54,299 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:54,299 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:54,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:54,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:54,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:54,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:54,299 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-B3806FF4C130-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:54,300 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:54,301 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:54,301 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:54,301 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-B3806FF4C130-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:54,301 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-B3806FF4C130-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:54,301 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-B3806FF4C130: start as a follower, conf=-1: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:54,301 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-B3806FF4C130: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:54,301 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B3806FF4C130-FollowerState
2022-08-02 21:04:54,302 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B3806FF4C130,id=s0
2022-08-02 21:04:54,302 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:54,302 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:54,302 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:54,302 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-08-02 21:04:54,303 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 41829
2022-08-02 21:04:54,304 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 41119
2022-08-02 21:04:54,307 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 41995
2022-08-02 21:04:54,307 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@701bb37d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-02 21:04:54,307 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:54,307 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B3806FF4C130:t0, leader=null, voted=, raftlog=Memoized:s0@group-B3806FF4C130-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:54,307 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B3806FF4C130:t0, leader=null, voted=, raftlog=Memoized:s0@group-B3806FF4C130-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B3806FF4C130:t0, leader=null, voted=, raftlog=Memoized:s0@group-B3806FF4C130-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:118)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:54,460 [s0@group-B3806FF4C130-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B3806FF4C130-FollowerState: change to CANDIDATE, lastRpcElapsedTime:158436443ns, electionTimeout:158ms
2022-08-02 21:04:54,460 [s0@group-B3806FF4C130-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B3806FF4C130-FollowerState
2022-08-02 21:04:54,460 [s0@group-B3806FF4C130-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-B3806FF4C130: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:54,460 [s0@group-B3806FF4C130-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:54,460 [s0@group-B3806FF4C130-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B3806FF4C130-LeaderElection13
2022-08-02 21:04:54,466 [s0@group-B3806FF4C130-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B3806FF4C130-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:54,466 [s0@group-B3806FF4C130-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B3806FF4C130-LeaderElection13 PRE_VOTE round 0: result PASSED (term=0)
2022-08-02 21:04:54,468 [s0@group-B3806FF4C130-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B3806FF4C130-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:54,468 [s0@group-B3806FF4C130-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B3806FF4C130-LeaderElection13 ELECTION round 0: result PASSED (term=1)
2022-08-02 21:04:54,468 [s0@group-B3806FF4C130-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B3806FF4C130-LeaderElection13
2022-08-02 21:04:54,469 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-B3806FF4C130: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-02 21:04:54,469 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-B3806FF4C130: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 175ms
2022-08-02 21:04:54,469 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:54,469 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:54,469 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-02 21:04:54,469 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:54,470 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:54,470 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:54,470 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:54,470 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:54,470 [s0@group-B3806FF4C130-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B3806FF4C130-LeaderStateImpl
2022-08-02 21:04:54,471 [s0@group-B3806FF4C130-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-B3806FF4C130-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:54,475 [s0@group-B3806FF4C130-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-B3806FF4C130: set configuration 0: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:54,482 [s0@group-B3806FF4C130-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-B3806FF4C130-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130/current/log_inprogress_0
2022-08-02 21:04:54,758 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B3806FF4C130:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-B3806FF4C130-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:54,759 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:54,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41995 (custom)
2022-08-02 21:04:54,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41829 (custom)
2022-08-02 21:04:54,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41119 (custom)
2022-08-02 21:04:54,760 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:54,760 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:54,760 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:54,760 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:54,760 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:54,760 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:54,760 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:54,763 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:54,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:54,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:54,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:54,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:54,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0] (custom)
2022-08-02 21:04:54,764 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(247)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130
2022-08-02 21:04:54,765 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-B3806FF4C130:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER] returns group-B3806FF4C130:java.util.concurrent.CompletableFuture@10344c32[Not completed]
2022-08-02 21:04:54,765 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:04:54,765 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:04:54,766 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server GrpcServerProtocolService now
2022-08-02 21:04:54,766 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:04:54,766 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:04:54,766 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:04:54,766 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-08-02 21:04:54,766 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:54,767 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41995 (custom)
2022-08-02 21:04:54,767 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41829 (custom)
2022-08-02 21:04:54,767 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41119 (custom)
2022-08-02 21:04:54,767 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:54,767 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:54,767 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:54,767 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:54,767 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:54,767 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:54,767 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:54,768 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:54,768 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:54,768 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:54,768 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:54,769 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:54,769 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0] (custom)
2022-08-02 21:04:54,769 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-B3806FF4C130:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-B3806FF4C130
2022-08-02 21:04:54,769 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:54,769 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:54,769 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:54,769 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:54,769 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:54,769 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:54,770 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-B3806FF4C130: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:54,770 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0] (custom)
2022-08-02 21:04:54,770 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:54,770 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:54,770 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:54,770 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:54,770 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:54,770 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:54,770 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(247)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130
2022-08-02 21:04:54,770 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:54,771 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:54,771 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:54,771 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-B3806FF4C130:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER] returns group-B3806FF4C130:java.util.concurrent.CompletableFuture@261d3d8a[Not completed]
2022-08-02 21:04:54,771 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:54,771 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-B3806FF4C130:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-B3806FF4C130
2022-08-02 21:04:54,771 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:54,771 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:54,771 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:54,771 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:54,771 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:54,771 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:54,771 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-B3806FF4C130: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0] (custom)
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:54,772 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:54,773 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:54,773 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-02 21:04:55,774 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:55,774 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-02 21:04:56,775 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:56,775 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-02 21:04:57,776 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:57,776 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-02 21:04:58,777 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(234)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:58,778 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130. The directory is already locked
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.biRelay(CompletableFuture.java:1298)
	at java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1284)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$3(ConcurrentUtils.java:165)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpce75f25cf/s0/55099f83-1c6a-4ac1-8c55-b3806ff4c130. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:237)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:196)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:155)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:166)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:310)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:225)
	... 14 more
2022-08-02 21:04:58,779 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41995 (custom)
2022-08-02 21:04:58,779 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41829 (custom)
2022-08-02 21:04:58,779 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41119 (custom)
2022-08-02 21:04:58,779 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:58,780 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:58,780 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:58,780 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:58,780 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:58,780 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:58,780 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:58,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-02 21:04:58,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-02 21:04:58,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-02 21:04:58,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-02 21:04:58,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-02 21:04:58,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B3806FF4C130:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-B3806FF4C130-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41119|admin:localhost:41995|client:localhost:41829|dataStream:localhost:41431|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:58,786 [java.util.concurrent.ThreadPoolExecutor$Worker@45a09849[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-08-02 21:04:58,786 [java.util.concurrent.ThreadPoolExecutor$Worker@45a09849[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-B3806FF4C130: shutdown
2022-08-02 21:04:58,786 [java.util.concurrent.ThreadPoolExecutor$Worker@45a09849[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B3806FF4C130,id=s0
2022-08-02 21:04:58,786 [java.util.concurrent.ThreadPoolExecutor$Worker@45a09849[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-B3806FF4C130-LeaderStateImpl
2022-08-02 21:04:58,786 [java.util.concurrent.ThreadPoolExecutor$Worker@45a09849[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-B3806FF4C130-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:58,787 [java.util.concurrent.ThreadPoolExecutor$Worker@45a09849[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-B3806FF4C130-StateMachineUpdater: set stopIndex = 0
2022-08-02 21:04:58,787 [java.util.concurrent.ThreadPoolExecutor$Worker@45a09849[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-B3806FF4C130: closes. applyIndex: 0
2022-08-02 21:04:58,787 [s0@group-B3806FF4C130-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-B3806FF4C130-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:04:58,788 [java.util.concurrent.ThreadPoolExecutor$Worker@45a09849[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-B3806FF4C130-SegmentedRaftLogWorker close()
2022-08-02 21:04:58,788 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@701bb37d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-02 21:04:58,789 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-02 21:04:58,790 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-02 21:04:58,790 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-02 21:04:58,790 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-02 21:04:58,790 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(132)) - Running runWithNewCluster
2022-08-02 21:04:58,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(303)) - new MiniRaftClusterWithGrpc with group-CAB4DE6B75B4:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]
2022-08-02 21:04:58,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(336)) - .............................................................. 
2022-08-02 21:04:58,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - ... 
2022-08-02 21:04:58,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-02 21:04:58,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2022-08-02 21:04:58,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - .............................................................. 
2022-08-02 21:04:58,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(315)) - servers = {}
2022-08-02 21:04:58,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s0, group-CAB4DE6B75B4:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:58,792 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0
2022-08-02 21:04:58,792 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0 does not exist.
2022-08-02 21:04:58,792 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0
2022-08-02 21:04:58,792 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:58,792 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45337 (custom)
2022-08-02 21:04:58,792 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33661 (custom)
2022-08-02 21:04:58,793 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46371 (custom)
2022-08-02 21:04:58,793 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:58,793 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:58,793 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:58,793 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:58,793 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:58,793 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:58,793 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:58,794 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:58,794 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:58,794 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:58,794 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:58,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:58,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0] (custom)
2022-08-02 21:04:58,795 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-CAB4DE6B75B4:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER] returns group-CAB4DE6B75B4:java.util.concurrent.CompletableFuture@4189e938[Not completed]
2022-08-02 21:04:58,795 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s1, group-CAB4DE6B75B4:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:58,796 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1
2022-08-02 21:04:58,795 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:58,796 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:58,796 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:58,796 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1 does not exist.
2022-08-02 21:04:58,796 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1
2022-08-02 21:04:58,796 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-CAB4DE6B75B4:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:58,796 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:58,796 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:58,796 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:58,796 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:58,796 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:58,796 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:58,797 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45211 (custom)
2022-08-02 21:04:58,797 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:58,797 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42283 (custom)
2022-08-02 21:04:58,797 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33855 (custom)
2022-08-02 21:04:58,797 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:58,797 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:58,797 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:58,797 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:58,797 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:58,797 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-CAB4DE6B75B4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:58,797 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:58,798 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:58,798 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0] (custom)
2022-08-02 21:04:58,798 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:58,798 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:58,798 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:58,798 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:58,799 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:58,799 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:58,799 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:58,800 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:58,800 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:58,800 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:58,800 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:58,800 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:58,800 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:58,800 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:58,800 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1] (custom)
2022-08-02 21:04:58,800 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:58,801 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-CAB4DE6B75B4:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER] returns group-CAB4DE6B75B4:java.util.concurrent.CompletableFuture@35451f80[Not completed]
2022-08-02 21:04:58,801 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(379)) - newRaftServer: s2, group-CAB4DE6B75B4:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER], format? true
2022-08-02 21:04:58,801 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2
2022-08-02 21:04:58,801 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:58,801 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2 does not exist.
2022-08-02 21:04:58,801 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(384)) - Formatted directory target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2
2022-08-02 21:04:58,801 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-02 21:04:58,801 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33775 (custom)
2022-08-02 21:04:58,801 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45709 (custom)
2022-08-02 21:04:58,802 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41547 (custom)
2022-08-02 21:04:58,802 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:58,802 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:58,802 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:58,802 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:58,802 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:58,802 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-02 21:04:58,802 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-02 21:04:58,803 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-02 21:04:58,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-02 21:04:58,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-02 21:04:58,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:58,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:58,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2] (custom)
2022-08-02 21:04:58,804 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:58,804 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:58,804 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-CAB4DE6B75B4:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER] returns group-CAB4DE6B75B4:java.util.concurrent.CompletableFuture@59c5aebe[Not completed]
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-CAB4DE6B75B4:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-CAB4DE6B75B4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:58,805 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2] (custom)
2022-08-02 21:04:58,806 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:58,806 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:58,806 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:58,806 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:58,806 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:58,806 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:58,806 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:58,806 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:58,806 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:58,806 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:58,804 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-CAB4DE6B75B4:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:58,805 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4 does not exist. Creating ...
2022-08-02 21:04:58,807 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4
2022-08-02 21:04:58,807 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-02 21:04:58,807 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:58,807 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-02 21:04:58,807 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-02 21:04:58,807 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-02 21:04:58,807 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-02 21:04:58,807 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-CAB4DE6B75B4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-02 21:04:58,808 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1] (custom)
2022-08-02 21:04:58,808 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-02 21:04:58,809 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-02 21:04:58,809 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-02 21:04:58,809 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:58,809 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4/current
2022-08-02 21:04:58,809 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4/sm
2022-08-02 21:04:58,809 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-02 21:04:58,810 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-02 21:04:58,810 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:58,810 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-02 21:04:58,810 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-02 21:04:58,810 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-02 21:04:58,810 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-02 21:04:58,811 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4 has been successfully formatted.
2022-08-02 21:04:58,811 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:58,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:58,813 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:58,813 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:58,813 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:58,813 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:58,813 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:58,813 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-CAB4DE6B75B4: start as a follower, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:58,813 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-CAB4DE6B75B4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:58,813 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:58,814 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CAB4DE6B75B4,id=s0
2022-08-02 21:04:58,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:58,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:58,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:58,814 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-08-02 21:04:58,815 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 33661
2022-08-02 21:04:58,815 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 46371
2022-08-02 21:04:58,816 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s0: GrpcService started, listening on 45337
2022-08-02 21:04:58,816 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4 does not exist. Creating ...
2022-08-02 21:04:58,817 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4
2022-08-02 21:04:58,817 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@44610319] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-02 21:04:58,818 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:58,818 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4/current
2022-08-02 21:04:58,818 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4/sm
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4 has been successfully formatted.
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:58,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:58,821 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:58,822 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:58,822 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-CAB4DE6B75B4: start as a follower, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:58,822 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-CAB4DE6B75B4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:58,822 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:58,822 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CAB4DE6B75B4,id=s1
2022-08-02 21:04:58,822 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:58,822 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:58,822 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:58,823 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-08-02 21:04:58,823 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 42283
2022-08-02 21:04:58,824 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 33855
2022-08-02 21:04:58,824 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s1: GrpcService started, listening on 45211
2022-08-02 21:04:58,825 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@200fb994] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-02 21:04:58,825 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4 does not exist. Creating ...
2022-08-02 21:04:58,825 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4
2022-08-02 21:04:58,826 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4/in_use.lock acquired by nodename 12398@fv-az94-903.5nf3ov1lyyvuxdxiv44ldfoe0f.jx.internal.cloudapp.net
2022-08-02 21:04:58,826 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4/current
2022-08-02 21:04:58,827 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4/sm
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4 has been successfully formatted.
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4
2022-08-02 21:04:58,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:58,829 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-02 21:04:58,831 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-CAB4DE6B75B4: start as a follower, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:58,831 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-CAB4DE6B75B4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-02 21:04:58,831 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:58,831 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CAB4DE6B75B4,id=s2
2022-08-02 21:04:58,832 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-02 21:04:58,832 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-02 21:04:58,832 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-02 21:04:58,832 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-08-02 21:04:58,833 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 45709
2022-08-02 21:04:58,833 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 41547
2022-08-02 21:04:58,834 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(262)) - s2: GrpcService started, listening on 33775
2022-08-02 21:04:58,834 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@60ea9827] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-02 21:04:58,834 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:58,834 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:58,835 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:577)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:604)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:170)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:59,015 [s2@group-CAB4DE6B75B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-CAB4DE6B75B4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:183398822ns, electionTimeout:183ms
2022-08-02 21:04:59,015 [s2@group-CAB4DE6B75B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,015 [s2@group-CAB4DE6B75B4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-CAB4DE6B75B4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-02 21:04:59,015 [s2@group-CAB4DE6B75B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:59,015 [s2@group-CAB4DE6B75B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CAB4DE6B75B4-LeaderElection14
2022-08-02 21:04:59,017 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-CAB4DE6B75B4-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,017 [s2@group-CAB4DE6B75B4-LeaderElection14-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-02 21:04:59,017 [s2@group-CAB4DE6B75B4-LeaderElection14-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-02 21:04:59,027 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-CAB4DE6B75B4: receive requestVote(PRE_VOTE, s2, group-CAB4DE6B75B4, 0, (t:0, i:0))
2022-08-02 21:04:59,027 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CAB4DE6B75B4-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-02 21:04:59,027 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-CAB4DE6B75B4 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,029 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-CAB4DE6B75B4-LeaderElection14: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:59,029 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t0
2022-08-02 21:04:59,029 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-CAB4DE6B75B4-LeaderElection14 PRE_VOTE round 0: result PASSED
2022-08-02 21:04:59,030 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-CAB4DE6B75B4-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,032 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-CAB4DE6B75B4: receive requestVote(PRE_VOTE, s2, group-CAB4DE6B75B4, 0, (t:0, i:0))
2022-08-02 21:04:59,033 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CAB4DE6B75B4-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-02 21:04:59,033 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-CAB4DE6B75B4 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-CAB4DE6B75B4:t0, leader=null, voted=, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,039 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-CAB4DE6B75B4: receive requestVote(ELECTION, s2, group-CAB4DE6B75B4, 1, (t:0, i:0))
2022-08-02 21:04:59,039 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CAB4DE6B75B4-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-02 21:04:59,040 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-CAB4DE6B75B4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-08-02 21:04:59,040 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,040 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,040 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-CAB4DE6B75B4: receive requestVote(ELECTION, s2, group-CAB4DE6B75B4, 1, (t:0, i:0))
2022-08-02 21:04:59,040 [s1@group-CAB4DE6B75B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CAB4DE6B75B4-FollowerState was interrupted
2022-08-02 21:04:59,040 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CAB4DE6B75B4-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-02 21:04:59,040 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-CAB4DE6B75B4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-08-02 21:04:59,040 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,042 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,042 [s0@group-CAB4DE6B75B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-CAB4DE6B75B4-FollowerState was interrupted
2022-08-02 21:04:59,043 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-CAB4DE6B75B4 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-CAB4DE6B75B4:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,044 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-CAB4DE6B75B4 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-CAB4DE6B75B4:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,045 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-CAB4DE6B75B4-LeaderElection14: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:59,045 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t1
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-CAB4DE6B75B4-LeaderElection14 ELECTION round 0: result PASSED
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-CAB4DE6B75B4-LeaderElection14
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-CAB4DE6B75B4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-CAB4DE6B75B4: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 240ms
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:59,046 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:59,047 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:59,048 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:59,048 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:59,048 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:59,048 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CAB4DE6B75B4-LeaderStateImpl
2022-08-02 21:04:59,048 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:59,059 [s2@group-CAB4DE6B75B4-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-CAB4DE6B75B4: set configuration 0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,061 [s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_0
2022-08-02 21:04:59,067 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-CAB4DE6B75B4: change Leader from null to s2 at term 1 for appendEntries, leader elected after 258ms
2022-08-02 21:04:59,072 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-CAB4DE6B75B4: change Leader from null to s2 at term 1 for appendEntries, leader elected after 274ms
2022-08-02 21:04:59,073 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-CAB4DE6B75B4: set configuration 0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,073 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:59,079 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-CAB4DE6B75B4: set configuration 0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,079 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-02 21:04:59,098 [s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_0
2022-08-02 21:04:59,098 [s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_0
2022-08-02 21:04:59,285 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:59,286 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:59,286 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:59,296 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-D763614A8A47->s0: receive RaftClientReply:client-D763614A8A47->s0@group-CAB4DE6B75B4, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-CAB4DE6B75B4 is not the leader s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-02 21:04:59,299 [java.util.concurrent.ThreadPoolExecutor$Worker@674efda5[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:59,299 [java.util.concurrent.ThreadPoolExecutor$Worker@674efda5[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:59,305 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-D763614A8A47->s2: receive RaftClientReply:client-D763614A8A47->s2@group-CAB4DE6B75B4, cid=62, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2022-08-02 21:04:59,312 [s2@group-CAB4DE6B75B4-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-D763614A8A47
2022-08-02 21:04:59,314 [s0@group-CAB4DE6B75B4-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-D763614A8A47
2022-08-02 21:04:59,316 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-D763614A8A47->s2: receive RaftClientReply:client-D763614A8A47->s2@group-CAB4DE6B75B4, cid=63, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2022-08-02 21:04:59,317 [s1@group-CAB4DE6B75B4-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-D763614A8A47
2022-08-02 21:04:59,326 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:04:59,326 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:04:59,335 [s2@group-CAB4DE6B75B4-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-1CFCAB805518
2022-08-02 21:04:59,337 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-1CFCAB805518->s2: receive RaftClientReply:client-1CFCAB805518->s2@group-CAB4DE6B75B4, cid=1, SUCCESS, logIndex=3, commits[s2:c3, s0:c1, s1:c2]
2022-08-02 21:04:59,337 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-08-02 21:04:59,337 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s2
2022-08-02 21:04:59,337 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:59,337 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:59,338 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:59,338 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:59,344 [s0@group-CAB4DE6B75B4-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-1CFCAB805518
2022-08-02 21:04:59,345 [s1@group-CAB4DE6B75B4-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-1CFCAB805518
2022-08-02 21:04:59,422 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s2
2022-08-02 21:04:59,423 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-08-02 21:04:59,438 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:59,439 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:59,439 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:59,440 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:59,540 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:59,540 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:59,541 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:59,541 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:59,642 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:59,642 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:59,643 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:59,643 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:59,674 [s0@group-CAB4DE6B75B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-CAB4DE6B75B4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:329915152ns, electionTimeout:242ms
2022-08-02 21:04:59,674 [s0@group-CAB4DE6B75B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,674 [s0@group-CAB4DE6B75B4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-CAB4DE6B75B4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-02 21:04:59,674 [s0@group-CAB4DE6B75B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-02 21:04:59,674 [s0@group-CAB4DE6B75B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CAB4DE6B75B4-LeaderElection15
2022-08-02 21:04:59,675 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-CAB4DE6B75B4: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-02 21:04:59,675 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CAB4DE6B75B4-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,676 [s0@group-CAB4DE6B75B4-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-02 21:04:59,676 [s0@group-CAB4DE6B75B4-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-02 21:04:59,684 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-CAB4DE6B75B4: receive requestVote(PRE_VOTE, s0, group-CAB4DE6B75B4, 1, (t:1, i:4))
2022-08-02 21:04:59,684 [grpc-default-executor-5] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s2@group-CAB4DE6B75B4-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 638ms. Conf: 0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,684 [grpc-default-executor-5] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-CAB4DE6B75B4->s0(c3,m4,n5, attendVote=true, lastRpcSendTime=34, lastRpcResponseTime=337)
2022-08-02 21:04:59,684 [grpc-default-executor-5] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-CAB4DE6B75B4->s1(c3,m4,n5, attendVote=true, lastRpcSendTime=34, lastRpcResponseTime=338)
2022-08-02 21:04:59,684 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-CAB4DE6B75B4: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-02 21:04:59,685 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-CAB4DE6B75B4-LeaderStateImpl
2022-08-02 21:04:59,685 [grpc-default-executor-5] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-CAB4DE6B75B4-PendingRequests: sendNotLeaderResponses
2022-08-02 21:04:59,685 [s2@group-CAB4DE6B75B4->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s2@group-CAB4DE6B75B4->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:59,685 [s2@group-CAB4DE6B75B4->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s2@group-CAB4DE6B75B4->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:04:59,687 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-CAB4DE6B75B4: receive requestVote(PRE_VOTE, s0, group-CAB4DE6B75B4, 1, (t:1, i:4))
2022-08-02 21:04:59,687 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CAB4DE6B75B4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:59,687 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-CAB4DE6B75B4 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,687 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#23-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-02 21:04:59,692 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s2@group-CAB4DE6B75B4->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:59,692 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-CAB4DE6B75B4->s0: nextIndex: updateUnconditionally 5 -> 4
2022-08-02 21:04:59,692 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CAB4DE6B75B4-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:59,692 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-02 21:04:59,692 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CAB4DE6B75B4-LeaderElection15 PRE_VOTE round 0: result PASSED
2022-08-02 21:04:59,692 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,692 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#19-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-02 21:04:59,694 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s2@group-CAB4DE6B75B4->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:04:59,694 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-CAB4DE6B75B4->s1: nextIndex: updateUnconditionally 5 -> 4
2022-08-02 21:04:59,695 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CAB4DE6B75B4-LeaderElection15 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,695 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CAB4DE6B75B4-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-02 21:04:59,695 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-CAB4DE6B75B4 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-CAB4DE6B75B4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,702 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-CAB4DE6B75B4: receive requestVote(ELECTION, s0, group-CAB4DE6B75B4, 2, (t:1, i:4))
2022-08-02 21:04:59,702 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CAB4DE6B75B4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:59,702 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-CAB4DE6B75B4: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-08-02 21:04:59,702 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-CAB4DE6B75B4: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-08-02 21:04:59,702 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,702 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,702 [s1@group-CAB4DE6B75B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CAB4DE6B75B4-FollowerState was interrupted
2022-08-02 21:04:59,703 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-CAB4DE6B75B4: receive requestVote(ELECTION, s0, group-CAB4DE6B75B4, 2, (t:1, i:4))
2022-08-02 21:04:59,704 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CAB4DE6B75B4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-02 21:04:59,704 [grpc-default-executor-6] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-CAB4DE6B75B4: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-08-02 21:04:59,704 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-CAB4DE6B75B4: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-08-02 21:04:59,704 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,704 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:04:59,704 [s2@group-CAB4DE6B75B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CAB4DE6B75B4-FollowerState was interrupted
2022-08-02 21:04:59,709 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-CAB4DE6B75B4 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-CAB4DE6B75B4:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,710 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-CAB4DE6B75B4 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-CAB4DE6B75B4:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,711 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CAB4DE6B75B4-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-02 21:04:59,711 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t2
2022-08-02 21:04:59,711 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CAB4DE6B75B4-LeaderElection15 ELECTION round 0: result PASSED
2022-08-02 21:04:59,711 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-CAB4DE6B75B4-LeaderElection15
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-CAB4DE6B75B4: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-CAB4DE6B75B4: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 36ms
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:59,712 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CAB4DE6B75B4-LeaderStateImpl
2022-08-02 21:04:59,713 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-02 21:04:59,715 [s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_0-4
2022-08-02 21:04:59,715 [s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_0-4
2022-08-02 21:04:59,730 [s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s0/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_5
2022-08-02 21:04:59,731 [s0@group-CAB4DE6B75B4-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-CAB4DE6B75B4: set configuration 5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,738 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-CAB4DE6B75B4: change Leader from null to s0 at term 2 for appendEntries, leader elected after 34ms
2022-08-02 21:04:59,742 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-CAB4DE6B75B4: change Leader from null to s0 at term 2 for appendEntries, leader elected after 40ms
2022-08-02 21:04:59,742 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-CAB4DE6B75B4: set configuration 5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,742 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-02 21:04:59,743 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-02 21:04:59,742 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-CAB4DE6B75B4: set configuration 5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-02 21:04:59,743 [s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_0-4
2022-08-02 21:04:59,744 [s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_0-4
2022-08-02 21:04:59,744 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CAB4DE6B75B4:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CAB4DE6B75B4:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c4, conf=5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:04:59,747 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-CAB4DE6B75B4 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-CAB4DE6B75B4 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:04:59,748 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-02 21:04:59,749 [s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_0-4
2022-08-02 21:04:59,749 [s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_0-4
2022-08-02 21:04:59,763 [s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s2/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_5
2022-08-02 21:04:59,763 [s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/1e2fa4a7/MiniRaftClusterWithGrpcf63fc446/s1/85021bd4-b692-443d-bc9e-cab4de6b75b4/current/log_inprogress_5
2022-08-02 21:05:00,198 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CAB4DE6B75B4:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CAB4DE6B75B4:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:05:00,198 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-08-02 21:05:00,198 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s2
2022-08-02 21:05:00,199 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-08-02 21:05:00,199 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-1CFCAB805518->s2: Stream completed: no reply for async request cid=2
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:200)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-1CFCAB805518->s2: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:407)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:311)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:347)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2022-08-02 21:05:00,200 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-08-02 21:05:00,201 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-02 21:05:00,201 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-02 21:05:00,203 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-08-02 21:05:00,323 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s2
2022-08-02 21:05:00,323 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-08-02 21:05:00,327 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-08-02 21:05:00,328 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s2@group-CAB4DE6B75B4->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:05:00,328 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-CAB4DE6B75B4->s0: nextIndex: updateUnconditionally 4 -> 3
2022-08-02 21:05:00,328 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-08-02 21:05:00,329 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s2@group-CAB4DE6B75B4->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:05:00,329 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-CAB4DE6B75B4->s1: nextIndex: updateUnconditionally 4 -> 3
2022-08-02 21:05:01,204 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-1CFCAB805518->s2 request #3 timeout 1s
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:208)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:138)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:118)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-1CFCAB805518->s2 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:385)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:389)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:384)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:377)
	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2022-08-02 21:05:01,208 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-1CFCAB805518->s2: receive RaftClientReply:client-1CFCAB805518->s2@group-CAB4DE6B75B4, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-08-02 21:05:04,205 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=691, target=localhost:45709}}. 
2022-08-02 21:05:04,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(827)) - ************************************************************** 
2022-08-02 21:05:04,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(828)) - *** 
2022-08-02 21:05:04,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-02 21:05:04,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-02 21:05:04,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-08-02 21:05:04,209 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CAB4DE6B75B4:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CAB4DE6B75B4:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CAB4DE6B75B4:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-CAB4DE6B75B4-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46371|admin:localhost:45337|client:localhost:33661|dataStream:localhost:45475|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33855|admin:localhost:45211|client:localhost:42283|dataStream:localhost:39827|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41547|admin:localhost:33775|client:localhost:45709|dataStream:localhost:40775|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-02 21:05:04,211 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-08-02 21:05:04,213 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-08-02 21:05:04,215 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-CAB4DE6B75B4: shutdown
2022-08-02 21:05:04,215 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CAB4DE6B75B4,id=s1
2022-08-02 21:05:04,216 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:05:04,216 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-CAB4DE6B75B4-StateMachineUpdater: set stopIndex = 6
2022-08-02 21:05:04,216 [s1@group-CAB4DE6B75B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CAB4DE6B75B4-FollowerState was interrupted
2022-08-02 21:05:04,216 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-08-02 21:05:04,216 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-CAB4DE6B75B4: closes. applyIndex: 6
2022-08-02 21:05:04,217 [s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:05:04,216 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-CAB4DE6B75B4: shutdown
2022-08-02 21:05:04,217 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-CAB4DE6B75B4: shutdown
2022-08-02 21:05:04,217 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CAB4DE6B75B4,id=s0
2022-08-02 21:05:04,218 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-CAB4DE6B75B4-LeaderStateImpl
2022-08-02 21:05:04,218 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-CAB4DE6B75B4-PendingRequests: sendNotLeaderResponses
2022-08-02 21:05:04,218 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-CAB4DE6B75B4-SegmentedRaftLogWorker close()
2022-08-02 21:05:04,217 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CAB4DE6B75B4,id=s2
2022-08-02 21:05:04,219 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CAB4DE6B75B4-FollowerState
2022-08-02 21:05:04,219 [s2@group-CAB4DE6B75B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CAB4DE6B75B4-FollowerState was interrupted
2022-08-02 21:05:04,219 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-CAB4DE6B75B4-StateMachineUpdater: set stopIndex = 6
2022-08-02 21:05:04,219 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-CAB4DE6B75B4: closes. applyIndex: 6
2022-08-02 21:05:04,219 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-CAB4DE6B75B4-StateMachineUpdater: set stopIndex = 6
2022-08-02 21:05:04,220 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-CAB4DE6B75B4: closes. applyIndex: 6
2022-08-02 21:05:04,218 [s0@group-CAB4DE6B75B4->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s0@group-CAB4DE6B75B4->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:05:04,220 [s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:05:04,220 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-08-02 21:05:04,221 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-CAB4DE6B75B4->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:05:04,221 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-CAB4DE6B75B4->s1: nextIndex: updateUnconditionally 7 -> 6
2022-08-02 21:05:04,222 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-CAB4DE6B75B4-SegmentedRaftLogWorker close()
2022-08-02 21:05:04,223 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:05:04,218 [s0@group-CAB4DE6B75B4->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(183)) - s0@group-CAB4DE6B75B4->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-02 21:05:04,227 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-02 21:05:04,228 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#3-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-02 21:05:04,228 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:05:04,224 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-02 21:05:04,220 [s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-02 21:05:04,230 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-02 21:05:04,229 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-CAB4DE6B75B4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:05:04,230 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-CAB4DE6B75B4->s2: nextIndex: updateUnconditionally 7 -> 6
2022-08-02 21:05:04,230 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-CAB4DE6B75B4->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:05:04,231 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(121)) - s0@group-CAB4DE6B75B4->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:100)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:105)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:56)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:387)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-08-02 21:05:04,228 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:05:04,231 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server GrpcServerProtocolService now
2022-08-02 21:05:04,233 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(386)) - s0@group-CAB4DE6B75B4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-02 21:05:04,233 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-CAB4DE6B75B4->s2: nextIndex: updateUnconditionally 6 -> 5
2022-08-02 21:05:04,234 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:05:04,234 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:05:04,234 [java.util.concurrent.ThreadPoolExecutor$Worker@4a9d5c1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:05:04,234 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@200fb994] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-02 21:05:04,235 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-02 21:05:04,236 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:05:04,236 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server GrpcServerProtocolService now
2022-08-02 21:05:04,237 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-CAB4DE6B75B4-SegmentedRaftLogWorker close()
2022-08-02 21:05:04,238 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:05:04,238 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:05:04,238 [java.util.concurrent.ThreadPoolExecutor$Worker@51b1f352[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:05:04,238 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@44610319] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-02 21:05:04,241 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-02 21:05:04,242 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-02 21:05:04,242 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-02 21:05:04,242 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-02 21:05:04,242 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server GrpcServerProtocolService now
2022-08-02 21:05:04,243 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-02 21:05:04,243 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-02 21:05:04,243 [java.util.concurrent.ThreadPoolExecutor$Worker@594f0551[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(280)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-02 21:05:04,243 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/273841436@60ea9827] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-02 21:05:04,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(850)) - MiniRaftClusterWithGrpc shutdown completed
