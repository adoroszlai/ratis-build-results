SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-log4j12/1.7.29/slf4j-log4j12-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-simple/1.7.29/slf4j-simple-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2022-08-31 10:00:34,875 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 10:00:34,878 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 10:00:34,882 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 10:00:34,895 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 10:00:34,947 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-124FD5E98514:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]
2022-08-31 10:00:34,947 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 10:00:34,947 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 10:00:34,947 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 10:00:34,948 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 10:00:34,948 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 10:00:34,948 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 10:00:34,951 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-124FD5E98514:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:34,952 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0
2022-08-31 10:00:34,953 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0 does not exist.
2022-08-31 10:00:34,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0
2022-08-31 10:00:34,972 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:35,033 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:35,035 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45707 (custom)
2022-08-31 10:00:35,036 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:35,036 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44363 (custom)
2022-08-31 10:00:35,036 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:35,036 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35239 (custom)
2022-08-31 10:00:35,037 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:35,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:35,040 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:35,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:35,054 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:35,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:35,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:35,217 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:35,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:35,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:35,220 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:35,220 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:35,223 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0] (custom)
2022-08-31 10:00:35,230 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-124FD5E98514:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] returns group-124FD5E98514:java.util.concurrent.CompletableFuture@7efc0448[Not completed]
2022-08-31 10:00:35,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-124FD5E98514:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:35,230 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1
2022-08-31 10:00:35,231 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1 does not exist.
2022-08-31 10:00:35,231 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1
2022-08-31 10:00:35,231 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:35,231 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:35,232 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33411 (custom)
2022-08-31 10:00:35,232 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:35,232 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40123 (custom)
2022-08-31 10:00:35,232 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:35,232 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38483 (custom)
2022-08-31 10:00:35,232 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:35,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:35,233 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:35,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:35,233 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:35,233 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:35,233 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:35,235 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:35,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:35,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:35,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:35,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:35,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1] (custom)
2022-08-31 10:00:35,246 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-124FD5E98514:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] returns group-124FD5E98514:java.util.concurrent.CompletableFuture@6f90e6b0[Not completed]
2022-08-31 10:00:35,246 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-124FD5E98514:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:35,246 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2
2022-08-31 10:00:35,246 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2 does not exist.
2022-08-31 10:00:35,246 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2
2022-08-31 10:00:35,247 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:35,247 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:35,247 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42157 (custom)
2022-08-31 10:00:35,247 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:35,247 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34405 (custom)
2022-08-31 10:00:35,248 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:35,248 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43829 (custom)
2022-08-31 10:00:35,248 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:35,248 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:35,248 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:35,248 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:35,248 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:35,249 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:35,249 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:35,250 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:35,250 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:35,250 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:35,251 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:35,251 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:35,251 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2] (custom)
2022-08-31 10:00:35,258 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-124FD5E98514:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] returns group-124FD5E98514:java.util.concurrent.CompletableFuture@77651c75[Not completed]
2022-08-31 10:00:35,261 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:35,264 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:35,267 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:35,268 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:35,269 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:35,269 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:35,270 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-124FD5E98514:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:35,272 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:35,272 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:35,273 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:35,273 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:35,273 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:35,273 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:35,274 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:35,274 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:35,274 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:35,278 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-124FD5E98514: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:35,279 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-124FD5E98514:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:35,274 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-124FD5E98514:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:35,280 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:35,280 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:35,280 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:35,280 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:35,280 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:35,280 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:35,281 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-124FD5E98514: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:35,282 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:35,285 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:35,285 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:35,285 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:35,285 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:35,285 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:35,286 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-124FD5E98514: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:35,290 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:35,309 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:35,309 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:35,312 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:35,312 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:35,314 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:35,314 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:35,314 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:35,314 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:35,339 [pool-1-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-08-31 10:00:35,486 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:35,486 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:35,486 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:35,487 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:35,487 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:35,487 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:35,488 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:35,488 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:35,488 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:35,488 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:35,488 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:35,488 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:35,488 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:35,489 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:35,489 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:35,489 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:35,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:35,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0] (custom)
2022-08-31 10:00:35,500 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0/26974e85-7eb7-4c1a-b245-124fd5e98514 does not exist. Creating ...
2022-08-31 10:00:35,501 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0/26974e85-7eb7-4c1a-b245-124fd5e98514
2022-08-31 10:00:35,507 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0/26974e85-7eb7-4c1a-b245-124fd5e98514/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:35,507 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0/26974e85-7eb7-4c1a-b245-124fd5e98514/current
2022-08-31 10:00:35,507 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0/26974e85-7eb7-4c1a-b245-124fd5e98514/sm
2022-08-31 10:00:35,519 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0/26974e85-7eb7-4c1a-b245-124fd5e98514 has been successfully formatted.
2022-08-31 10:00:35,519 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:35,520 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:35,522 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:35,526 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:35,526 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:35,527 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:35,528 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:35,531 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:35,536 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:35,539 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:35,542 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-124FD5E98514-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0/26974e85-7eb7-4c1a-b245-124fd5e98514
2022-08-31 10:00:35,542 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:35,543 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:35,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:35,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:35,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:35,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:35,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:35,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:35,552 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:35,553 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:35,553 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:35,553 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:35,558 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-124FD5E98514-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:35,558 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-124FD5E98514-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:35,559 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-124FD5E98514: start as a follower, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:35,559 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-124FD5E98514: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:35,560 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-124FD5E98514-FollowerState
2022-08-31 10:00:35,568 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-124FD5E98514,id=s0
2022-08-31 10:00:35,570 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:35,570 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:35,570 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:35,574 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 10:00:35,576 [s0@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:35,577 [s0@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:35,612 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 44363
2022-08-31 10:00:35,613 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 35239
2022-08-31 10:00:35,615 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45707
2022-08-31 10:00:35,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:35,619 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:35,619 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1] (custom)
2022-08-31 10:00:35,619 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1/26974e85-7eb7-4c1a-b245-124fd5e98514 does not exist. Creating ...
2022-08-31 10:00:35,620 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1/26974e85-7eb7-4c1a-b245-124fd5e98514
2022-08-31 10:00:35,620 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@1ad4dd97] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 10:00:35,621 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1/26974e85-7eb7-4c1a-b245-124fd5e98514/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:35,622 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1/26974e85-7eb7-4c1a-b245-124fd5e98514/current
2022-08-31 10:00:35,622 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1/26974e85-7eb7-4c1a-b245-124fd5e98514/sm
2022-08-31 10:00:35,624 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1/26974e85-7eb7-4c1a-b245-124fd5e98514 has been successfully formatted.
2022-08-31 10:00:35,624 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:35,624 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:35,624 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:35,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:35,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:35,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:35,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:35,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:35,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:35,627 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:35,627 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-124FD5E98514-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1/26974e85-7eb7-4c1a-b245-124fd5e98514
2022-08-31 10:00:35,627 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:35,627 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:35,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:35,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:35,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:35,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:35,629 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:35,629 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:35,630 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:35,646 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:35,647 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:35,647 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:35,647 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-124FD5E98514-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:35,647 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-124FD5E98514-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:35,652 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-124FD5E98514: start as a follower, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:35,655 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-124FD5E98514: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:35,655 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-124FD5E98514-FollowerState
2022-08-31 10:00:35,656 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-124FD5E98514,id=s1
2022-08-31 10:00:35,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:35,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:35,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:35,660 [s1@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:35,662 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 10:00:35,663 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 40123
2022-08-31 10:00:35,667 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 38483
2022-08-31 10:00:35,667 [s1@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:35,668 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 33411
2022-08-31 10:00:35,668 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:35,668 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:35,668 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2] (custom)
2022-08-31 10:00:35,669 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2/26974e85-7eb7-4c1a-b245-124fd5e98514 does not exist. Creating ...
2022-08-31 10:00:35,669 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2/26974e85-7eb7-4c1a-b245-124fd5e98514
2022-08-31 10:00:35,668 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@2ea8a2f8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 10:00:35,671 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2/26974e85-7eb7-4c1a-b245-124fd5e98514/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:35,671 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2/26974e85-7eb7-4c1a-b245-124fd5e98514/current
2022-08-31 10:00:35,671 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2/26974e85-7eb7-4c1a-b245-124fd5e98514/sm
2022-08-31 10:00:35,672 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2/26974e85-7eb7-4c1a-b245-124fd5e98514 has been successfully formatted.
2022-08-31 10:00:35,672 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:35,673 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:35,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:35,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:35,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:35,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:35,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:35,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:35,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:35,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:35,674 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-124FD5E98514-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2/26974e85-7eb7-4c1a-b245-124fd5e98514
2022-08-31 10:00:35,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:35,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:35,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:35,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:35,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:35,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:35,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:35,675 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:35,675 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:35,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:35,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:35,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:35,676 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-124FD5E98514-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:35,676 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-124FD5E98514-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:35,682 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-124FD5E98514: start as a follower, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:35,682 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-124FD5E98514: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:35,682 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-124FD5E98514-FollowerState
2022-08-31 10:00:35,683 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-124FD5E98514,id=s2
2022-08-31 10:00:35,683 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:35,684 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:35,684 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:35,684 [s2@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:35,690 [s2@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:35,690 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 10:00:35,692 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 34405
2022-08-31 10:00:35,697 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 43829
2022-08-31 10:00:35,698 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 42157
2022-08-31 10:00:35,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:35,705 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:35,707 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@122cfadf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 10:00:35,708 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:305)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:216)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:35,820 [s0@group-124FD5E98514-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-124FD5E98514-FollowerState: change to CANDIDATE, lastRpcElapsedTime:259631113ns, electionTimeout:242ms
2022-08-31 10:00:35,821 [s0@group-124FD5E98514-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-124FD5E98514-FollowerState
2022-08-31 10:00:35,821 [s0@group-124FD5E98514-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-124FD5E98514: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:35,823 [s0@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:35,823 [s0@group-124FD5E98514-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-124FD5E98514-LeaderElection1
2022-08-31 10:00:35,825 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-124FD5E98514-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:35,840 [s0@group-124FD5E98514-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:35,840 [s0@group-124FD5E98514-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:35,841 [s0@group-124FD5E98514-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 10:00:35,842 [s0@group-124FD5E98514-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 10:00:35,871 [s2@group-124FD5E98514-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-124FD5E98514-FollowerState: change to CANDIDATE, lastRpcElapsedTime:189118075ns, electionTimeout:181ms
2022-08-31 10:00:35,874 [s2@group-124FD5E98514-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-124FD5E98514-FollowerState
2022-08-31 10:00:35,875 [s2@group-124FD5E98514-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-124FD5E98514: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:35,875 [s2@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:35,875 [s2@group-124FD5E98514-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-124FD5E98514-LeaderElection2
2022-08-31 10:00:35,885 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-124FD5E98514-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:35,886 [s2@group-124FD5E98514-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:35,886 [s2@group-124FD5E98514-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:35,887 [s2@group-124FD5E98514-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 10:00:35,896 [s2@group-124FD5E98514-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 10:00:35,916 [s1@group-124FD5E98514-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-124FD5E98514-FollowerState: change to CANDIDATE, lastRpcElapsedTime:261006222ns, electionTimeout:249ms
2022-08-31 10:00:35,917 [s1@group-124FD5E98514-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-124FD5E98514-FollowerState
2022-08-31 10:00:35,917 [s1@group-124FD5E98514-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-124FD5E98514: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:35,917 [s1@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:35,917 [s1@group-124FD5E98514-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-124FD5E98514-LeaderElection3
2022-08-31 10:00:35,934 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-124FD5E98514-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:35,949 [s1@group-124FD5E98514-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 10:00:35,954 [s1@group-124FD5E98514-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:35,957 [s1@group-124FD5E98514-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:35,959 [s1@group-124FD5E98514-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 10:00:36,041 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-124FD5E98514-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-31 10:00:36,042 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-124FD5E98514-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2022-08-31 10:00:36,042 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-124FD5E98514-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,043 [s0@group-124FD5E98514-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,043 [s0@group-124FD5E98514-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,130 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-124FD5E98514-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-31 10:00:36,133 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-124FD5E98514-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2022-08-31 10:00:36,133 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-124FD5E98514-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,135 [s1@group-124FD5E98514-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,135 [s1@group-124FD5E98514-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,142 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-124FD5E98514-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-31 10:00:36,143 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-124FD5E98514-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2022-08-31 10:00:36,143 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-124FD5E98514-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,150 [s2@group-124FD5E98514-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,150 [s2@group-124FD5E98514-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,163 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:305)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:216)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:36,191 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-124FD5E98514: receive requestVote(PRE_VOTE, s0, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,192 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,196 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-124FD5E98514 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,197 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-124FD5E98514: receive requestVote(PRE_VOTE, s0, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,199 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-124FD5E98514: receive requestVote(PRE_VOTE, s0, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,206 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,207 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-124FD5E98514 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,199 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,199 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-124FD5E98514: receive requestVote(PRE_VOTE, s0, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,210 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-124FD5E98514 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,212 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,212 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-124FD5E98514 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,210 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-124FD5E98514: receive requestVote(PRE_VOTE, s1, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,213 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,213 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-124FD5E98514 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,210 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-124FD5E98514: receive requestVote(PRE_VOTE, s1, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,220 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,221 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-124FD5E98514 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,209 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-124FD5E98514: receive requestVote(PRE_VOTE, s1, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,223 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,223 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-124FD5E98514 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,219 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-124FD5E98514: receive requestVote(PRE_VOTE, s2, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,218 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-124FD5E98514: receive requestVote(PRE_VOTE, s2, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,213 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-124FD5E98514: receive requestVote(PRE_VOTE, s2, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,228 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,228 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-124FD5E98514 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,213 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-124FD5E98514: receive requestVote(PRE_VOTE, s1, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,213 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-124FD5E98514: receive requestVote(PRE_VOTE, s2, group-124FD5E98514, 0, (t:0, i:0))
2022-08-31 10:00:36,235 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,235 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-124FD5E98514 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,231 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-124FD5E98514-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:36,235 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-31 10:00:36,235 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-124FD5E98514-LeaderElection3 PRE_VOTE round 1: result PASSED
2022-08-31 10:00:36,228 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,237 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,235 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-124FD5E98514-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:36,239 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-31 10:00:36,239 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-124FD5E98514-LeaderElection1 PRE_VOTE round 1: result PASSED
2022-08-31 10:00:36,239 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-124FD5E98514-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,238 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-124FD5E98514 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,241 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-124FD5E98514 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-124FD5E98514:t0, leader=null, voted=, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,240 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-124FD5E98514-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:36,245 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t0
2022-08-31 10:00:36,245 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-124FD5E98514-LeaderElection2 PRE_VOTE round 1: result PASSED
2022-08-31 10:00:36,243 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-124FD5E98514-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,246 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-124FD5E98514 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-124FD5E98514:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,243 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-124FD5E98514-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,242 [s1@group-124FD5E98514-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,250 [s1@group-124FD5E98514-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,247 [s0@group-124FD5E98514-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,252 [s0@group-124FD5E98514-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,247 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-124FD5E98514-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,253 [s2@group-124FD5E98514-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,253 [s2@group-124FD5E98514-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,257 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-124FD5E98514: receive requestVote(ELECTION, s0, group-124FD5E98514, 1, (t:0, i:0))
2022-08-31 10:00:36,258 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-124FD5E98514-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2022-08-31 10:00:36,258 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-124FD5E98514 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-124FD5E98514:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,262 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-124FD5E98514: receive requestVote(ELECTION, s0, group-124FD5E98514, 1, (t:0, i:0))
2022-08-31 10:00:36,262 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-124FD5E98514-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-08-31 10:00:36,262 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-124FD5E98514 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-124FD5E98514:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,265 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-124FD5E98514-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-31 10:00:36,265 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-08-31 10:00:36,265 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-08-31 10:00:36,266 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-124FD5E98514-LeaderElection1 ELECTION round 0: result REJECTED
2022-08-31 10:00:36,266 [s0@group-124FD5E98514-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-124FD5E98514: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-31 10:00:36,266 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-124FD5E98514-LeaderElection1
2022-08-31 10:00:36,267 [s0@group-124FD5E98514-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-124FD5E98514-FollowerState
2022-08-31 10:00:36,273 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-124FD5E98514: receive requestVote(ELECTION, s1, group-124FD5E98514, 1, (t:0, i:0))
2022-08-31 10:00:36,276 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-124FD5E98514-FOLLOWER: reject ELECTION from s1: already has voted for s0 at current term 1
2022-08-31 10:00:36,276 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-124FD5E98514: receive requestVote(ELECTION, s2, group-124FD5E98514, 1, (t:0, i:0))
2022-08-31 10:00:36,277 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-124FD5E98514-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2022-08-31 10:00:36,277 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-124FD5E98514 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-124FD5E98514:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,276 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-124FD5E98514: receive requestVote(ELECTION, s2, group-124FD5E98514, 1, (t:0, i:0))
2022-08-31 10:00:36,277 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-124FD5E98514 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-124FD5E98514:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,277 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-124FD5E98514-FOLLOWER: reject ELECTION from s2: already has voted for s0 at current term 1
2022-08-31 10:00:36,278 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-124FD5E98514 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-124FD5E98514:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,276 [s0@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,273 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-124FD5E98514: receive requestVote(ELECTION, s1, group-124FD5E98514, 1, (t:0, i:0))
2022-08-31 10:00:36,282 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-124FD5E98514-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-31 10:00:36,283 [s0@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,282 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-124FD5E98514-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2022-08-31 10:00:36,283 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-124FD5E98514 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-124FD5E98514:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,283 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:FAIL-t1
2022-08-31 10:00:36,283 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:FAIL-t1
2022-08-31 10:00:36,283 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-124FD5E98514-LeaderElection2 ELECTION round 0: result REJECTED
2022-08-31 10:00:36,283 [s2@group-124FD5E98514-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-124FD5E98514: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-31 10:00:36,283 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-124FD5E98514-LeaderElection2
2022-08-31 10:00:36,283 [s2@group-124FD5E98514-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-124FD5E98514-FollowerState
2022-08-31 10:00:36,284 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-124FD5E98514-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-31 10:00:36,284 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-31 10:00:36,284 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-31 10:00:36,284 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-124FD5E98514-LeaderElection3 ELECTION round 0: result REJECTED
2022-08-31 10:00:36,284 [s1@group-124FD5E98514-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-124FD5E98514: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-31 10:00:36,284 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-124FD5E98514-LeaderElection3
2022-08-31 10:00:36,285 [s1@group-124FD5E98514-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-124FD5E98514-FollowerState
2022-08-31 10:00:36,285 [s2@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,285 [s2@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,290 [s1@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,291 [s1@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,508 [s1@group-124FD5E98514-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-124FD5E98514-FollowerState: change to CANDIDATE, lastRpcElapsedTime:223927591ns, electionTimeout:217ms
2022-08-31 10:00:36,509 [s1@group-124FD5E98514-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-124FD5E98514-FollowerState
2022-08-31 10:00:36,509 [s1@group-124FD5E98514-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-124FD5E98514: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-31 10:00:36,509 [s1@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:36,509 [s1@group-124FD5E98514-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-124FD5E98514-LeaderElection4
2022-08-31 10:00:36,513 [s1@group-124FD5E98514-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-124FD5E98514-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,514 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,514 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,518 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-124FD5E98514: receive requestVote(PRE_VOTE, s1, group-124FD5E98514, 1, (t:0, i:0))
2022-08-31 10:00:36,518 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-124FD5E98514: receive requestVote(PRE_VOTE, s1, group-124FD5E98514, 1, (t:0, i:0))
2022-08-31 10:00:36,518 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-124FD5E98514-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,520 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-124FD5E98514 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-124FD5E98514:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,518 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-124FD5E98514-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,520 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-124FD5E98514 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-124FD5E98514:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,522 [s1@group-124FD5E98514-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-124FD5E98514-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:36,522 [s1@group-124FD5E98514-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2022-08-31 10:00:36,523 [s1@group-124FD5E98514-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-124FD5E98514-LeaderElection4 PRE_VOTE round 0: result PASSED
2022-08-31 10:00:36,527 [s1@group-124FD5E98514-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-124FD5E98514-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for -1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,528 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,528 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,530 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-124FD5E98514: receive requestVote(ELECTION, s1, group-124FD5E98514, 2, (t:0, i:0))
2022-08-31 10:00:36,530 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-124FD5E98514-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,530 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-124FD5E98514: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-08-31 10:00:36,530 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-124FD5E98514-FollowerState
2022-08-31 10:00:36,530 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-124FD5E98514-FollowerState
2022-08-31 10:00:36,531 [s2@group-124FD5E98514-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-124FD5E98514-FollowerState was interrupted
2022-08-31 10:00:36,534 [s2@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,535 [s2@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,535 [s0@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,535 [s0@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,536 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-124FD5E98514 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-124FD5E98514:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,537 [s1@group-124FD5E98514-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-124FD5E98514-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:36,537 [s1@group-124FD5E98514-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t2
2022-08-31 10:00:36,537 [s1@group-124FD5E98514-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-124FD5E98514-LeaderElection4 ELECTION round 0: result PASSED
2022-08-31 10:00:36,537 [s1@group-124FD5E98514-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-124FD5E98514-LeaderElection4
2022-08-31 10:00:36,537 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-124FD5E98514: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-31 10:00:36,537 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-124FD5E98514: receive requestVote(ELECTION, s1, group-124FD5E98514, 2, (t:0, i:0))
2022-08-31 10:00:36,537 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-124FD5E98514-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:36,538 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-124FD5E98514: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-08-31 10:00:36,538 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-124FD5E98514-FollowerState
2022-08-31 10:00:36,538 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-124FD5E98514-FollowerState
2022-08-31 10:00:36,538 [s0@group-124FD5E98514-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-124FD5E98514-FollowerState was interrupted
2022-08-31 10:00:36,537 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-124FD5E98514: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 1227ms
2022-08-31 10:00:36,543 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-124FD5E98514 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-124FD5E98514:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,545 [s0@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:36,546 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:36,550 [s0@group-124FD5E98514-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:36,552 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:36,553 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:36,557 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:36,557 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:36,558 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:36,561 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:36,563 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:36,570 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:36,571 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:36,571 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:36,573 [s1@group-124FD5E98514-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:36,573 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:36,573 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:36,573 [s1@group-124FD5E98514-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:36,575 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:36,575 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:36,575 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:36,575 [s1@group-124FD5E98514-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:36,576 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:36,576 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:36,576 [s1@group-124FD5E98514-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:36,577 [s1@group-124FD5E98514-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-124FD5E98514-LeaderStateImpl
2022-08-31 10:00:36,590 [s1@group-124FD5E98514-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s1@group-124FD5E98514-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:36,616 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #3/100: java.lang.IllegalStateException: Leader: s1@group-124FD5E98514 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-124FD5E98514 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:305)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:216)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:36,646 [s1@group-124FD5E98514-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-124FD5E98514: set configuration 0: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,688 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-124FD5E98514: change Leader from null to s1 at term 2 for appendEntries, leader elected after 1398ms
2022-08-31 10:00:36,691 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-124FD5E98514: change Leader from null to s1 at term 2 for appendEntries, leader elected after 1381ms
2022-08-31 10:00:36,700 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-124FD5E98514: set configuration 0: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,701 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s2@group-124FD5E98514-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:36,705 [s1@group-124FD5E98514-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s1@group-124FD5E98514-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s1/26974e85-7eb7-4c1a-b245-124fd5e98514/current/log_inprogress_0
2022-08-31 10:00:36,702 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-124FD5E98514: set configuration 0: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:36,706 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s0@group-124FD5E98514-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:36,729 [s2@group-124FD5E98514-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s2@group-124FD5E98514-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s2/26974e85-7eb7-4c1a-b245-124fd5e98514/current/log_inprogress_0
2022-08-31 10:00:36,730 [s0@group-124FD5E98514-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-124FD5E98514-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpcfaf4df8b/s0/26974e85-7eb7-4c1a-b245-124fd5e98514/current/log_inprogress_0
2022-08-31 10:00:37,067 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-124FD5E98514:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-124FD5E98514:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-124FD5E98514:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:37,093 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,094 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,150 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4E2F1BF74999->s0: receive RaftClientReply:client-4E2F1BF74999->s0@group-124FD5E98514, cid=0, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-124FD5E98514 is not the leader s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-31 10:00:37,161 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,161 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,183 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4E2F1BF74999->s1: receive RaftClientReply:client-4E2F1BF74999->s1@group-124FD5E98514, cid=0, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-08-31 10:00:37,206 [s1@group-124FD5E98514-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-4E2F1BF74999
2022-08-31 10:00:37,212 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4E2F1BF74999->s1: receive RaftClientReply:client-4E2F1BF74999->s1@group-124FD5E98514, cid=1, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-08-31 10:00:37,214 [s2@group-124FD5E98514-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-4E2F1BF74999
2022-08-31 10:00:37,216 [s0@group-124FD5E98514-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-4E2F1BF74999
2022-08-31 10:00:37,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 10:00:37,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 10:00:37,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 10:00:37,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 10:00:37,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 10:00:37,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-124FD5E98514:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-124FD5E98514-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-124FD5E98514:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-124FD5E98514-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-124FD5E98514:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-124FD5E98514-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:35239|admin:localhost:45707|client:localhost:44363|dataStream:localhost:36883|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38483|admin:localhost:33411|client:localhost:40123|dataStream:localhost:40017|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43829|admin:localhost:42157|client:localhost:34405|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:37,224 [java.util.concurrent.ThreadPoolExecutor$Worker@e13dcdf[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 10:00:37,226 [java.util.concurrent.ThreadPoolExecutor$Worker@646c60ef[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 10:00:37,227 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-124FD5E98514: shutdown
2022-08-31 10:00:37,227 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-124FD5E98514,id=s0
2022-08-31 10:00:37,227 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-124FD5E98514-FollowerState
2022-08-31 10:00:37,227 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-124FD5E98514-StateMachineUpdater: set stopIndex = 1
2022-08-31 10:00:37,227 [s0@group-124FD5E98514-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-124FD5E98514-FollowerState was interrupted
2022-08-31 10:00:37,228 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-124FD5E98514: shutdown
2022-08-31 10:00:37,228 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-124FD5E98514,id=s1
2022-08-31 10:00:37,228 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-124FD5E98514-LeaderStateImpl
2022-08-31 10:00:37,228 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-124FD5E98514: applyIndex: 1
2022-08-31 10:00:37,229 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-124FD5E98514-PendingRequests: sendNotLeaderResponses
2022-08-31 10:00:37,229 [java.util.concurrent.ThreadPoolExecutor$Worker@49f02d5d[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 10:00:37,229 [s0@group-124FD5E98514-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s0@group-124FD5E98514-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:37,229 [s1@group-124FD5E98514->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-124FD5E98514->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:37,229 [java.util.concurrent.ThreadPoolExecutor$Worker@e13dcdf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:37,231 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#17-t2,previous=(t:2, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2022-08-31 10:00:37,234 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-124FD5E98514: shutdown
2022-08-31 10:00:37,234 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-124FD5E98514,id=s2
2022-08-31 10:00:37,234 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-124FD5E98514-FollowerState
2022-08-31 10:00:37,234 [java.util.concurrent.ThreadPoolExecutor$Worker@49f02d5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:37,234 [s2@group-124FD5E98514-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-124FD5E98514-FollowerState was interrupted
2022-08-31 10:00:37,229 [java.util.concurrent.ThreadPoolExecutor$Worker@646c60ef[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:37,230 [s1@group-124FD5E98514->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-124FD5E98514->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:37,233 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-124FD5E98514->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:37,238 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#20-t2,previous=(t:2, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2022-08-31 10:00:37,238 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-124FD5E98514->s2: nextIndex: updateUnconditionally 3 -> 2
2022-08-31 10:00:37,238 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s0@group-124FD5E98514-SegmentedRaftLogWorker close()
2022-08-31 10:00:37,234 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-124FD5E98514-StateMachineUpdater: set stopIndex = 1
2022-08-31 10:00:37,238 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-124FD5E98514: applyIndex: 1
2022-08-31 10:00:37,239 [s2@group-124FD5E98514-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s2@group-124FD5E98514-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:37,239 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-124FD5E98514->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:37,239 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-124FD5E98514->s0: nextIndex: updateUnconditionally 3 -> 2
2022-08-31 10:00:37,242 [java.util.concurrent.ThreadPoolExecutor$Worker@49f02d5d[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 10:00:37,242 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s2@group-124FD5E98514-SegmentedRaftLogWorker close()
2022-08-31 10:00:37,242 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 10:00:37,243 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-124FD5E98514-StateMachineUpdater: set stopIndex = 2
2022-08-31 10:00:37,244 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-124FD5E98514: applyIndex: 2
2022-08-31 10:00:37,244 [java.util.concurrent.ThreadPoolExecutor$Worker@e13dcdf[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 10:00:37,245 [s1@group-124FD5E98514-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s1@group-124FD5E98514-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:37,246 [java.util.concurrent.ThreadPoolExecutor$Worker@49f02d5d[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 10:00:37,246 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 10:00:37,248 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s1@group-124FD5E98514-SegmentedRaftLogWorker close()
2022-08-31 10:00:37,248 [java.util.concurrent.ThreadPoolExecutor$Worker@e13dcdf[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 10:00:37,249 [java.util.concurrent.ThreadPoolExecutor$Worker@646c60ef[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:37,249 [java.util.concurrent.ThreadPoolExecutor$Worker@646c60ef[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:37,249 [java.util.concurrent.ThreadPoolExecutor$Worker@e13dcdf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:37,249 [java.util.concurrent.ThreadPoolExecutor$Worker@e13dcdf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:37,252 [java.util.concurrent.ThreadPoolExecutor$Worker@49f02d5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:37,252 [java.util.concurrent.ThreadPoolExecutor$Worker@49f02d5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:37,255 [java.util.concurrent.ThreadPoolExecutor$Worker@49f02d5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:37,256 [java.util.concurrent.ThreadPoolExecutor$Worker@49f02d5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:37,262 [java.util.concurrent.ThreadPoolExecutor$Worker@646c60ef[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:37,262 [java.util.concurrent.ThreadPoolExecutor$Worker@646c60ef[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:37,262 [java.util.concurrent.ThreadPoolExecutor$Worker@e13dcdf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:37,263 [java.util.concurrent.ThreadPoolExecutor$Worker@e13dcdf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:37,263 [java.util.concurrent.ThreadPoolExecutor$Worker@646c60ef[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:37,262 [java.util.concurrent.ThreadPoolExecutor$Worker@49f02d5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:37,266 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@1ad4dd97] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 10:00:37,266 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@122cfadf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 10:00:37,268 [java.util.concurrent.ThreadPoolExecutor$Worker@e13dcdf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:37,272 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@2ea8a2f8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 10:00:37,272 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 10:00:37,279 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 10:00:37,279 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 10:00:37,279 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 10:00:37,281 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 10:00:37,282 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-6230EF4C55A5:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]
2022-08-31 10:00:37,282 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 10:00:37,282 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 10:00:37,282 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 10:00:37,282 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 10:00:37,282 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 10:00:37,282 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 10:00:37,282 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-6230EF4C55A5:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:37,282 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0
2022-08-31 10:00:37,282 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0 does not exist.
2022-08-31 10:00:37,283 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0
2022-08-31 10:00:37,283 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:37,283 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:37,283 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41971 (custom)
2022-08-31 10:00:37,283 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:37,283 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39985 (custom)
2022-08-31 10:00:37,283 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:37,283 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42261 (custom)
2022-08-31 10:00:37,284 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,284 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:37,284 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,284 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:37,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:37,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:37,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:37,285 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:37,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:37,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:37,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:37,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:37,285 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0] (custom)
2022-08-31 10:00:37,286 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-6230EF4C55A5:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER] returns group-6230EF4C55A5:java.util.concurrent.CompletableFuture@2065bfb3[Not completed]
2022-08-31 10:00:37,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-6230EF4C55A5:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:37,286 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1
2022-08-31 10:00:37,286 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1 does not exist.
2022-08-31 10:00:37,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1
2022-08-31 10:00:37,287 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43543 (custom)
2022-08-31 10:00:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46269 (custom)
2022-08-31 10:00:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35259 (custom)
2022-08-31 10:00:37,287 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:37,287 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:37,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:37,288 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:37,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:37,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:37,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:37,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:37,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1] (custom)
2022-08-31 10:00:37,289 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:37,289 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:37,289 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:37,289 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-6230EF4C55A5:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:37,289 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:37,290 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:37,290 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:37,290 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:37,290 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:37,290 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:37,295 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-6230EF4C55A5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:37,295 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:37,295 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:37,295 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:37,296 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:37,297 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:37,297 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:37,297 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:37,297 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:37,298 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-6230EF4C55A5:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER] returns group-6230EF4C55A5:java.util.concurrent.CompletableFuture@293ec9c4[Not completed]
2022-08-31 10:00:37,298 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-6230EF4C55A5:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:37,298 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2
2022-08-31 10:00:37,298 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2 does not exist.
2022-08-31 10:00:37,298 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2
2022-08-31 10:00:37,298 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:37,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:37,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45779 (custom)
2022-08-31 10:00:37,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:37,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40013 (custom)
2022-08-31 10:00:37,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:37,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40927 (custom)
2022-08-31 10:00:37,299 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,299 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:37,299 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,299 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:37,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:37,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:37,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:37,300 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:37,300 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:37,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:37,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:37,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:37,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2] (custom)
2022-08-31 10:00:37,301 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:37,301 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:37,301 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:37,301 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-6230EF4C55A5:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:37,301 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:37,301 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:37,302 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:37,302 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:37,302 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:37,302 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:37,302 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-6230EF4C55A5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:37,302 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:37,302 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:37,302 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:37,303 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:37,303 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:37,303 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:37,303 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:37,303 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:37,307 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-6230EF4C55A5:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER] returns group-6230EF4C55A5:java.util.concurrent.CompletableFuture@2b113247[Not completed]
2022-08-31 10:00:37,307 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:37,307 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:37,307 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:37,307 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0] (custom)
2022-08-31 10:00:37,308 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0/e2b3c826-1384-40ad-9c52-6230ef4c55a5 does not exist. Creating ...
2022-08-31 10:00:37,308 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0/e2b3c826-1384-40ad-9c52-6230ef4c55a5
2022-08-31 10:00:37,308 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:37,308 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:37,308 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-6230EF4C55A5:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:37,308 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:37,309 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:37,309 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:37,309 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:37,309 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:37,309 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:37,309 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-6230EF4C55A5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:37,309 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:37,309 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:37,309 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:37,310 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:37,310 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:37,310 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:37,310 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:37,310 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0/e2b3c826-1384-40ad-9c52-6230ef4c55a5/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:37,310 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0/e2b3c826-1384-40ad-9c52-6230ef4c55a5/current
2022-08-31 10:00:37,311 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0/e2b3c826-1384-40ad-9c52-6230ef4c55a5/sm
2022-08-31 10:00:37,311 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:37,313 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0/e2b3c826-1384-40ad-9c52-6230ef4c55a5 has been successfully formatted.
2022-08-31 10:00:37,313 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:37,313 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:37,313 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:37,313 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:37,313 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:37,313 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:37,313 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:37,313 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:37,314 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:37,314 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:37,314 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-6230EF4C55A5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0/e2b3c826-1384-40ad-9c52-6230ef4c55a5
2022-08-31 10:00:37,314 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:37,314 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:37,318 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:37,318 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:37,318 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:37,318 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:37,318 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:37,318 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:37,320 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:37,320 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:37,320 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:37,320 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:37,320 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-6230EF4C55A5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:37,320 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-6230EF4C55A5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:37,325 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-6230EF4C55A5: start as a follower, conf=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,325 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6230EF4C55A5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:37,325 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6230EF4C55A5-FollowerState
2022-08-31 10:00:37,328 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6230EF4C55A5,id=s0
2022-08-31 10:00:37,328 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:37,328 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:37,328 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:37,329 [s0@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:37,329 [s0@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:37,333 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 10:00:37,335 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39985
2022-08-31 10:00:37,338 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42261
2022-08-31 10:00:37,339 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 41971
2022-08-31 10:00:37,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:37,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:37,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1] (custom)
2022-08-31 10:00:37,342 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1/e2b3c826-1384-40ad-9c52-6230ef4c55a5 does not exist. Creating ...
2022-08-31 10:00:37,343 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1/e2b3c826-1384-40ad-9c52-6230ef4c55a5
2022-08-31 10:00:37,343 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@743eae08] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 10:00:37,344 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1/e2b3c826-1384-40ad-9c52-6230ef4c55a5/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:37,344 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1/e2b3c826-1384-40ad-9c52-6230ef4c55a5/current
2022-08-31 10:00:37,344 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1/e2b3c826-1384-40ad-9c52-6230ef4c55a5/sm
2022-08-31 10:00:37,345 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1/e2b3c826-1384-40ad-9c52-6230ef4c55a5 has been successfully formatted.
2022-08-31 10:00:37,345 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:37,345 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:37,345 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:37,346 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:37,346 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:37,346 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:37,346 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:37,346 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:37,346 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:37,346 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:37,346 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-6230EF4C55A5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1/e2b3c826-1384-40ad-9c52-6230ef4c55a5
2022-08-31 10:00:37,346 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:37,346 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:37,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:37,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:37,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:37,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:37,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:37,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:37,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:37,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:37,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:37,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:37,348 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-6230EF4C55A5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:37,348 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-6230EF4C55A5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:37,348 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-6230EF4C55A5: start as a follower, conf=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,348 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6230EF4C55A5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:37,348 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6230EF4C55A5-FollowerState
2022-08-31 10:00:37,349 [s1@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:37,349 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6230EF4C55A5,id=s1
2022-08-31 10:00:37,349 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:37,349 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:37,349 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:37,349 [s1@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:37,350 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 10:00:37,350 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 46269
2022-08-31 10:00:37,351 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 35259
2022-08-31 10:00:37,352 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 43543
2022-08-31 10:00:37,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:37,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:37,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2] (custom)
2022-08-31 10:00:37,358 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2/e2b3c826-1384-40ad-9c52-6230ef4c55a5 does not exist. Creating ...
2022-08-31 10:00:37,358 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@b714b23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 10:00:37,358 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2/e2b3c826-1384-40ad-9c52-6230ef4c55a5
2022-08-31 10:00:37,359 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2/e2b3c826-1384-40ad-9c52-6230ef4c55a5/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:37,359 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2/e2b3c826-1384-40ad-9c52-6230ef4c55a5/current
2022-08-31 10:00:37,359 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2/e2b3c826-1384-40ad-9c52-6230ef4c55a5/sm
2022-08-31 10:00:37,360 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2/e2b3c826-1384-40ad-9c52-6230ef4c55a5 has been successfully formatted.
2022-08-31 10:00:37,361 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:37,361 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:37,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:37,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:37,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:37,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:37,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:37,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:37,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:37,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:37,362 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-6230EF4C55A5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2/e2b3c826-1384-40ad-9c52-6230ef4c55a5
2022-08-31 10:00:37,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:37,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:37,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:37,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:37,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:37,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:37,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:37,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:37,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:37,363 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:37,363 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:37,363 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:37,363 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-6230EF4C55A5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:37,363 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-6230EF4C55A5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:37,363 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-6230EF4C55A5: start as a follower, conf=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,363 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6230EF4C55A5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:37,363 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6230EF4C55A5-FollowerState
2022-08-31 10:00:37,363 [s2@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:37,363 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6230EF4C55A5,id=s2
2022-08-31 10:00:37,364 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:37,364 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:37,364 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:37,364 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 10:00:37,363 [s2@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:37,366 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40013
2022-08-31 10:00:37,367 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40927
2022-08-31 10:00:37,367 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 45779
2022-08-31 10:00:37,368 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@8c52a4f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 10:00:37,368 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,369 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,384 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B02B0EFA382F->s0: receive RaftClientReply:client-B02B0EFA382F->s0@group-6230EF4C55A5, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-6230EF4C55A5 is not the leader, logIndex=0, commits[s0:c-1]
2022-08-31 10:00:37,489 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,489 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,501 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B02B0EFA382F->s2: receive RaftClientReply:client-B02B0EFA382F->s2@group-6230EF4C55A5, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-6230EF4C55A5 is not the leader, logIndex=0, commits[s2:c-1]
2022-08-31 10:00:37,523 [s0@group-6230EF4C55A5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6230EF4C55A5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197916930ns, electionTimeout:194ms
2022-08-31 10:00:37,523 [s0@group-6230EF4C55A5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6230EF4C55A5-FollowerState
2022-08-31 10:00:37,523 [s0@group-6230EF4C55A5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6230EF4C55A5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:37,524 [s0@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:37,524 [s0@group-6230EF4C55A5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6230EF4C55A5-LeaderElection5
2022-08-31 10:00:37,524 [s0@group-6230EF4C55A5-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6230EF4C55A5-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,525 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:37,525 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:37,525 [s0@group-6230EF4C55A5-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 10:00:37,526 [s0@group-6230EF4C55A5-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 10:00:37,538 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6230EF4C55A5: receive requestVote(PRE_VOTE, s0, group-6230EF4C55A5, 0, (t:0, i:0))
2022-08-31 10:00:37,538 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6230EF4C55A5-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:37,538 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6230EF4C55A5 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-6230EF4C55A5:t0, leader=null, voted=, raftlog=Memoized:s2@group-6230EF4C55A5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,540 [s1@group-6230EF4C55A5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-6230EF4C55A5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191670691ns, electionTimeout:190ms
2022-08-31 10:00:37,540 [s1@group-6230EF4C55A5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6230EF4C55A5-FollowerState
2022-08-31 10:00:37,540 [s1@group-6230EF4C55A5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6230EF4C55A5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:37,540 [s1@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:37,540 [s1@group-6230EF4C55A5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6230EF4C55A5-LeaderElection6
2022-08-31 10:00:37,540 [s0@group-6230EF4C55A5-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6230EF4C55A5-LeaderElection5: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:37,541 [s0@group-6230EF4C55A5-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-08-31 10:00:37,541 [s0@group-6230EF4C55A5-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6230EF4C55A5-LeaderElection5 PRE_VOTE round 0: result PASSED
2022-08-31 10:00:37,542 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6230EF4C55A5: receive requestVote(PRE_VOTE, s0, group-6230EF4C55A5, 0, (t:0, i:0))
2022-08-31 10:00:37,542 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6230EF4C55A5-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:37,542 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6230EF4C55A5 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-6230EF4C55A5:t0, leader=null, voted=, raftlog=Memoized:s1@group-6230EF4C55A5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,544 [s1@group-6230EF4C55A5-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-6230EF4C55A5-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,544 [s1@group-6230EF4C55A5-LeaderElection6-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 10:00:37,546 [s0@group-6230EF4C55A5-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6230EF4C55A5-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,557 [s1@group-6230EF4C55A5-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:37,557 [s1@group-6230EF4C55A5-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:37,557 [s1@group-6230EF4C55A5-LeaderElection6-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 10:00:37,562 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:37,562 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:37,574 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6230EF4C55A5: receive requestVote(ELECTION, s0, group-6230EF4C55A5, 1, (t:0, i:0))
2022-08-31 10:00:37,574 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6230EF4C55A5-CANDIDATE: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:37,574 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6230EF4C55A5: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s0
2022-08-31 10:00:37,574 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-6230EF4C55A5-LeaderElection6
2022-08-31 10:00:37,574 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6230EF4C55A5-FollowerState
2022-08-31 10:00:37,575 [s1@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:37,575 [s1@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:37,576 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6230EF4C55A5 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-6230EF4C55A5:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-6230EF4C55A5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,576 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6230EF4C55A5: receive requestVote(ELECTION, s0, group-6230EF4C55A5, 1, (t:0, i:0))
2022-08-31 10:00:37,577 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6230EF4C55A5-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:37,577 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6230EF4C55A5: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-31 10:00:37,577 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-6230EF4C55A5-FollowerState
2022-08-31 10:00:37,577 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6230EF4C55A5-FollowerState
2022-08-31 10:00:37,577 [s2@group-6230EF4C55A5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-6230EF4C55A5-FollowerState was interrupted
2022-08-31 10:00:37,578 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6230EF4C55A5: receive requestVote(PRE_VOTE, s1, group-6230EF4C55A5, 0, (t:0, i:0))
2022-08-31 10:00:37,586 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6230EF4C55A5: receive requestVote(PRE_VOTE, s1, group-6230EF4C55A5, 0, (t:0, i:0))
2022-08-31 10:00:37,587 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6230EF4C55A5-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:37,587 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6230EF4C55A5 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-6230EF4C55A5:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-6230EF4C55A5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,587 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6230EF4C55A5 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-6230EF4C55A5:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-6230EF4C55A5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,590 [s2@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:37,591 [s2@group-6230EF4C55A5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:37,592 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6230EF4C55A5-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:37,592 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6230EF4C55A5 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-6230EF4C55A5:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-6230EF4C55A5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,592 [s1@group-6230EF4C55A5-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-6230EF4C55A5-LeaderElection6: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-08-31 10:00:37,592 [s1@group-6230EF4C55A5-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-31 10:00:37,592 [s0@group-6230EF4C55A5-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6230EF4C55A5-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:37,592 [s1@group-6230EF4C55A5-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-6230EF4C55A5-LeaderElection6 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2022-08-31 10:00:37,592 [s0@group-6230EF4C55A5-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-31 10:00:37,592 [s0@group-6230EF4C55A5-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6230EF4C55A5-LeaderElection5 ELECTION round 0: result PASSED
2022-08-31 10:00:37,592 [s0@group-6230EF4C55A5-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6230EF4C55A5-LeaderElection5
2022-08-31 10:00:37,593 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6230EF4C55A5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 10:00:37,593 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-6230EF4C55A5: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 297ms
2022-08-31 10:00:37,593 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:37,593 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-31 10:00:37,593 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-08-31 10:00:37,593 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:37,594 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:37,594 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:37,594 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-31 10:00:37,594 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:37,594 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:37,594 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:37,594 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:37,594 [s0@group-6230EF4C55A5-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:37,595 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:37,595 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:37,595 [s0@group-6230EF4C55A5-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:37,595 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:37,595 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:37,595 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:37,595 [s0@group-6230EF4C55A5-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:37,595 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:37,595 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:37,595 [s0@group-6230EF4C55A5-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:37,596 [s0@group-6230EF4C55A5-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6230EF4C55A5-LeaderStateImpl
2022-08-31 10:00:37,596 [s0@group-6230EF4C55A5-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s0@group-6230EF4C55A5-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:37,604 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,605 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,608 [s0@group-6230EF4C55A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-6230EF4C55A5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s0/e2b3c826-1384-40ad-9c52-6230ef4c55a5/current/log_inprogress_0
2022-08-31 10:00:37,618 [s0@group-6230EF4C55A5-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-6230EF4C55A5: set configuration 0: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,621 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-6230EF4C55A5: change Leader from null to s0 at term 1 for appendEntries, leader elected after 312ms
2022-08-31 10:00:37,625 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-6230EF4C55A5: change Leader from null to s0 at term 1 for appendEntries, leader elected after 322ms
2022-08-31 10:00:37,625 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B02B0EFA382F->s0: receive RaftClientReply:client-B02B0EFA382F->s0@group-6230EF4C55A5, cid=2, SUCCESS, logIndex=0, commits[s0:c0, s1:c-1, s2:c-1]
2022-08-31 10:00:37,627 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-6230EF4C55A5: set configuration 0: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,628 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s2@group-6230EF4C55A5-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:37,632 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-6230EF4C55A5: set configuration 0: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:37,633 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s1@group-6230EF4C55A5-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:37,650 [s1@group-6230EF4C55A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s1@group-6230EF4C55A5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s1/e2b3c826-1384-40ad-9c52-6230ef4c55a5/current/log_inprogress_0
2022-08-31 10:00:37,651 [s2@group-6230EF4C55A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s2@group-6230EF4C55A5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc89309d14/s2/e2b3c826-1384-40ad-9c52-6230ef4c55a5/current/log_inprogress_0
2022-08-31 10:00:37,655 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-B02B0EFA382F
2022-08-31 10:00:37,656 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B02B0EFA382F->s0: receive RaftClientReply:client-B02B0EFA382F->s0@group-6230EF4C55A5, cid=3, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-08-31 10:00:37,658 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-B02B0EFA382F
2022-08-31 10:00:37,663 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-B02B0EFA382F
2022-08-31 10:00:37,665 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-08-31 10:00:37,665 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,665 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,670 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,670 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,677 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,677 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,677 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-62064B8B755C->s0: receive RaftClientReply:client-62064B8B755C->s0@group-6230EF4C55A5, cid=4, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-31 10:00:37,683 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,683 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,695 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,695 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,698 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,698 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,704 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E0912D1C4241->s0: receive RaftClientReply:client-E0912D1C4241->s0@group-6230EF4C55A5, cid=6, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-31 10:00:37,709 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-FF5BECF2C771->s0: receive RaftClientReply:client-FF5BECF2C771->s0@group-6230EF4C55A5, cid=8, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-31 10:00:37,710 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,710 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,714 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,714 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,717 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F490F73EE5FD->s0: receive RaftClientReply:client-F490F73EE5FD->s0@group-6230EF4C55A5, cid=10, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-31 10:00:37,728 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4FCBE08D489A->s0: receive RaftClientReply:client-4FCBE08D489A->s0@group-6230EF4C55A5, cid=12, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:37,729 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,729 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,731 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,735 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,736 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:37,736 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:37,741 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-70CED81D0597->s0: receive RaftClientReply:client-70CED81D0597->s0@group-6230EF4C55A5, cid=16, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:37,754 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-62BB01833EF0->s0: receive RaftClientReply:client-62BB01833EF0->s0@group-6230EF4C55A5, cid=14, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:37,757 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A4BC20D67A8B->s0: receive RaftClientReply:client-A4BC20D67A8B->s0@group-6230EF4C55A5, cid=18, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:37,771 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-37DA15FF4FCB->s0: receive RaftClientReply:client-37DA15FF4FCB->s0@group-6230EF4C55A5, cid=24, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:37,776 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D62BDD8FE266->s0: receive RaftClientReply:client-D62BDD8FE266->s0@group-6230EF4C55A5, cid=20, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:37,781 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-22559C2EAB07->s0: receive RaftClientReply:client-22559C2EAB07->s0@group-6230EF4C55A5, cid=22, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:37,817 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-6230EF4C55A5: Failed to acquire a pending write request for RaftClientRequest:client-37DA15FF4FCB->s0@group-6230EF4C55A5, cid=25, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-6230EF4C55A5: Failed to acquire a pending write request for RaftClientRequest:client-37DA15FF4FCB->s0@group-6230EF4C55A5, cid=25, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:760)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:872)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:809)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:809)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:880)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:879)
		... 7 more
2022-08-31 10:00:38,038 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-08-31 10:00:38,040 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-62064B8B755C
2022-08-31 10:00:38,043 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-E0912D1C4241
2022-08-31 10:00:38,044 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-FF5BECF2C771
2022-08-31 10:00:38,044 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-F490F73EE5FD
2022-08-31 10:00:38,044 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 17@client-70CED81D0597
2022-08-31 10:00:38,044 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 13@client-4FCBE08D489A
2022-08-31 10:00:38,044 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 15@client-62BB01833EF0
2022-08-31 10:00:38,045 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-A4BC20D67A8B
2022-08-31 10:00:38,045 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-D62BDD8FE266
2022-08-31 10:00:38,045 [s0@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-22559C2EAB07
2022-08-31 10:00:38,046 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-62064B8B755C
2022-08-31 10:00:38,049 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-70CED81D0597->s0: receive RaftClientReply:client-70CED81D0597->s0@group-6230EF4C55A5, cid=17, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:38,050 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-E0912D1C4241
2022-08-31 10:00:38,050 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-FF5BECF2C771
2022-08-31 10:00:38,050 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-F490F73EE5FD
2022-08-31 10:00:38,050 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 17@client-70CED81D0597
2022-08-31 10:00:38,051 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 13@client-4FCBE08D489A
2022-08-31 10:00:38,051 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 15@client-62BB01833EF0
2022-08-31 10:00:38,051 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-A4BC20D67A8B
2022-08-31 10:00:38,051 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-D62BDD8FE266
2022-08-31 10:00:38,051 [s2@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-22559C2EAB07
2022-08-31 10:00:38,052 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-FF5BECF2C771->s0: receive RaftClientReply:client-FF5BECF2C771->s0@group-6230EF4C55A5, cid=9, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:38,052 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-62064B8B755C->s0: receive RaftClientReply:client-62064B8B755C->s0@group-6230EF4C55A5, cid=5, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2022-08-31 10:00:38,055 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D62BDD8FE266->s0: receive RaftClientReply:client-D62BDD8FE266->s0@group-6230EF4C55A5, cid=21, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:38,056 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F490F73EE5FD->s0: receive RaftClientReply:client-F490F73EE5FD->s0@group-6230EF4C55A5, cid=11, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:38,056 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-62064B8B755C
2022-08-31 10:00:38,056 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E0912D1C4241->s0: receive RaftClientReply:client-E0912D1C4241->s0@group-6230EF4C55A5, cid=7, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:38,057 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-62BB01833EF0->s0: receive RaftClientReply:client-62BB01833EF0->s0@group-6230EF4C55A5, cid=15, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:38,057 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-E0912D1C4241
2022-08-31 10:00:38,057 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4FCBE08D489A->s0: receive RaftClientReply:client-4FCBE08D489A->s0@group-6230EF4C55A5, cid=13, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:38,057 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-FF5BECF2C771
2022-08-31 10:00:38,057 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-F490F73EE5FD
2022-08-31 10:00:38,057 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-22559C2EAB07->s0: receive RaftClientReply:client-22559C2EAB07->s0@group-6230EF4C55A5, cid=23, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:38,057 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 17@client-70CED81D0597
2022-08-31 10:00:38,058 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A4BC20D67A8B->s0: receive RaftClientReply:client-A4BC20D67A8B->s0@group-6230EF4C55A5, cid=19, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:38,058 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 13@client-4FCBE08D489A
2022-08-31 10:00:38,058 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 15@client-62BB01833EF0
2022-08-31 10:00:38,058 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-A4BC20D67A8B
2022-08-31 10:00:38,062 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-D62BDD8FE266
2022-08-31 10:00:38,062 [s1@group-6230EF4C55A5-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-22559C2EAB07
2022-08-31 10:00:38,074 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:38,074 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:38,082 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-68487BA3724F->s0: receive RaftClientReply:client-68487BA3724F->s0@group-6230EF4C55A5, cid=26, SUCCESS, logIndex=14, commits[s0:c14, s1:c14, s2:c12]
2022-08-31 10:00:38,104 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-6230EF4C55A5: Failed to acquire a pending write request for RaftClientRequest:client-68487BA3724F->s0@group-6230EF4C55A5, cid=27, seq=2, RW, Message:71208a5660c3321172cd...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-6230EF4C55A5: Failed to acquire a pending write request for RaftClientRequest:client-68487BA3724F->s0@group-6230EF4C55A5, cid=27, seq=2, RW, Message:71208a5660c3321172cd...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:760)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:872)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:809)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:809)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:880)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:879)
		... 7 more
2022-08-31 10:00:38,405 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 10:00:38,405 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 10:00:38,405 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 10:00:38,405 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 10:00:38,405 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 10:00:38,406 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-6230EF4C55A5:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6230EF4C55A5-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6230EF4C55A5:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6230EF4C55A5-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6230EF4C55A5:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-6230EF4C55A5-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:42261|admin:localhost:41971|client:localhost:39985|dataStream:localhost:42657|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35259|admin:localhost:43543|client:localhost:46269|dataStream:localhost:39815|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40927|admin:localhost:45779|client:localhost:40013|dataStream:localhost:34041|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:38,407 [java.util.concurrent.ThreadPoolExecutor$Worker@3c83c922[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 10:00:38,408 [java.util.concurrent.ThreadPoolExecutor$Worker@d6ad705[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 10:00:38,408 [java.util.concurrent.ThreadPoolExecutor$Worker@3c83c922[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:38,410 [java.util.concurrent.ThreadPoolExecutor$Worker@28aa0974[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 10:00:38,410 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-6230EF4C55A5: shutdown
2022-08-31 10:00:38,410 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6230EF4C55A5,id=s1
2022-08-31 10:00:38,410 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6230EF4C55A5-FollowerState
2022-08-31 10:00:38,410 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-6230EF4C55A5-StateMachineUpdater: set stopIndex = 14
2022-08-31 10:00:38,411 [s1@group-6230EF4C55A5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-6230EF4C55A5-FollowerState was interrupted
2022-08-31 10:00:38,410 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-6230EF4C55A5: shutdown
2022-08-31 10:00:38,411 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6230EF4C55A5,id=s0
2022-08-31 10:00:38,411 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-6230EF4C55A5-LeaderStateImpl
2022-08-31 10:00:38,411 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-6230EF4C55A5: applyIndex: 14
2022-08-31 10:00:38,411 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-6230EF4C55A5-PendingRequests: sendNotLeaderResponses
2022-08-31 10:00:38,411 [s0@group-6230EF4C55A5->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-6230EF4C55A5->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:38,411 [s0@group-6230EF4C55A5->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-6230EF4C55A5->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:38,411 [java.util.concurrent.ThreadPoolExecutor$Worker@d6ad705[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:38,411 [s1@group-6230EF4C55A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s1@group-6230EF4C55A5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:38,412 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#26-t1,previous=(t:1, i:12),leaderCommit=14,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2022-08-31 10:00:38,413 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-6230EF4C55A5->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:38,412 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#29-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-08-31 10:00:38,413 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-6230EF4C55A5->s1: nextIndex: updateUnconditionally 15 -> 14
2022-08-31 10:00:38,414 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-6230EF4C55A5->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:38,414 [java.util.concurrent.ThreadPoolExecutor$Worker@d6ad705[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 10:00:38,414 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-6230EF4C55A5->s2: nextIndex: updateUnconditionally 15 -> 14
2022-08-31 10:00:38,415 [java.util.concurrent.ThreadPoolExecutor$Worker@28aa0974[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:38,415 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-6230EF4C55A5-StateMachineUpdater: set stopIndex = 14
2022-08-31 10:00:38,415 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-6230EF4C55A5: applyIndex: 14
2022-08-31 10:00:38,416 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s1@group-6230EF4C55A5-SegmentedRaftLogWorker close()
2022-08-31 10:00:38,416 [s0@group-6230EF4C55A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s0@group-6230EF4C55A5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:38,415 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-6230EF4C55A5: shutdown
2022-08-31 10:00:38,416 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6230EF4C55A5,id=s2
2022-08-31 10:00:38,416 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-6230EF4C55A5-FollowerState
2022-08-31 10:00:38,416 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-6230EF4C55A5-StateMachineUpdater: set stopIndex = 14
2022-08-31 10:00:38,416 [s2@group-6230EF4C55A5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-6230EF4C55A5-FollowerState was interrupted
2022-08-31 10:00:38,416 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-6230EF4C55A5: applyIndex: 14
2022-08-31 10:00:38,417 [s2@group-6230EF4C55A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s2@group-6230EF4C55A5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:38,421 [java.util.concurrent.ThreadPoolExecutor$Worker@d6ad705[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 10:00:38,421 [java.util.concurrent.ThreadPoolExecutor$Worker@3c83c922[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 10:00:38,424 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s2@group-6230EF4C55A5-SegmentedRaftLogWorker close()
2022-08-31 10:00:38,424 [java.util.concurrent.ThreadPoolExecutor$Worker@28aa0974[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:38,424 [java.util.concurrent.ThreadPoolExecutor$Worker@28aa0974[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:38,425 [java.util.concurrent.ThreadPoolExecutor$Worker@d6ad705[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:38,425 [java.util.concurrent.ThreadPoolExecutor$Worker@d6ad705[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:38,426 [java.util.concurrent.ThreadPoolExecutor$Worker@3c83c922[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 10:00:38,426 [java.util.concurrent.ThreadPoolExecutor$Worker@3c83c922[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:38,426 [java.util.concurrent.ThreadPoolExecutor$Worker@3c83c922[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:38,430 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s0@group-6230EF4C55A5-SegmentedRaftLogWorker close()
2022-08-31 10:00:38,432 [java.util.concurrent.ThreadPoolExecutor$Worker@28aa0974[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:38,432 [java.util.concurrent.ThreadPoolExecutor$Worker@28aa0974[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:38,432 [java.util.concurrent.ThreadPoolExecutor$Worker@d6ad705[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:38,434 [java.util.concurrent.ThreadPoolExecutor$Worker@d6ad705[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:38,434 [java.util.concurrent.ThreadPoolExecutor$Worker@28aa0974[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:38,435 [java.util.concurrent.ThreadPoolExecutor$Worker@3c83c922[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:38,436 [java.util.concurrent.ThreadPoolExecutor$Worker@d6ad705[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:38,435 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@8c52a4f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 10:00:38,438 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@b714b23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 10:00:38,439 [java.util.concurrent.ThreadPoolExecutor$Worker@3c83c922[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:38,440 [java.util.concurrent.ThreadPoolExecutor$Worker@3c83c922[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:38,440 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@743eae08] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 10:00:38,440 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 10:00:38,441 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 10:00:38,441 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 10:00:38,441 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 10:00:38,443 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 10:00:38,443 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-CCB59B38B6CA:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]
2022-08-31 10:00:38,443 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 10:00:38,443 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 10:00:38,443 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 10:00:38,443 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 10:00:38,443 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 10:00:38,443 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 10:00:38,444 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-CCB59B38B6CA:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:38,444 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0
2022-08-31 10:00:38,444 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0 does not exist.
2022-08-31 10:00:38,444 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0
2022-08-31 10:00:38,445 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:38,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:38,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45193 (custom)
2022-08-31 10:00:38,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:38,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34675 (custom)
2022-08-31 10:00:38,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:38,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44867 (custom)
2022-08-31 10:00:38,446 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:38,446 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:38,446 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:38,446 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:38,446 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:38,446 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:38,446 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:38,448 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:38,449 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:38,449 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:38,449 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:38,449 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:38,449 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0] (custom)
2022-08-31 10:00:38,454 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-CCB59B38B6CA:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER] returns group-CCB59B38B6CA:java.util.concurrent.CompletableFuture@49950576[Not completed]
2022-08-31 10:00:38,454 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:38,454 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:38,454 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:38,454 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-CCB59B38B6CA:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:38,454 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:38,455 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:38,455 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:38,455 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:38,455 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:38,455 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:38,456 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-CCB59B38B6CA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:38,456 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:38,456 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:38,456 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:38,457 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:38,457 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:38,457 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:38,457 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:38,457 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:38,457 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:38,458 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:38,458 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0] (custom)
2022-08-31 10:00:38,458 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0/8ad34f26-cd8b-43a5-95da-ccb59b38b6ca does not exist. Creating ...
2022-08-31 10:00:38,459 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0/8ad34f26-cd8b-43a5-95da-ccb59b38b6ca
2022-08-31 10:00:38,468 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0/8ad34f26-cd8b-43a5-95da-ccb59b38b6ca/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:38,468 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0/8ad34f26-cd8b-43a5-95da-ccb59b38b6ca/current
2022-08-31 10:00:38,469 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0/8ad34f26-cd8b-43a5-95da-ccb59b38b6ca/sm
2022-08-31 10:00:38,470 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0/8ad34f26-cd8b-43a5-95da-ccb59b38b6ca has been successfully formatted.
2022-08-31 10:00:38,470 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:38,470 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:38,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:38,470 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:38,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:38,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:38,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:38,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:38,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:38,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:38,471 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-CCB59B38B6CA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0/8ad34f26-cd8b-43a5-95da-ccb59b38b6ca
2022-08-31 10:00:38,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:38,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:38,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:38,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:38,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:38,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:38,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:38,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:38,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:38,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:38,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:38,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:38,474 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-CCB59B38B6CA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:38,474 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-CCB59B38B6CA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:38,474 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-CCB59B38B6CA: start as a follower, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:38,474 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-CCB59B38B6CA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:38,474 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CCB59B38B6CA-FollowerState
2022-08-31 10:00:38,474 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCB59B38B6CA,id=s0
2022-08-31 10:00:38,475 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:38,475 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:38,475 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:38,475 [s0@group-CCB59B38B6CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:38,476 [s0@group-CCB59B38B6CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:38,476 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 10:00:38,478 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 34675
2022-08-31 10:00:38,480 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 44867
2022-08-31 10:00:38,480 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45193
2022-08-31 10:00:38,486 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@300c0dd5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 10:00:38,487 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:38,487 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CCB59B38B6CA:t0, leader=null, voted=, raftlog=Memoized:s0@group-CCB59B38B6CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:38,487 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CCB59B38B6CA:t0, leader=null, voted=, raftlog=Memoized:s0@group-CCB59B38B6CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CCB59B38B6CA:t0, leader=null, voted=, raftlog=Memoized:s0@group-CCB59B38B6CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:152)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:38,755 [s0@group-CCB59B38B6CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-CCB59B38B6CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:281334200ns, electionTimeout:279ms
2022-08-31 10:00:38,756 [s0@group-CCB59B38B6CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CCB59B38B6CA-FollowerState
2022-08-31 10:00:38,756 [s0@group-CCB59B38B6CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-CCB59B38B6CA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:38,756 [s0@group-CCB59B38B6CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:38,756 [s0@group-CCB59B38B6CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CCB59B38B6CA-LeaderElection7
2022-08-31 10:00:38,757 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CCB59B38B6CA-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:38,757 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CCB59B38B6CA-LeaderElection7 PRE_VOTE round 0: result PASSED (term=0)
2022-08-31 10:00:38,758 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CCB59B38B6CA-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:38,758 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CCB59B38B6CA-LeaderElection7 ELECTION round 0: result PASSED (term=1)
2022-08-31 10:00:38,758 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-CCB59B38B6CA-LeaderElection7
2022-08-31 10:00:38,758 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-CCB59B38B6CA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 10:00:38,759 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-CCB59B38B6CA: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 302ms
2022-08-31 10:00:38,759 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:38,759 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:38,759 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 10:00:38,759 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:38,759 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:38,759 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:38,759 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:38,759 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:38,759 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CCB59B38B6CA-LeaderStateImpl
2022-08-31 10:00:38,760 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s0@group-CCB59B38B6CA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:38,765 [s0@group-CCB59B38B6CA-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-CCB59B38B6CA: set configuration 0: peers:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:38,770 [s0@group-CCB59B38B6CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-CCB59B38B6CA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc35e16e57/s0/8ad34f26-cd8b-43a5-95da-ccb59b38b6ca/current/log_inprogress_0
2022-08-31 10:00:38,938 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CCB59B38B6CA:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-CCB59B38B6CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:38,938 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:38,938 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45193 (custom)
2022-08-31 10:00:38,938 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:38,938 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34675 (custom)
2022-08-31 10:00:38,938 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:38,938 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44867 (custom)
2022-08-31 10:00:38,938 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:38,938 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:38,938 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:38,938 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:38,938 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:38,939 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:38,939 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:38,940 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-08-31 10:00:38,940 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:318)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:156)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:38,941 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-08-31 10:00:38,941 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:324)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:160)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:38,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 10:00:38,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 10:00:38,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 10:00:38,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 10:00:38,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 10:00:38,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CCB59B38B6CA:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-CCB59B38B6CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:45193|client:localhost:34675|dataStream:localhost:45363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:38,942 [java.util.concurrent.ThreadPoolExecutor$Worker@53e17445[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 10:00:38,942 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-CCB59B38B6CA: shutdown
2022-08-31 10:00:38,942 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCB59B38B6CA,id=s0
2022-08-31 10:00:38,942 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-CCB59B38B6CA-LeaderStateImpl
2022-08-31 10:00:38,943 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-CCB59B38B6CA-PendingRequests: sendNotLeaderResponses
2022-08-31 10:00:38,943 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-CCB59B38B6CA-StateMachineUpdater: set stopIndex = 0
2022-08-31 10:00:38,943 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-CCB59B38B6CA: applyIndex: 0
2022-08-31 10:00:38,943 [s0@group-CCB59B38B6CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s0@group-CCB59B38B6CA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:38,945 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s0@group-CCB59B38B6CA-SegmentedRaftLogWorker close()
2022-08-31 10:00:38,945 [java.util.concurrent.ThreadPoolExecutor$Worker@53e17445[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:38,945 [java.util.concurrent.ThreadPoolExecutor$Worker@53e17445[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:38,945 [java.util.concurrent.ThreadPoolExecutor$Worker@53e17445[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:38,946 [java.util.concurrent.ThreadPoolExecutor$Worker@53e17445[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:38,947 [java.util.concurrent.ThreadPoolExecutor$Worker@53e17445[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:38,947 [java.util.concurrent.ThreadPoolExecutor$Worker@53e17445[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:38,947 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@300c0dd5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 10:00:38,948 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 10:00:38,948 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 10:00:38,948 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 10:00:38,948 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 10:00:38,949 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 10:00:38,949 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-29EDFB434089:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]
2022-08-31 10:00:38,949 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 10:00:38,949 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 10:00:38,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 10:00:38,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 10:00:38,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 10:00:38,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 10:00:38,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-29EDFB434089:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:38,950 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0
2022-08-31 10:00:38,950 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0 does not exist.
2022-08-31 10:00:38,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0
2022-08-31 10:00:38,950 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:38,951 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:38,951 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38187 (custom)
2022-08-31 10:00:38,951 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:38,951 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35345 (custom)
2022-08-31 10:00:38,951 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:38,951 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35347 (custom)
2022-08-31 10:00:38,951 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:38,951 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:38,951 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:38,951 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:38,952 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:38,952 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:38,952 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:38,953 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:38,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:38,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:38,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:38,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:38,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0] (custom)
2022-08-31 10:00:38,955 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-29EDFB434089:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER] returns group-29EDFB434089:java.util.concurrent.CompletableFuture@1a837e7f[Not completed]
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-29EDFB434089:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:38,955 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-29EDFB434089: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:38,956 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:38,956 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:38,956 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:38,956 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:38,956 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:38,956 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:38,956 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:38,957 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:38,957 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:38,957 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:38,957 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0] (custom)
2022-08-31 10:00:38,957 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089 does not exist. Creating ...
2022-08-31 10:00:38,957 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089
2022-08-31 10:00:38,959 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:38,959 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089/current
2022-08-31 10:00:38,959 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089/sm
2022-08-31 10:00:38,960 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089 has been successfully formatted.
2022-08-31 10:00:38,960 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-29EDFB434089-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:38,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:38,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:38,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:38,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:38,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:38,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:38,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:38,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:38,962 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-29EDFB434089-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:38,962 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-29EDFB434089-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:38,963 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-29EDFB434089: start as a follower, conf=-1: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:38,963 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-29EDFB434089: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:38,963 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29EDFB434089-FollowerState
2022-08-31 10:00:38,963 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-29EDFB434089,id=s0
2022-08-31 10:00:38,963 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:38,963 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:38,963 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:38,964 [s0@group-29EDFB434089-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:38,964 [s0@group-29EDFB434089-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:38,964 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 10:00:38,964 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 35345
2022-08-31 10:00:38,965 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 35347
2022-08-31 10:00:38,965 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 38187
2022-08-31 10:00:38,966 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@367c8fc] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 10:00:38,966 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:38,966 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29EDFB434089:t0, leader=null, voted=, raftlog=Memoized:s0@group-29EDFB434089-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:38,967 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29EDFB434089:t0, leader=null, voted=, raftlog=Memoized:s0@group-29EDFB434089-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29EDFB434089:t0, leader=null, voted=, raftlog=Memoized:s0@group-29EDFB434089-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:118)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:101)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:39,198 [s0@group-29EDFB434089-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-29EDFB434089-FollowerState: change to CANDIDATE, lastRpcElapsedTime:235187256ns, electionTimeout:234ms
2022-08-31 10:00:39,198 [s0@group-29EDFB434089-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29EDFB434089-FollowerState
2022-08-31 10:00:39,198 [s0@group-29EDFB434089-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-29EDFB434089: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:39,199 [s0@group-29EDFB434089-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:39,199 [s0@group-29EDFB434089-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29EDFB434089-LeaderElection8
2022-08-31 10:00:39,199 [s0@group-29EDFB434089-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-29EDFB434089-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:39,199 [s0@group-29EDFB434089-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-29EDFB434089-LeaderElection8 PRE_VOTE round 0: result PASSED (term=0)
2022-08-31 10:00:39,202 [s0@group-29EDFB434089-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-29EDFB434089-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:39,203 [s0@group-29EDFB434089-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-29EDFB434089-LeaderElection8 ELECTION round 0: result PASSED (term=1)
2022-08-31 10:00:39,203 [s0@group-29EDFB434089-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-29EDFB434089-LeaderElection8
2022-08-31 10:00:39,203 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-29EDFB434089: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 10:00:39,203 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-29EDFB434089: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 247ms
2022-08-31 10:00:39,203 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:39,203 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:39,203 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 10:00:39,203 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:39,203 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:39,203 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:39,204 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:39,204 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:39,204 [s0@group-29EDFB434089-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29EDFB434089-LeaderStateImpl
2022-08-31 10:00:39,204 [s0@group-29EDFB434089-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s0@group-29EDFB434089-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:39,206 [s0@group-29EDFB434089-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-29EDFB434089: set configuration 0: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:39,217 [s0@group-29EDFB434089-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-29EDFB434089-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089/current/log_inprogress_0
2022-08-31 10:00:39,417 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29EDFB434089:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-29EDFB434089-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:39,420 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:39,420 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:39,421 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38187 (custom)
2022-08-31 10:00:39,421 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:39,421 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35345 (custom)
2022-08-31 10:00:39,421 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:39,421 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35347 (custom)
2022-08-31 10:00:39,421 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:39,421 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:39,421 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:39,421 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:39,421 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:39,421 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:39,421 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:39,422 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:39,422 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:39,423 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:39,423 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:39,423 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:39,423 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0] (custom)
2022-08-31 10:00:39,423 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089
2022-08-31 10:00:39,424 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-29EDFB434089:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER] returns group-29EDFB434089:java.util.concurrent.CompletableFuture@7ee21f2d[Not completed]
2022-08-31 10:00:39,424 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:39,424 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:39,424 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:39,425 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:39,425 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:39,425 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-29EDFB434089:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-29EDFB434089
2022-08-31 10:00:39,425 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:39,425 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:39,425 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:39,425 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:39,425 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:39,425 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:39,425 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-29EDFB434089: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:39,425 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:39,425 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:39,426 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:39,426 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:39,426 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:39,426 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:39,426 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:39,426 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:39,426 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:39,427 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-08-31 10:00:39,427 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:39,427 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:39,427 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38187 (custom)
2022-08-31 10:00:39,427 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:39,427 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35345 (custom)
2022-08-31 10:00:39,427 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:39,427 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35347 (custom)
2022-08-31 10:00:39,427 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:39,427 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:39,428 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:39,428 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:39,428 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:39,428 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:39,428 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:39,429 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:39,429 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:39,429 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:39,429 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:39,429 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:39,429 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0] (custom)
2022-08-31 10:00:39,434 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089
2022-08-31 10:00:39,434 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-29EDFB434089:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER] returns group-29EDFB434089:java.util.concurrent.CompletableFuture@8f16136[Not completed]
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-29EDFB434089:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-29EDFB434089
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-29EDFB434089: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:39,435 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:39,436 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:39,436 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:39,436 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:39,436 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:39,436 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:39,436 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0] (custom)
2022-08-31 10:00:39,436 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:39,437 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 10:00:40,437 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:40,438 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 10:00:41,439 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:41,439 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 10:00:42,440 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:42,440 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 10:00:43,442 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:43,443 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc25b8eb70/s0/4bdd364c-c736-46b1-a59c-29edfb434089. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 10:00:43,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:43,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38187 (custom)
2022-08-31 10:00:43,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:43,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35345 (custom)
2022-08-31 10:00:43,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:43,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35347 (custom)
2022-08-31 10:00:43,445 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:43,445 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:43,445 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:43,445 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:43,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:43,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:43,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:43,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 10:00:43,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 10:00:43,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 10:00:43,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 10:00:43,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 10:00:43,447 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29EDFB434089:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-29EDFB434089-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35347|admin:localhost:38187|client:localhost:35345|dataStream:localhost:40297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:43,447 [java.util.concurrent.ThreadPoolExecutor$Worker@1815c216[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 10:00:43,450 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-29EDFB434089: shutdown
2022-08-31 10:00:43,450 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-29EDFB434089,id=s0
2022-08-31 10:00:43,450 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-29EDFB434089-LeaderStateImpl
2022-08-31 10:00:43,450 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-29EDFB434089-PendingRequests: sendNotLeaderResponses
2022-08-31 10:00:43,450 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-29EDFB434089-StateMachineUpdater: set stopIndex = 0
2022-08-31 10:00:43,450 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-29EDFB434089: applyIndex: 0
2022-08-31 10:00:43,451 [s0@group-29EDFB434089-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s0@group-29EDFB434089-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:43,451 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s0@group-29EDFB434089-SegmentedRaftLogWorker close()
2022-08-31 10:00:43,452 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@367c8fc] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 10:00:43,452 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 10:00:43,453 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 10:00:43,453 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 10:00:43,453 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 10:00:43,454 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 10:00:43,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-D1078FF5B912:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]
2022-08-31 10:00:43,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 10:00:43,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 10:00:43,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 10:00:43,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 10:00:43,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 10:00:43,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 10:00:43,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-D1078FF5B912:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:43,456 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0
2022-08-31 10:00:43,456 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0 does not exist.
2022-08-31 10:00:43,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0
2022-08-31 10:00:43,457 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:43,457 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:43,457 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34139 (custom)
2022-08-31 10:00:43,457 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:43,457 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35739 (custom)
2022-08-31 10:00:43,457 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:43,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36351 (custom)
2022-08-31 10:00:43,458 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:43,458 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:43,458 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:43,458 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:43,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:43,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:43,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:43,460 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:43,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:43,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:43,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:43,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:43,461 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0] (custom)
2022-08-31 10:00:43,461 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-D1078FF5B912:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER] returns group-D1078FF5B912:java.util.concurrent.CompletableFuture@5dafe72a[Not completed]
2022-08-31 10:00:43,461 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-D1078FF5B912:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:43,462 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1
2022-08-31 10:00:43,462 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1 does not exist.
2022-08-31 10:00:43,462 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1
2022-08-31 10:00:43,462 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:43,462 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:43,462 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37553 (custom)
2022-08-31 10:00:43,462 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:43,462 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46277 (custom)
2022-08-31 10:00:43,462 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:43,462 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39109 (custom)
2022-08-31 10:00:43,462 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:43,462 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:43,462 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:43,462 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:43,462 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:43,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:43,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:43,463 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:43,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:43,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:43,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:43,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:43,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1] (custom)
2022-08-31 10:00:43,465 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:43,465 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:43,466 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:43,466 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-D1078FF5B912:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:43,466 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:43,466 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:43,466 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:43,466 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:43,467 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:43,467 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:43,467 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D1078FF5B912: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:43,467 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:43,467 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:43,468 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:43,470 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:43,470 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:43,470 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:43,470 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:43,470 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:43,474 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-D1078FF5B912:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER] returns group-D1078FF5B912:java.util.concurrent.CompletableFuture@1fb42a0e[Not completed]
2022-08-31 10:00:43,474 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-D1078FF5B912:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:43,474 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2
2022-08-31 10:00:43,474 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2 does not exist.
2022-08-31 10:00:43,474 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2
2022-08-31 10:00:43,474 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:43,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:43,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35385 (custom)
2022-08-31 10:00:43,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:43,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42609 (custom)
2022-08-31 10:00:43,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:43,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33475 (custom)
2022-08-31 10:00:43,475 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:43,475 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:43,475 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:43,475 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:43,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:43,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:43,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:43,476 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:43,476 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:43,476 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:43,476 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:43,476 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:43,476 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2] (custom)
2022-08-31 10:00:43,477 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:43,477 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:43,477 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:43,477 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-D1078FF5B912:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:43,478 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:43,478 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:43,478 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:43,478 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:43,478 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:43,478 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:43,478 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-D1078FF5B912: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:43,478 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:43,478 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:43,478 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:43,479 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:43,479 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:43,479 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:43,479 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:43,479 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:43,479 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-D1078FF5B912:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER] returns group-D1078FF5B912:java.util.concurrent.CompletableFuture@3a6a8b86[Not completed]
2022-08-31 10:00:43,479 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:43,480 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:43,480 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0] (custom)
2022-08-31 10:00:43,480 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912 does not exist. Creating ...
2022-08-31 10:00:43,480 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912
2022-08-31 10:00:43,482 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:43,482 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:43,482 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:43,482 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-D1078FF5B912:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:43,482 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:43,482 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:43,482 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:43,482 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:43,482 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:43,482 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:43,482 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:43,482 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912/current
2022-08-31 10:00:43,483 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912/sm
2022-08-31 10:00:43,484 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-D1078FF5B912: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:43,484 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:43,484 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:43,484 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912 has been successfully formatted.
2022-08-31 10:00:43,484 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:43,484 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:43,484 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-D1078FF5B912-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:43,485 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:43,486 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:43,486 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:43,486 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:43,486 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:43,486 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-D1078FF5B912-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:43,486 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-D1078FF5B912-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:43,487 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:43,488 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:43,488 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:43,488 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:43,488 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:43,488 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:43,488 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-D1078FF5B912: start as a follower, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,488 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-D1078FF5B912: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:43,488 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D1078FF5B912-FollowerState
2022-08-31 10:00:43,489 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1078FF5B912,id=s0
2022-08-31 10:00:43,489 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:43,489 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:43,489 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:43,489 [s0@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:43,489 [s0@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:43,489 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 10:00:43,490 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 35739
2022-08-31 10:00:43,491 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 36351
2022-08-31 10:00:43,492 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 34139
2022-08-31 10:00:43,494 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@4b0229f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 10:00:43,494 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:43,496 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:43,496 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1] (custom)
2022-08-31 10:00:43,496 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912 does not exist. Creating ...
2022-08-31 10:00:43,496 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912
2022-08-31 10:00:43,497 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:43,498 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912/current
2022-08-31 10:00:43,498 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912/sm
2022-08-31 10:00:43,499 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912 has been successfully formatted.
2022-08-31 10:00:43,499 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:43,499 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:43,499 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:43,499 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:43,499 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:43,499 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:43,499 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-D1078FF5B912-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:43,500 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:43,501 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:43,501 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-D1078FF5B912-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:43,501 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-D1078FF5B912-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:43,501 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-D1078FF5B912: start as a follower, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,501 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-D1078FF5B912: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:43,501 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D1078FF5B912-FollowerState
2022-08-31 10:00:43,501 [s1@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:43,501 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1078FF5B912,id=s1
2022-08-31 10:00:43,501 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:43,501 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:43,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:43,505 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 10:00:43,501 [s1@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:43,505 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 46277
2022-08-31 10:00:43,505 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 39109
2022-08-31 10:00:43,506 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 37553
2022-08-31 10:00:43,506 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@39ce415c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 10:00:43,506 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:43,506 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:43,506 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2] (custom)
2022-08-31 10:00:43,507 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912 does not exist. Creating ...
2022-08-31 10:00:43,507 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912
2022-08-31 10:00:43,508 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:43,508 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912/current
2022-08-31 10:00:43,508 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912/sm
2022-08-31 10:00:43,509 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912 has been successfully formatted.
2022-08-31 10:00:43,509 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:43,509 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:43,509 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:43,509 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-D1078FF5B912-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:43,510 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:43,511 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:43,511 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:43,511 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:43,511 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:43,511 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-D1078FF5B912-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:43,511 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-D1078FF5B912-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:43,511 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-D1078FF5B912: start as a follower, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,511 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-D1078FF5B912: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:43,511 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D1078FF5B912-FollowerState
2022-08-31 10:00:43,511 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1078FF5B912,id=s2
2022-08-31 10:00:43,512 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:43,512 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:43,512 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:43,512 [s2@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:43,512 [s2@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:43,512 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 10:00:43,513 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 42609
2022-08-31 10:00:43,513 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 33475
2022-08-31 10:00:43,514 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 35385
2022-08-31 10:00:43,518 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@7860e99c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 10:00:43,518 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:43,518 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:43,518 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:170)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:43,730 [s1@group-D1078FF5B912-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-D1078FF5B912-FollowerState: change to CANDIDATE, lastRpcElapsedTime:228933709ns, electionTimeout:225ms
2022-08-31 10:00:43,730 [s1@group-D1078FF5B912-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D1078FF5B912-FollowerState
2022-08-31 10:00:43,730 [s1@group-D1078FF5B912-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-D1078FF5B912: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:43,731 [s1@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:43,731 [s1@group-D1078FF5B912-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D1078FF5B912-LeaderElection9
2022-08-31 10:00:43,734 [s1@group-D1078FF5B912-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-D1078FF5B912-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,736 [s1@group-D1078FF5B912-LeaderElection9-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 10:00:43,737 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:43,737 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:43,737 [s1@group-D1078FF5B912-LeaderElection9-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 10:00:43,742 [s0@group-D1078FF5B912-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-D1078FF5B912-FollowerState: change to CANDIDATE, lastRpcElapsedTime:254194998ns, electionTimeout:253ms
2022-08-31 10:00:43,743 [s0@group-D1078FF5B912-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D1078FF5B912-FollowerState
2022-08-31 10:00:43,743 [s0@group-D1078FF5B912-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-D1078FF5B912: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:43,743 [s0@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:43,743 [s0@group-D1078FF5B912-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D1078FF5B912-LeaderElection10
2022-08-31 10:00:43,752 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D1078FF5B912: receive requestVote(PRE_VOTE, s1, group-D1078FF5B912, 0, (t:0, i:0))
2022-08-31 10:00:43,752 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D1078FF5B912-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:43,753 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D1078FF5B912 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,754 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-D1078FF5B912: receive requestVote(PRE_VOTE, s1, group-D1078FF5B912, 0, (t:0, i:0))
2022-08-31 10:00:43,754 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-D1078FF5B912-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:43,755 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-D1078FF5B912 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-D1078FF5B912:t0, leader=null, voted=, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,755 [s0@group-D1078FF5B912-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D1078FF5B912-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,755 [s1@group-D1078FF5B912-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-D1078FF5B912-LeaderElection9: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:43,755 [s1@group-D1078FF5B912-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2022-08-31 10:00:43,755 [s1@group-D1078FF5B912-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-D1078FF5B912-LeaderElection9 PRE_VOTE round 0: result PASSED
2022-08-31 10:00:43,757 [s1@group-D1078FF5B912-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-D1078FF5B912-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,758 [s0@group-D1078FF5B912-LeaderElection10-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 10:00:43,760 [s0@group-D1078FF5B912-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:43,760 [s0@group-D1078FF5B912-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:43,762 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:43,762 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:43,764 [s0@group-D1078FF5B912-LeaderElection10-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 10:00:43,765 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D1078FF5B912: receive requestVote(ELECTION, s1, group-D1078FF5B912, 1, (t:0, i:0))
2022-08-31 10:00:43,766 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D1078FF5B912-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:43,766 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-D1078FF5B912: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-31 10:00:43,766 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D1078FF5B912-FollowerState
2022-08-31 10:00:43,766 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D1078FF5B912-FollowerState
2022-08-31 10:00:43,766 [s2@group-D1078FF5B912-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D1078FF5B912-FollowerState was interrupted
2022-08-31 10:00:43,764 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-D1078FF5B912: receive requestVote(PRE_VOTE, s0, group-D1078FF5B912, 0, (t:0, i:0))
2022-08-31 10:00:43,766 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D1078FF5B912-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:43,766 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-D1078FF5B912 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-D1078FF5B912:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,770 [s2@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:43,770 [s2@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:43,771 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D1078FF5B912 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-D1078FF5B912:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,773 [s0@group-D1078FF5B912-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D1078FF5B912-LeaderElection10: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-08-31 10:00:43,773 [s0@group-D1078FF5B912-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-31 10:00:43,773 [s0@group-D1078FF5B912-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D1078FF5B912-LeaderElection10 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2022-08-31 10:00:43,773 [s0@group-D1078FF5B912-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-D1078FF5B912: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2022-08-31 10:00:43,774 [s0@group-D1078FF5B912-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-D1078FF5B912-LeaderElection10
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-D1078FF5B912-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-D1078FF5B912-LeaderElection9 ELECTION round 0: result PASSED
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-D1078FF5B912-LeaderElection9
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-D1078FF5B912: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-D1078FF5B912: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 295ms
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:43,774 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:43,775 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:43,775 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:43,775 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:43,775 [s1@group-D1078FF5B912-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:43,775 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:43,775 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:43,775 [s1@group-D1078FF5B912-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:43,774 [s0@group-D1078FF5B912-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D1078FF5B912-FollowerState
2022-08-31 10:00:43,775 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:43,775 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:43,775 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:43,776 [s1@group-D1078FF5B912-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:43,776 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:43,776 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:43,776 [s1@group-D1078FF5B912-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:43,776 [s1@group-D1078FF5B912-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D1078FF5B912-LeaderStateImpl
2022-08-31 10:00:43,776 [s1@group-D1078FF5B912-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s1@group-D1078FF5B912-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:43,777 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D1078FF5B912: receive requestVote(PRE_VOTE, s0, group-D1078FF5B912, 0, (t:0, i:0))
2022-08-31 10:00:43,781 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-D1078FF5B912: receive requestVote(ELECTION, s1, group-D1078FF5B912, 1, (t:0, i:0))
2022-08-31 10:00:43,781 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D1078FF5B912-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:43,781 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D1078FF5B912 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-D1078FF5B912:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,787 [s1@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s1@group-D1078FF5B912-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_0
2022-08-31 10:00:43,791 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-D1078FF5B912-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:43,791 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-D1078FF5B912: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-31 10:00:43,791 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D1078FF5B912-FollowerState
2022-08-31 10:00:43,791 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D1078FF5B912-FollowerState
2022-08-31 10:00:43,791 [s0@group-D1078FF5B912-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(117)) - s0@group-D1078FF5B912-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2022-08-31 10:00:43,794 [s1@group-D1078FF5B912-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-D1078FF5B912: set configuration 0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,795 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-D1078FF5B912 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-D1078FF5B912:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,795 [s0@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:43,795 [s0@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:43,802 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-D1078FF5B912: change Leader from null to s1 at term 1 for appendEntries, leader elected after 318ms
2022-08-31 10:00:43,803 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-D1078FF5B912: change Leader from null to s1 at term 1 for appendEntries, leader elected after 336ms
2022-08-31 10:00:43,805 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-D1078FF5B912: set configuration 0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,805 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s2@group-D1078FF5B912-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:43,814 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-D1078FF5B912: set configuration 0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:43,815 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s0@group-D1078FF5B912-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:43,825 [s2@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s2@group-D1078FF5B912-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_0
2022-08-31 10:00:43,827 [s0@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-D1078FF5B912-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_0
2022-08-31 10:00:43,969 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:43,970 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:43,970 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:43,983 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A79A4B34C533->s0: receive RaftClientReply:client-A79A4B34C533->s0@group-D1078FF5B912, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-D1078FF5B912 is not the leader s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-31 10:00:43,986 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:43,986 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:43,993 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A79A4B34C533->s1: receive RaftClientReply:client-A79A4B34C533->s1@group-D1078FF5B912, cid=28, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-08-31 10:00:44,000 [s1@group-D1078FF5B912-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-A79A4B34C533
2022-08-31 10:00:44,001 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A79A4B34C533->s1: receive RaftClientReply:client-A79A4B34C533->s1@group-D1078FF5B912, cid=29, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-08-31 10:00:44,002 [s0@group-D1078FF5B912-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-A79A4B34C533
2022-08-31 10:00:44,003 [s2@group-D1078FF5B912-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-A79A4B34C533
2022-08-31 10:00:44,005 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:44,005 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:44,013 [s1@group-D1078FF5B912-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-530814EC4743
2022-08-31 10:00:44,016 [s2@group-D1078FF5B912-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-530814EC4743
2022-08-31 10:00:44,016 [s0@group-D1078FF5B912-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-530814EC4743
2022-08-31 10:00:44,018 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-530814EC4743->s1: receive RaftClientReply:client-530814EC4743->s1@group-D1078FF5B912, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c2]
2022-08-31 10:00:44,019 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-08-31 10:00:44,021 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2022-08-31 10:00:44,021 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:44,021 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:44,021 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:44,023 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:44,094 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-08-31 10:00:44,095 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-08-31 10:00:44,123 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:44,124 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:44,124 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:44,124 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:44,224 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:44,225 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:44,225 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:44,225 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:44,323 [s0@group-D1078FF5B912-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-D1078FF5B912-FollowerState: change to CANDIDATE, lastRpcElapsedTime:307012692ns, electionTimeout:160ms
2022-08-31 10:00:44,323 [s0@group-D1078FF5B912-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D1078FF5B912-FollowerState
2022-08-31 10:00:44,323 [s0@group-D1078FF5B912-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-D1078FF5B912: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-31 10:00:44,323 [s0@group-D1078FF5B912-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:44,323 [s0@group-D1078FF5B912-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D1078FF5B912-LeaderElection11
2022-08-31 10:00:44,324 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-D1078FF5B912: change Leader from s1 to null at term 1 for PRE_VOTE
2022-08-31 10:00:44,325 [s0@group-D1078FF5B912-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D1078FF5B912-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:44,326 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:44,326 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-D1078FF5B912:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:44,326 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-D1078FF5B912:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:44,326 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:44,328 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D1078FF5B912: receive requestVote(PRE_VOTE, s0, group-D1078FF5B912, 1, (t:1, i:4))
2022-08-31 10:00:44,329 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D1078FF5B912-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:44,329 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D1078FF5B912 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:44,331 [s0@group-D1078FF5B912-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D1078FF5B912-LeaderElection11: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:44,331 [s0@group-D1078FF5B912-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2022-08-31 10:00:44,331 [s0@group-D1078FF5B912-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D1078FF5B912-LeaderElection11 PRE_VOTE round 0: result PASSED
2022-08-31 10:00:44,333 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-D1078FF5B912: receive requestVote(PRE_VOTE, s0, group-D1078FF5B912, 1, (t:1, i:4))
2022-08-31 10:00:44,333 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1056)) - s1@group-D1078FF5B912-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 559ms. Conf: 0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:44,335 [s0@group-D1078FF5B912-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D1078FF5B912-LeaderElection11 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:44,338 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1060)) - Follower s1@group-D1078FF5B912->s0(c3,m4,n5, attendVote=true, lastRpcSendTime=14, lastRpcResponseTime=320)
2022-08-31 10:00:44,338 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1060)) - Follower s1@group-D1078FF5B912->s2(c3,m4,n5, attendVote=true, lastRpcSendTime=15, lastRpcResponseTime=321)
2022-08-31 10:00:44,338 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-D1078FF5B912: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-31 10:00:44,338 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-D1078FF5B912-LeaderStateImpl
2022-08-31 10:00:44,338 [s1@group-D1078FF5B912->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-D1078FF5B912->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:44,339 [s1@group-D1078FF5B912->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-D1078FF5B912->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:44,339 [grpc-default-executor-3] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-D1078FF5B912-PendingRequests: sendNotLeaderResponses
2022-08-31 10:00:44,347 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D1078FF5B912-FollowerState
2022-08-31 10:00:44,349 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D1078FF5B912-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-08-31 10:00:44,349 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-D1078FF5B912 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-D1078FF5B912:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:44,352 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-D1078FF5B912: receive requestVote(ELECTION, s0, group-D1078FF5B912, 2, (t:1, i:4))
2022-08-31 10:00:44,352 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D1078FF5B912-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:44,352 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-D1078FF5B912: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-31 10:00:44,352 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-D1078FF5B912: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-08-31 10:00:44,352 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D1078FF5B912-FollowerState
2022-08-31 10:00:44,352 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D1078FF5B912-FollowerState
2022-08-31 10:00:44,353 [s1@group-D1078FF5B912-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(117)) - s1@group-D1078FF5B912-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2022-08-31 10:00:44,368 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-D1078FF5B912 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-D1078FF5B912:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:44,369 [s0@group-D1078FF5B912-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D1078FF5B912-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:44,369 [s0@group-D1078FF5B912-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t2
2022-08-31 10:00:44,369 [s0@group-D1078FF5B912-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D1078FF5B912-LeaderElection11 ELECTION round 0: result PASSED
2022-08-31 10:00:44,369 [s0@group-D1078FF5B912-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-D1078FF5B912-LeaderElection11
2022-08-31 10:00:44,369 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-D1078FF5B912: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-31 10:00:44,369 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-D1078FF5B912: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 44ms
2022-08-31 10:00:44,369 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D1078FF5B912: receive requestVote(ELECTION, s0, group-D1078FF5B912, 2, (t:1, i:4))
2022-08-31 10:00:44,369 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D1078FF5B912-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:44,369 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:44,369 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-D1078FF5B912: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-31 10:00:44,369 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-D1078FF5B912: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-08-31 10:00:44,369 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D1078FF5B912-FollowerState
2022-08-31 10:00:44,369 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D1078FF5B912-FollowerState
2022-08-31 10:00:44,369 [s2@group-D1078FF5B912-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D1078FF5B912-FollowerState was interrupted
2022-08-31 10:00:44,369 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:44,369 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 10:00:44,370 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:44,370 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:44,370 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:44,370 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:44,370 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:44,370 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:44,370 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:44,370 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:44,370 [s0@group-D1078FF5B912-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:44,371 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:44,371 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:44,371 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D1078FF5B912 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-D1078FF5B912:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:44,371 [s0@group-D1078FF5B912-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:44,371 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:44,371 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:44,371 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:44,371 [s0@group-D1078FF5B912-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:44,371 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:44,371 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:44,372 [s0@group-D1078FF5B912-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 10:00:44,372 [s0@group-D1078FF5B912-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D1078FF5B912-LeaderStateImpl
2022-08-31 10:00:44,372 [s0@group-D1078FF5B912-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(455)) - s0@group-D1078FF5B912-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 10:00:44,375 [s0@group-D1078FF5B912-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_0-4
2022-08-31 10:00:44,375 [s0@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(611)) - s0@group-D1078FF5B912-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_0-4
2022-08-31 10:00:44,381 [s0@group-D1078FF5B912-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-D1078FF5B912: set configuration 5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:44,382 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-D1078FF5B912: change Leader from null to s0 at term 2 for appendEntries, leader elected after 30ms
2022-08-31 10:00:44,383 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-D1078FF5B912: change Leader from null to s0 at term 2 for appendEntries, leader elected after 13ms
2022-08-31 10:00:44,384 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-D1078FF5B912: set configuration 5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:44,384 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(455)) - s1@group-D1078FF5B912-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 10:00:44,385 [s1@group-D1078FF5B912-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_0-4
2022-08-31 10:00:44,385 [s1@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(611)) - s1@group-D1078FF5B912-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_0-4
2022-08-31 10:00:44,385 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-D1078FF5B912: set configuration 5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:44,385 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(455)) - s2@group-D1078FF5B912-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 10:00:44,386 [s2@group-D1078FF5B912-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_0-4
2022-08-31 10:00:44,386 [s2@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(611)) - s2@group-D1078FF5B912-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_0-4
2022-08-31 10:00:44,406 [s0@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-D1078FF5B912-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s0/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_5
2022-08-31 10:00:44,406 [s1@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s1@group-D1078FF5B912-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s1/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_5
2022-08-31 10:00:44,406 [s2@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s2@group-D1078FF5B912-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc9cc50844/s2/195827d2-aef8-42ec-8c23-d1078ff5b912/current/log_inprogress_5
2022-08-31 10:00:44,426 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:44,427 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D1078FF5B912:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1078FF5B912:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:44,427 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D1078FF5B912:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1078FF5B912:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:44,427 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-08-31 10:00:44,427 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2022-08-31 10:00:44,427 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-08-31 10:00:44,428 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-530814EC4743->s1: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:200)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-530814EC4743->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:406)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:346)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-08-31 10:00:44,428 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-08-31 10:00:44,429 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:44,430 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:44,431 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-08-31 10:00:44,696 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-08-31 10:00:44,696 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-08-31 10:00:44,700 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#22-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-31 10:00:44,701 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-31 10:00:44,701 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-D1078FF5B912->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:44,701 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-D1078FF5B912->s0: nextIndex: updateUnconditionally 5 -> 4
2022-08-31 10:00:44,702 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-D1078FF5B912->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:44,702 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-D1078FF5B912->s2: nextIndex: updateUnconditionally 5 -> 4
2022-08-31 10:00:45,431 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-530814EC4743->s1 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:208)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-530814EC4743->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:388)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-08-31 10:00:45,439 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-530814EC4743->s1: receive RaftClientReply:client-530814EC4743->s1@group-D1078FF5B912, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-08-31 10:00:48,433 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=334, target=localhost:46277}}. 
2022-08-31 10:00:48,437 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 10:00:48,437 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 10:00:48,437 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 10:00:48,437 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 10:00:48,437 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 10:00:48,437 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D1078FF5B912:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-D1078FF5B912-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D1078FF5B912:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-D1078FF5B912-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D1078FF5B912:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-D1078FF5B912-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:36351|admin:localhost:34139|client:localhost:35739|dataStream:localhost:37389|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39109|admin:localhost:37553|client:localhost:46277|dataStream:localhost:35371|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33475|admin:localhost:35385|client:localhost:42609|dataStream:localhost:34777|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:48,438 [java.util.concurrent.ThreadPoolExecutor$Worker@419793c5[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 10:00:48,442 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-D1078FF5B912: shutdown
2022-08-31 10:00:48,442 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1078FF5B912,id=s0
2022-08-31 10:00:48,442 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-D1078FF5B912-LeaderStateImpl
2022-08-31 10:00:48,442 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-D1078FF5B912-PendingRequests: sendNotLeaderResponses
2022-08-31 10:00:48,442 [java.util.concurrent.ThreadPoolExecutor$Worker@419793c5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:48,444 [java.util.concurrent.ThreadPoolExecutor$Worker@32773336[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 10:00:48,444 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-D1078FF5B912-StateMachineUpdater: set stopIndex = 6
2022-08-31 10:00:48,442 [s0@group-D1078FF5B912->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-D1078FF5B912->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:48,445 [java.util.concurrent.ThreadPoolExecutor$Worker@32773336[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:48,442 [s0@group-D1078FF5B912->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-D1078FF5B912->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:48,446 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-31 10:00:48,447 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-D1078FF5B912->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:48,447 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s0@group-D1078FF5B912->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:407)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:48,450 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-D1078FF5B912: shutdown
2022-08-31 10:00:48,450 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1078FF5B912,id=s1
2022-08-31 10:00:48,450 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D1078FF5B912-FollowerState
2022-08-31 10:00:48,450 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-D1078FF5B912-StateMachineUpdater: set stopIndex = 6
2022-08-31 10:00:48,445 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 10:00:48,451 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#3-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-31 10:00:48,445 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-D1078FF5B912: applyIndex: 6
2022-08-31 10:00:48,451 [s0@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s0@group-D1078FF5B912-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:48,451 [s1@group-D1078FF5B912-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D1078FF5B912-FollowerState was interrupted
2022-08-31 10:00:48,444 [java.util.concurrent.ThreadPoolExecutor$Worker@28a99b21[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 10:00:48,450 [java.util.concurrent.ThreadPoolExecutor$Worker@32773336[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 10:00:48,452 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 10:00:48,453 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-D1078FF5B912: applyIndex: 6
2022-08-31 10:00:48,453 [s1@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s1@group-D1078FF5B912-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:48,453 [java.util.concurrent.ThreadPoolExecutor$Worker@28a99b21[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:48,453 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-D1078FF5B912: shutdown
2022-08-31 10:00:48,453 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D1078FF5B912,id=s2
2022-08-31 10:00:48,453 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D1078FF5B912-FollowerState
2022-08-31 10:00:48,453 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-D1078FF5B912-StateMachineUpdater: set stopIndex = 6
2022-08-31 10:00:48,453 [s2@group-D1078FF5B912-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D1078FF5B912-FollowerState was interrupted
2022-08-31 10:00:48,453 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-D1078FF5B912: applyIndex: 6
2022-08-31 10:00:48,454 [s2@group-D1078FF5B912-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s2@group-D1078FF5B912-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:48,455 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s0@group-D1078FF5B912-SegmentedRaftLogWorker close()
2022-08-31 10:00:48,457 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-D1078FF5B912->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:48,457 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s0@group-D1078FF5B912->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:407)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:48,460 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s1@group-D1078FF5B912-SegmentedRaftLogWorker close()
2022-08-31 10:00:48,460 [java.util.concurrent.ThreadPoolExecutor$Worker@419793c5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:48,460 [java.util.concurrent.ThreadPoolExecutor$Worker@419793c5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:48,461 [java.util.concurrent.ThreadPoolExecutor$Worker@28a99b21[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:48,461 [java.util.concurrent.ThreadPoolExecutor$Worker@28a99b21[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:48,461 [java.util.concurrent.ThreadPoolExecutor$Worker@32773336[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 10:00:48,461 [java.util.concurrent.ThreadPoolExecutor$Worker@419793c5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:48,463 [java.util.concurrent.ThreadPoolExecutor$Worker@419793c5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:48,461 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s2@group-D1078FF5B912-SegmentedRaftLogWorker close()
2022-08-31 10:00:48,464 [java.util.concurrent.ThreadPoolExecutor$Worker@32773336[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:48,464 [java.util.concurrent.ThreadPoolExecutor$Worker@32773336[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:48,465 [java.util.concurrent.ThreadPoolExecutor$Worker@28a99b21[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:48,466 [java.util.concurrent.ThreadPoolExecutor$Worker@28a99b21[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:48,465 [java.util.concurrent.ThreadPoolExecutor$Worker@32773336[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:48,466 [java.util.concurrent.ThreadPoolExecutor$Worker@32773336[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:48,465 [java.util.concurrent.ThreadPoolExecutor$Worker@419793c5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:48,466 [java.util.concurrent.ThreadPoolExecutor$Worker@32773336[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:48,467 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@39ce415c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 10:00:48,467 [java.util.concurrent.ThreadPoolExecutor$Worker@28a99b21[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:48,468 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@4b0229f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 10:00:48,468 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@7860e99c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 10:00:48,470 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 10:00:48,471 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 10:00:48,471 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 10:00:48,471 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 10:00:48,471 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 10:00:48,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-91A4F36A44EC:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]
2022-08-31 10:00:48,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 10:00:48,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 10:00:48,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 10:00:48,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 10:00:48,473 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 10:00:48,473 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 10:00:48,473 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-91A4F36A44EC:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:48,473 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0
2022-08-31 10:00:48,473 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0 does not exist.
2022-08-31 10:00:48,473 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0
2022-08-31 10:00:48,474 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:48,474 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:48,474 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40771 (custom)
2022-08-31 10:00:48,474 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:48,474 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34915 (custom)
2022-08-31 10:00:48,474 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:48,474 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39865 (custom)
2022-08-31 10:00:48,474 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:48,475 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:48,475 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:48,475 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:48,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:48,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:48,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:48,477 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:48,477 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:48,477 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:48,477 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:48,477 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:48,477 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0] (custom)
2022-08-31 10:00:48,478 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-91A4F36A44EC:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER] returns group-91A4F36A44EC:java.util.concurrent.CompletableFuture@702b839[Not completed]
2022-08-31 10:00:48,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-91A4F36A44EC:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:48,478 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1
2022-08-31 10:00:48,478 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1 does not exist.
2022-08-31 10:00:48,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1
2022-08-31 10:00:48,479 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:48,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:48,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43397 (custom)
2022-08-31 10:00:48,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:48,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40277 (custom)
2022-08-31 10:00:48,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:48,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46679 (custom)
2022-08-31 10:00:48,479 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:48,479 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:48,479 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:48,479 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:48,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:48,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:48,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:48,480 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:48,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:48,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:48,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:48,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:48,481 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1] (custom)
2022-08-31 10:00:48,481 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:48,481 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:48,481 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:48,481 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-91A4F36A44EC:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:48,481 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:48,481 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:48,482 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:48,482 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:48,482 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:48,482 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:48,482 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-91A4F36A44EC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:48,482 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:48,482 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:48,482 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:48,483 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-91A4F36A44EC:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER] returns group-91A4F36A44EC:java.util.concurrent.CompletableFuture@73888382[Not completed]
2022-08-31 10:00:48,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-91A4F36A44EC:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:48,483 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2
2022-08-31 10:00:48,483 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2 does not exist.
2022-08-31 10:00:48,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2
2022-08-31 10:00:48,483 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:48,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:48,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44691 (custom)
2022-08-31 10:00:48,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:48,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41599 (custom)
2022-08-31 10:00:48,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:48,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45417 (custom)
2022-08-31 10:00:48,483 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:48,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:48,483 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:48,484 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:48,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:48,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:48,484 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:48,484 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:48,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:48,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:48,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:48,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:48,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2] (custom)
2022-08-31 10:00:48,485 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:48,486 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:48,486 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:48,486 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:48,486 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:48,486 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:48,486 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:48,486 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:48,486 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-91A4F36A44EC:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:48,486 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:48,486 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:48,486 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:48,487 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:48,487 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:48,487 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:48,487 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-91A4F36A44EC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:48,487 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:48,487 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:48,487 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:48,487 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-91A4F36A44EC:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER] returns group-91A4F36A44EC:java.util.concurrent.CompletableFuture@7add3194[Not completed]
2022-08-31 10:00:48,487 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:48,487 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:48,488 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:48,488 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:48,488 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:48,488 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0] (custom)
2022-08-31 10:00:48,488 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0/1340be13-b742-4a4b-a82b-91a4f36a44ec does not exist. Creating ...
2022-08-31 10:00:48,488 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0/1340be13-b742-4a4b-a82b-91a4f36a44ec
2022-08-31 10:00:48,488 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:48,488 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:48,488 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:48,489 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:48,489 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-91A4F36A44EC:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-91A4F36A44EC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:48,489 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:48,490 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0/1340be13-b742-4a4b-a82b-91a4f36a44ec/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:48,490 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0/1340be13-b742-4a4b-a82b-91a4f36a44ec/current
2022-08-31 10:00:48,490 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0/1340be13-b742-4a4b-a82b-91a4f36a44ec/sm
2022-08-31 10:00:48,491 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:48,491 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:48,491 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:48,491 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:48,491 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0/1340be13-b742-4a4b-a82b-91a4f36a44ec has been successfully formatted.
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:48,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-91A4F36A44EC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0/1340be13-b742-4a4b-a82b-91a4f36a44ec
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-91A4F36A44EC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:48,493 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-91A4F36A44EC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:48,494 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-91A4F36A44EC: start as a follower, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,494 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-91A4F36A44EC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:48,494 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-91A4F36A44EC-FollowerState
2022-08-31 10:00:48,494 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-91A4F36A44EC,id=s0
2022-08-31 10:00:48,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:48,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:48,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:48,495 [s0@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:48,495 [s0@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:48,495 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 10:00:48,496 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 34915
2022-08-31 10:00:48,498 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39865
2022-08-31 10:00:48,498 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 40771
2022-08-31 10:00:48,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:48,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:48,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1] (custom)
2022-08-31 10:00:48,502 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1/1340be13-b742-4a4b-a82b-91a4f36a44ec does not exist. Creating ...
2022-08-31 10:00:48,502 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1/1340be13-b742-4a4b-a82b-91a4f36a44ec
2022-08-31 10:00:48,503 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@26618774] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 10:00:48,503 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1/1340be13-b742-4a4b-a82b-91a4f36a44ec/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:48,503 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1/1340be13-b742-4a4b-a82b-91a4f36a44ec/current
2022-08-31 10:00:48,504 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1/1340be13-b742-4a4b-a82b-91a4f36a44ec/sm
2022-08-31 10:00:48,504 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1/1340be13-b742-4a4b-a82b-91a4f36a44ec has been successfully formatted.
2022-08-31 10:00:48,504 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-91A4F36A44EC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1/1340be13-b742-4a4b-a82b-91a4f36a44ec
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:48,505 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:48,506 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:48,506 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:48,506 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:48,506 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:48,506 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-91A4F36A44EC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:48,506 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-91A4F36A44EC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:48,510 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-91A4F36A44EC: start as a follower, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,510 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-91A4F36A44EC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:48,510 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-91A4F36A44EC-FollowerState
2022-08-31 10:00:48,511 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-91A4F36A44EC,id=s1
2022-08-31 10:00:48,512 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:48,512 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:48,512 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:48,512 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 10:00:48,512 [s1@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:48,512 [s1@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:48,513 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 40277
2022-08-31 10:00:48,513 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 46679
2022-08-31 10:00:48,514 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 43397
2022-08-31 10:00:48,514 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@14b8a247] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 10:00:48,514 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:48,514 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:48,514 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2] (custom)
2022-08-31 10:00:48,515 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2/1340be13-b742-4a4b-a82b-91a4f36a44ec does not exist. Creating ...
2022-08-31 10:00:48,515 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2/1340be13-b742-4a4b-a82b-91a4f36a44ec
2022-08-31 10:00:48,516 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2/1340be13-b742-4a4b-a82b-91a4f36a44ec/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:48,516 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2/1340be13-b742-4a4b-a82b-91a4f36a44ec/current
2022-08-31 10:00:48,516 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2/1340be13-b742-4a4b-a82b-91a4f36a44ec/sm
2022-08-31 10:00:48,517 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2/1340be13-b742-4a4b-a82b-91a4f36a44ec has been successfully formatted.
2022-08-31 10:00:48,517 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:48,517 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:48,517 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:48,517 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:48,517 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-91A4F36A44EC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2/1340be13-b742-4a4b-a82b-91a4f36a44ec
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:48,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:48,519 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:48,519 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:48,519 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:48,519 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:48,519 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-91A4F36A44EC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:48,519 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-91A4F36A44EC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:48,520 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-91A4F36A44EC: start as a follower, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,520 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-91A4F36A44EC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:48,520 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-91A4F36A44EC-FollowerState
2022-08-31 10:00:48,520 [s2@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:48,520 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-91A4F36A44EC,id=s2
2022-08-31 10:00:48,520 [s2@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:48,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:48,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:48,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:48,526 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 10:00:48,527 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 41599
2022-08-31 10:00:48,528 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 45417
2022-08-31 10:00:48,529 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 44691
2022-08-31 10:00:48,529 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@930147a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 10:00:48,531 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:48,531 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s0@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s1@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s2@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:48,531 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s0@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s1@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s2@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s0@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s1@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s2@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:305)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:216)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:48,694 [s2@group-91A4F36A44EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-91A4F36A44EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:174631860ns, electionTimeout:174ms
2022-08-31 10:00:48,695 [s2@group-91A4F36A44EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-91A4F36A44EC-FollowerState
2022-08-31 10:00:48,695 [s2@group-91A4F36A44EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-91A4F36A44EC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:48,695 [s2@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:48,695 [s2@group-91A4F36A44EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-91A4F36A44EC-LeaderElection12
2022-08-31 10:00:48,696 [s2@group-91A4F36A44EC-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-91A4F36A44EC-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,696 [s2@group-91A4F36A44EC-LeaderElection12-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 10:00:48,698 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:48,698 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:48,702 [s2@group-91A4F36A44EC-LeaderElection12-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 10:00:48,707 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-91A4F36A44EC: receive requestVote(PRE_VOTE, s2, group-91A4F36A44EC, 0, (t:0, i:0))
2022-08-31 10:00:48,707 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-91A4F36A44EC-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 10:00:48,707 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-91A4F36A44EC replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s0@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,708 [s2@group-91A4F36A44EC-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-91A4F36A44EC-LeaderElection12: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:48,708 [s2@group-91A4F36A44EC-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2022-08-31 10:00:48,708 [s2@group-91A4F36A44EC-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-91A4F36A44EC-LeaderElection12 PRE_VOTE round 0: result PASSED
2022-08-31 10:00:48,710 [s2@group-91A4F36A44EC-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-91A4F36A44EC-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,712 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-91A4F36A44EC: receive requestVote(PRE_VOTE, s2, group-91A4F36A44EC, 0, (t:0, i:0))
2022-08-31 10:00:48,712 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-91A4F36A44EC-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 10:00:48,712 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-91A4F36A44EC replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-91A4F36A44EC:t0, leader=null, voted=, raftlog=Memoized:s1@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,715 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:48,715 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:48,717 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-91A4F36A44EC: receive requestVote(ELECTION, s2, group-91A4F36A44EC, 1, (t:0, i:0))
2022-08-31 10:00:48,717 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-91A4F36A44EC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-31 10:00:48,717 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-91A4F36A44EC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-08-31 10:00:48,717 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-91A4F36A44EC-FollowerState
2022-08-31 10:00:48,717 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-91A4F36A44EC-FollowerState
2022-08-31 10:00:48,717 [s0@group-91A4F36A44EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-91A4F36A44EC-FollowerState was interrupted
2022-08-31 10:00:48,723 [s0@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:48,723 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-91A4F36A44EC replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-91A4F36A44EC:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,723 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-91A4F36A44EC: receive requestVote(ELECTION, s2, group-91A4F36A44EC, 1, (t:0, i:0))
2022-08-31 10:00:48,723 [s0@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:48,724 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-91A4F36A44EC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-31 10:00:48,724 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-91A4F36A44EC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-08-31 10:00:48,724 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-91A4F36A44EC-FollowerState
2022-08-31 10:00:48,724 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-91A4F36A44EC-FollowerState
2022-08-31 10:00:48,724 [s1@group-91A4F36A44EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-91A4F36A44EC-FollowerState was interrupted
2022-08-31 10:00:48,725 [s2@group-91A4F36A44EC-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-91A4F36A44EC-LeaderElection12: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:48,725 [s2@group-91A4F36A44EC-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-08-31 10:00:48,725 [s2@group-91A4F36A44EC-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-91A4F36A44EC-LeaderElection12 ELECTION round 0: result PASSED
2022-08-31 10:00:48,725 [s2@group-91A4F36A44EC-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-91A4F36A44EC-LeaderElection12
2022-08-31 10:00:48,725 [s1@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:48,726 [s1@group-91A4F36A44EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:48,725 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-91A4F36A44EC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 10:00:48,726 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-91A4F36A44EC: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 236ms
2022-08-31 10:00:48,726 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:48,726 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:48,726 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 10:00:48,726 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:48,726 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:48,726 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:48,726 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:48,726 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:48,727 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:48,727 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:48,727 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:48,727 [s2@group-91A4F36A44EC-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:48,727 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:48,727 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:48,727 [s2@group-91A4F36A44EC-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:48,727 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:48,727 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:48,727 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:48,728 [s2@group-91A4F36A44EC-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:48,728 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:48,728 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:48,728 [s2@group-91A4F36A44EC-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:48,728 [s2@group-91A4F36A44EC-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-91A4F36A44EC-LeaderStateImpl
2022-08-31 10:00:48,728 [s2@group-91A4F36A44EC-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s2@group-91A4F36A44EC-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:48,726 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-91A4F36A44EC replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-91A4F36A44EC:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,739 [s2@group-91A4F36A44EC-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-91A4F36A44EC: set configuration 0: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,739 [s2@group-91A4F36A44EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s2@group-91A4F36A44EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s2/1340be13-b742-4a4b-a82b-91a4f36a44ec/current/log_inprogress_0
2022-08-31 10:00:48,753 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-91A4F36A44EC: change Leader from null to s2 at term 1 for appendEntries, leader elected after 265ms
2022-08-31 10:00:48,754 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-91A4F36A44EC: change Leader from null to s2 at term 1 for appendEntries, leader elected after 272ms
2022-08-31 10:00:48,759 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-91A4F36A44EC: set configuration 0: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,760 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-91A4F36A44EC: set configuration 0: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:48,760 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s1@group-91A4F36A44EC-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:48,760 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s0@group-91A4F36A44EC-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:48,777 [s1@group-91A4F36A44EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s1@group-91A4F36A44EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s1/1340be13-b742-4a4b-a82b-91a4f36a44ec/current/log_inprogress_0
2022-08-31 10:00:48,777 [s0@group-91A4F36A44EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-91A4F36A44EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8225e844/s0/1340be13-b742-4a4b-a82b-91a4f36a44ec/current/log_inprogress_0
2022-08-31 10:00:48,982 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-91A4F36A44EC:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-91A4F36A44EC:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-91A4F36A44EC:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:48,983 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:48,983 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:48,992 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7528F1EF5128->s0: receive RaftClientReply:client-7528F1EF5128->s0@group-91A4F36A44EC, cid=30, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-91A4F36A44EC is not the leader s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-31 10:00:48,995 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:48,995 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:49,003 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7528F1EF5128->s2: receive RaftClientReply:client-7528F1EF5128->s2@group-91A4F36A44EC, cid=30, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2022-08-31 10:00:49,008 [s2@group-91A4F36A44EC-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-7528F1EF5128
2022-08-31 10:00:49,009 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7528F1EF5128->s2: receive RaftClientReply:client-7528F1EF5128->s2@group-91A4F36A44EC, cid=31, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2022-08-31 10:00:49,010 [s0@group-91A4F36A44EC-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-7528F1EF5128
2022-08-31 10:00:49,011 [s1@group-91A4F36A44EC-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-7528F1EF5128
2022-08-31 10:00:49,014 [s2-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-08-31 10:00:49,015 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7528F1EF5128->s2: receive RaftClientReply:client-7528F1EF5128->s2@group-91A4F36A44EC, cid=32, SUCCESS, logIndex=0, commits[s2:c2, s0:c1, s1:c1]
2022-08-31 10:00:53,018 [timer1] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=395, target=localhost:41599}}. 
2022-08-31 10:00:53,120 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,121 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,127 [s2-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-08-31 10:00:53,128 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7528F1EF5128->s2: receive RaftClientReply:client-7528F1EF5128->s2@group-91A4F36A44EC, cid=33, SUCCESS, logIndex=0, commits[s2:c2, s0:c2, s1:c2]
2022-08-31 10:00:53,130 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,130 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,138 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-7528F1EF5128->s0@group-91A4F36A44EC, cid=34, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-7528F1EF5128->s0@group-91A4F36A44EC, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-91A4F36A44EC is not the leader s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:53,139 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7528F1EF5128->s0: receive RaftClientReply:client-7528F1EF5128->s0@group-91A4F36A44EC, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-91A4F36A44EC is not the leader s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:53,145 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7528F1EF5128->s2: receive RaftClientReply:client-7528F1EF5128->s2@group-91A4F36A44EC, cid=34, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-08-31 10:00:53,147 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7528F1EF5128->s2: receive RaftClientReply:client-7528F1EF5128->s2@group-91A4F36A44EC, cid=35, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-08-31 10:00:53,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 10:00:53,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 10:00:53,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 10:00:53,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 10:00:53,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 10:00:53,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-91A4F36A44EC:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-91A4F36A44EC:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-91A4F36A44EC:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-91A4F36A44EC-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:39865|admin:localhost:40771|client:localhost:34915|dataStream:localhost:43005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46679|admin:localhost:43397|client:localhost:40277|dataStream:localhost:37651|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45417|admin:localhost:44691|client:localhost:41599|dataStream:localhost:42297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:53,154 [java.util.concurrent.ThreadPoolExecutor$Worker@50132c00[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 10:00:53,159 [java.util.concurrent.ThreadPoolExecutor$Worker@50132c00[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:53,159 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-91A4F36A44EC: shutdown
2022-08-31 10:00:53,160 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-91A4F36A44EC,id=s0
2022-08-31 10:00:53,160 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-91A4F36A44EC-FollowerState
2022-08-31 10:00:53,160 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-91A4F36A44EC-StateMachineUpdater: set stopIndex = 2
2022-08-31 10:00:53,160 [s0@group-91A4F36A44EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-91A4F36A44EC-FollowerState was interrupted
2022-08-31 10:00:53,160 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-91A4F36A44EC: applyIndex: 2
2022-08-31 10:00:53,160 [s0@group-91A4F36A44EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s0@group-91A4F36A44EC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:53,165 [java.util.concurrent.ThreadPoolExecutor$Worker@16935e20[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 10:00:53,165 [java.util.concurrent.ThreadPoolExecutor$Worker@50132c00[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:53,165 [java.util.concurrent.ThreadPoolExecutor$Worker@50132c00[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:53,167 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: s2->s0#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-08-31 10:00:53,168 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-08-31 10:00:53,168 [java.util.concurrent.ThreadPoolExecutor$Worker@50132c00[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:53,168 [java.util.concurrent.ThreadPoolExecutor$Worker@50132c00[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:53,168 [grpc-default-executor-4] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-91A4F36A44EC->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2022-08-31 10:00:53,169 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-91A4F36A44EC->s0: nextIndex: updateUnconditionally 3 -> 2
2022-08-31 10:00:53,169 [java.util.concurrent.ThreadPoolExecutor$Worker@16935e20[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:53,169 [java.util.concurrent.ThreadPoolExecutor$Worker@50132c00[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:53,169 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-91A4F36A44EC: shutdown
2022-08-31 10:00:53,169 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-91A4F36A44EC,id=s1
2022-08-31 10:00:53,169 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-91A4F36A44EC-FollowerState
2022-08-31 10:00:53,169 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-91A4F36A44EC-StateMachineUpdater: set stopIndex = 2
2022-08-31 10:00:53,169 [s1@group-91A4F36A44EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-91A4F36A44EC-FollowerState was interrupted
2022-08-31 10:00:53,169 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-91A4F36A44EC: applyIndex: 2
2022-08-31 10:00:53,170 [grpc-default-executor-5] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-91A4F36A44EC->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2022-08-31 10:00:53,170 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-91A4F36A44EC->s0: nextIndex: updateUnconditionally 2 -> 1
2022-08-31 10:00:53,170 [java.util.concurrent.ThreadPoolExecutor$Worker@340c6a5d[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 10:00:53,169 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s0@group-91A4F36A44EC-SegmentedRaftLogWorker close()
2022-08-31 10:00:53,170 [s1@group-91A4F36A44EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s1@group-91A4F36A44EC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:53,172 [java.util.concurrent.ThreadPoolExecutor$Worker@16935e20[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:53,172 [java.util.concurrent.ThreadPoolExecutor$Worker@16935e20[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:53,173 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@26618774] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 10:00:53,173 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s1: installSnapshot onError, lastRequest: s2->s1#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-08-31 10:00:53,179 [grpc-default-executor-4] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-91A4F36A44EC->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2022-08-31 10:00:53,179 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-91A4F36A44EC->s0: nextIndex: updateUnconditionally 3 -> 2
2022-08-31 10:00:53,180 [java.util.concurrent.ThreadPoolExecutor$Worker@16935e20[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:53,180 [java.util.concurrent.ThreadPoolExecutor$Worker@16935e20[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:53,180 [java.util.concurrent.ThreadPoolExecutor$Worker@16935e20[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:53,180 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s1: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-08-31 10:00:53,181 [grpc-default-executor-5] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-91A4F36A44EC->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2022-08-31 10:00:53,181 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-91A4F36A44EC->s1: nextIndex: updateUnconditionally 3 -> 2
2022-08-31 10:00:53,182 [grpc-default-executor-4] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-91A4F36A44EC->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2022-08-31 10:00:53,182 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-91A4F36A44EC->s0: nextIndex: updateUnconditionally 2 -> 1
2022-08-31 10:00:53,182 [grpc-default-executor-4] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-91A4F36A44EC->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2022-08-31 10:00:53,183 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-91A4F36A44EC->s1: nextIndex: updateUnconditionally 2 -> 1
2022-08-31 10:00:53,187 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s1@group-91A4F36A44EC-SegmentedRaftLogWorker close()
2022-08-31 10:00:53,188 [java.util.concurrent.ThreadPoolExecutor$Worker@340c6a5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:53,188 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-91A4F36A44EC: shutdown
2022-08-31 10:00:53,189 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-91A4F36A44EC,id=s2
2022-08-31 10:00:53,189 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-91A4F36A44EC-LeaderStateImpl
2022-08-31 10:00:53,189 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-91A4F36A44EC-PendingRequests: sendNotLeaderResponses
2022-08-31 10:00:53,189 [s2@group-91A4F36A44EC->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s2@group-91A4F36A44EC->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:53,189 [s2@group-91A4F36A44EC->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s2@group-91A4F36A44EC->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:53,190 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 10:00:53,191 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(395)) - s2@group-91A4F36A44EC->s1-GrpcLogAppender is already stopped
2022-08-31 10:00:53,192 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-91A4F36A44EC-StateMachineUpdater: set stopIndex = 2
2022-08-31 10:00:53,192 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-91A4F36A44EC: applyIndex: 2
2022-08-31 10:00:53,192 [s2@group-91A4F36A44EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s2@group-91A4F36A44EC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:53,192 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@14b8a247] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 10:00:53,193 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s2@group-91A4F36A44EC-SegmentedRaftLogWorker close()
2022-08-31 10:00:53,196 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 10:00:53,196 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(395)) - s2@group-91A4F36A44EC->s1-GrpcLogAppender is already stopped
2022-08-31 10:00:53,196 [java.util.concurrent.ThreadPoolExecutor$Worker@340c6a5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:53,197 [java.util.concurrent.ThreadPoolExecutor$Worker@340c6a5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:53,197 [java.util.concurrent.ThreadPoolExecutor$Worker@340c6a5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:53,197 [java.util.concurrent.ThreadPoolExecutor$Worker@340c6a5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:53,197 [java.util.concurrent.ThreadPoolExecutor$Worker@340c6a5d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:53,197 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@930147a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 10:00:53,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 10:00:53,198 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 10:00:53,198 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 10:00:53,198 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 10:00:53,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 10:00:53,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-E9DF46100762:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]
2022-08-31 10:00:53,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 10:00:53,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 10:00:53,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 10:00:53,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 10:00:53,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 10:00:53,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 10:00:53,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-E9DF46100762:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:53,200 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0
2022-08-31 10:00:53,200 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0 does not exist.
2022-08-31 10:00:53,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0
2022-08-31 10:00:53,200 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:53,201 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:53,201 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33713 (custom)
2022-08-31 10:00:53,201 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:53,201 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38717 (custom)
2022-08-31 10:00:53,201 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:53,201 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33791 (custom)
2022-08-31 10:00:53,201 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,201 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:53,201 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,201 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:53,201 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:53,201 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:53,201 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:53,202 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:53,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:53,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:53,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:53,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:53,203 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0] (custom)
2022-08-31 10:00:53,203 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-E9DF46100762:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER] returns group-E9DF46100762:java.util.concurrent.CompletableFuture@6c8c76f6[Not completed]
2022-08-31 10:00:53,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-E9DF46100762:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:53,203 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1
2022-08-31 10:00:53,203 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1 does not exist.
2022-08-31 10:00:53,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1
2022-08-31 10:00:53,204 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:53,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:53,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 32813 (custom)
2022-08-31 10:00:53,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:53,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42819 (custom)
2022-08-31 10:00:53,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:53,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36397 (custom)
2022-08-31 10:00:53,204 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,204 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:53,204 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,204 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:53,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:53,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:53,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:53,205 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:53,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:53,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:53,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:53,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:53,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1] (custom)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-E9DF46100762:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E9DF46100762: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:53,206 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:53,207 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:53,207 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:53,207 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:53,207 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:53,207 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:53,208 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-E9DF46100762:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER] returns group-E9DF46100762:java.util.concurrent.CompletableFuture@18ed3d74[Not completed]
2022-08-31 10:00:53,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-E9DF46100762:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:53,208 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2
2022-08-31 10:00:53,208 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2 does not exist.
2022-08-31 10:00:53,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2
2022-08-31 10:00:53,208 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:53,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:53,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40871 (custom)
2022-08-31 10:00:53,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:53,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39085 (custom)
2022-08-31 10:00:53,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:53,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37145 (custom)
2022-08-31 10:00:53,209 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:53,209 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:53,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:53,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:53,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:53,208 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:53,209 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:53,209 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:53,209 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-E9DF46100762:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:53,210 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:53,210 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:53,210 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:53,210 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:53,210 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:53,210 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:53,210 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-E9DF46100762: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:53,210 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:53,210 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:53,210 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:53,210 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:53,211 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:53,211 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:53,211 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:53,211 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:53,211 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:53,211 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:53,211 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:53,211 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:53,212 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:53,212 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2] (custom)
2022-08-31 10:00:53,212 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-E9DF46100762:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER] returns group-E9DF46100762:java.util.concurrent.CompletableFuture@2430e26c[Not completed]
2022-08-31 10:00:53,212 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:53,212 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:53,212 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0] (custom)
2022-08-31 10:00:53,213 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0/c2ff9441-d862-4c82-a4d7-e9df46100762 does not exist. Creating ...
2022-08-31 10:00:53,213 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0/c2ff9441-d862-4c82-a4d7-e9df46100762
2022-08-31 10:00:53,213 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:53,213 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-E9DF46100762:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-E9DF46100762: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:53,214 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:53,214 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0/c2ff9441-d862-4c82-a4d7-e9df46100762/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:53,214 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0/c2ff9441-d862-4c82-a4d7-e9df46100762/current
2022-08-31 10:00:53,214 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0/c2ff9441-d862-4c82-a4d7-e9df46100762/sm
2022-08-31 10:00:53,218 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0/c2ff9441-d862-4c82-a4d7-e9df46100762 has been successfully formatted.
2022-08-31 10:00:53,218 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:53,218 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:53,218 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:53,218 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:53,219 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:53,219 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-E9DF46100762-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0/c2ff9441-d862-4c82-a4d7-e9df46100762
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:53,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:53,221 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:53,221 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:53,221 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:53,221 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:53,221 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:53,221 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-E9DF46100762-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:53,221 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-E9DF46100762-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:53,223 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-E9DF46100762: start as a follower, conf=-1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,223 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E9DF46100762: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:53,223 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E9DF46100762-FollowerState
2022-08-31 10:00:53,223 [s0@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:53,223 [s0@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:53,223 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E9DF46100762,id=s0
2022-08-31 10:00:53,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:53,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:53,224 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:53,224 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 10:00:53,224 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 38717
2022-08-31 10:00:53,225 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 33791
2022-08-31 10:00:53,225 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 33713
2022-08-31 10:00:53,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:53,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:53,226 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1] (custom)
2022-08-31 10:00:53,226 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1/c2ff9441-d862-4c82-a4d7-e9df46100762 does not exist. Creating ...
2022-08-31 10:00:53,226 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1/c2ff9441-d862-4c82-a4d7-e9df46100762
2022-08-31 10:00:53,228 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@55c77d03] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 10:00:53,228 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1/c2ff9441-d862-4c82-a4d7-e9df46100762/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:53,229 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1/c2ff9441-d862-4c82-a4d7-e9df46100762/current
2022-08-31 10:00:53,229 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1/c2ff9441-d862-4c82-a4d7-e9df46100762/sm
2022-08-31 10:00:53,229 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1/c2ff9441-d862-4c82-a4d7-e9df46100762 has been successfully formatted.
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-E9DF46100762-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1/c2ff9441-d862-4c82-a4d7-e9df46100762
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:53,230 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:53,231 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:53,231 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:53,231 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:53,231 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:53,231 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:53,231 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-E9DF46100762-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:53,231 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-E9DF46100762-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:53,232 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-E9DF46100762: start as a follower, conf=-1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,232 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E9DF46100762: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:53,232 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E9DF46100762-FollowerState
2022-08-31 10:00:53,232 [s1@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:53,233 [s1@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:53,233 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E9DF46100762,id=s1
2022-08-31 10:00:53,233 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:53,233 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:53,233 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:53,233 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 10:00:53,235 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 42819
2022-08-31 10:00:53,235 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 36397
2022-08-31 10:00:53,236 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 32813
2022-08-31 10:00:53,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:53,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:53,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2] (custom)
2022-08-31 10:00:53,236 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2/c2ff9441-d862-4c82-a4d7-e9df46100762 does not exist. Creating ...
2022-08-31 10:00:53,237 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2/c2ff9441-d862-4c82-a4d7-e9df46100762
2022-08-31 10:00:53,237 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@cdd3ff9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 10:00:53,238 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2/c2ff9441-d862-4c82-a4d7-e9df46100762/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:53,238 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2/c2ff9441-d862-4c82-a4d7-e9df46100762/current
2022-08-31 10:00:53,238 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2/c2ff9441-d862-4c82-a4d7-e9df46100762/sm
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2/c2ff9441-d862-4c82-a4d7-e9df46100762 has been successfully formatted.
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-E9DF46100762-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2/c2ff9441-d862-4c82-a4d7-e9df46100762
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:53,239 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:53,240 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:53,240 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:53,240 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:53,240 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:53,240 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:53,240 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:53,240 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:53,240 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:53,241 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-E9DF46100762-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:53,241 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-E9DF46100762-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:53,241 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-E9DF46100762: start as a follower, conf=-1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,241 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E9DF46100762: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:53,241 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E9DF46100762-FollowerState
2022-08-31 10:00:53,241 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E9DF46100762,id=s2
2022-08-31 10:00:53,241 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:53,241 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:53,241 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:53,242 [s2@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:53,242 [s2@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:53,242 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 10:00:53,242 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 39085
2022-08-31 10:00:53,243 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 37145
2022-08-31 10:00:53,243 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40871
2022-08-31 10:00:53,246 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@4defb744] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 10:00:53,249 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,249 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,256 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B28952CD926A->s0: receive RaftClientReply:client-B28952CD926A->s0@group-E9DF46100762, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-E9DF46100762 is not the leader, logIndex=0, commits[s0:c-1]
2022-08-31 10:00:53,359 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,359 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,369 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B28952CD926A->s1: receive RaftClientReply:client-B28952CD926A->s1@group-E9DF46100762, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-E9DF46100762 is not the leader, logIndex=0, commits[s1:c-1]
2022-08-31 10:00:53,390 [s0@group-E9DF46100762-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E9DF46100762-FollowerState: change to CANDIDATE, lastRpcElapsedTime:167451708ns, electionTimeout:167ms
2022-08-31 10:00:53,391 [s0@group-E9DF46100762-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E9DF46100762-FollowerState
2022-08-31 10:00:53,391 [s0@group-E9DF46100762-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E9DF46100762: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:53,391 [s0@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:53,391 [s0@group-E9DF46100762-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E9DF46100762-LeaderElection13
2022-08-31 10:00:53,395 [s0@group-E9DF46100762-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E9DF46100762-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,395 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:53,395 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:53,395 [s0@group-E9DF46100762-LeaderElection13-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 10:00:53,396 [s0@group-E9DF46100762-LeaderElection13-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 10:00:53,402 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E9DF46100762: receive requestVote(PRE_VOTE, s0, group-E9DF46100762, 0, (t:0, i:0))
2022-08-31 10:00:53,402 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E9DF46100762-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:53,402 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E9DF46100762 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-E9DF46100762:t0, leader=null, voted=, raftlog=Memoized:s1@group-E9DF46100762-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,403 [s0@group-E9DF46100762-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E9DF46100762-LeaderElection13: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:53,404 [s0@group-E9DF46100762-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-31 10:00:53,404 [s0@group-E9DF46100762-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E9DF46100762-LeaderElection13 PRE_VOTE round 0: result PASSED
2022-08-31 10:00:53,405 [s0@group-E9DF46100762-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E9DF46100762-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,407 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E9DF46100762: receive requestVote(ELECTION, s0, group-E9DF46100762, 1, (t:0, i:0))
2022-08-31 10:00:53,407 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E9DF46100762-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:53,407 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E9DF46100762: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-31 10:00:53,407 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E9DF46100762-FollowerState
2022-08-31 10:00:53,407 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E9DF46100762-FollowerState
2022-08-31 10:00:53,407 [s1@group-E9DF46100762-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E9DF46100762-FollowerState was interrupted
2022-08-31 10:00:53,410 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:53,411 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:53,412 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E9DF46100762 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-E9DF46100762:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-E9DF46100762-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,414 [s1@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:53,414 [s1@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:53,415 [s0@group-E9DF46100762-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E9DF46100762-LeaderElection13: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:53,415 [s0@group-E9DF46100762-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-31 10:00:53,415 [s0@group-E9DF46100762-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E9DF46100762-LeaderElection13 ELECTION round 0: result PASSED
2022-08-31 10:00:53,415 [s0@group-E9DF46100762-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E9DF46100762-LeaderElection13
2022-08-31 10:00:53,415 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E9DF46100762: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 10:00:53,415 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-E9DF46100762: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 209ms
2022-08-31 10:00:53,415 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:53,416 [s0@group-E9DF46100762-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E9DF46100762-LeaderStateImpl
2022-08-31 10:00:53,417 [s0@group-E9DF46100762-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s0@group-E9DF46100762-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:53,415 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E9DF46100762: receive requestVote(PRE_VOTE, s0, group-E9DF46100762, 0, (t:0, i:0))
2022-08-31 10:00:53,418 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E9DF46100762-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:53,418 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E9DF46100762 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-E9DF46100762:t0, leader=null, voted=, raftlog=Memoized:s2@group-E9DF46100762-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,427 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E9DF46100762: receive requestVote(ELECTION, s0, group-E9DF46100762, 1, (t:0, i:0))
2022-08-31 10:00:53,427 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E9DF46100762-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:00:53,427 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E9DF46100762: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-31 10:00:53,427 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E9DF46100762-FollowerState
2022-08-31 10:00:53,427 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E9DF46100762-FollowerState
2022-08-31 10:00:53,427 [s2@group-E9DF46100762-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E9DF46100762-FollowerState was interrupted
2022-08-31 10:00:53,430 [s0@group-E9DF46100762-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-E9DF46100762: set configuration 0: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,433 [s2@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:53,433 [s2@group-E9DF46100762-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:53,434 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E9DF46100762 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-E9DF46100762:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-E9DF46100762-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,449 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-E9DF46100762: change Leader from null to s0 at term 1 for appendEntries, leader elected after 238ms
2022-08-31 10:00:53,449 [s0@group-E9DF46100762-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-E9DF46100762-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s0/c2ff9441-d862-4c82-a4d7-e9df46100762/current/log_inprogress_0
2022-08-31 10:00:53,454 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-E9DF46100762: change Leader from null to s0 at term 1 for appendEntries, leader elected after 239ms
2022-08-31 10:00:53,454 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-E9DF46100762: set configuration 0: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,455 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-E9DF46100762: set configuration 0: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:53,455 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s1@group-E9DF46100762-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:53,455 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s2@group-E9DF46100762-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:53,472 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,472 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,472 [s2@group-E9DF46100762-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s2@group-E9DF46100762-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s2/c2ff9441-d862-4c82-a4d7-e9df46100762/current/log_inprogress_0
2022-08-31 10:00:53,473 [s1@group-E9DF46100762-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s1@group-E9DF46100762-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc1db1d96a/s1/c2ff9441-d862-4c82-a4d7-e9df46100762/current/log_inprogress_0
2022-08-31 10:00:53,480 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B28952CD926A->s0: receive RaftClientReply:client-B28952CD926A->s0@group-E9DF46100762, cid=36, SUCCESS, logIndex=0, commits[s0:c0, s1:c-1, s2:c-1]
2022-08-31 10:00:53,484 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-B28952CD926A
2022-08-31 10:00:53,485 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B28952CD926A->s0: receive RaftClientReply:client-B28952CD926A->s0@group-E9DF46100762, cid=37, SUCCESS, logIndex=1, commits[s0:c1, s1:c-1, s2:c0]
2022-08-31 10:00:53,486 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-B28952CD926A
2022-08-31 10:00:53,488 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-08-31 10:00:53,489 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,489 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,491 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,491 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,492 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,492 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,494 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,494 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,496 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,496 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,498 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,498 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,507 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-B28952CD926A
2022-08-31 10:00:53,509 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,510 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,512 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0E74097DA2B2->s0: receive RaftClientReply:client-0E74097DA2B2->s0@group-E9DF46100762, cid=44, SUCCESS, logIndex=2, commits[s0:c2, s1:c0, s2:c1]
2022-08-31 10:00:53,515 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A60240E46718->s0: receive RaftClientReply:client-A60240E46718->s0@group-E9DF46100762, cid=40, SUCCESS, logIndex=2, commits[s0:c2, s1:c0, s2:c1]
2022-08-31 10:00:53,515 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,516 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,520 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,520 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,522 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,522 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,524 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,524 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,530 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-3DC94E9822CC->s0: receive RaftClientReply:client-3DC94E9822CC->s0@group-E9DF46100762, cid=46, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-31 10:00:53,532 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B1D01D2694F9->s0: receive RaftClientReply:client-B1D01D2694F9->s0@group-E9DF46100762, cid=38, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-31 10:00:53,535 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-83190A177B12->s0: receive RaftClientReply:client-83190A177B12->s0@group-E9DF46100762, cid=42, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-31 10:00:53,561 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-95C4CCD8AB7C->s0: receive RaftClientReply:client-95C4CCD8AB7C->s0@group-E9DF46100762, cid=48, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2022-08-31 10:00:53,563 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D9999F34617E->s0: receive RaftClientReply:client-D9999F34617E->s0@group-E9DF46100762, cid=50, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2022-08-31 10:00:53,566 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-8A43BAA3AC92->s0: receive RaftClientReply:client-8A43BAA3AC92->s0@group-E9DF46100762, cid=54, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2022-08-31 10:00:53,574 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-AD14BAB4A954->s0: receive RaftClientReply:client-AD14BAB4A954->s0@group-E9DF46100762, cid=52, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:53,574 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-01CD2C5287AA->s0: receive RaftClientReply:client-01CD2C5287AA->s0@group-E9DF46100762, cid=58, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2022-08-31 10:00:53,582 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D63C676E4B62->s0: receive RaftClientReply:client-D63C676E4B62->s0@group-E9DF46100762, cid=56, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 10:00:53,596 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E9DF46100762: Failed to acquire a pending write request for RaftClientRequest:client-D63C676E4B62->s0@group-E9DF46100762, cid=57, seq=2, RW, Message:6d6573736167652038
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E9DF46100762: Failed to acquire a pending write request for RaftClientRequest:client-D63C676E4B62->s0@group-E9DF46100762, cid=57, seq=2, RW, Message:6d6573736167652038
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:760)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:872)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:809)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:809)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:880)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:879)
		... 7 more
2022-08-31 10:00:53,827 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-08-31 10:00:53,829 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, message 2 -> (t:1, i:3), STATEMACHINELOGENTRY, 45@client-0E74097DA2B2
2022-08-31 10:00:53,832 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-A60240E46718
2022-08-31 10:00:53,832 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, 47@client-3DC94E9822CC
2022-08-31 10:00:53,832 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 43@client-83190A177B12
2022-08-31 10:00:53,833 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0E74097DA2B2->s0: receive RaftClientReply:client-0E74097DA2B2->s0@group-E9DF46100762, cid=45, SUCCESS, logIndex=3, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:53,834 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, 2nd Messag... -> (t:1, i:7), STATEMACHINELOGENTRY, 39@client-B1D01D2694F9
2022-08-31 10:00:53,835 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 5 -> (t:1, i:8), STATEMACHINELOGENTRY, 51@client-D9999F34617E
2022-08-31 10:00:53,835 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, 55@client-8A43BAA3AC92
2022-08-31 10:00:53,835 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 49@client-95C4CCD8AB7C
2022-08-31 10:00:53,835 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, 59@client-01CD2C5287AA
2022-08-31 10:00:53,835 [s0@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, 53@client-AD14BAB4A954
2022-08-31 10:00:53,837 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:53,837 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:53,833 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A60240E46718->s0: receive RaftClientReply:client-A60240E46718->s0@group-E9DF46100762, cid=41, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:53,840 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B1D01D2694F9->s0: receive RaftClientReply:client-B1D01D2694F9->s0@group-E9DF46100762, cid=39, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:53,840 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-3DC94E9822CC->s0: receive RaftClientReply:client-3DC94E9822CC->s0@group-E9DF46100762, cid=47, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:53,840 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, message 2 -> (t:1, i:3), STATEMACHINELOGENTRY, 45@client-0E74097DA2B2
2022-08-31 10:00:53,840 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-A60240E46718
2022-08-31 10:00:53,841 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, 47@client-3DC94E9822CC
2022-08-31 10:00:53,841 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-95C4CCD8AB7C->s0: receive RaftClientReply:client-95C4CCD8AB7C->s0@group-E9DF46100762, cid=49, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:53,841 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, message 2 -> (t:1, i:3), STATEMACHINELOGENTRY, 45@client-0E74097DA2B2
2022-08-31 10:00:53,842 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-01CD2C5287AA->s0: receive RaftClientReply:client-01CD2C5287AA->s0@group-E9DF46100762, cid=59, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:53,842 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-8A43BAA3AC92->s0: receive RaftClientReply:client-8A43BAA3AC92->s0@group-E9DF46100762, cid=55, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:53,842 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-83190A177B12->s0: receive RaftClientReply:client-83190A177B12->s0@group-E9DF46100762, cid=43, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:53,842 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D9999F34617E->s0: receive RaftClientReply:client-D9999F34617E->s0@group-E9DF46100762, cid=51, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:53,843 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-A60240E46718
2022-08-31 10:00:53,843 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, 47@client-3DC94E9822CC
2022-08-31 10:00:53,843 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 43@client-83190A177B12
2022-08-31 10:00:53,843 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, 2nd Messag... -> (t:1, i:7), STATEMACHINELOGENTRY, 39@client-B1D01D2694F9
2022-08-31 10:00:53,843 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 5 -> (t:1, i:8), STATEMACHINELOGENTRY, 51@client-D9999F34617E
2022-08-31 10:00:53,843 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, 55@client-8A43BAA3AC92
2022-08-31 10:00:53,844 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 49@client-95C4CCD8AB7C
2022-08-31 10:00:53,844 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, 59@client-01CD2C5287AA
2022-08-31 10:00:53,844 [s2@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, 53@client-AD14BAB4A954
2022-08-31 10:00:53,841 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 43@client-83190A177B12
2022-08-31 10:00:53,844 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, 2nd Messag... -> (t:1, i:7), STATEMACHINELOGENTRY, 39@client-B1D01D2694F9
2022-08-31 10:00:53,845 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 5 -> (t:1, i:8), STATEMACHINELOGENTRY, 51@client-D9999F34617E
2022-08-31 10:00:53,845 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, 55@client-8A43BAA3AC92
2022-08-31 10:00:53,845 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 49@client-95C4CCD8AB7C
2022-08-31 10:00:53,845 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, 59@client-01CD2C5287AA
2022-08-31 10:00:53,845 [s1@group-E9DF46100762-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, 53@client-AD14BAB4A954
2022-08-31 10:00:53,851 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-AD14BAB4A954->s0: receive RaftClientReply:client-AD14BAB4A954->s0@group-E9DF46100762, cid=53, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 10:00:53,859 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-895267D3B426->s0: receive RaftClientReply:client-895267D3B426->s0@group-E9DF46100762, cid=60, SUCCESS, logIndex=14, commits[s0:c14, s1:c12, s2:c12]
2022-08-31 10:00:53,873 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E9DF46100762: Failed to acquire a pending write request for RaftClientRequest:client-895267D3B426->s0@group-E9DF46100762, cid=61, seq=2, RW, Message:fa5b3d17740b2882023f...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E9DF46100762: Failed to acquire a pending write request for RaftClientRequest:client-895267D3B426->s0@group-E9DF46100762, cid=61, seq=2, RW, Message:fa5b3d17740b2882023f...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:760)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:872)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:809)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:809)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:880)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:879)
		... 7 more
2022-08-31 10:00:54,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 10:00:54,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 10:00:54,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 10:00:54,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 10:00:54,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 10:00:54,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E9DF46100762:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E9DF46100762-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E9DF46100762:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-E9DF46100762-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E9DF46100762:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-E9DF46100762-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:33791|admin:localhost:33713|client:localhost:38717|dataStream:localhost:39489|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36397|admin:localhost:32813|client:localhost:42819|dataStream:localhost:34783|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37145|admin:localhost:40871|client:localhost:39085|dataStream:localhost:39061|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:54,169 [java.util.concurrent.ThreadPoolExecutor$Worker@23780590[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 10:00:54,173 [java.util.concurrent.ThreadPoolExecutor$Worker@23780590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:54,173 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-E9DF46100762: shutdown
2022-08-31 10:00:54,173 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E9DF46100762,id=s0
2022-08-31 10:00:54,173 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E9DF46100762-LeaderStateImpl
2022-08-31 10:00:54,173 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 10:00:54,173 [s0@group-E9DF46100762->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-E9DF46100762->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:54,174 [s0@group-E9DF46100762->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-E9DF46100762->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:00:54,174 [java.util.concurrent.ThreadPoolExecutor$Worker@61b7fe17[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 10:00:54,174 [java.util.concurrent.ThreadPoolExecutor$Worker@644d6802[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 10:00:54,174 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 10:00:54,174 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#34-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-08-31 10:00:54,175 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 10:00:54,173 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E9DF46100762-PendingRequests: sendNotLeaderResponses
2022-08-31 10:00:54,174 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#33-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-08-31 10:00:54,175 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-E9DF46100762->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:54,175 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s0@group-E9DF46100762->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:407)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:54,175 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-E9DF46100762->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:54,176 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-E9DF46100762->s2: nextIndex: updateUnconditionally 15 -> 14
2022-08-31 10:00:54,176 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-E9DF46100762->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:54,176 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s0@group-E9DF46100762->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:407)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:54,176 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 10:00:54,177 [java.util.concurrent.ThreadPoolExecutor$Worker@23780590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:54,177 [java.util.concurrent.ThreadPoolExecutor$Worker@23780590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:54,177 [java.util.concurrent.ThreadPoolExecutor$Worker@23780590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:54,177 [java.util.concurrent.ThreadPoolExecutor$Worker@23780590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:54,177 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-E9DF46100762: shutdown
2022-08-31 10:00:54,177 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E9DF46100762,id=s1
2022-08-31 10:00:54,177 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E9DF46100762-FollowerState
2022-08-31 10:00:54,178 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-E9DF46100762-StateMachineUpdater: set stopIndex = 14
2022-08-31 10:00:54,178 [s1@group-E9DF46100762-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E9DF46100762-FollowerState was interrupted
2022-08-31 10:00:54,178 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-E9DF46100762: applyIndex: 14
2022-08-31 10:00:54,178 [s1@group-E9DF46100762-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s1@group-E9DF46100762-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:54,178 [java.util.concurrent.ThreadPoolExecutor$Worker@61b7fe17[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:54,178 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-E9DF46100762: shutdown
2022-08-31 10:00:54,178 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E9DF46100762,id=s2
2022-08-31 10:00:54,178 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E9DF46100762-FollowerState
2022-08-31 10:00:54,178 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-E9DF46100762-StateMachineUpdater: set stopIndex = 14
2022-08-31 10:00:54,178 [s2@group-E9DF46100762-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E9DF46100762-FollowerState was interrupted
2022-08-31 10:00:54,178 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-E9DF46100762: applyIndex: 14
2022-08-31 10:00:54,179 [s2@group-E9DF46100762-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s2@group-E9DF46100762-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:54,179 [java.util.concurrent.ThreadPoolExecutor$Worker@644d6802[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:54,180 [java.util.concurrent.ThreadPoolExecutor$Worker@23780590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:54,181 [java.util.concurrent.ThreadPoolExecutor$Worker@61b7fe17[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:54,182 [java.util.concurrent.ThreadPoolExecutor$Worker@61b7fe17[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:54,181 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-E9DF46100762-StateMachineUpdater: set stopIndex = 14
2022-08-31 10:00:54,182 [java.util.concurrent.ThreadPoolExecutor$Worker@61b7fe17[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:54,182 [java.util.concurrent.ThreadPoolExecutor$Worker@61b7fe17[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:54,182 [java.util.concurrent.ThreadPoolExecutor$Worker@644d6802[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:54,183 [java.util.concurrent.ThreadPoolExecutor$Worker@644d6802[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:54,182 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-E9DF46100762->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:00:54,183 [java.util.concurrent.ThreadPoolExecutor$Worker@61b7fe17[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:54,182 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s2@group-E9DF46100762-SegmentedRaftLogWorker close()
2022-08-31 10:00:54,182 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s1@group-E9DF46100762-SegmentedRaftLogWorker close()
2022-08-31 10:00:54,183 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(129)) - s0@group-E9DF46100762->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:108)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:113)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:407)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:54,182 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-E9DF46100762: applyIndex: 14
2022-08-31 10:00:54,184 [s0@group-E9DF46100762-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s0@group-E9DF46100762-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:54,186 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s0@group-E9DF46100762-SegmentedRaftLogWorker close()
2022-08-31 10:00:54,187 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@55c77d03] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 10:00:54,187 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@cdd3ff9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 10:00:54,187 [java.util.concurrent.ThreadPoolExecutor$Worker@644d6802[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:54,187 [java.util.concurrent.ThreadPoolExecutor$Worker@644d6802[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:54,187 [java.util.concurrent.ThreadPoolExecutor$Worker@644d6802[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:54,188 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@4defb744] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 10:00:54,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 10:00:54,188 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 10:00:54,188 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 10:00:54,188 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 10:00:54,189 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 10:00:54,189 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-73EF09DE158D:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]
2022-08-31 10:00:54,190 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 10:00:54,190 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 10:00:54,190 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 10:00:54,190 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 10:00:54,190 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 10:00:54,190 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 10:00:54,190 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-73EF09DE158D:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:54,190 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0
2022-08-31 10:00:54,190 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0 does not exist.
2022-08-31 10:00:54,190 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0
2022-08-31 10:00:54,190 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:54,190 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:54,191 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38749 (custom)
2022-08-31 10:00:54,191 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:54,191 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37183 (custom)
2022-08-31 10:00:54,191 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:54,191 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37081 (custom)
2022-08-31 10:00:54,191 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:54,191 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:54,191 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:54,191 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:54,191 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:54,191 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:54,191 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:54,192 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:54,192 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:54,192 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:54,192 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:54,192 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:54,192 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0] (custom)
2022-08-31 10:00:54,193 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-73EF09DE158D:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER] returns group-73EF09DE158D:java.util.concurrent.CompletableFuture@c0a43d0[Not completed]
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-73EF09DE158D:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:54,193 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-73EF09DE158D: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:54,194 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:54,194 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:54,194 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:54,194 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:54,194 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:54,194 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:54,194 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:54,194 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:54,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:54,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:54,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0] (custom)
2022-08-31 10:00:54,202 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0/4638d760-6b40-44fa-bf98-73ef09de158d does not exist. Creating ...
2022-08-31 10:00:54,202 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0/4638d760-6b40-44fa-bf98-73ef09de158d
2022-08-31 10:00:54,204 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0/4638d760-6b40-44fa-bf98-73ef09de158d/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:54,204 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0/4638d760-6b40-44fa-bf98-73ef09de158d/current
2022-08-31 10:00:54,204 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0/4638d760-6b40-44fa-bf98-73ef09de158d/sm
2022-08-31 10:00:54,205 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0/4638d760-6b40-44fa-bf98-73ef09de158d has been successfully formatted.
2022-08-31 10:00:54,205 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:54,205 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:54,205 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:54,205 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:54,205 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:54,205 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:54,205 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:54,205 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-73EF09DE158D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0/4638d760-6b40-44fa-bf98-73ef09de158d
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:54,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:54,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:54,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:54,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:54,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:54,207 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-73EF09DE158D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:54,207 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-73EF09DE158D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:54,210 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-73EF09DE158D: start as a follower, conf=-1: peers:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:54,210 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-73EF09DE158D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:54,210 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-73EF09DE158D-FollowerState
2022-08-31 10:00:54,210 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-73EF09DE158D,id=s0
2022-08-31 10:00:54,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:54,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:54,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:54,211 [s0@group-73EF09DE158D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:54,211 [s0@group-73EF09DE158D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:54,211 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 10:00:54,212 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 37183
2022-08-31 10:00:54,212 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 37081
2022-08-31 10:00:54,212 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 38749
2022-08-31 10:00:54,213 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@4908dc35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 10:00:54,213 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:54,214 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-73EF09DE158D:t0, leader=null, voted=, raftlog=Memoized:s0@group-73EF09DE158D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:54,214 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-73EF09DE158D:t0, leader=null, voted=, raftlog=Memoized:s0@group-73EF09DE158D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-73EF09DE158D:t0, leader=null, voted=, raftlog=Memoized:s0@group-73EF09DE158D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:152)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:54,385 [s0@group-73EF09DE158D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-73EF09DE158D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:175058381ns, electionTimeout:174ms
2022-08-31 10:00:54,385 [s0@group-73EF09DE158D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-73EF09DE158D-FollowerState
2022-08-31 10:00:54,385 [s0@group-73EF09DE158D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-73EF09DE158D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:54,386 [s0@group-73EF09DE158D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:54,386 [s0@group-73EF09DE158D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-73EF09DE158D-LeaderElection14
2022-08-31 10:00:54,387 [s0@group-73EF09DE158D-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-73EF09DE158D-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:54,387 [s0@group-73EF09DE158D-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-73EF09DE158D-LeaderElection14 PRE_VOTE round 0: result PASSED (term=0)
2022-08-31 10:00:54,388 [s0@group-73EF09DE158D-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-73EF09DE158D-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:54,388 [s0@group-73EF09DE158D-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-73EF09DE158D-LeaderElection14 ELECTION round 0: result PASSED (term=1)
2022-08-31 10:00:54,388 [s0@group-73EF09DE158D-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-73EF09DE158D-LeaderElection14
2022-08-31 10:00:54,388 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-73EF09DE158D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 10:00:54,388 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-73EF09DE158D: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 194ms
2022-08-31 10:00:54,388 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:54,389 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:54,389 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 10:00:54,389 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:54,389 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:54,389 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:54,389 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:54,389 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:54,389 [s0@group-73EF09DE158D-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-73EF09DE158D-LeaderStateImpl
2022-08-31 10:00:54,389 [s0@group-73EF09DE158D-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s0@group-73EF09DE158D-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:54,394 [s0@group-73EF09DE158D-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-73EF09DE158D: set configuration 0: peers:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:54,400 [s0@group-73EF09DE158D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-73EF09DE158D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpca3af44d7/s0/4638d760-6b40-44fa-bf98-73ef09de158d/current/log_inprogress_0
2022-08-31 10:00:54,664 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-73EF09DE158D:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-73EF09DE158D-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:54,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:54,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38749 (custom)
2022-08-31 10:00:54,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:54,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37183 (custom)
2022-08-31 10:00:54,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:54,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37081 (custom)
2022-08-31 10:00:54,665 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:54,665 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:54,665 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:54,665 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:54,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:54,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:54,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:54,666 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-08-31 10:00:54,667 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:318)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:156)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:54,667 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-08-31 10:00:54,667 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:324)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:160)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:54,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 10:00:54,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 10:00:54,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 10:00:54,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 10:00:54,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 10:00:54,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-73EF09DE158D:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-73EF09DE158D-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37081|admin:localhost:38749|client:localhost:37183|dataStream:localhost:42577|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:54,669 [java.util.concurrent.ThreadPoolExecutor$Worker@2927237a[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 10:00:54,669 [java.util.concurrent.ThreadPoolExecutor$Worker@2927237a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:54,670 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-73EF09DE158D: shutdown
2022-08-31 10:00:54,670 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-73EF09DE158D,id=s0
2022-08-31 10:00:54,670 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-73EF09DE158D-LeaderStateImpl
2022-08-31 10:00:54,670 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-73EF09DE158D-PendingRequests: sendNotLeaderResponses
2022-08-31 10:00:54,670 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-73EF09DE158D-StateMachineUpdater: set stopIndex = 0
2022-08-31 10:00:54,674 [java.util.concurrent.ThreadPoolExecutor$Worker@2927237a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:54,674 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-73EF09DE158D: applyIndex: 0
2022-08-31 10:00:54,674 [java.util.concurrent.ThreadPoolExecutor$Worker@2927237a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:54,674 [java.util.concurrent.ThreadPoolExecutor$Worker@2927237a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:54,675 [java.util.concurrent.ThreadPoolExecutor$Worker@2927237a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:54,674 [s0@group-73EF09DE158D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s0@group-73EF09DE158D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:54,676 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s0@group-73EF09DE158D-SegmentedRaftLogWorker close()
2022-08-31 10:00:54,678 [java.util.concurrent.ThreadPoolExecutor$Worker@2927237a[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:54,678 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@4908dc35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 10:00:54,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 10:00:54,679 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 10:00:54,679 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 10:00:54,679 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 10:00:54,679 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 10:00:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-76DEC652B622:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]
2022-08-31 10:00:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 10:00:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 10:00:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 10:00:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 10:00:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 10:00:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 10:00:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-76DEC652B622:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:54,680 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0
2022-08-31 10:00:54,680 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0 does not exist.
2022-08-31 10:00:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0
2022-08-31 10:00:54,681 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42039 (custom)
2022-08-31 10:00:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41619 (custom)
2022-08-31 10:00:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:54,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39407 (custom)
2022-08-31 10:00:54,682 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:54,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:54,682 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:54,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:54,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:54,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:54,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:54,683 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:54,683 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:54,683 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:54,683 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:54,683 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:54,683 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0] (custom)
2022-08-31 10:00:54,684 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-76DEC652B622:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER] returns group-76DEC652B622:java.util.concurrent.CompletableFuture@50f75931[Not completed]
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-76DEC652B622:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-76DEC652B622: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:54,684 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:54,687 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:54,687 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:54,687 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:54,687 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:54,687 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:54,687 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:54,687 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:54,687 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0] (custom)
2022-08-31 10:00:54,687 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622 does not exist. Creating ...
2022-08-31 10:00:54,687 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622
2022-08-31 10:00:54,691 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:54,691 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622/current
2022-08-31 10:00:54,691 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622/sm
2022-08-31 10:00:54,694 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622 has been successfully formatted.
2022-08-31 10:00:54,694 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-76DEC652B622-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:54,696 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-76DEC652B622-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:54,696 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-76DEC652B622-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:54,698 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-76DEC652B622: start as a follower, conf=-1: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:54,698 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-76DEC652B622: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:54,698 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76DEC652B622-FollowerState
2022-08-31 10:00:54,701 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-76DEC652B622,id=s0
2022-08-31 10:00:54,701 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:54,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:54,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:54,702 [s0@group-76DEC652B622-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:54,702 [s0@group-76DEC652B622-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:54,705 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 10:00:54,706 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 41619
2022-08-31 10:00:54,706 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39407
2022-08-31 10:00:54,706 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42039
2022-08-31 10:00:54,707 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@15f5dd4b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 10:00:54,707 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:54,707 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76DEC652B622:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DEC652B622-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:54,707 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76DEC652B622:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DEC652B622-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76DEC652B622:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DEC652B622-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:118)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:101)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:54,886 [s0@group-76DEC652B622-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-76DEC652B622-FollowerState: change to CANDIDATE, lastRpcElapsedTime:188193477ns, electionTimeout:184ms
2022-08-31 10:00:54,886 [s0@group-76DEC652B622-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-76DEC652B622-FollowerState
2022-08-31 10:00:54,887 [s0@group-76DEC652B622-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-76DEC652B622: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:54,887 [s0@group-76DEC652B622-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:54,887 [s0@group-76DEC652B622-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76DEC652B622-LeaderElection15
2022-08-31 10:00:54,887 [s0@group-76DEC652B622-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-76DEC652B622-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:54,888 [s0@group-76DEC652B622-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-76DEC652B622-LeaderElection15 PRE_VOTE round 0: result PASSED (term=0)
2022-08-31 10:00:54,889 [s0@group-76DEC652B622-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-76DEC652B622-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:54,889 [s0@group-76DEC652B622-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-76DEC652B622-LeaderElection15 ELECTION round 0: result PASSED (term=1)
2022-08-31 10:00:54,889 [s0@group-76DEC652B622-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-76DEC652B622-LeaderElection15
2022-08-31 10:00:54,889 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-76DEC652B622: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 10:00:54,889 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-76DEC652B622: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 204ms
2022-08-31 10:00:54,889 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:54,889 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:54,889 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 10:00:54,890 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:54,890 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:54,890 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:54,890 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:54,890 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:54,890 [s0@group-76DEC652B622-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76DEC652B622-LeaderStateImpl
2022-08-31 10:00:54,890 [s0@group-76DEC652B622-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s0@group-76DEC652B622-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:54,894 [s0@group-76DEC652B622-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-76DEC652B622: set configuration 0: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:54,904 [s0@group-76DEC652B622-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-76DEC652B622-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622/current/log_inprogress_0
2022-08-31 10:00:55,158 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-76DEC652B622:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-76DEC652B622-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:55,159 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:55,159 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:55,159 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42039 (custom)
2022-08-31 10:00:55,159 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:55,159 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41619 (custom)
2022-08-31 10:00:55,159 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:55,159 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39407 (custom)
2022-08-31 10:00:55,159 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:55,159 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:55,159 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:55,159 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:55,159 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:55,159 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:55,159 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:55,160 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:55,160 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:55,161 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:55,161 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:55,161 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:55,161 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0] (custom)
2022-08-31 10:00:55,162 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622
2022-08-31 10:00:55,162 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-76DEC652B622:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER] returns group-76DEC652B622:java.util.concurrent.CompletableFuture@75da2204[Not completed]
2022-08-31 10:00:55,162 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-76DEC652B622:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-76DEC652B622
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-76DEC652B622: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:55,163 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:55,164 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:55,164 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:55,164 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:55,164 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:55,164 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:00:55,164 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 10:00:55,164 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:00:55,164 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:00:55,164 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:00:55,164 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-08-31 10:00:55,165 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:55,165 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:55,165 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42039 (custom)
2022-08-31 10:00:55,165 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:55,165 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41619 (custom)
2022-08-31 10:00:55,165 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:55,165 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39407 (custom)
2022-08-31 10:00:55,165 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:55,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:55,165 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:55,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:55,165 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:55,165 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:55,165 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:55,166 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:55,166 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:55,166 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:55,166 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:55,166 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:55,166 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0] (custom)
2022-08-31 10:00:55,167 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622
2022-08-31 10:00:55,167 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-76DEC652B622:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER] returns group-76DEC652B622:java.util.concurrent.CompletableFuture@557a79de[Not completed]
2022-08-31 10:00:55,167 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-76DEC652B622:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-76DEC652B622
2022-08-31 10:00:55,167 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:55,167 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:55,167 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:55,167 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:55,167 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:55,167 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:55,167 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-76DEC652B622: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:55,168 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:55,168 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:55,168 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:55,168 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:55,168 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:55,168 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:55,168 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:55,168 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:55,168 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:55,168 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:55,168 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0] (custom)
2022-08-31 10:00:55,169 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:55,169 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 10:00:56,169 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:56,170 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 10:00:56,189 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(304)) - s2@group-91A4F36A44EC->s1-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=73,entriesCount=2,lastEntry=(t:1, i:2)
2022-08-31 10:00:57,170 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:57,171 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 10:00:58,171 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:58,172 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 10:00:59,172 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:59,173 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc71973c9/s0/24c18b42-6750-4695-a2e5-76dec652b622. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 10:00:59,173 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:59,174 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42039 (custom)
2022-08-31 10:00:59,174 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:59,174 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41619 (custom)
2022-08-31 10:00:59,174 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:59,174 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39407 (custom)
2022-08-31 10:00:59,174 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:59,174 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:59,174 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:59,174 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:59,174 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:59,174 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:59,174 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:59,175 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 10:00:59,175 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 10:00:59,175 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 10:00:59,175 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 10:00:59,175 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 10:00:59,175 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-76DEC652B622:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-76DEC652B622-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39407|admin:localhost:42039|client:localhost:41619|dataStream:localhost:44675|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:59,176 [java.util.concurrent.ThreadPoolExecutor$Worker@7e91f235[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 10:00:59,176 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-76DEC652B622: shutdown
2022-08-31 10:00:59,176 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-76DEC652B622,id=s0
2022-08-31 10:00:59,176 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-76DEC652B622-LeaderStateImpl
2022-08-31 10:00:59,176 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-76DEC652B622-PendingRequests: sendNotLeaderResponses
2022-08-31 10:00:59,177 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-76DEC652B622-StateMachineUpdater: set stopIndex = 0
2022-08-31 10:00:59,177 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-76DEC652B622: applyIndex: 0
2022-08-31 10:00:59,177 [s0@group-76DEC652B622-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s0@group-76DEC652B622-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:00:59,178 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s0@group-76DEC652B622-SegmentedRaftLogWorker close()
2022-08-31 10:00:59,178 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@15f5dd4b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 10:00:59,178 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 10:00:59,179 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 10:00:59,179 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 10:00:59,179 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 10:00:59,179 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 10:00:59,180 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-0374CDEFDD5E:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]
2022-08-31 10:00:59,180 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 10:00:59,180 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 10:00:59,180 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 10:00:59,180 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 10:00:59,180 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 10:00:59,180 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 10:00:59,180 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-0374CDEFDD5E:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:59,180 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0
2022-08-31 10:00:59,181 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0 does not exist.
2022-08-31 10:00:59,181 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0
2022-08-31 10:00:59,181 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:59,181 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:59,181 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44247 (custom)
2022-08-31 10:00:59,181 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:59,181 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43495 (custom)
2022-08-31 10:00:59,181 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:59,181 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38579 (custom)
2022-08-31 10:00:59,181 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:59,181 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:59,181 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:59,182 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:59,182 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:59,182 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:59,182 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:59,183 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:59,183 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:59,183 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:59,183 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:59,183 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:59,183 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0] (custom)
2022-08-31 10:00:59,183 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-0374CDEFDD5E:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER] returns group-0374CDEFDD5E:java.util.concurrent.CompletableFuture@2f02cd7c[Not completed]
2022-08-31 10:00:59,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-0374CDEFDD5E:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:59,184 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1
2022-08-31 10:00:59,184 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1 does not exist.
2022-08-31 10:00:59,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1
2022-08-31 10:00:59,184 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:59,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:59,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45911 (custom)
2022-08-31 10:00:59,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:59,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41419 (custom)
2022-08-31 10:00:59,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:59,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42147 (custom)
2022-08-31 10:00:59,184 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:59,184 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:59,184 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:59,184 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:59,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:59,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:59,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:59,185 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:59,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:59,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:59,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:59,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:59,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1] (custom)
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-0374CDEFDD5E:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-0374CDEFDD5E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:59,186 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:59,187 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:59,187 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:59,187 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:59,187 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:59,187 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:59,187 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:59,187 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:59,187 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-0374CDEFDD5E:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER] returns group-0374CDEFDD5E:java.util.concurrent.CompletableFuture@5ba0dbb2[Not completed]
2022-08-31 10:00:59,187 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-0374CDEFDD5E:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 10:00:59,187 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:59,187 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:59,188 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2 does not exist.
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-0374CDEFDD5E:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:59,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:59,188 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-0374CDEFDD5E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:59,188 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:59,188 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41389 (custom)
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:59,188 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:59,188 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 10:00:59,188 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40577 (custom)
2022-08-31 10:00:59,188 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 10:00:59,188 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33277 (custom)
2022-08-31 10:00:59,188 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:59,188 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:59,189 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:59,189 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:59,189 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:59,189 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 10:00:59,189 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 10:00:59,189 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:59,189 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:59,189 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:59,189 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:59,189 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:59,189 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 10:00:59,189 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 10:00:59,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 10:00:59,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:59,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:59,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2] (custom)
2022-08-31 10:00:59,196 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-0374CDEFDD5E:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER] returns group-0374CDEFDD5E:java.util.concurrent.CompletableFuture@42e67e57[Not completed]
2022-08-31 10:00:59,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:59,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:59,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0] (custom)
2022-08-31 10:00:59,196 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e does not exist. Creating ...
2022-08-31 10:00:59,197 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e
2022-08-31 10:00:59,197 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:59,197 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:59,197 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:59,197 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-0374CDEFDD5E:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:59,198 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 10:00:59,198 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:59,198 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 10:00:59,198 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 10:00:59,198 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 10:00:59,198 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 10:00:59,198 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-0374CDEFDD5E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 10:00:59,198 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 10:00:59,198 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 10:00:59,198 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 10:00:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 10:00:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 10:00:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 10:00:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 10:00:59,200 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:59,201 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e/current
2022-08-31 10:00:59,201 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e/sm
2022-08-31 10:00:59,205 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e has been successfully formatted.
2022-08-31 10:00:59,205 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:59,205 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:59,205 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s0@group-0374CDEFDD5E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:59,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:59,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:59,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:59,207 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-0374CDEFDD5E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:59,207 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-0374CDEFDD5E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:59,214 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-0374CDEFDD5E: start as a follower, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,214 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0374CDEFDD5E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:59,214 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0374CDEFDD5E-FollowerState
2022-08-31 10:00:59,218 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0374CDEFDD5E,id=s0
2022-08-31 10:00:59,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:59,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:59,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:59,218 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 10:00:59,218 [s0@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:59,219 [s0@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:59,219 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 43495
2022-08-31 10:00:59,219 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 38579
2022-08-31 10:00:59,220 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 44247
2022-08-31 10:00:59,220 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@1fc650f2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 10:00:59,220 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:59,220 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:59,220 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1] (custom)
2022-08-31 10:00:59,220 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e does not exist. Creating ...
2022-08-31 10:00:59,221 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e
2022-08-31 10:00:59,222 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:59,222 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e/current
2022-08-31 10:00:59,222 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e/sm
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e has been successfully formatted.
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:59,224 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s1@group-0374CDEFDD5E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-0374CDEFDD5E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:59,225 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-0374CDEFDD5E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:59,226 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-0374CDEFDD5E: start as a follower, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,226 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0374CDEFDD5E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:59,226 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0374CDEFDD5E-FollowerState
2022-08-31 10:00:59,227 [s1@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:59,227 [s1@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:59,227 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0374CDEFDD5E,id=s1
2022-08-31 10:00:59,227 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:59,227 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:59,227 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:59,228 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 10:00:59,228 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 41419
2022-08-31 10:00:59,230 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 42147
2022-08-31 10:00:59,230 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 45911
2022-08-31 10:00:59,231 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@7974bbb1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 10:00:59,231 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 10:00:59,231 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 10:00:59,231 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2] (custom)
2022-08-31 10:00:59,232 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e does not exist. Creating ...
2022-08-31 10:00:59,232 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e
2022-08-31 10:00:59,234 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e/in_use.lock acquired by nodename 8900@fv-az90-28
2022-08-31 10:00:59,234 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e/current
2022-08-31 10:00:59,234 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e/sm
2022-08-31 10:00:59,235 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e has been successfully formatted.
2022-08-31 10:00:59,235 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 10:00:59,235 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 10:00:59,235 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 10:00:59,235 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 10:00:59,235 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:59,235 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 10:00:59,235 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 10:00:59,235 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(190)) - new s2@group-0374CDEFDD5E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-0374CDEFDD5E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:59,236 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-0374CDEFDD5E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 10:00:59,237 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-0374CDEFDD5E: start as a follower, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,237 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-0374CDEFDD5E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 10:00:59,237 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0374CDEFDD5E-FollowerState
2022-08-31 10:00:59,237 [s2@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:59,237 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0374CDEFDD5E,id=s2
2022-08-31 10:00:59,237 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 10:00:59,237 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 10:00:59,237 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 10:00:59,237 [s2@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:59,237 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 10:00:59,238 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40577
2022-08-31 10:00:59,238 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 33277
2022-08-31 10:00:59,238 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 41389
2022-08-31 10:00:59,239 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@e61d739] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 10:00:59,239 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:59,239 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:59,240 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:170)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:59,408 [s1@group-0374CDEFDD5E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-0374CDEFDD5E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:182048432ns, electionTimeout:181ms
2022-08-31 10:00:59,408 [s1@group-0374CDEFDD5E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0374CDEFDD5E-FollowerState
2022-08-31 10:00:59,408 [s1@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0374CDEFDD5E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 10:00:59,409 [s1@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:00:59,409 [s1@group-0374CDEFDD5E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0374CDEFDD5E-LeaderElection16
2022-08-31 10:00:59,411 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-0374CDEFDD5E-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,412 [s1@group-0374CDEFDD5E-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 10:00:59,413 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:59,414 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:59,414 [s1@group-0374CDEFDD5E-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 10:00:59,419 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-0374CDEFDD5E: receive requestVote(PRE_VOTE, s1, group-0374CDEFDD5E, 0, (t:0, i:0))
2022-08-31 10:00:59,419 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-0374CDEFDD5E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:59,419 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-0374CDEFDD5E replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,421 [s0@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:59,421 [s0@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:59,421 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-0374CDEFDD5E-LeaderElection16: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:59,421 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-31 10:00:59,422 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-0374CDEFDD5E-LeaderElection16 PRE_VOTE round 0: result PASSED
2022-08-31 10:00:59,423 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0374CDEFDD5E: receive requestVote(PRE_VOTE, s1, group-0374CDEFDD5E, 0, (t:0, i:0))
2022-08-31 10:00:59,423 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0374CDEFDD5E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:59,423 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0374CDEFDD5E replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-0374CDEFDD5E:t0, leader=null, voted=, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,425 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-0374CDEFDD5E-LeaderElection16 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,427 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:59,427 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:59,428 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-0374CDEFDD5E: receive requestVote(ELECTION, s1, group-0374CDEFDD5E, 1, (t:0, i:0))
2022-08-31 10:00:59,428 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-0374CDEFDD5E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:59,428 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0374CDEFDD5E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-31 10:00:59,428 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0374CDEFDD5E-FollowerState
2022-08-31 10:00:59,428 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0374CDEFDD5E-FollowerState
2022-08-31 10:00:59,428 [s0@group-0374CDEFDD5E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0374CDEFDD5E-FollowerState was interrupted
2022-08-31 10:00:59,428 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0374CDEFDD5E: receive requestVote(ELECTION, s1, group-0374CDEFDD5E, 1, (t:0, i:0))
2022-08-31 10:00:59,433 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0374CDEFDD5E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 10:00:59,433 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-0374CDEFDD5E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-31 10:00:59,433 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0374CDEFDD5E-FollowerState
2022-08-31 10:00:59,433 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0374CDEFDD5E-FollowerState
2022-08-31 10:00:59,433 [s2@group-0374CDEFDD5E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0374CDEFDD5E-FollowerState was interrupted
2022-08-31 10:00:59,437 [s0@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:59,437 [s0@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:59,437 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-0374CDEFDD5E replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-0374CDEFDD5E:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,437 [s2@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 10:00:59,437 [s2@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 10:00:59,438 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-0374CDEFDD5E-LeaderElection16: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:00:59,438 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0374CDEFDD5E replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-0374CDEFDD5E:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,438 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-31 10:00:59,438 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-0374CDEFDD5E-LeaderElection16 ELECTION round 0: result PASSED
2022-08-31 10:00:59,438 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-0374CDEFDD5E-LeaderElection16
2022-08-31 10:00:59,438 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0374CDEFDD5E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 10:00:59,438 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-0374CDEFDD5E: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 250ms
2022-08-31 10:00:59,438 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:00:59,438 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:59,438 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 10:00:59,439 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:00:59,439 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:00:59,439 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:00:59,439 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:00:59,439 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:00:59,440 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:59,440 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:59,440 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:59,440 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:59,440 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:59,440 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:59,440 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:59,440 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:00:59,440 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:00:59,441 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:00:59,441 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:00:59,441 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:00:59,441 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:00:59,441 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:00:59,441 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0374CDEFDD5E-LeaderStateImpl
2022-08-31 10:00:59,441 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s1@group-0374CDEFDD5E-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:59,449 [s1@group-0374CDEFDD5E-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-0374CDEFDD5E: set configuration 0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,458 [s1@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s1@group-0374CDEFDD5E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_0
2022-08-31 10:00:59,461 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-0374CDEFDD5E: change Leader from null to s1 at term 1 for appendEntries, leader elected after 263ms
2022-08-31 10:00:59,462 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-0374CDEFDD5E: set configuration 0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,462 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s2@group-0374CDEFDD5E-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:59,466 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-0374CDEFDD5E: change Leader from null to s1 at term 1 for appendEntries, leader elected after 279ms
2022-08-31 10:00:59,467 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-0374CDEFDD5E: set configuration 0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:00:59,468 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(450)) - s0@group-0374CDEFDD5E-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 10:00:59,473 [s2@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s2@group-0374CDEFDD5E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_0
2022-08-31 10:00:59,484 [s0@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-0374CDEFDD5E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_0
2022-08-31 10:00:59,690 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:59,691 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:59,691 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:59,697 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D25F189DDADB->s0: receive RaftClientReply:client-D25F189DDADB->s0@group-0374CDEFDD5E, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-0374CDEFDD5E is not the leader s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-31 10:00:59,700 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:59,700 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:59,733 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D25F189DDADB->s1: receive RaftClientReply:client-D25F189DDADB->s1@group-0374CDEFDD5E, cid=62, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-08-31 10:00:59,737 [s1@group-0374CDEFDD5E-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-D25F189DDADB
2022-08-31 10:00:59,738 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D25F189DDADB->s1: receive RaftClientReply:client-D25F189DDADB->s1@group-0374CDEFDD5E, cid=63, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-08-31 10:00:59,738 [s0@group-0374CDEFDD5E-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-D25F189DDADB
2022-08-31 10:00:59,741 [s2@group-0374CDEFDD5E-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-D25F189DDADB
2022-08-31 10:00:59,742 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:00:59,742 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:00:59,749 [s1@group-0374CDEFDD5E-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-219762941CDF
2022-08-31 10:00:59,751 [s2@group-0374CDEFDD5E-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-219762941CDF
2022-08-31 10:00:59,751 [s0@group-0374CDEFDD5E-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-219762941CDF
2022-08-31 10:00:59,752 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-219762941CDF->s1: receive RaftClientReply:client-219762941CDF->s1@group-0374CDEFDD5E, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c1]
2022-08-31 10:00:59,758 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-08-31 10:00:59,758 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2022-08-31 10:00:59,758 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:59,759 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:59,759 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:59,759 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:59,828 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-08-31 10:00:59,835 [s2-server-thread4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-08-31 10:00:59,859 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:59,860 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:59,860 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:59,860 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:00:59,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:00:59,961 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:59,961 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:00:59,961 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:01:00,027 [s0@group-0374CDEFDD5E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-0374CDEFDD5E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:276740625ns, electionTimeout:161ms
2022-08-31 10:01:00,028 [s0@group-0374CDEFDD5E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0374CDEFDD5E-FollowerState
2022-08-31 10:01:00,028 [s0@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0374CDEFDD5E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-31 10:01:00,028 [s0@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:01:00,028 [s0@group-0374CDEFDD5E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0374CDEFDD5E-LeaderElection17
2022-08-31 10:01:00,028 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-0374CDEFDD5E: change Leader from s1 to null at term 1 for PRE_VOTE
2022-08-31 10:01:00,029 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-0374CDEFDD5E-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,029 [s0@group-0374CDEFDD5E-LeaderElection17-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 10:01:00,029 [s0@group-0374CDEFDD5E-LeaderElection17-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 10:01:00,034 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-0374CDEFDD5E: receive requestVote(PRE_VOTE, s0, group-0374CDEFDD5E, 1, (t:1, i:4))
2022-08-31 10:01:00,034 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-0374CDEFDD5E-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-31 10:01:00,034 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-0374CDEFDD5E replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-0374CDEFDD5E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,035 [s2@group-0374CDEFDD5E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-0374CDEFDD5E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:284156079ns, electionTimeout:151ms
2022-08-31 10:01:00,035 [s2@group-0374CDEFDD5E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0374CDEFDD5E-FollowerState
2022-08-31 10:01:00,035 [s2@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-0374CDEFDD5E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-31 10:01:00,035 [s2@group-0374CDEFDD5E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 10:01:00,035 [s2@group-0374CDEFDD5E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0374CDEFDD5E-LeaderElection18
2022-08-31 10:01:00,037 [s2@group-0374CDEFDD5E-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-0374CDEFDD5E: change Leader from s1 to null at term 1 for PRE_VOTE
2022-08-31 10:01:00,038 [s2@group-0374CDEFDD5E-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-0374CDEFDD5E-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,039 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0374CDEFDD5E: receive requestVote(PRE_VOTE, s0, group-0374CDEFDD5E, 1, (t:1, i:4))
2022-08-31 10:01:00,039 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0374CDEFDD5E-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:01:00,039 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0374CDEFDD5E replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-0374CDEFDD5E:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,040 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-0374CDEFDD5E-LeaderElection17: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-08-31 10:01:00,040 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-08-31 10:01:00,040 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t1
2022-08-31 10:01:00,040 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-0374CDEFDD5E-LeaderElection17 PRE_VOTE round 0: result PASSED
2022-08-31 10:01:00,041 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-0374CDEFDD5E-LeaderElection17 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,042 [s2@group-0374CDEFDD5E-LeaderElection18-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 10:01:00,047 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0374CDEFDD5E: receive requestVote(ELECTION, s0, group-0374CDEFDD5E, 2, (t:1, i:4))
2022-08-31 10:01:00,047 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0374CDEFDD5E-CANDIDATE: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:01:00,047 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-0374CDEFDD5E: changes role from CANDIDATE to FOLLOWER at term 2 for candidate:s0
2022-08-31 10:01:00,047 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-0374CDEFDD5E-LeaderElection18
2022-08-31 10:01:00,047 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0374CDEFDD5E-FollowerState
2022-08-31 10:01:00,047 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-0374CDEFDD5E: receive requestVote(PRE_VOTE, s2, group-0374CDEFDD5E, 1, (t:1, i:4))
2022-08-31 10:01:00,047 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-0374CDEFDD5E-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 10:01:00,047 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-0374CDEFDD5E replies to PRE_VOTE vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-0374CDEFDD5E:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,049 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-0374CDEFDD5E: receive requestVote(ELECTION, s0, group-0374CDEFDD5E, 2, (t:1, i:4))
2022-08-31 10:01:00,049 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-0374CDEFDD5E-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 10:01:00,049 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-0374CDEFDD5E: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-31 10:01:00,049 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0374CDEFDD5E: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-08-31 10:01:00,049 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-0374CDEFDD5E-LeaderStateImpl
2022-08-31 10:01:00,049 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-0374CDEFDD5E-PendingRequests: sendNotLeaderResponses
2022-08-31 10:01:00,049 [s1@group-0374CDEFDD5E->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-0374CDEFDD5E->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:01:00,049 [s1@group-0374CDEFDD5E->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-0374CDEFDD5E->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:01:00,049 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-31 10:01:00,050 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-31 10:01:00,050 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-0374CDEFDD5E->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:01:00,051 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-0374CDEFDD5E->s2: nextIndex: updateUnconditionally 5 -> 4
2022-08-31 10:01:00,058 [s2@group-0374CDEFDD5E-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-0374CDEFDD5E-LeaderElection18: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-08-31 10:01:00,058 [s2@group-0374CDEFDD5E-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-0374CDEFDD5E-LeaderElection18 PRE_VOTE round 0: result REJECTED
2022-08-31 10:01:00,064 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 10:01:00,064 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-0374CDEFDD5E:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0374CDEFDD5E:t2, leader=null, voted=null, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:01:00,064 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-0374CDEFDD5E:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0374CDEFDD5E:t2, leader=null, voted=null, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-0374CDEFDD5E:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0374CDEFDD5E:t2, leader=null, voted=null, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:196)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 10:01:00,065 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-0374CDEFDD5E->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:01:00,065 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-0374CDEFDD5E->s0: nextIndex: updateUnconditionally 5 -> 4
2022-08-31 10:01:00,064 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0374CDEFDD5E-FollowerState
2022-08-31 10:01:00,065 [s2@group-0374CDEFDD5E-LeaderElection18-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 10:01:00,069 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0374CDEFDD5E replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-0374CDEFDD5E:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-0374CDEFDD5E-LeaderElection17: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-0374CDEFDD5E-LeaderElection17 ELECTION round 0: result PASSED
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-0374CDEFDD5E-LeaderElection17
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0374CDEFDD5E: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-0374CDEFDD5E: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 41ms
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 10:01:00,070 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 10:01:00,069 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-0374CDEFDD5E replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-0374CDEFDD5E:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 10:01:00,071 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0374CDEFDD5E-LeaderStateImpl
2022-08-31 10:01:00,072 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(455)) - s0@group-0374CDEFDD5E-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 10:01:00,073 [s0@group-0374CDEFDD5E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_0-4
2022-08-31 10:01:00,073 [s0@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(611)) - s0@group-0374CDEFDD5E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_0-4
2022-08-31 10:01:00,078 [s0@group-0374CDEFDD5E-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-0374CDEFDD5E: set configuration 5: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,085 [s0@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s0@group-0374CDEFDD5E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s0/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_5
2022-08-31 10:01:00,097 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-0374CDEFDD5E: change Leader from null to s0 at term 2 for appendEntries, leader elected after 48ms
2022-08-31 10:01:00,098 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-0374CDEFDD5E: change Leader from null to s0 at term 2 for appendEntries, leader elected after 60ms
2022-08-31 10:01:00,098 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-0374CDEFDD5E: set configuration 5: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,099 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(455)) - s2@group-0374CDEFDD5E-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 10:01:00,100 [s2@group-0374CDEFDD5E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_0-4
2022-08-31 10:01:00,100 [s2@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(611)) - s2@group-0374CDEFDD5E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_0-4
2022-08-31 10:01:00,105 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-0374CDEFDD5E: set configuration 5: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,105 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(455)) - s1@group-0374CDEFDD5E-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 10:01:00,106 [s1@group-0374CDEFDD5E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_0-4
2022-08-31 10:01:00,106 [s1@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(611)) - s1@group-0374CDEFDD5E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_0-4
2022-08-31 10:01:00,112 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-0374CDEFDD5E: receive requestVote(PRE_VOTE, s2, group-0374CDEFDD5E, 1, (t:1, i:4))
2022-08-31 10:01:00,112 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-0374CDEFDD5E-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-08-31 10:01:00,112 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-0374CDEFDD5E replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-0374CDEFDD5E:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c4, conf=5: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 10:01:00,145 [s2@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s2@group-0374CDEFDD5E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s2/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_5
2022-08-31 10:01:00,146 [s1@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(654)) - s1@group-0374CDEFDD5E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8c829a3d/MiniRaftClusterWithGrpc8ee5b40d/s1/09b7aa47-8948-4527-a51a-0374cdefdd5e/current/log_inprogress_5
2022-08-31 10:01:00,515 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0374CDEFDD5E:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0374CDEFDD5E:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:01:00,515 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-08-31 10:01:00,515 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2022-08-31 10:01:00,515 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-08-31 10:01:00,515 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-219762941CDF->s1: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:200)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-219762941CDF->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:406)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:346)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-08-31 10:01:00,516 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-08-31 10:01:00,517 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 10:01:00,518 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 10:01:00,519 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-08-31 10:01:00,728 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-08-31 10:01:00,730 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 10:01:00,731 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-0374CDEFDD5E->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:01:00,731 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-0374CDEFDD5E->s0: nextIndex: updateUnconditionally 4 -> 3
2022-08-31 10:01:00,735 [s2-server-thread4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-08-31 10:01:00,737 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 10:01:00,737 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-0374CDEFDD5E->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:01:00,737 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-0374CDEFDD5E->s2: nextIndex: updateUnconditionally 4 -> 3
2022-08-31 10:01:01,519 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-219762941CDF->s1 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:208)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:166)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-219762941CDF->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:388)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-08-31 10:01:01,523 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-219762941CDF->s1: receive RaftClientReply:client-219762941CDF->s1@group-0374CDEFDD5E, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-08-31 10:01:04,520 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=718, target=localhost:41419}}. 
2022-08-31 10:01:04,522 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 10:01:04,522 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 10:01:04,522 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 10:01:04,522 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 10:01:04,522 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 10:01:04,522 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0374CDEFDD5E:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0374CDEFDD5E:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0374CDEFDD5E:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-0374CDEFDD5E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:38579|admin:localhost:44247|client:localhost:43495|dataStream:localhost:32965|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42147|admin:localhost:45911|client:localhost:41419|dataStream:localhost:38853|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33277|admin:localhost:41389|client:localhost:40577|dataStream:localhost:45931|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 10:01:04,523 [java.util.concurrent.ThreadPoolExecutor$Worker@3dd2aed5[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 10:01:04,524 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-0374CDEFDD5E: shutdown
2022-08-31 10:01:04,524 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0374CDEFDD5E,id=s0
2022-08-31 10:01:04,524 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-0374CDEFDD5E-LeaderStateImpl
2022-08-31 10:01:04,524 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-0374CDEFDD5E-PendingRequests: sendNotLeaderResponses
2022-08-31 10:01:04,525 [s0@group-0374CDEFDD5E->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-0374CDEFDD5E->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:01:04,525 [s0@group-0374CDEFDD5E->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-0374CDEFDD5E->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 10:01:04,525 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-31 10:01:04,526 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 10:01:04,526 [java.util.concurrent.ThreadPoolExecutor$Worker@41cc8590[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 10:01:04,526 [java.util.concurrent.ThreadPoolExecutor$Worker@678fe2c1[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 10:01:04,526 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-0374CDEFDD5E: shutdown
2022-08-31 10:01:04,526 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0374CDEFDD5E,id=s1
2022-08-31 10:01:04,526 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0374CDEFDD5E-FollowerState
2022-08-31 10:01:04,526 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-0374CDEFDD5E-StateMachineUpdater: set stopIndex = 6
2022-08-31 10:01:04,526 [s1@group-0374CDEFDD5E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0374CDEFDD5E-FollowerState was interrupted
2022-08-31 10:01:04,527 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-0374CDEFDD5E: applyIndex: 6
2022-08-31 10:01:04,527 [java.util.concurrent.ThreadPoolExecutor$Worker@678fe2c1[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:01:04,527 [s1@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s1@group-0374CDEFDD5E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:01:04,527 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-0374CDEFDD5E: shutdown
2022-08-31 10:01:04,527 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0374CDEFDD5E,id=s2
2022-08-31 10:01:04,527 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0374CDEFDD5E-FollowerState
2022-08-31 10:01:04,527 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-0374CDEFDD5E-StateMachineUpdater: set stopIndex = 6
2022-08-31 10:01:04,527 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-0374CDEFDD5E: applyIndex: 6
2022-08-31 10:01:04,527 [s2@group-0374CDEFDD5E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0374CDEFDD5E-FollowerState was interrupted
2022-08-31 10:01:04,527 [s2@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s2@group-0374CDEFDD5E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:01:04,527 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 10:01:04,527 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#3-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-31 10:01:04,527 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 10:01:04,528 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0374CDEFDD5E->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:01:04,529 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0374CDEFDD5E->s1: nextIndex: updateUnconditionally 7 -> 6
2022-08-31 10:01:04,529 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 10:01:04,529 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0374CDEFDD5E->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:01:04,529 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0374CDEFDD5E->s2: nextIndex: updateUnconditionally 7 -> 6
2022-08-31 10:01:04,530 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0374CDEFDD5E->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:01:04,530 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0374CDEFDD5E->s2: nextIndex: updateUnconditionally 6 -> 5
2022-08-31 10:01:04,531 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0374CDEFDD5E->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 10:01:04,531 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0374CDEFDD5E->s1: nextIndex: updateUnconditionally 6 -> 5
2022-08-31 10:01:04,531 [java.util.concurrent.ThreadPoolExecutor$Worker@3dd2aed5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:01:04,532 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s2@group-0374CDEFDD5E-SegmentedRaftLogWorker close()
2022-08-31 10:01:04,533 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s1@group-0374CDEFDD5E-SegmentedRaftLogWorker close()
2022-08-31 10:01:04,534 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-0374CDEFDD5E-StateMachineUpdater: set stopIndex = 6
2022-08-31 10:01:04,534 [java.util.concurrent.ThreadPoolExecutor$Worker@41cc8590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 10:01:04,534 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-0374CDEFDD5E: applyIndex: 6
2022-08-31 10:01:04,534 [s0@group-0374CDEFDD5E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(343)) - s0@group-0374CDEFDD5E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 10:01:04,534 [java.util.concurrent.ThreadPoolExecutor$Worker@41cc8590[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 10:01:04,535 [java.util.concurrent.ThreadPoolExecutor$Worker@3dd2aed5[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 10:01:04,535 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(253)) - s0@group-0374CDEFDD5E-SegmentedRaftLogWorker close()
2022-08-31 10:01:04,536 [java.util.concurrent.ThreadPoolExecutor$Worker@3dd2aed5[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 10:01:04,536 [java.util.concurrent.ThreadPoolExecutor$Worker@678fe2c1[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:01:04,536 [java.util.concurrent.ThreadPoolExecutor$Worker@678fe2c1[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 10:01:04,538 [java.util.concurrent.ThreadPoolExecutor$Worker@41cc8590[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 10:01:04,538 [java.util.concurrent.ThreadPoolExecutor$Worker@678fe2c1[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:01:04,538 [java.util.concurrent.ThreadPoolExecutor$Worker@678fe2c1[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:01:04,538 [java.util.concurrent.ThreadPoolExecutor$Worker@678fe2c1[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:01:04,539 [java.util.concurrent.ThreadPoolExecutor$Worker@3dd2aed5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:01:04,539 [java.util.concurrent.ThreadPoolExecutor$Worker@3dd2aed5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 10:01:04,539 [java.util.concurrent.ThreadPoolExecutor$Worker@3dd2aed5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:01:04,539 [java.util.concurrent.ThreadPoolExecutor$Worker@3dd2aed5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:01:04,539 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@7974bbb1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 10:01:04,540 [java.util.concurrent.ThreadPoolExecutor$Worker@3dd2aed5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:01:04,542 [java.util.concurrent.ThreadPoolExecutor$Worker@41cc8590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 10:01:04,542 [java.util.concurrent.ThreadPoolExecutor$Worker@41cc8590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 10:01:04,542 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@1fc650f2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 10:01:04,543 [java.util.concurrent.ThreadPoolExecutor$Worker@41cc8590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 10:01:04,543 [java.util.concurrent.ThreadPoolExecutor$Worker@41cc8590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 10:01:04,544 [java.util.concurrent.ThreadPoolExecutor$Worker@41cc8590[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 10:01:04,544 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$363/0x00000001002d7c40@e61d739] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 10:01:04,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
