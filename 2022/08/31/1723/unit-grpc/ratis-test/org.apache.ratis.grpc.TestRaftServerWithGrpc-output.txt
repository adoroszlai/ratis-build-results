SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-log4j12/1.7.29/slf4j-log4j12-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-simple/1.7.29/slf4j-simple-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2022-08-31 02:42:54,949 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 02:42:54,952 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 02:42:54,957 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 02:42:54,987 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 02:42:55,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-D13A7EAD264F:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]
2022-08-31 02:42:55,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 02:42:55,059 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 02:42:55,059 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 02:42:55,060 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 02:42:55,060 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 02:42:55,061 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 02:42:55,067 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-D13A7EAD264F:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:42:55,069 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0
2022-08-31 02:42:55,070 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0 does not exist.
2022-08-31 02:42:55,071 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0
2022-08-31 02:42:55,118 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:42:55,215 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:55,218 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40381 (custom)
2022-08-31 02:42:55,218 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:55,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38631 (custom)
2022-08-31 02:42:55,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:55,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42809 (custom)
2022-08-31 02:42:55,225 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:55,228 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:55,229 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:55,230 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:55,255 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:55,263 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:55,265 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:55,448 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:42:55,450 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:42:55,451 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:42:55,451 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:55,452 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:55,455 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0] (custom)
2022-08-31 02:42:55,466 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-D13A7EAD264F:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER] returns group-D13A7EAD264F:java.util.concurrent.CompletableFuture@1d2398b[Not completed]
2022-08-31 02:42:55,467 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-D13A7EAD264F:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:42:55,468 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1
2022-08-31 02:42:55,468 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1 does not exist.
2022-08-31 02:42:55,468 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1
2022-08-31 02:42:55,468 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:42:55,469 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:55,469 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40305 (custom)
2022-08-31 02:42:55,469 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:55,469 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45909 (custom)
2022-08-31 02:42:55,469 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:55,470 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42055 (custom)
2022-08-31 02:42:55,470 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:55,470 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:55,470 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:55,470 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:55,471 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:55,471 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:55,471 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:55,473 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:42:55,474 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:42:55,474 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:42:55,474 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:55,474 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:55,474 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1] (custom)
2022-08-31 02:42:55,475 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-D13A7EAD264F:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER] returns group-D13A7EAD264F:java.util.concurrent.CompletableFuture@e22e0d9[Not completed]
2022-08-31 02:42:55,475 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-D13A7EAD264F:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:42:55,476 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2
2022-08-31 02:42:55,476 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2 does not exist.
2022-08-31 02:42:55,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2
2022-08-31 02:42:55,476 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:42:55,477 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:55,477 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46817 (custom)
2022-08-31 02:42:55,477 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:55,477 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34627 (custom)
2022-08-31 02:42:55,477 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:55,478 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40641 (custom)
2022-08-31 02:42:55,478 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:55,478 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:55,478 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:55,478 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:55,478 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:55,480 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:42:55,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:42:55,481 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:42:55,481 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:55,481 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:55,481 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2] (custom)
2022-08-31 02:42:55,492 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-D13A7EAD264F:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER] returns group-D13A7EAD264F:java.util.concurrent.CompletableFuture@1ced8151[Not completed]
2022-08-31 02:42:55,497 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:55,498 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:55,503 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:55,503 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:55,505 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-D13A7EAD264F:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:55,506 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:55,506 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:55,497 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:55,506 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:55,507 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:55,507 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-D13A7EAD264F:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:55,510 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-D13A7EAD264F:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:55,511 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:42:55,511 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:42:55,512 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:55,513 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:42:55,513 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:55,513 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:55,513 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:42:55,512 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:42:55,514 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:55,512 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:55,514 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:42:55,514 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:55,514 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:55,514 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:42:55,514 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:42:55,516 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:55,517 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:55,517 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:42:55,522 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-D13A7EAD264F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:42:55,519 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D13A7EAD264F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:42:55,530 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:42:55,519 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-D13A7EAD264F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:42:55,534 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:42:55,535 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:42:55,535 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:42:55,534 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:42:55,549 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:42:55,548 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:42:55,550 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:42:55,551 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:42:55,576 [pool-2-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-08-31 02:42:55,696 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:55,698 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:42:55,699 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:42:55,698 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:55,700 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:55,703 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:42:55,703 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:42:55,703 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:42:55,703 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:42:55,702 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:42:55,704 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:42:55,705 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:42:55,705 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:42:55,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0] (custom)
2022-08-31 02:42:55,702 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:42:55,709 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:42:55,709 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:42:55,709 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:42:55,719 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0/cfb2a519-0c25-43f5-a2c1-d13a7ead264f does not exist. Creating ...
2022-08-31 02:42:55,720 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0/cfb2a519-0c25-43f5-a2c1-d13a7ead264f
2022-08-31 02:42:55,725 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:42:55,726 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/current
2022-08-31 02:42:55,726 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/sm
2022-08-31 02:42:55,740 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0/cfb2a519-0c25-43f5-a2c1-d13a7ead264f has been successfully formatted.
2022-08-31 02:42:55,742 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:55,743 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:42:55,744 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:42:55,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:42:55,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:55,753 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:42:55,754 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:42:55,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:55,760 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:42:55,761 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:42:55,765 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-D13A7EAD264F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0/cfb2a519-0c25-43f5-a2c1-d13a7ead264f
2022-08-31 02:42:55,765 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:42:55,766 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:42:55,766 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:55,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:55,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:42:55,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:42:55,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:42:55,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:42:55,775 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:55,776 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:42:55,776 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:42:55,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:42:55,782 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-D13A7EAD264F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:55,782 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-D13A7EAD264F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:55,783 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-D13A7EAD264F: start as a follower, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:55,784 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-D13A7EAD264F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:42:55,784 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D13A7EAD264F-FollowerState
2022-08-31 02:42:55,788 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D13A7EAD264F,id=s0
2022-08-31 02:42:55,790 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:42:55,791 [s0@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:55,791 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:42:55,791 [s0@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:55,791 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:42:55,794 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 02:42:55,832 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 38631
2022-08-31 02:42:55,834 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42809
2022-08-31 02:42:55,835 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 40381
2022-08-31 02:42:55,836 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:42:55,836 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:42:55,837 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1] (custom)
2022-08-31 02:42:55,837 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1/cfb2a519-0c25-43f5-a2c1-d13a7ead264f does not exist. Creating ...
2022-08-31 02:42:55,840 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1/cfb2a519-0c25-43f5-a2c1-d13a7ead264f
2022-08-31 02:42:55,841 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@3935821f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 02:42:55,842 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:42:55,843 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/current
2022-08-31 02:42:55,843 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/sm
2022-08-31 02:42:55,844 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1/cfb2a519-0c25-43f5-a2c1-d13a7ead264f has been successfully formatted.
2022-08-31 02:42:55,844 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:55,845 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:42:55,845 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:42:55,845 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:42:55,845 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:55,845 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:42:55,845 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:42:55,846 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:55,846 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:42:55,846 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:42:55,846 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-D13A7EAD264F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1/cfb2a519-0c25-43f5-a2c1-d13a7ead264f
2022-08-31 02:42:55,846 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:42:55,846 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:42:55,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:55,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:55,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:42:55,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:42:55,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:42:55,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:42:55,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:55,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:42:55,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:42:55,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:42:55,848 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-D13A7EAD264F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:55,848 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-D13A7EAD264F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:55,849 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-D13A7EAD264F: start as a follower, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:55,849 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-D13A7EAD264F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:42:55,849 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D13A7EAD264F-FollowerState
2022-08-31 02:42:55,854 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D13A7EAD264F,id=s1
2022-08-31 02:42:55,858 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:42:55,858 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:42:55,858 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:42:55,858 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 02:42:55,863 [s1@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:55,863 [s1@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:55,863 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 45909
2022-08-31 02:42:55,869 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 42055
2022-08-31 02:42:55,870 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 40305
2022-08-31 02:42:55,873 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:42:55,873 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:42:55,873 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2] (custom)
2022-08-31 02:42:55,873 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2/cfb2a519-0c25-43f5-a2c1-d13a7ead264f does not exist. Creating ...
2022-08-31 02:42:55,874 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2/cfb2a519-0c25-43f5-a2c1-d13a7ead264f
2022-08-31 02:42:55,875 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:42:55,875 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/current
2022-08-31 02:42:55,873 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@6029a729] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 02:42:55,876 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/sm
2022-08-31 02:42:55,880 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2/cfb2a519-0c25-43f5-a2c1-d13a7ead264f has been successfully formatted.
2022-08-31 02:42:55,880 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:55,880 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:42:55,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:42:55,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:42:55,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:55,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:42:55,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:42:55,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:55,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:42:55,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:42:55,882 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-D13A7EAD264F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2/cfb2a519-0c25-43f5-a2c1-d13a7ead264f
2022-08-31 02:42:55,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:42:55,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:42:55,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:55,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:55,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:42:55,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:42:55,882 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:42:55,883 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:42:55,883 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:55,883 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:42:55,883 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:42:55,884 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:42:55,884 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-D13A7EAD264F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:55,884 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-D13A7EAD264F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:55,890 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-D13A7EAD264F: start as a follower, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:55,890 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-D13A7EAD264F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:42:55,890 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D13A7EAD264F-FollowerState
2022-08-31 02:42:55,892 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D13A7EAD264F,id=s2
2022-08-31 02:42:55,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:42:55,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:42:55,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:42:55,893 [s2@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:55,897 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 02:42:55,897 [s2@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:55,900 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 34627
2022-08-31 02:42:55,901 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40641
2022-08-31 02:42:55,902 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 46817
2022-08-31 02:42:55,907 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@7599e449] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 02:42:55,909 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:55,911 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:42:55,923 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:313)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:218)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:42:56,004 [s0@group-D13A7EAD264F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-D13A7EAD264F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:219402842ns, electionTimeout:211ms
2022-08-31 02:42:56,005 [s0@group-D13A7EAD264F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D13A7EAD264F-FollowerState
2022-08-31 02:42:56,005 [s0@group-D13A7EAD264F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-D13A7EAD264F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:42:56,008 [s0@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:42:56,008 [s0@group-D13A7EAD264F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D13A7EAD264F-LeaderElection1
2022-08-31 02:42:56,011 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D13A7EAD264F-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,028 [s0@group-D13A7EAD264F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,029 [s0@group-D13A7EAD264F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,035 [s0@group-D13A7EAD264F-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 02:42:56,042 [s0@group-D13A7EAD264F-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 02:42:56,054 [s1@group-D13A7EAD264F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-D13A7EAD264F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205032802ns, electionTimeout:191ms
2022-08-31 02:42:56,057 [s1@group-D13A7EAD264F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D13A7EAD264F-FollowerState
2022-08-31 02:42:56,058 [s1@group-D13A7EAD264F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-D13A7EAD264F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:42:56,058 [s1@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:42:56,058 [s1@group-D13A7EAD264F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D13A7EAD264F-LeaderElection2
2022-08-31 02:42:56,062 [s1@group-D13A7EAD264F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-D13A7EAD264F-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,065 [s1@group-D13A7EAD264F-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 02:42:56,065 [s1@group-D13A7EAD264F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,069 [s1@group-D13A7EAD264F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,069 [s1@group-D13A7EAD264F-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 02:42:56,147 [s2@group-D13A7EAD264F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-D13A7EAD264F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:256740907ns, electionTimeout:250ms
2022-08-31 02:42:56,147 [s2@group-D13A7EAD264F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D13A7EAD264F-FollowerState
2022-08-31 02:42:56,148 [s2@group-D13A7EAD264F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-D13A7EAD264F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:42:56,148 [s2@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:42:56,148 [s2@group-D13A7EAD264F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D13A7EAD264F-LeaderElection3
2022-08-31 02:42:56,175 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-D13A7EAD264F-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,182 [s2@group-D13A7EAD264F-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 02:42:56,186 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,186 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,189 [s2@group-D13A7EAD264F-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 02:42:56,198 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D13A7EAD264F-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-31 02:42:56,198 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D13A7EAD264F-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2022-08-31 02:42:56,198 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D13A7EAD264F-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,202 [s0@group-D13A7EAD264F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,202 [s0@group-D13A7EAD264F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,264 [s1@group-D13A7EAD264F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-D13A7EAD264F-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-31 02:42:56,266 [s1@group-D13A7EAD264F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-D13A7EAD264F-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2022-08-31 02:42:56,266 [s1@group-D13A7EAD264F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-D13A7EAD264F-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,275 [s1@group-D13A7EAD264F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,275 [s1@group-D13A7EAD264F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,346 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-D13A7EAD264F-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-31 02:42:56,347 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-D13A7EAD264F-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2022-08-31 02:42:56,348 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-D13A7EAD264F-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,360 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,360 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,381 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:313)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:218)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:42:56,398 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D13A7EAD264F-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-31 02:42:56,398 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D13A7EAD264F-LeaderElection1 PRE_VOTE round 1: result TIMEOUT
2022-08-31 02:42:56,398 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D13A7EAD264F-LeaderElection1 PRE_VOTE round 2: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,403 [s0@group-D13A7EAD264F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,403 [s0@group-D13A7EAD264F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,462 [s1@group-D13A7EAD264F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-D13A7EAD264F-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-31 02:42:56,463 [s1@group-D13A7EAD264F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-D13A7EAD264F-LeaderElection2 PRE_VOTE round 1: result TIMEOUT
2022-08-31 02:42:56,463 [s1@group-D13A7EAD264F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-D13A7EAD264F-LeaderElection2 PRE_VOTE round 2: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,469 [s1@group-D13A7EAD264F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,469 [s1@group-D13A7EAD264F-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,472 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s2, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,472 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s0, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,474 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,474 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s0, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,474 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s0, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,472 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s2, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,478 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D13A7EAD264F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,474 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,488 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-D13A7EAD264F replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,478 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,495 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D13A7EAD264F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,496 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,497 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D13A7EAD264F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,498 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s2, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,499 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,499 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-D13A7EAD264F replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,494 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s1, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,489 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,500 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-D13A7EAD264F replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,499 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s1, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,501 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,501 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-D13A7EAD264F replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,498 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s1, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,503 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,504 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D13A7EAD264F replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,506 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s0, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,507 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,507 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-D13A7EAD264F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,507 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s2, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,508 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,508 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-D13A7EAD264F replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,507 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s1, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,507 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s0, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,511 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,509 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,511 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-D13A7EAD264F replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,509 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,509 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s0, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,514 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D13A7EAD264F replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,511 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-D13A7EAD264F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,518 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,519 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-D13A7EAD264F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-D13A7EAD264F:t0, leader=null, voted=, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,521 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-D13A7EAD264F-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:42:56,522 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2022-08-31 02:42:56,522 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-D13A7EAD264F-LeaderElection3 PRE_VOTE round 1: result PASSED
2022-08-31 02:42:56,525 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-D13A7EAD264F-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,530 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,530 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,535 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D13A7EAD264F-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:42:56,535 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-31 02:42:56,536 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D13A7EAD264F-LeaderElection1 PRE_VOTE round 2: result PASSED
2022-08-31 02:42:56,539 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-D13A7EAD264F-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,541 [s0@group-D13A7EAD264F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,541 [s0@group-D13A7EAD264F-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,542 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-D13A7EAD264F: receive requestVote(ELECTION, s2, group-D13A7EAD264F, 1, (t:0, i:0))
2022-08-31 02:42:56,547 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D13A7EAD264F-CANDIDATE: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,548 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-D13A7EAD264F: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s2
2022-08-31 02:42:56,548 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-D13A7EAD264F-LeaderElection2
2022-08-31 02:42:56,549 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D13A7EAD264F-FollowerState
2022-08-31 02:42:56,551 [s1@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,551 [s1@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,552 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-D13A7EAD264F replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-D13A7EAD264F:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,567 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D13A7EAD264F: receive requestVote(ELECTION, s0, group-D13A7EAD264F, 1, (t:0, i:0))
2022-08-31 02:42:56,567 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D13A7EAD264F-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2022-08-31 02:42:56,567 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D13A7EAD264F replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-D13A7EAD264F:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,569 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s1, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,569 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,569 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-D13A7EAD264F replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-D13A7EAD264F:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,570 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-D13A7EAD264F: receive requestVote(PRE_VOTE, s1, group-D13A7EAD264F, 0, (t:0, i:0))
2022-08-31 02:42:56,570 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-D13A7EAD264F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:42:56,570 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-D13A7EAD264F replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-D13A7EAD264F:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,571 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-D13A7EAD264F: receive requestVote(ELECTION, s2, group-D13A7EAD264F, 1, (t:0, i:0))
2022-08-31 02:42:56,571 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-D13A7EAD264F-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2022-08-31 02:42:56,571 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-D13A7EAD264F replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-D13A7EAD264F:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,571 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-D13A7EAD264F: receive requestVote(ELECTION, s0, group-D13A7EAD264F, 1, (t:0, i:0))
2022-08-31 02:42:56,575 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-D13A7EAD264F-FOLLOWER: reject ELECTION from s0: already has voted for s2 at current term 1
2022-08-31 02:42:56,575 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-D13A7EAD264F replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-D13A7EAD264F:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,579 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-D13A7EAD264F-LeaderElection3: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-08-31 02:42:56,580 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:FAIL-t1
2022-08-31 02:42:56,580 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:OK-t1
2022-08-31 02:42:56,580 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-D13A7EAD264F-LeaderElection3 ELECTION round 0: result PASSED
2022-08-31 02:42:56,580 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-D13A7EAD264F-LeaderElection3
2022-08-31 02:42:56,580 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-D13A7EAD264F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 02:42:56,580 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-D13A7EAD264F: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 1045ms
2022-08-31 02:42:56,585 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:42:56,588 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:42:56,589 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D13A7EAD264F-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-31 02:42:56,590 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-08-31 02:42:56,590 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-08-31 02:42:56,590 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-D13A7EAD264F-LeaderElection1 ELECTION round 0: result REJECTED
2022-08-31 02:42:56,590 [s0@group-D13A7EAD264F-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-D13A7EAD264F: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-31 02:42:56,590 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-D13A7EAD264F-LeaderElection1
2022-08-31 02:42:56,590 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:42:56,590 [s0@group-D13A7EAD264F-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D13A7EAD264F-FollowerState
2022-08-31 02:42:56,593 [s0@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:56,593 [s0@group-D13A7EAD264F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:56,593 [s1@group-D13A7EAD264F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-D13A7EAD264F-LeaderElection2: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-08-31 02:42:56,594 [s1@group-D13A7EAD264F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-31 02:42:56,594 [s1@group-D13A7EAD264F-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-D13A7EAD264F-LeaderElection2 PRE_VOTE round 2: result DISCOVERED_A_NEW_TERM (term=1)
2022-08-31 02:42:56,607 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:42:56,607 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:42:56,609 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:42:56,615 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:42:56,617 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:42:56,627 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:42:56,627 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:56,627 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:42:56,633 [s2@group-D13A7EAD264F-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:42:56,633 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:56,633 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:56,633 [s2@group-D13A7EAD264F-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:56,636 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:42:56,636 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:56,636 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:42:56,636 [s2@group-D13A7EAD264F-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:42:56,637 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:56,637 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:56,637 [s2@group-D13A7EAD264F-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:56,639 [s2@group-D13A7EAD264F-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D13A7EAD264F-LeaderStateImpl
2022-08-31 02:42:56,657 [s2@group-D13A7EAD264F-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-D13A7EAD264F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:42:56,694 [s2@group-D13A7EAD264F-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-D13A7EAD264F: set configuration 0: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,732 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-D13A7EAD264F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1192ms
2022-08-31 02:42:56,738 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-D13A7EAD264F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1207ms
2022-08-31 02:42:56,765 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-D13A7EAD264F: set configuration 0: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,766 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-D13A7EAD264F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:42:56,775 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-D13A7EAD264F: set configuration 0: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:56,775 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-D13A7EAD264F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:42:56,826 [s1@group-D13A7EAD264F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-D13A7EAD264F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s1/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/current/log_inprogress_0
2022-08-31 02:42:56,833 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #3/100: java.lang.IllegalStateException: Leader: s2@group-D13A7EAD264F not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-D13A7EAD264F not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:313)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:218)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:42:56,836 [s2@group-D13A7EAD264F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-D13A7EAD264F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s2/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/current/log_inprogress_0
2022-08-31 02:42:56,837 [s0@group-D13A7EAD264F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-D13A7EAD264F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpca68170a7/s0/cfb2a519-0c25-43f5-a2c1-d13a7ead264f/current/log_inprogress_0
2022-08-31 02:42:57,284 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D13A7EAD264F:t1, leader=s2, voted=s0, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D13A7EAD264F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-D13A7EAD264F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:42:57,314 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:57,318 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:57,380 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2EBE7853408F->s0: receive RaftClientReply:client-2EBE7853408F->s0@group-D13A7EAD264F, cid=0, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-D13A7EAD264F is not the leader s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-31 02:42:57,404 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:57,404 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:57,428 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2EBE7853408F->s2: receive RaftClientReply:client-2EBE7853408F->s2@group-D13A7EAD264F, cid=0, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2022-08-31 02:42:57,463 [s2@group-D13A7EAD264F-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-2EBE7853408F
2022-08-31 02:42:57,471 [s1@group-D13A7EAD264F-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-2EBE7853408F
2022-08-31 02:42:57,473 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2EBE7853408F->s2: receive RaftClientReply:client-2EBE7853408F->s2@group-D13A7EAD264F, cid=1, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2022-08-31 02:42:57,473 [s0@group-D13A7EAD264F-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-2EBE7853408F
2022-08-31 02:42:57,493 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 02:42:57,493 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 02:42:57,493 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 02:42:57,493 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 02:42:57,493 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 02:42:57,493 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D13A7EAD264F:t1, leader=s2, voted=s0, raftlog=Memoized:s0@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D13A7EAD264F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-D13A7EAD264F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D13A7EAD264F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:42809|admin:localhost:40381|client:localhost:38631|dataStream:localhost:36117|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42055|admin:localhost:40305|client:localhost:45909|dataStream:localhost:42215|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40641|admin:localhost:46817|client:localhost:34627|dataStream:localhost:36361|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:42:57,503 [java.util.concurrent.ThreadPoolExecutor$Worker@3200f4f7[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 02:42:57,503 [java.util.concurrent.ThreadPoolExecutor$Worker@6748e18b[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 02:42:57,510 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-D13A7EAD264F: shutdown
2022-08-31 02:42:57,510 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-D13A7EAD264F: shutdown
2022-08-31 02:42:57,510 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D13A7EAD264F,id=s1
2022-08-31 02:42:57,510 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D13A7EAD264F,id=s0
2022-08-31 02:42:57,511 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D13A7EAD264F-FollowerState
2022-08-31 02:42:57,511 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-D13A7EAD264F-StateMachineUpdater: set stopIndex = 1
2022-08-31 02:42:57,511 [s0@group-D13A7EAD264F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-D13A7EAD264F-FollowerState was interrupted
2022-08-31 02:42:57,510 [java.util.concurrent.ThreadPoolExecutor$Worker@3200f4f7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:42:57,511 [java.util.concurrent.ThreadPoolExecutor$Worker@6748e18b[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:42:57,510 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D13A7EAD264F-FollowerState
2022-08-31 02:42:57,512 [s1@group-D13A7EAD264F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D13A7EAD264F-FollowerState was interrupted
2022-08-31 02:42:57,512 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-D13A7EAD264F: applyIndex: 1
2022-08-31 02:42:57,515 [s0@group-D13A7EAD264F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-D13A7EAD264F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:42:57,512 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-D13A7EAD264F-StateMachineUpdater: set stopIndex = 1
2022-08-31 02:42:57,515 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-D13A7EAD264F: applyIndex: 1
2022-08-31 02:42:57,515 [s1@group-D13A7EAD264F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-D13A7EAD264F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:42:57,520 [java.util.concurrent.ThreadPoolExecutor$Worker@7295a67[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 02:42:57,522 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-D13A7EAD264F-SegmentedRaftLogWorker close()
2022-08-31 02:42:57,522 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 02:42:57,523 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-D13A7EAD264F: shutdown
2022-08-31 02:42:57,523 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D13A7EAD264F,id=s2
2022-08-31 02:42:57,523 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-D13A7EAD264F-LeaderStateImpl
2022-08-31 02:42:57,523 [java.util.concurrent.ThreadPoolExecutor$Worker@3200f4f7[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 02:42:57,524 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-D13A7EAD264F-PendingRequests: sendNotLeaderResponses
2022-08-31 02:42:57,524 [s2@group-D13A7EAD264F->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s2@group-D13A7EAD264F->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:42:57,526 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-D13A7EAD264F-SegmentedRaftLogWorker close()
2022-08-31 02:42:57,524 [s2@group-D13A7EAD264F->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s2@group-D13A7EAD264F->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:42:57,527 [java.util.concurrent.ThreadPoolExecutor$Worker@3200f4f7[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 02:42:57,529 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#19-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-08-31 02:42:57,530 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 02:42:57,531 [java.util.concurrent.ThreadPoolExecutor$Worker@3200f4f7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:42:57,531 [java.util.concurrent.ThreadPoolExecutor$Worker@3200f4f7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 02:42:57,532 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-D13A7EAD264F-StateMachineUpdater: set stopIndex = 2
2022-08-31 02:42:57,533 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-D13A7EAD264F: applyIndex: 2
2022-08-31 02:42:57,533 [s2@group-D13A7EAD264F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-D13A7EAD264F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:42:57,538 [java.util.concurrent.ThreadPoolExecutor$Worker@7295a67[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:42:57,534 [java.util.concurrent.ThreadPoolExecutor$Worker@6748e18b[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:42:57,534 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#19-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-08-31 02:42:57,533 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s2@group-D13A7EAD264F->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:42:57,540 [grpc-default-executor-10] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-D13A7EAD264F->s1: nextIndex: updateUnconditionally 3 -> 2
2022-08-31 02:42:57,541 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s2@group-D13A7EAD264F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:42:57,541 [java.util.concurrent.ThreadPoolExecutor$Worker@6748e18b[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 02:42:57,541 [grpc-default-executor-9] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-D13A7EAD264F->s0: nextIndex: updateUnconditionally 3 -> 2
2022-08-31 02:42:57,548 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-D13A7EAD264F-SegmentedRaftLogWorker close()
2022-08-31 02:42:57,550 [java.util.concurrent.ThreadPoolExecutor$Worker@3200f4f7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:42:57,550 [java.util.concurrent.ThreadPoolExecutor$Worker@3200f4f7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:42:57,550 [java.util.concurrent.ThreadPoolExecutor$Worker@6748e18b[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:42:57,550 [java.util.concurrent.ThreadPoolExecutor$Worker@6748e18b[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:42:57,551 [java.util.concurrent.ThreadPoolExecutor$Worker@7295a67[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 02:42:57,552 [java.util.concurrent.ThreadPoolExecutor$Worker@3200f4f7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:42:57,552 [java.util.concurrent.ThreadPoolExecutor$Worker@6748e18b[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:42:57,553 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@3935821f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 02:42:57,553 [java.util.concurrent.ThreadPoolExecutor$Worker@7295a67[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 02:42:57,553 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@6029a729] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 02:42:57,554 [java.util.concurrent.ThreadPoolExecutor$Worker@7295a67[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:42:57,554 [java.util.concurrent.ThreadPoolExecutor$Worker@7295a67[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 02:42:57,555 [java.util.concurrent.ThreadPoolExecutor$Worker@7295a67[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:42:57,555 [java.util.concurrent.ThreadPoolExecutor$Worker@7295a67[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:42:57,558 [java.util.concurrent.ThreadPoolExecutor$Worker@7295a67[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:42:57,559 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@7599e449] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 02:42:57,559 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 02:42:57,570 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 02:42:57,570 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 02:42:57,570 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 02:42:57,579 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 02:42:57,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-8B1CB673DE3C:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]
2022-08-31 02:42:57,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 02:42:57,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 02:42:57,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 02:42:57,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 02:42:57,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 02:42:57,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 02:42:57,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-8B1CB673DE3C:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:42:57,581 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0
2022-08-31 02:42:57,581 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0 does not exist.
2022-08-31 02:42:57,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0
2022-08-31 02:42:57,582 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:42:57,582 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:57,582 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45765 (custom)
2022-08-31 02:42:57,582 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:57,582 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37451 (custom)
2022-08-31 02:42:57,582 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46117 (custom)
2022-08-31 02:42:57,583 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:57,583 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:57,583 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:57,583 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:57,584 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:57,587 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:42:57,587 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:42:57,587 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:42:57,587 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:57,587 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:57,588 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0] (custom)
2022-08-31 02:42:57,590 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-8B1CB673DE3C:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER] returns group-8B1CB673DE3C:java.util.concurrent.CompletableFuture@7408d8f6[Not completed]
2022-08-31 02:42:57,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-8B1CB673DE3C:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:42:57,590 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1
2022-08-31 02:42:57,590 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1 does not exist.
2022-08-31 02:42:57,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1
2022-08-31 02:42:57,591 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:42:57,591 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:57,591 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43909 (custom)
2022-08-31 02:42:57,591 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:57,591 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38935 (custom)
2022-08-31 02:42:57,591 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:57,591 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36541 (custom)
2022-08-31 02:42:57,591 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:57,591 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:57,592 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:57,592 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:57,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:57,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:57,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:57,593 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:42:57,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:42:57,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:42:57,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:57,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:57,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1] (custom)
2022-08-31 02:42:57,595 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:57,595 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:57,595 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:57,596 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-8B1CB673DE3C:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:57,596 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:42:57,596 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:57,596 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:42:57,596 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:57,596 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:57,596 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:42:57,596 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-8B1CB673DE3C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:42:57,601 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:42:57,601 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:42:57,601 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:42:57,604 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-8B1CB673DE3C:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER] returns group-8B1CB673DE3C:java.util.concurrent.CompletableFuture@42bb7f8e[Not completed]
2022-08-31 02:42:57,604 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-8B1CB673DE3C:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:42:57,604 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2
2022-08-31 02:42:57,605 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2 does not exist.
2022-08-31 02:42:57,605 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2
2022-08-31 02:42:57,605 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:57,605 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:57,605 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:42:57,605 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:57,605 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:57,605 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-8B1CB673DE3C:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:57,605 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39981 (custom)
2022-08-31 02:42:57,606 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:42:57,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:57,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38917 (custom)
2022-08-31 02:42:57,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:57,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45265 (custom)
2022-08-31 02:42:57,606 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:57,606 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:57,606 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:57,606 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:57,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:57,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:57,607 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:57,608 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:42:57,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:42:57,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:42:57,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:57,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:57,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2] (custom)
2022-08-31 02:42:57,609 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:57,609 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:42:57,609 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:42:57,609 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:42:57,609 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:42:57,606 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:57,614 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:42:57,614 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:57,614 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:57,614 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:42:57,614 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-8B1CB673DE3C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:42:57,615 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:42:57,615 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:42:57,615 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:42:57,615 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:57,616 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:42:57,616 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:42:57,616 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:42:57,616 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:57,616 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-8B1CB673DE3C:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER] returns group-8B1CB673DE3C:java.util.concurrent.CompletableFuture@6c64f7e7[Not completed]
2022-08-31 02:42:57,617 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:42:57,617 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:42:57,617 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0] (custom)
2022-08-31 02:42:57,617 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c does not exist. Creating ...
2022-08-31 02:42:57,618 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c
2022-08-31 02:42:57,616 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:42:57,618 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:57,618 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:57,618 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-8B1CB673DE3C:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:57,618 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:42:57,619 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:57,619 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:42:57,619 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:57,619 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:57,619 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:42:57,619 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-8B1CB673DE3C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:42:57,619 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:42:57,619 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:42:57,619 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:42:57,619 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:42:57,620 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/current
2022-08-31 02:42:57,620 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/sm
2022-08-31 02:42:57,621 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c has been successfully formatted.
2022-08-31 02:42:57,621 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:57,622 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:42:57,622 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:42:57,622 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:42:57,622 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:57,622 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:42:57,622 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:42:57,622 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:57,622 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:42:57,622 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:42:57,623 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-8B1CB673DE3C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c
2022-08-31 02:42:57,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:42:57,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:42:57,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:57,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:57,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:42:57,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:42:57,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:42:57,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:42:57,624 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:57,624 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:42:57,624 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:42:57,624 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:42:57,624 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-8B1CB673DE3C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:57,624 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-8B1CB673DE3C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:57,624 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:57,625 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:42:57,625 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:42:57,625 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:42:57,625 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:42:57,626 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-8B1CB673DE3C: start as a follower, conf=-1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,626 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-8B1CB673DE3C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:42:57,626 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8B1CB673DE3C-FollowerState
2022-08-31 02:42:57,627 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B1CB673DE3C,id=s0
2022-08-31 02:42:57,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:42:57,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:42:57,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:42:57,627 [s0@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:57,627 [s0@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:57,627 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 02:42:57,630 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 37451
2022-08-31 02:42:57,631 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 46117
2022-08-31 02:42:57,631 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45765
2022-08-31 02:42:57,634 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:42:57,634 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:42:57,634 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1] (custom)
2022-08-31 02:42:57,635 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c does not exist. Creating ...
2022-08-31 02:42:57,635 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c
2022-08-31 02:42:57,636 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@753ab2ea] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 02:42:57,636 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:42:57,637 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/current
2022-08-31 02:42:57,637 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/sm
2022-08-31 02:42:57,639 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c has been successfully formatted.
2022-08-31 02:42:57,639 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:57,639 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:42:57,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:42:57,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:42:57,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:57,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:42:57,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:42:57,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-8B1CB673DE3C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:42:57,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:42:57,641 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:57,641 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:42:57,641 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:42:57,641 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:42:57,641 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-8B1CB673DE3C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:57,641 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-8B1CB673DE3C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:57,646 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-8B1CB673DE3C: start as a follower, conf=-1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,647 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-8B1CB673DE3C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:42:57,648 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8B1CB673DE3C-FollowerState
2022-08-31 02:42:57,650 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B1CB673DE3C,id=s1
2022-08-31 02:42:57,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:42:57,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:42:57,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:42:57,651 [s1@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:57,651 [s1@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:57,651 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 02:42:57,655 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 38935
2022-08-31 02:42:57,655 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 36541
2022-08-31 02:42:57,658 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 43909
2022-08-31 02:42:57,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:42:57,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:42:57,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2] (custom)
2022-08-31 02:42:57,666 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c does not exist. Creating ...
2022-08-31 02:42:57,666 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c
2022-08-31 02:42:57,664 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@33b800f2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 02:42:57,668 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:42:57,668 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/current
2022-08-31 02:42:57,668 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/sm
2022-08-31 02:42:57,670 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c has been successfully formatted.
2022-08-31 02:42:57,670 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:57,670 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:42:57,670 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:42:57,670 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:42:57,670 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:57,670 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:42:57,670 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-8B1CB673DE3C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:42:57,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:42:57,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:57,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:42:57,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:42:57,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:42:57,672 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-8B1CB673DE3C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:57,672 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-8B1CB673DE3C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:57,678 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-8B1CB673DE3C: start as a follower, conf=-1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,678 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-8B1CB673DE3C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:42:57,678 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-8B1CB673DE3C-FollowerState
2022-08-31 02:42:57,679 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B1CB673DE3C,id=s2
2022-08-31 02:42:57,679 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:42:57,679 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:42:57,679 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:42:57,681 [s2@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:57,682 [s2@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:57,682 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 02:42:57,687 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 38917
2022-08-31 02:42:57,688 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 45265
2022-08-31 02:42:57,689 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 39981
2022-08-31 02:42:57,694 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@6dc1903] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 02:42:57,698 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:57,698 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:57,713 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4B4BDF8E1DB2->s0: receive RaftClientReply:client-4B4BDF8E1DB2->s0@group-8B1CB673DE3C, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-8B1CB673DE3C is not the leader, logIndex=0, commits[s0:c-1]
2022-08-31 02:42:57,816 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:57,816 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:57,827 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4B4BDF8E1DB2->s2: receive RaftClientReply:client-4B4BDF8E1DB2->s2@group-8B1CB673DE3C, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-8B1CB673DE3C is not the leader, logIndex=0, commits[s2:c-1]
2022-08-31 02:42:57,848 [s1@group-8B1CB673DE3C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-8B1CB673DE3C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:200707560ns, electionTimeout:197ms
2022-08-31 02:42:57,849 [s1@group-8B1CB673DE3C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-8B1CB673DE3C-FollowerState
2022-08-31 02:42:57,849 [s1@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-8B1CB673DE3C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:42:57,849 [s1@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:42:57,849 [s1@group-8B1CB673DE3C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8B1CB673DE3C-LeaderElection4
2022-08-31 02:42:57,850 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-8B1CB673DE3C-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,850 [s1@group-8B1CB673DE3C-LeaderElection4-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 02:42:57,857 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:57,858 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:57,862 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-8B1CB673DE3C: receive requestVote(PRE_VOTE, s1, group-8B1CB673DE3C, 0, (t:0, i:0))
2022-08-31 02:42:57,863 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-8B1CB673DE3C-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:42:57,863 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-8B1CB673DE3C replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-8B1CB673DE3C:t0, leader=null, voted=, raftlog=Memoized:s0@group-8B1CB673DE3C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,864 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8B1CB673DE3C-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:42:57,864 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-31 02:42:57,864 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-8B1CB673DE3C-LeaderElection4 PRE_VOTE round 0: result PASSED
2022-08-31 02:42:57,865 [s1@group-8B1CB673DE3C-LeaderElection4-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 02:42:57,866 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-8B1CB673DE3C-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,874 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:57,874 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:57,875 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-8B1CB673DE3C: receive requestVote(ELECTION, s1, group-8B1CB673DE3C, 1, (t:0, i:0))
2022-08-31 02:42:57,875 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-8B1CB673DE3C-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:42:57,875 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-8B1CB673DE3C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-31 02:42:57,875 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-8B1CB673DE3C-FollowerState
2022-08-31 02:42:57,875 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8B1CB673DE3C-FollowerState
2022-08-31 02:42:57,876 [s0@group-8B1CB673DE3C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-8B1CB673DE3C-FollowerState was interrupted
2022-08-31 02:42:57,876 [s0@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:57,877 [s0@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:57,877 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-8B1CB673DE3C replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-8B1CB673DE3C:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-8B1CB673DE3C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,882 [s2@group-8B1CB673DE3C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-8B1CB673DE3C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:203403286ns, electionTimeout:200ms
2022-08-31 02:42:57,882 [s2@group-8B1CB673DE3C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-8B1CB673DE3C-FollowerState
2022-08-31 02:42:57,882 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-8B1CB673DE3C: receive requestVote(PRE_VOTE, s1, group-8B1CB673DE3C, 0, (t:0, i:0))
2022-08-31 02:42:57,882 [s2@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-8B1CB673DE3C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:42:57,882 [s2@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:42:57,882 [s2@group-8B1CB673DE3C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-8B1CB673DE3C-LeaderElection5
2022-08-31 02:42:57,887 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8B1CB673DE3C-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:42:57,887 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-31 02:42:57,887 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-8B1CB673DE3C-LeaderElection4 ELECTION round 0: result PASSED
2022-08-31 02:42:57,887 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-8B1CB673DE3C-LeaderElection4
2022-08-31 02:42:57,887 [s2@group-8B1CB673DE3C-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-8B1CB673DE3C-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,887 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-8B1CB673DE3C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 02:42:57,887 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-8B1CB673DE3C: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 272ms
2022-08-31 02:42:57,888 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:42:57,888 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-31 02:42:57,888 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-08-31 02:42:57,888 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:42:57,888 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:42:57,888 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:42:57,888 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-31 02:42:57,888 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:42:57,889 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:42:57,889 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:57,889 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:42:57,889 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:42:57,889 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:57,889 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:57,889 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:57,889 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:42:57,890 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:57,890 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:42:57,890 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:42:57,890 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:57,890 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:57,890 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:57,890 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8B1CB673DE3C-LeaderStateImpl
2022-08-31 02:42:57,890 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-8B1CB673DE3C-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:42:57,894 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-8B1CB673DE3C-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:42:57,894 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-8B1CB673DE3C replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-8B1CB673DE3C:t0, leader=null, voted=, raftlog=Memoized:s2@group-8B1CB673DE3C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,899 [s2@group-8B1CB673DE3C-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 02:42:57,903 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-8B1CB673DE3C: receive requestVote(ELECTION, s1, group-8B1CB673DE3C, 1, (t:0, i:0))
2022-08-31 02:42:57,904 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-8B1CB673DE3C-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:42:57,904 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-8B1CB673DE3C: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s1
2022-08-31 02:42:57,904 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-8B1CB673DE3C-LeaderElection5
2022-08-31 02:42:57,904 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-8B1CB673DE3C-FollowerState
2022-08-31 02:42:57,906 [s2@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:57,906 [s2@group-8B1CB673DE3C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:57,907 [s2@group-8B1CB673DE3C-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:57,907 [s2@group-8B1CB673DE3C-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:57,907 [s2@group-8B1CB673DE3C-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8B1CB673DE3C-LeaderElection5: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-08-31 02:42:57,907 [s2@group-8B1CB673DE3C-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-8B1CB673DE3C-LeaderElection5 PRE_VOTE round 0: result REJECTED
2022-08-31 02:42:57,909 [s1@group-8B1CB673DE3C-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-8B1CB673DE3C: set configuration 0: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,910 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-8B1CB673DE3C replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-8B1CB673DE3C:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-8B1CB673DE3C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,910 [s1@group-8B1CB673DE3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-8B1CB673DE3C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s1/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/current/log_inprogress_0
2022-08-31 02:42:57,922 [s2@group-8B1CB673DE3C-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 02:42:57,925 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-8B1CB673DE3C: change Leader from null to s1 at term 1 for appendEntries, leader elected after 329ms
2022-08-31 02:42:57,930 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:57,930 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:57,953 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-8B1CB673DE3C: change Leader from null to s1 at term 1 for appendEntries, leader elected after 334ms
2022-08-31 02:42:57,954 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-8B1CB673DE3C: set configuration 0: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,956 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-8B1CB673DE3C-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:42:57,954 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-8B1CB673DE3C: receive requestVote(PRE_VOTE, s2, group-8B1CB673DE3C, 0, (t:0, i:0))
2022-08-31 02:42:57,956 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-8B1CB673DE3C-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-08-31 02:42:57,957 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-8B1CB673DE3C replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-8B1CB673DE3C:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8B1CB673DE3C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,954 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-8B1CB673DE3C: receive requestVote(PRE_VOTE, s2, group-8B1CB673DE3C, 0, (t:0, i:0))
2022-08-31 02:42:57,962 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-8B1CB673DE3C-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2022-08-31 02:42:57,962 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-8B1CB673DE3C replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-8B1CB673DE3C:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8B1CB673DE3C-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,967 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4B4BDF8E1DB2->s0: receive RaftClientReply:client-4B4BDF8E1DB2->s0@group-8B1CB673DE3C, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-8B1CB673DE3C is not the leader s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2022-08-31 02:42:57,977 [s0@group-8B1CB673DE3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-8B1CB673DE3C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s0/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/current/log_inprogress_0
2022-08-31 02:42:57,983 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-8B1CB673DE3C: set configuration 0: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:57,983 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-8B1CB673DE3C-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:42:57,987 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:57,987 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,002 [s2@group-8B1CB673DE3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-8B1CB673DE3C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc8a9378cb/s2/d668a3d4-bbaf-424b-a2b9-8b1cb673de3c/current/log_inprogress_0
2022-08-31 02:42:58,009 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4B4BDF8E1DB2->s1: receive RaftClientReply:client-4B4BDF8E1DB2->s1@group-8B1CB673DE3C, cid=2, SUCCESS, logIndex=0, commits[s1:c0, s0:c-1, s2:c-1]
2022-08-31 02:42:58,016 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-4B4BDF8E1DB2
2022-08-31 02:42:58,019 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-4B4BDF8E1DB2
2022-08-31 02:42:58,020 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-4B4BDF8E1DB2
2022-08-31 02:42:58,020 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-4B4BDF8E1DB2->s1: receive RaftClientReply:client-4B4BDF8E1DB2->s1@group-8B1CB673DE3C, cid=3, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c-1]
2022-08-31 02:42:58,024 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-08-31 02:42:58,024 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,024 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,028 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,028 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,030 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,030 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,036 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-02F4FE00A244->s1: receive RaftClientReply:client-02F4FE00A244->s1@group-8B1CB673DE3C, cid=4, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-08-31 02:42:58,053 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,053 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,055 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,055 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,062 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-3FD9C003D99A->s1: receive RaftClientReply:client-3FD9C003D99A->s1@group-8B1CB673DE3C, cid=6, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c1]
2022-08-31 02:42:58,066 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-5FD07C05D8AD->s1: receive RaftClientReply:client-5FD07C05D8AD->s1@group-8B1CB673DE3C, cid=8, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:42:58,073 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-BB40DFDBA813->s1: receive RaftClientReply:client-BB40DFDBA813->s1@group-8B1CB673DE3C, cid=10, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:42:58,079 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,079 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,087 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7AE1461258B6->s1: receive RaftClientReply:client-7AE1461258B6->s1@group-8B1CB673DE3C, cid=12, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:42:58,105 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,105 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-71934CAB5D14->s1: receive RaftClientReply:client-71934CAB5D14->s1@group-8B1CB673DE3C, cid=14, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:42:58,107 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,116 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,117 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,121 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,122 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,127 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7E24E443314B->s1: receive RaftClientReply:client-7E24E443314B->s1@group-8B1CB673DE3C, cid=16, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:42:58,128 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,128 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,142 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,142 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,147 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-6C9C39F27C66->s1: receive RaftClientReply:client-6C9C39F27C66->s1@group-8B1CB673DE3C, cid=18, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:42:58,162 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-6E847D543EBB->s1: receive RaftClientReply:client-6E847D543EBB->s1@group-8B1CB673DE3C, cid=20, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:42:58,169 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-686ABCC3BFA3->s1: receive RaftClientReply:client-686ABCC3BFA3->s1@group-8B1CB673DE3C, cid=22, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:42:58,182 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9FF979D59791->s1: receive RaftClientReply:client-9FF979D59791->s1@group-8B1CB673DE3C, cid=24, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:42:58,236 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-8B1CB673DE3C: Failed to acquire a pending write request for RaftClientRequest:client-9FF979D59791->s1@group-8B1CB673DE3C, cid=25, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-8B1CB673DE3C: Failed to acquire a pending write request for RaftClientRequest:client-9FF979D59791->s1@group-8B1CB673DE3C, cid=25, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:760)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:872)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:809)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:809)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:880)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:879)
		... 7 more
2022-08-31 02:42:58,449 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-08-31 02:42:58,452 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-02F4FE00A244
2022-08-31 02:42:58,454 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-02F4FE00A244->s1: receive RaftClientReply:client-02F4FE00A244->s1@group-8B1CB673DE3C, cid=5, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c2]
2022-08-31 02:42:58,455 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-02F4FE00A244
2022-08-31 02:42:58,456 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-3FD9C003D99A
2022-08-31 02:42:58,456 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-5FD07C05D8AD
2022-08-31 02:42:58,457 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-02F4FE00A244
2022-08-31 02:42:58,457 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-BB40DFDBA813
2022-08-31 02:42:58,457 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-7AE1461258B6
2022-08-31 02:42:58,457 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-71934CAB5D14
2022-08-31 02:42:58,457 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 17@client-7E24E443314B
2022-08-31 02:42:58,458 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-6C9C39F27C66
2022-08-31 02:42:58,460 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7AE1461258B6->s1: receive RaftClientReply:client-7AE1461258B6->s1@group-8B1CB673DE3C, cid=13, SUCCESS, logIndex=7, commits[s1:c12, s0:c2, s2:c2]
2022-08-31 02:42:58,461 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-5FD07C05D8AD->s1: receive RaftClientReply:client-5FD07C05D8AD->s1@group-8B1CB673DE3C, cid=9, SUCCESS, logIndex=5, commits[s1:c12, s0:c2, s2:c2]
2022-08-31 02:42:58,461 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-6E847D543EBB
2022-08-31 02:42:58,461 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-3FD9C003D99A
2022-08-31 02:42:58,462 [s1@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-686ABCC3BFA3
2022-08-31 02:42:58,462 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-BB40DFDBA813->s1: receive RaftClientReply:client-BB40DFDBA813->s1@group-8B1CB673DE3C, cid=11, SUCCESS, logIndex=6, commits[s1:c12, s0:c2, s2:c2]
2022-08-31 02:42:58,462 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-5FD07C05D8AD
2022-08-31 02:42:58,462 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-3FD9C003D99A->s1: receive RaftClientReply:client-3FD9C003D99A->s1@group-8B1CB673DE3C, cid=7, SUCCESS, logIndex=4, commits[s1:c12, s0:c2, s2:c2]
2022-08-31 02:42:58,462 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-BB40DFDBA813
2022-08-31 02:42:58,463 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7E24E443314B->s1: receive RaftClientReply:client-7E24E443314B->s1@group-8B1CB673DE3C, cid=17, SUCCESS, logIndex=9, commits[s1:c12, s0:c2, s2:c2]
2022-08-31 02:42:58,463 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-7AE1461258B6
2022-08-31 02:42:58,463 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-71934CAB5D14
2022-08-31 02:42:58,463 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 17@client-7E24E443314B
2022-08-31 02:42:58,463 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-6C9C39F27C66
2022-08-31 02:42:58,464 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-6C9C39F27C66->s1: receive RaftClientReply:client-6C9C39F27C66->s1@group-8B1CB673DE3C, cid=19, SUCCESS, logIndex=10, commits[s1:c12, s0:c2, s2:c2]
2022-08-31 02:42:58,464 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-71934CAB5D14->s1: receive RaftClientReply:client-71934CAB5D14->s1@group-8B1CB673DE3C, cid=15, SUCCESS, logIndex=8, commits[s1:c12, s0:c2, s2:c2]
2022-08-31 02:42:58,465 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-6E847D543EBB
2022-08-31 02:42:58,465 [s0@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-686ABCC3BFA3
2022-08-31 02:42:58,466 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-6E847D543EBB->s1: receive RaftClientReply:client-6E847D543EBB->s1@group-8B1CB673DE3C, cid=21, SUCCESS, logIndex=11, commits[s1:c12, s0:c3, s2:c3]
2022-08-31 02:42:58,472 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-3FD9C003D99A
2022-08-31 02:42:58,472 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-5FD07C05D8AD
2022-08-31 02:42:58,473 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-686ABCC3BFA3->s1: receive RaftClientReply:client-686ABCC3BFA3->s1@group-8B1CB673DE3C, cid=23, SUCCESS, logIndex=12, commits[s1:c12, s0:c3, s2:c3]
2022-08-31 02:42:58,473 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-BB40DFDBA813
2022-08-31 02:42:58,473 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-7AE1461258B6
2022-08-31 02:42:58,473 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-71934CAB5D14
2022-08-31 02:42:58,474 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 17@client-7E24E443314B
2022-08-31 02:42:58,474 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-6C9C39F27C66
2022-08-31 02:42:58,474 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-6E847D543EBB
2022-08-31 02:42:58,475 [s2@group-8B1CB673DE3C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-686ABCC3BFA3
2022-08-31 02:42:58,496 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,496 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,509 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-BE5FE1E4B246->s1: receive RaftClientReply:client-BE5FE1E4B246->s1@group-8B1CB673DE3C, cid=26, SUCCESS, logIndex=14, commits[s1:c14, s0:c12, s2:c12]
2022-08-31 02:42:58,534 [grpc-default-executor-10] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-8B1CB673DE3C: Failed to acquire a pending write request for RaftClientRequest:client-BE5FE1E4B246->s1@group-8B1CB673DE3C, cid=27, seq=2, RW, Message:b820af8332074e07c19a...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-8B1CB673DE3C: Failed to acquire a pending write request for RaftClientRequest:client-BE5FE1E4B246->s1@group-8B1CB673DE3C, cid=27, seq=2, RW, Message:b820af8332074e07c19a...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:760)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:872)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:809)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:809)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:880)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:879)
		... 7 more
2022-08-31 02:42:58,837 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 02:42:58,837 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 02:42:58,837 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 02:42:58,837 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 02:42:58,837 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 02:42:58,837 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8B1CB673DE3C:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8B1CB673DE3C-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8B1CB673DE3C:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8B1CB673DE3C-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8B1CB673DE3C:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8B1CB673DE3C-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:46117|admin:localhost:45765|client:localhost:37451|dataStream:localhost:33419|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36541|admin:localhost:43909|client:localhost:38935|dataStream:localhost:36697|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45265|admin:localhost:39981|client:localhost:38917|dataStream:localhost:33919|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:42:58,838 [java.util.concurrent.ThreadPoolExecutor$Worker@2291332c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 02:42:58,840 [java.util.concurrent.ThreadPoolExecutor$Worker@580cd13e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 02:42:58,840 [java.util.concurrent.ThreadPoolExecutor$Worker@301471cc[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 02:42:58,846 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-8B1CB673DE3C: shutdown
2022-08-31 02:42:58,846 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-8B1CB673DE3C: shutdown
2022-08-31 02:42:58,847 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B1CB673DE3C,id=s2
2022-08-31 02:42:58,847 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-8B1CB673DE3C-FollowerState
2022-08-31 02:42:58,847 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-8B1CB673DE3C-StateMachineUpdater: set stopIndex = 14
2022-08-31 02:42:58,847 [s2@group-8B1CB673DE3C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8B1CB673DE3C-FollowerState was interrupted
2022-08-31 02:42:58,846 [java.util.concurrent.ThreadPoolExecutor$Worker@580cd13e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:42:58,847 [java.util.concurrent.ThreadPoolExecutor$Worker@2291332c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:42:58,847 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-8B1CB673DE3C: shutdown
2022-08-31 02:42:58,848 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B1CB673DE3C,id=s0
2022-08-31 02:42:58,847 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B1CB673DE3C,id=s1
2022-08-31 02:42:58,849 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-8B1CB673DE3C-LeaderStateImpl
2022-08-31 02:42:58,852 [java.util.concurrent.ThreadPoolExecutor$Worker@580cd13e[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 02:42:58,849 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-8B1CB673DE3C-FollowerState
2022-08-31 02:42:58,853 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-8B1CB673DE3C-StateMachineUpdater: set stopIndex = 14
2022-08-31 02:42:58,853 [java.util.concurrent.ThreadPoolExecutor$Worker@301471cc[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:42:58,853 [s0@group-8B1CB673DE3C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-8B1CB673DE3C-FollowerState was interrupted
2022-08-31 02:42:58,848 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-8B1CB673DE3C: applyIndex: 14
2022-08-31 02:42:58,853 [s2@group-8B1CB673DE3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-8B1CB673DE3C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:42:58,854 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-8B1CB673DE3C: applyIndex: 14
2022-08-31 02:42:58,854 [s0@group-8B1CB673DE3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-8B1CB673DE3C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:42:58,855 [s1@group-8B1CB673DE3C->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-8B1CB673DE3C->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:42:58,855 [java.util.concurrent.ThreadPoolExecutor$Worker@2291332c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:42:58,856 [java.util.concurrent.ThreadPoolExecutor$Worker@2291332c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 02:42:58,856 [s1@group-8B1CB673DE3C->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-8B1CB673DE3C->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:42:58,855 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-8B1CB673DE3C-PendingRequests: sendNotLeaderResponses
2022-08-31 02:42:58,856 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#29-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-08-31 02:42:58,861 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: s1->s0#33-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-08-31 02:42:58,857 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-8B1CB673DE3C-SegmentedRaftLogWorker close()
2022-08-31 02:42:58,863 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 02:42:58,862 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-8B1CB673DE3C-StateMachineUpdater: set stopIndex = 14
2022-08-31 02:42:58,859 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-8B1CB673DE3C-SegmentedRaftLogWorker close()
2022-08-31 02:42:58,867 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-8B1CB673DE3C->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:42:58,867 [grpc-default-executor-10] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-8B1CB673DE3C->s2: nextIndex: updateUnconditionally 15 -> 14
2022-08-31 02:42:58,867 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 02:42:58,867 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-8B1CB673DE3C: applyIndex: 14
2022-08-31 02:42:58,868 [s1@group-8B1CB673DE3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-8B1CB673DE3C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:42:58,868 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(395)) - s1@group-8B1CB673DE3C->s0-GrpcLogAppender is already stopped
2022-08-31 02:42:58,868 [java.util.concurrent.ThreadPoolExecutor$Worker@2291332c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:42:58,868 [java.util.concurrent.ThreadPoolExecutor$Worker@2291332c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:42:58,869 [java.util.concurrent.ThreadPoolExecutor$Worker@2291332c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:42:58,868 [java.util.concurrent.ThreadPoolExecutor$Worker@580cd13e[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 02:42:58,869 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-8B1CB673DE3C-SegmentedRaftLogWorker close()
2022-08-31 02:42:58,870 [java.util.concurrent.ThreadPoolExecutor$Worker@301471cc[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:42:58,870 [java.util.concurrent.ThreadPoolExecutor$Worker@301471cc[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 02:42:58,872 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@753ab2ea] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 02:42:58,872 [java.util.concurrent.ThreadPoolExecutor$Worker@580cd13e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:42:58,873 [java.util.concurrent.ThreadPoolExecutor$Worker@580cd13e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 02:42:58,874 [java.util.concurrent.ThreadPoolExecutor$Worker@580cd13e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:42:58,874 [java.util.concurrent.ThreadPoolExecutor$Worker@580cd13e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:42:58,874 [java.util.concurrent.ThreadPoolExecutor$Worker@580cd13e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:42:58,874 [java.util.concurrent.ThreadPoolExecutor$Worker@301471cc[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:42:58,874 [java.util.concurrent.ThreadPoolExecutor$Worker@301471cc[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:42:58,874 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@33b800f2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 02:42:58,875 [java.util.concurrent.ThreadPoolExecutor$Worker@301471cc[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:42:58,878 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@6dc1903] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 02:42:58,878 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 02:42:58,879 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 02:42:58,879 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 02:42:58,879 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 02:42:58,882 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 02:42:58,882 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-7904762674EE:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]
2022-08-31 02:42:58,882 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 02:42:58,882 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 02:42:58,882 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 02:42:58,882 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 02:42:58,883 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 02:42:58,883 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 02:42:58,883 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-7904762674EE:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:42:58,883 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0
2022-08-31 02:42:58,883 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0 does not exist.
2022-08-31 02:42:58,883 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0
2022-08-31 02:42:58,883 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:42:58,884 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:58,884 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38711 (custom)
2022-08-31 02:42:58,884 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:58,884 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43251 (custom)
2022-08-31 02:42:58,884 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:58,884 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37921 (custom)
2022-08-31 02:42:58,884 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:58,884 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:58,884 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:58,885 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:58,885 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:58,885 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:58,885 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:58,886 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:42:58,886 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:42:58,886 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:42:58,887 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:58,887 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:58,887 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0] (custom)
2022-08-31 02:42:58,887 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-7904762674EE:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER] returns group-7904762674EE:java.util.concurrent.CompletableFuture@64901ee9[Not completed]
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-7904762674EE:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-7904762674EE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:42:58,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:42:58,889 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:58,889 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:42:58,889 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:42:58,889 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:42:58,889 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:42:58,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:42:58,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:42:58,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0] (custom)
2022-08-31 02:42:58,894 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0/e3b6ad65-d1b4-4e47-8e0f-7904762674ee does not exist. Creating ...
2022-08-31 02:42:58,894 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0/e3b6ad65-d1b4-4e47-8e0f-7904762674ee
2022-08-31 02:42:58,895 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0/e3b6ad65-d1b4-4e47-8e0f-7904762674ee/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:42:58,896 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0/e3b6ad65-d1b4-4e47-8e0f-7904762674ee/current
2022-08-31 02:42:58,896 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0/e3b6ad65-d1b4-4e47-8e0f-7904762674ee/sm
2022-08-31 02:42:58,897 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0/e3b6ad65-d1b4-4e47-8e0f-7904762674ee has been successfully formatted.
2022-08-31 02:42:58,897 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:58,898 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:42:58,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:42:58,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:42:58,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:58,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:42:58,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:42:58,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:58,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:42:58,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-7904762674EE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0/e3b6ad65-d1b4-4e47-8e0f-7904762674ee
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:42:58,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:42:58,900 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:42:58,900 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-7904762674EE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:58,900 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-7904762674EE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:58,900 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-7904762674EE: start as a follower, conf=-1: peers:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:58,900 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-7904762674EE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:42:58,900 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7904762674EE-FollowerState
2022-08-31 02:42:58,900 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7904762674EE,id=s0
2022-08-31 02:42:58,901 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:42:58,901 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:42:58,901 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:42:58,901 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 02:42:58,902 [s0@group-7904762674EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:58,902 [s0@group-7904762674EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:58,902 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 43251
2022-08-31 02:42:58,904 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 37921
2022-08-31 02:42:58,904 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 38711
2022-08-31 02:42:58,905 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@18f88123] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 02:42:58,905 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:58,905 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7904762674EE:t0, leader=null, voted=, raftlog=Memoized:s0@group-7904762674EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:42:58,905 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7904762674EE:t0, leader=null, voted=, raftlog=Memoized:s0@group-7904762674EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7904762674EE:t0, leader=null, voted=, raftlog=Memoized:s0@group-7904762674EE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:154)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:150)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:42:59,162 [s0@group-7904762674EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7904762674EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:262172255ns, electionTimeout:260ms
2022-08-31 02:42:59,163 [s0@group-7904762674EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7904762674EE-FollowerState
2022-08-31 02:42:59,163 [s0@group-7904762674EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-7904762674EE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:42:59,163 [s0@group-7904762674EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:42:59,163 [s0@group-7904762674EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7904762674EE-LeaderElection6
2022-08-31 02:42:59,164 [s0@group-7904762674EE-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7904762674EE-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:59,164 [s0@group-7904762674EE-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7904762674EE-LeaderElection6 PRE_VOTE round 0: result PASSED (term=0)
2022-08-31 02:42:59,167 [s0@group-7904762674EE-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7904762674EE-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:59,167 [s0@group-7904762674EE-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7904762674EE-LeaderElection6 ELECTION round 0: result PASSED (term=1)
2022-08-31 02:42:59,167 [s0@group-7904762674EE-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7904762674EE-LeaderElection6
2022-08-31 02:42:59,167 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-7904762674EE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 02:42:59,167 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-7904762674EE: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 278ms
2022-08-31 02:42:59,167 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:42:59,167 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:42:59,167 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 02:42:59,167 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:42:59,168 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:42:59,168 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:42:59,168 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:42:59,168 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:42:59,168 [s0@group-7904762674EE-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7904762674EE-LeaderStateImpl
2022-08-31 02:42:59,168 [s0@group-7904762674EE-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-7904762674EE-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:42:59,174 [s0@group-7904762674EE-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-7904762674EE: set configuration 0: peers:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:59,180 [s0@group-7904762674EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-7904762674EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc2124c14c/s0/e3b6ad65-d1b4-4e47-8e0f-7904762674ee/current/log_inprogress_0
2022-08-31 02:42:59,356 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7904762674EE:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7904762674EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:42:59,357 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:59,357 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38711 (custom)
2022-08-31 02:42:59,357 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:59,357 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43251 (custom)
2022-08-31 02:42:59,357 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:59,357 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37921 (custom)
2022-08-31 02:42:59,357 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:59,357 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:59,357 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:59,357 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:59,358 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:59,358 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:59,358 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:59,360 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-08-31 02:42:59,360 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:318)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:157)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:150)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:42:59,361 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-08-31 02:42:59,361 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:324)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:161)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:150)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:42:59,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 02:42:59,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 02:42:59,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 02:42:59,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 02:42:59,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 02:42:59,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7904762674EE:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7904762674EE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37921|admin:localhost:38711|client:localhost:43251|dataStream:localhost:46359|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:42:59,363 [java.util.concurrent.ThreadPoolExecutor$Worker@7bb8f5a0[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 02:42:59,363 [java.util.concurrent.ThreadPoolExecutor$Worker@7bb8f5a0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:42:59,363 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-7904762674EE: shutdown
2022-08-31 02:42:59,363 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7904762674EE,id=s0
2022-08-31 02:42:59,363 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7904762674EE-LeaderStateImpl
2022-08-31 02:42:59,363 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-7904762674EE-PendingRequests: sendNotLeaderResponses
2022-08-31 02:42:59,364 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-7904762674EE-StateMachineUpdater: set stopIndex = 0
2022-08-31 02:42:59,364 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-7904762674EE: applyIndex: 0
2022-08-31 02:42:59,365 [java.util.concurrent.ThreadPoolExecutor$Worker@7bb8f5a0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:42:59,365 [java.util.concurrent.ThreadPoolExecutor$Worker@7bb8f5a0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 02:42:59,365 [s0@group-7904762674EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-7904762674EE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:42:59,366 [java.util.concurrent.ThreadPoolExecutor$Worker@7bb8f5a0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:42:59,366 [java.util.concurrent.ThreadPoolExecutor$Worker@7bb8f5a0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:42:59,366 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-7904762674EE-SegmentedRaftLogWorker close()
2022-08-31 02:42:59,367 [java.util.concurrent.ThreadPoolExecutor$Worker@7bb8f5a0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:42:59,367 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@18f88123] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 02:42:59,367 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 02:42:59,368 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 02:42:59,368 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 02:42:59,368 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 02:42:59,369 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 02:42:59,369 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-A2BEDC20254C:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]
2022-08-31 02:42:59,369 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 02:42:59,369 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 02:42:59,369 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 02:42:59,369 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 02:42:59,369 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 02:42:59,369 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 02:42:59,369 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-A2BEDC20254C:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:42:59,370 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0
2022-08-31 02:42:59,370 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0 does not exist.
2022-08-31 02:42:59,370 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0
2022-08-31 02:42:59,370 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:42:59,370 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:59,370 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36537 (custom)
2022-08-31 02:42:59,370 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:59,371 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39457 (custom)
2022-08-31 02:42:59,371 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:59,371 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36815 (custom)
2022-08-31 02:42:59,371 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:59,371 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:59,371 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:59,371 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:59,371 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:59,371 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:59,371 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:59,372 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:42:59,373 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:42:59,373 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:42:59,373 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:59,373 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:59,373 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0] (custom)
2022-08-31 02:42:59,378 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-A2BEDC20254C:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER] returns group-A2BEDC20254C:java.util.concurrent.CompletableFuture@39dc4d4f[Not completed]
2022-08-31 02:42:59,378 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-A2BEDC20254C:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A2BEDC20254C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:42:59,379 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:42:59,380 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:59,380 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:42:59,380 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:42:59,380 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:42:59,380 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:42:59,380 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:42:59,380 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:42:59,380 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0] (custom)
2022-08-31 02:42:59,381 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c does not exist. Creating ...
2022-08-31 02:42:59,381 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c
2022-08-31 02:42:59,382 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:42:59,382 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c/current
2022-08-31 02:42:59,383 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c/sm
2022-08-31 02:42:59,384 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c has been successfully formatted.
2022-08-31 02:42:59,384 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-A2BEDC20254C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:42:59,385 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:42:59,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:42:59,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:42:59,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:42:59,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:42:59,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:42:59,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:42:59,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:42:59,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:42:59,386 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-A2BEDC20254C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:59,387 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-A2BEDC20254C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:42:59,390 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-A2BEDC20254C: start as a follower, conf=-1: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:59,390 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-A2BEDC20254C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:42:59,390 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A2BEDC20254C-FollowerState
2022-08-31 02:42:59,391 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A2BEDC20254C,id=s0
2022-08-31 02:42:59,391 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:42:59,391 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:42:59,391 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:42:59,391 [s0@group-A2BEDC20254C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:42:59,391 [s0@group-A2BEDC20254C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:42:59,391 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 02:42:59,392 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39457
2022-08-31 02:42:59,393 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 36815
2022-08-31 02:42:59,394 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 36537
2022-08-31 02:42:59,395 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@7a07f513] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 02:42:59,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:59,395 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A2BEDC20254C:t0, leader=null, voted=, raftlog=Memoized:s0@group-A2BEDC20254C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:42:59,395 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A2BEDC20254C:t0, leader=null, voted=, raftlog=Memoized:s0@group-A2BEDC20254C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A2BEDC20254C:t0, leader=null, voted=, raftlog=Memoized:s0@group-A2BEDC20254C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:120)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:42:59,630 [s0@group-A2BEDC20254C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A2BEDC20254C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:239298232ns, electionTimeout:238ms
2022-08-31 02:42:59,630 [s0@group-A2BEDC20254C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A2BEDC20254C-FollowerState
2022-08-31 02:42:59,630 [s0@group-A2BEDC20254C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-A2BEDC20254C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:42:59,630 [s0@group-A2BEDC20254C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:42:59,630 [s0@group-A2BEDC20254C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A2BEDC20254C-LeaderElection7
2022-08-31 02:42:59,637 [s0@group-A2BEDC20254C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A2BEDC20254C-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:59,637 [s0@group-A2BEDC20254C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A2BEDC20254C-LeaderElection7 PRE_VOTE round 0: result PASSED (term=0)
2022-08-31 02:42:59,641 [s0@group-A2BEDC20254C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A2BEDC20254C-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:59,641 [s0@group-A2BEDC20254C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A2BEDC20254C-LeaderElection7 ELECTION round 0: result PASSED (term=1)
2022-08-31 02:42:59,641 [s0@group-A2BEDC20254C-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A2BEDC20254C-LeaderElection7
2022-08-31 02:42:59,641 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-A2BEDC20254C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 02:42:59,641 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-A2BEDC20254C: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 262ms
2022-08-31 02:42:59,642 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:42:59,642 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:42:59,642 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 02:42:59,646 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:42:59,647 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:42:59,647 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:42:59,647 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:42:59,647 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:42:59,647 [s0@group-A2BEDC20254C-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A2BEDC20254C-LeaderStateImpl
2022-08-31 02:42:59,648 [s0@group-A2BEDC20254C-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-A2BEDC20254C-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:42:59,655 [s0@group-A2BEDC20254C-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-A2BEDC20254C: set configuration 0: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:42:59,663 [s0@group-A2BEDC20254C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-A2BEDC20254C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c/current/log_inprogress_0
2022-08-31 02:42:59,846 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A2BEDC20254C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A2BEDC20254C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:42:59,861 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:42:59,862 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:59,862 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36537 (custom)
2022-08-31 02:42:59,862 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:59,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39457 (custom)
2022-08-31 02:42:59,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:59,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36815 (custom)
2022-08-31 02:42:59,864 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:59,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:59,864 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:59,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:59,865 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:59,865 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:59,865 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:59,866 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:42:59,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:42:59,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:42:59,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:59,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:59,867 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0] (custom)
2022-08-31 02:42:59,867 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c
2022-08-31 02:42:59,868 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-A2BEDC20254C:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER] returns group-A2BEDC20254C:java.util.concurrent.CompletableFuture@5dbd0f5a[Not completed]
2022-08-31 02:42:59,868 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:42:59,868 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:42:59,868 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 02:42:59,869 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:42:59,869 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:42:59,869 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:42:59,870 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-08-31 02:42:59,870 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:42:59,870 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:59,872 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36537 (custom)
2022-08-31 02:42:59,872 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:42:59,872 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39457 (custom)
2022-08-31 02:42:59,872 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:42:59,872 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36815 (custom)
2022-08-31 02:42:59,872 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:42:59,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:42:59,872 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:42:59,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:42:59,872 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:42:59,872 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:42:59,872 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:42:59,880 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:42:59,880 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:42:59,880 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:42:59,880 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:59,880 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:59,880 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0] (custom)
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-A2BEDC20254C:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-A2BEDC20254C
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A2BEDC20254C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:42:59,881 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:42:59,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:59,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:42:59,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:42:59,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:42:59,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:42:59,882 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c
2022-08-31 02:42:59,882 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-A2BEDC20254C:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER] returns group-A2BEDC20254C:java.util.concurrent.CompletableFuture@6f774b75[Not completed]
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-A2BEDC20254C:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-A2BEDC20254C
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A2BEDC20254C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:42:59,883 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:42:59,883 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:42:59,884 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:42:59,884 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0] (custom)
2022-08-31 02:42:59,885 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:42:59,886 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 02:43:00,886 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:00,887 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 02:43:01,887 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:01,888 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 02:43:02,888 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:02,889 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 02:43:03,890 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:03,894 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd3f0562e/s0/09cad0b7-4379-4322-a036-a2bedc20254c. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 02:43:03,895 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:03,895 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36537 (custom)
2022-08-31 02:43:03,895 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:03,895 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39457 (custom)
2022-08-31 02:43:03,895 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:03,895 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36815 (custom)
2022-08-31 02:43:03,895 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:03,896 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:03,896 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:03,896 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:03,896 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:43:03,896 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:03,896 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:03,897 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 02:43:03,897 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 02:43:03,897 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 02:43:03,897 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 02:43:03,897 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 02:43:03,897 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A2BEDC20254C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A2BEDC20254C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36815|admin:localhost:36537|client:localhost:39457|dataStream:localhost:45415|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:03,898 [java.util.concurrent.ThreadPoolExecutor$Worker@69b24a0c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 02:43:03,898 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-A2BEDC20254C: shutdown
2022-08-31 02:43:03,898 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A2BEDC20254C,id=s0
2022-08-31 02:43:03,898 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-A2BEDC20254C-LeaderStateImpl
2022-08-31 02:43:03,898 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-A2BEDC20254C-PendingRequests: sendNotLeaderResponses
2022-08-31 02:43:03,899 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-A2BEDC20254C-StateMachineUpdater: set stopIndex = 0
2022-08-31 02:43:03,899 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-A2BEDC20254C: applyIndex: 0
2022-08-31 02:43:03,899 [s0@group-A2BEDC20254C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-A2BEDC20254C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:03,901 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-A2BEDC20254C-SegmentedRaftLogWorker close()
2022-08-31 02:43:03,902 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@7a07f513] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 02:43:03,903 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 02:43:03,903 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 02:43:03,903 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 02:43:03,904 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 02:43:03,904 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 02:43:03,905 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-70A2C46A6A49:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]
2022-08-31 02:43:03,905 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 02:43:03,905 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 02:43:03,905 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 02:43:03,905 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 02:43:03,905 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 02:43:03,905 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 02:43:03,906 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-70A2C46A6A49:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:03,906 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0
2022-08-31 02:43:03,906 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0 does not exist.
2022-08-31 02:43:03,906 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0
2022-08-31 02:43:03,906 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:03,907 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:03,907 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39775 (custom)
2022-08-31 02:43:03,907 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:03,907 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41171 (custom)
2022-08-31 02:43:03,907 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:03,907 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37969 (custom)
2022-08-31 02:43:03,907 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:03,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:03,907 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:03,908 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:03,908 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:43:03,908 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:03,908 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:03,909 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:03,909 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:03,909 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:03,909 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:03,909 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:03,910 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0] (custom)
2022-08-31 02:43:03,918 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-70A2C46A6A49:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER] returns group-70A2C46A6A49:java.util.concurrent.CompletableFuture@56ca2d14[Not completed]
2022-08-31 02:43:03,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-70A2C46A6A49:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:03,919 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1
2022-08-31 02:43:03,919 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:03,919 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1 does not exist.
2022-08-31 02:43:03,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1
2022-08-31 02:43:03,919 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:03,919 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:03,919 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-70A2C46A6A49:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:03,919 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:03,919 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:03,920 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:03,920 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:03,920 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43507 (custom)
2022-08-31 02:43:03,920 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:03,920 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:03,920 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:03,920 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:03,920 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36743 (custom)
2022-08-31 02:43:03,920 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:03,920 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:03,920 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-70A2C46A6A49: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:03,920 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46597 (custom)
2022-08-31 02:43:03,921 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:03,921 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:03,921 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:03,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:03,921 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:03,921 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:03,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:03,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:43:03,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:03,922 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:03,923 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:03,923 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:03,923 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:03,923 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:03,923 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:03,923 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1] (custom)
2022-08-31 02:43:03,923 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:03,924 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:03,924 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:03,924 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:03,924 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:03,930 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-70A2C46A6A49:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER] returns group-70A2C46A6A49:java.util.concurrent.CompletableFuture@31c0ebfa[Not completed]
2022-08-31 02:43:03,931 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-70A2C46A6A49:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:03,931 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2
2022-08-31 02:43:03,931 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:03,931 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2 does not exist.
2022-08-31 02:43:03,931 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2
2022-08-31 02:43:03,931 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:03,931 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:03,931 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33441 (custom)
2022-08-31 02:43:03,931 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:03,932 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39247 (custom)
2022-08-31 02:43:03,932 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:03,932 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40333 (custom)
2022-08-31 02:43:03,932 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:03,932 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:03,932 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:03,932 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:03,932 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:43:03,932 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:03,932 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:03,933 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:03,933 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:03,933 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:03,933 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:03,933 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:03,934 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2] (custom)
2022-08-31 02:43:03,931 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:03,934 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:03,934 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-70A2C46A6A49:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:03,934 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:03,934 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:03,934 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:03,934 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:03,934 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:03,935 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:03,935 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-70A2C46A6A49: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:03,935 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:03,935 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:03,935 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:03,935 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:03,936 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:03,936 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:03,936 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:03,936 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:03,936 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-70A2C46A6A49:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER] returns group-70A2C46A6A49:java.util.concurrent.CompletableFuture@1ced475a[Not completed]
2022-08-31 02:43:03,936 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:03,937 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:03,937 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:03,937 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0] (custom)
2022-08-31 02:43:03,937 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:03,937 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:03,937 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-70A2C46A6A49:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:03,937 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49 does not exist. Creating ...
2022-08-31 02:43:03,937 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49
2022-08-31 02:43:03,937 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:03,939 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:03,939 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:03,939 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:03,939 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:03,939 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:03,939 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:03,939 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-70A2C46A6A49: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:03,939 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current
2022-08-31 02:43:03,939 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:03,939 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49/sm
2022-08-31 02:43:03,939 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:03,940 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:03,941 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49 has been successfully formatted.
2022-08-31 02:43:03,941 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:03,942 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:03,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:03,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:03,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:03,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:03,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:03,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:03,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:03,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-70A2C46A6A49-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:03,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:03,944 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-70A2C46A6A49-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:03,944 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-70A2C46A6A49-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:03,945 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-70A2C46A6A49: start as a follower, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:03,945 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-70A2C46A6A49: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:03,945 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:03,950 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-70A2C46A6A49,id=s0
2022-08-31 02:43:03,950 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:03,950 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:03,950 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:03,951 [s0@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:03,951 [s0@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:03,954 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:03,954 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:03,954 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:03,954 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:03,954 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:03,958 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 02:43:03,959 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 41171
2022-08-31 02:43:03,960 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 37969
2022-08-31 02:43:03,960 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39775
2022-08-31 02:43:03,961 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:03,961 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:03,961 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1] (custom)
2022-08-31 02:43:03,961 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49 does not exist. Creating ...
2022-08-31 02:43:03,961 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49
2022-08-31 02:43:03,961 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@2ac4e006] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 02:43:03,963 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:03,963 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current
2022-08-31 02:43:03,963 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49/sm
2022-08-31 02:43:03,969 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49 has been successfully formatted.
2022-08-31 02:43:03,969 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:03,969 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:03,969 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-70A2C46A6A49-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:03,970 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:03,971 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:03,971 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:03,971 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:03,971 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:03,971 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-70A2C46A6A49-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:03,971 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-70A2C46A6A49-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:03,974 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-70A2C46A6A49: start as a follower, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:03,974 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-70A2C46A6A49: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:03,974 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:03,978 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-70A2C46A6A49,id=s1
2022-08-31 02:43:03,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:03,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:03,978 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:03,979 [s1@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:03,979 [s1@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:03,982 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 02:43:03,983 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 36743
2022-08-31 02:43:03,984 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 46597
2022-08-31 02:43:03,984 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 43507
2022-08-31 02:43:03,985 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@32ab880f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 02:43:03,985 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:03,985 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:03,985 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2] (custom)
2022-08-31 02:43:03,986 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49 does not exist. Creating ...
2022-08-31 02:43:03,986 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49
2022-08-31 02:43:03,987 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:03,988 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current
2022-08-31 02:43:03,988 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49/sm
2022-08-31 02:43:03,989 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49 has been successfully formatted.
2022-08-31 02:43:03,989 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-70A2C46A6A49-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:03,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-70A2C46A6A49-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:03,991 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-70A2C46A6A49-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:03,992 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-70A2C46A6A49: start as a follower, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:03,992 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-70A2C46A6A49: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:03,992 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:03,992 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-70A2C46A6A49,id=s2
2022-08-31 02:43:03,992 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:03,992 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:03,992 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:03,993 [s2@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:03,993 [s2@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:03,994 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 02:43:03,995 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 39247
2022-08-31 02:43:03,995 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40333
2022-08-31 02:43:03,996 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 33441
2022-08-31 02:43:03,997 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@36381094] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 02:43:03,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:03,998 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:03,998 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:172)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:04,200 [s1@group-70A2C46A6A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-70A2C46A6A49-FollowerState: change to CANDIDATE, lastRpcElapsedTime:225917801ns, electionTimeout:221ms
2022-08-31 02:43:04,201 [s1@group-70A2C46A6A49-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:04,201 [s1@group-70A2C46A6A49-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-70A2C46A6A49: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:43:04,201 [s1@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:43:04,201 [s1@group-70A2C46A6A49-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-70A2C46A6A49-LeaderElection8
2022-08-31 02:43:04,206 [s1@group-70A2C46A6A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-70A2C46A6A49-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,206 [s1@group-70A2C46A6A49-LeaderElection8-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 02:43:04,207 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:04,207 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:04,208 [s1@group-70A2C46A6A49-LeaderElection8-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 02:43:04,219 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-70A2C46A6A49: receive requestVote(PRE_VOTE, s1, group-70A2C46A6A49, 0, (t:0, i:0))
2022-08-31 02:43:04,220 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-70A2C46A6A49-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:43:04,220 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-70A2C46A6A49 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,223 [s1@group-70A2C46A6A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-70A2C46A6A49-LeaderElection8: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:04,223 [s1@group-70A2C46A6A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-31 02:43:04,223 [s1@group-70A2C46A6A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-70A2C46A6A49-LeaderElection8 PRE_VOTE round 0: result PASSED
2022-08-31 02:43:04,224 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-70A2C46A6A49: receive requestVote(PRE_VOTE, s1, group-70A2C46A6A49, 0, (t:0, i:0))
2022-08-31 02:43:04,224 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-70A2C46A6A49-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:43:04,224 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-70A2C46A6A49 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-70A2C46A6A49:t0, leader=null, voted=, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,225 [s1@group-70A2C46A6A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-70A2C46A6A49-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,228 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:04,228 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:04,231 [s0@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:04,231 [s0@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:04,232 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-70A2C46A6A49: receive requestVote(ELECTION, s1, group-70A2C46A6A49, 1, (t:0, i:0))
2022-08-31 02:43:04,232 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-70A2C46A6A49-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:43:04,232 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-70A2C46A6A49: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-31 02:43:04,232 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:04,232 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:04,232 [s0@group-70A2C46A6A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-70A2C46A6A49-FollowerState was interrupted
2022-08-31 02:43:04,234 [s0@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:04,234 [s0@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:04,237 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-70A2C46A6A49 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-70A2C46A6A49:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,239 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-70A2C46A6A49: receive requestVote(ELECTION, s1, group-70A2C46A6A49, 1, (t:0, i:0))
2022-08-31 02:43:04,239 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-70A2C46A6A49-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:43:04,239 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-70A2C46A6A49: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-31 02:43:04,239 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:04,239 [s2@group-70A2C46A6A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-70A2C46A6A49-FollowerState was interrupted
2022-08-31 02:43:04,239 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:04,239 [s1@group-70A2C46A6A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-70A2C46A6A49-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-70A2C46A6A49-LeaderElection8 ELECTION round 0: result PASSED
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-70A2C46A6A49-LeaderElection8
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-70A2C46A6A49: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-70A2C46A6A49: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 304ms
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:04,240 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:04,241 [s1@group-70A2C46A6A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:43:04,242 [s1@group-70A2C46A6A49-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-70A2C46A6A49-LeaderStateImpl
2022-08-31 02:43:04,242 [s1@group-70A2C46A6A49-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-70A2C46A6A49-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:04,249 [s2@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:04,249 [s2@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:04,256 [s1@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-70A2C46A6A49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_0
2022-08-31 02:43:04,256 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-70A2C46A6A49 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-70A2C46A6A49:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,259 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-70A2C46A6A49: change Leader from null to s1 at term 1 for appendEntries, leader elected after 338ms
2022-08-31 02:43:04,262 [s1@group-70A2C46A6A49-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-70A2C46A6A49: set configuration 0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,268 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-70A2C46A6A49: set configuration 0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,269 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-70A2C46A6A49-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:04,275 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-70A2C46A6A49: change Leader from null to s1 at term 1 for appendEntries, leader elected after 335ms
2022-08-31 02:43:04,280 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-70A2C46A6A49: set configuration 0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,281 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-70A2C46A6A49-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:04,281 [s0@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-70A2C46A6A49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_0
2022-08-31 02:43:04,294 [s2@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-70A2C46A6A49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_0
2022-08-31 02:43:04,453 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:04,453 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:04,453 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:04,461 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-37929B9A6A3A->s0: receive RaftClientReply:client-37929B9A6A3A->s0@group-70A2C46A6A49, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-70A2C46A6A49 is not the leader s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-31 02:43:04,464 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:04,464 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:04,471 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-37929B9A6A3A->s1: receive RaftClientReply:client-37929B9A6A3A->s1@group-70A2C46A6A49, cid=28, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-08-31 02:43:04,477 [s1@group-70A2C46A6A49-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-37929B9A6A3A
2022-08-31 02:43:04,479 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-37929B9A6A3A->s1: receive RaftClientReply:client-37929B9A6A3A->s1@group-70A2C46A6A49, cid=29, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-08-31 02:43:04,481 [s2@group-70A2C46A6A49-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-37929B9A6A3A
2022-08-31 02:43:04,483 [s0@group-70A2C46A6A49-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-37929B9A6A3A
2022-08-31 02:43:04,485 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:04,485 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:04,501 [s1@group-70A2C46A6A49-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-EE68ABAD627D
2022-08-31 02:43:04,504 [s2@group-70A2C46A6A49-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-EE68ABAD627D
2022-08-31 02:43:04,505 [s0@group-70A2C46A6A49-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-EE68ABAD627D
2022-08-31 02:43:04,505 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-EE68ABAD627D->s1: receive RaftClientReply:client-EE68ABAD627D->s1@group-70A2C46A6A49, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c1]
2022-08-31 02:43:04,505 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-08-31 02:43:04,507 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2022-08-31 02:43:04,508 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:04,508 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:04,508 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:04,513 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:198)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:04,586 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-08-31 02:43:04,590 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-08-31 02:43:04,613 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:04,614 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:04,614 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:04,614 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:198)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:04,694 [s0@group-70A2C46A6A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-70A2C46A6A49-FollowerState: change to CANDIDATE, lastRpcElapsedTime:189621647ns, electionTimeout:189ms
2022-08-31 02:43:04,695 [s0@group-70A2C46A6A49-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:04,695 [s0@group-70A2C46A6A49-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-70A2C46A6A49: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-31 02:43:04,695 [s0@group-70A2C46A6A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:43:04,695 [s0@group-70A2C46A6A49-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-70A2C46A6A49-LeaderElection9
2022-08-31 02:43:04,696 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-70A2C46A6A49: change Leader from s1 to null at term 1 for PRE_VOTE
2022-08-31 02:43:04,696 [s0@group-70A2C46A6A49-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-70A2C46A6A49-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,696 [s0@group-70A2C46A6A49-LeaderElection9-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 02:43:04,697 [s0@group-70A2C46A6A49-LeaderElection9-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 02:43:04,703 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-70A2C46A6A49: receive requestVote(PRE_VOTE, s0, group-70A2C46A6A49, 1, (t:1, i:4))
2022-08-31 02:43:04,703 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-70A2C46A6A49-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-31 02:43:04,703 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-70A2C46A6A49 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,705 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-70A2C46A6A49: receive requestVote(PRE_VOTE, s0, group-70A2C46A6A49, 1, (t:1, i:4))
2022-08-31 02:43:04,706 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-70A2C46A6A49-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:04,706 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-70A2C46A6A49 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,707 [s0@group-70A2C46A6A49-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-70A2C46A6A49-LeaderElection9: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:04,707 [s0@group-70A2C46A6A49-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2022-08-31 02:43:04,707 [s0@group-70A2C46A6A49-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-70A2C46A6A49-LeaderElection9 PRE_VOTE round 0: result PASSED
2022-08-31 02:43:04,709 [s0@group-70A2C46A6A49-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-70A2C46A6A49-LeaderElection9 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,713 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-70A2C46A6A49: receive requestVote(ELECTION, s0, group-70A2C46A6A49, 2, (t:1, i:4))
2022-08-31 02:43:04,713 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-70A2C46A6A49-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:04,713 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-70A2C46A6A49: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-31 02:43:04,713 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-70A2C46A6A49: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-08-31 02:43:04,713 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-70A2C46A6A49-LeaderStateImpl
2022-08-31 02:43:04,713 [s1@group-70A2C46A6A49->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-70A2C46A6A49->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:04,714 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:04,715 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-70A2C46A6A49:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70A2C46A6A49:t2, leader=null, voted=null, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:04,715 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-70A2C46A6A49:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70A2C46A6A49:t2, leader=null, voted=null, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-70A2C46A6A49:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70A2C46A6A49:t2, leader=null, voted=null, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:198)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:04,716 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-70A2C46A6A49: receive requestVote(ELECTION, s0, group-70A2C46A6A49, 2, (t:1, i:4))
2022-08-31 02:43:04,716 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-70A2C46A6A49-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:04,716 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-70A2C46A6A49: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-31 02:43:04,716 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-70A2C46A6A49: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-08-31 02:43:04,716 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:04,716 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:04,716 [s2@group-70A2C46A6A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-70A2C46A6A49-FollowerState was interrupted
2022-08-31 02:43:04,719 [grpc-default-executor-5] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-70A2C46A6A49-PendingRequests: sendNotLeaderResponses
2022-08-31 02:43:04,720 [s1@group-70A2C46A6A49->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-70A2C46A6A49->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:04,720 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:04,721 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-70A2C46A6A49 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-70A2C46A6A49:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,723 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-70A2C46A6A49 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-70A2C46A6A49:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-70A2C46A6A49-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t2
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-70A2C46A6A49-LeaderElection9 ELECTION round 0: result PASSED
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-70A2C46A6A49-LeaderElection9
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-70A2C46A6A49: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-70A2C46A6A49: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 28ms
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:43:04,724 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:43:04,725 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:04,725 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:43:04,725 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:04,725 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:04,725 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:04,725 [s0@group-70A2C46A6A49-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:04,725 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:04,725 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:04,725 [s0@group-70A2C46A6A49-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:43:04,726 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:04,726 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:04,726 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:04,727 [s0@group-70A2C46A6A49-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:04,727 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:04,731 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:04,731 [s0@group-70A2C46A6A49-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-08-31 02:43:04,731 [s0@group-70A2C46A6A49-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-70A2C46A6A49-LeaderStateImpl
2022-08-31 02:43:04,732 [s0@group-70A2C46A6A49-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-70A2C46A6A49-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 02:43:04,734 [s0@group-70A2C46A6A49-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_0-4
2022-08-31 02:43:04,735 [s0@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-70A2C46A6A49-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_0-4
2022-08-31 02:43:04,741 [s0@group-70A2C46A6A49-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-70A2C46A6A49: set configuration 5: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,742 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-70A2C46A6A49: change Leader from null to s0 at term 2 for appendEntries, leader elected after 28ms
2022-08-31 02:43:04,746 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-70A2C46A6A49: set configuration 5: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,746 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-70A2C46A6A49-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 02:43:04,748 [s1@group-70A2C46A6A49-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_0-4
2022-08-31 02:43:04,748 [s1@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-70A2C46A6A49-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_0-4
2022-08-31 02:43:04,748 [s0@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-70A2C46A6A49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s0/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_5
2022-08-31 02:43:04,756 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-70A2C46A6A49: change Leader from null to s0 at term 2 for appendEntries, leader elected after 39ms
2022-08-31 02:43:04,756 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-70A2C46A6A49: set configuration 5: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:04,757 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-70A2C46A6A49-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 02:43:04,758 [s2@group-70A2C46A6A49-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_0-4
2022-08-31 02:43:04,758 [s2@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-70A2C46A6A49-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_0-4
2022-08-31 02:43:04,763 [s1@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-70A2C46A6A49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s1/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_5
2022-08-31 02:43:04,774 [s2@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-70A2C46A6A49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpcd852f5ed/s2/119ca516-25ed-4c5b-abe0-70a2c46a6a49/current/log_inprogress_5
2022-08-31 02:43:05,166 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-70A2C46A6A49:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70A2C46A6A49:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:05,166 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-08-31 02:43:05,166 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2022-08-31 02:43:05,166 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-08-31 02:43:05,167 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-EE68ABAD627D->s1: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:202)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-EE68ABAD627D->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:406)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:346)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-08-31 02:43:05,167 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-08-31 02:43:05,169 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:05,169 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:05,175 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-08-31 02:43:05,188 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-08-31 02:43:05,190 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-08-31 02:43:05,192 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#23-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-31 02:43:05,190 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#24-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-31 02:43:05,193 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-70A2C46A6A49->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:05,193 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-70A2C46A6A49->s0: nextIndex: updateUnconditionally 5 -> 4
2022-08-31 02:43:05,194 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-70A2C46A6A49->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:05,194 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-70A2C46A6A49->s2: nextIndex: updateUnconditionally 5 -> 4
2022-08-31 02:43:06,176 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-EE68ABAD627D->s1 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:210)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-EE68ABAD627D->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:388)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-08-31 02:43:06,187 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-EE68ABAD627D->s1: receive RaftClientReply:client-EE68ABAD627D->s1@group-70A2C46A6A49, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-08-31 02:43:09,177 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=341, target=localhost:36743}}. 
2022-08-31 02:43:09,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 02:43:09,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 02:43:09,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 02:43:09,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 02:43:09,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 02:43:09,185 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-70A2C46A6A49:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-70A2C46A6A49:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-70A2C46A6A49:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-70A2C46A6A49-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37969|admin:localhost:39775|client:localhost:41171|dataStream:localhost:45293|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46597|admin:localhost:43507|client:localhost:36743|dataStream:localhost:42135|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40333|admin:localhost:33441|client:localhost:39247|dataStream:localhost:44481|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:09,186 [java.util.concurrent.ThreadPoolExecutor$Worker@7b4f486f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 02:43:09,190 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-70A2C46A6A49: shutdown
2022-08-31 02:43:09,190 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-70A2C46A6A49,id=s0
2022-08-31 02:43:09,190 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-70A2C46A6A49-LeaderStateImpl
2022-08-31 02:43:09,190 [java.util.concurrent.ThreadPoolExecutor$Worker@6043fe9e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 02:43:09,190 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-70A2C46A6A49: shutdown
2022-08-31 02:43:09,190 [s0@group-70A2C46A6A49->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-70A2C46A6A49->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:09,190 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-70A2C46A6A49,id=s2
2022-08-31 02:43:09,190 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:09,190 [s0@group-70A2C46A6A49->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-70A2C46A6A49->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:09,191 [java.util.concurrent.ThreadPoolExecutor$Worker@7b4f486f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:09,191 [s2@group-70A2C46A6A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-70A2C46A6A49-FollowerState was interrupted
2022-08-31 02:43:09,191 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-31 02:43:09,191 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-31 02:43:09,194 [java.util.concurrent.ThreadPoolExecutor$Worker@29a9bb74[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 02:43:09,194 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-70A2C46A6A49-StateMachineUpdater: set stopIndex = 6
2022-08-31 02:43:09,195 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-70A2C46A6A49: applyIndex: 6
2022-08-31 02:43:09,195 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-70A2C46A6A49->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:09,195 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-70A2C46A6A49->s2: nextIndex: updateUnconditionally 7 -> 6
2022-08-31 02:43:09,195 [s2@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-70A2C46A6A49-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:09,190 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-70A2C46A6A49-PendingRequests: sendNotLeaderResponses
2022-08-31 02:43:09,196 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-70A2C46A6A49->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:09,196 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-70A2C46A6A49->s1: nextIndex: updateUnconditionally 7 -> 6
2022-08-31 02:43:09,198 [java.util.concurrent.ThreadPoolExecutor$Worker@6043fe9e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:09,201 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-70A2C46A6A49-StateMachineUpdater: set stopIndex = 6
2022-08-31 02:43:09,200 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-70A2C46A6A49-SegmentedRaftLogWorker close()
2022-08-31 02:43:09,200 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 02:43:09,202 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-70A2C46A6A49: applyIndex: 6
2022-08-31 02:43:09,202 [s0@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-70A2C46A6A49-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:09,203 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-70A2C46A6A49: shutdown
2022-08-31 02:43:09,203 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-70A2C46A6A49,id=s1
2022-08-31 02:43:09,203 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-70A2C46A6A49-FollowerState
2022-08-31 02:43:09,203 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-70A2C46A6A49-StateMachineUpdater: set stopIndex = 6
2022-08-31 02:43:09,203 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-70A2C46A6A49: applyIndex: 6
2022-08-31 02:43:09,203 [s1@group-70A2C46A6A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-70A2C46A6A49-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:09,203 [s1@group-70A2C46A6A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-70A2C46A6A49-FollowerState was interrupted
2022-08-31 02:43:09,204 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-70A2C46A6A49-SegmentedRaftLogWorker close()
2022-08-31 02:43:09,204 [java.util.concurrent.ThreadPoolExecutor$Worker@29a9bb74[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:09,205 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 02:43:09,206 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-70A2C46A6A49-SegmentedRaftLogWorker close()
2022-08-31 02:43:09,207 [java.util.concurrent.ThreadPoolExecutor$Worker@7b4f486f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:09,207 [java.util.concurrent.ThreadPoolExecutor$Worker@7b4f486f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:09,208 [java.util.concurrent.ThreadPoolExecutor$Worker@6043fe9e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:09,208 [java.util.concurrent.ThreadPoolExecutor$Worker@7b4f486f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:09,208 [java.util.concurrent.ThreadPoolExecutor$Worker@7b4f486f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:09,209 [java.util.concurrent.ThreadPoolExecutor$Worker@7b4f486f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:09,209 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@2ac4e006] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 02:43:09,210 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 02:43:09,214 [java.util.concurrent.ThreadPoolExecutor$Worker@6043fe9e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:09,214 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 02:43:09,215 [java.util.concurrent.ThreadPoolExecutor$Worker@29a9bb74[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:09,215 [java.util.concurrent.ThreadPoolExecutor$Worker@6043fe9e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:09,215 [java.util.concurrent.ThreadPoolExecutor$Worker@6043fe9e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:09,215 [java.util.concurrent.ThreadPoolExecutor$Worker@29a9bb74[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:09,220 [java.util.concurrent.ThreadPoolExecutor$Worker@6043fe9e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:09,220 [java.util.concurrent.ThreadPoolExecutor$Worker@29a9bb74[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:09,220 [java.util.concurrent.ThreadPoolExecutor$Worker@29a9bb74[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:09,220 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@36381094] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 02:43:09,221 [java.util.concurrent.ThreadPoolExecutor$Worker@29a9bb74[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:09,221 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@32ab880f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 02:43:09,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 02:43:09,223 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 02:43:09,223 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 02:43:09,223 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 02:43:09,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 02:43:09,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-0B938B7D88CA:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]
2022-08-31 02:43:09,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 02:43:09,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 02:43:09,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 02:43:09,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 02:43:09,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 02:43:09,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 02:43:09,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-0B938B7D88CA:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:09,224 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0
2022-08-31 02:43:09,225 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0 does not exist.
2022-08-31 02:43:09,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0
2022-08-31 02:43:09,225 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:09,225 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:09,225 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46603 (custom)
2022-08-31 02:43:09,225 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:09,225 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35759 (custom)
2022-08-31 02:43:09,225 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:09,225 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37603 (custom)
2022-08-31 02:43:09,225 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:09,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:09,226 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:09,226 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:09,226 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:09,226 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:09,234 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:09,235 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:09,235 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:09,235 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:09,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:09,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:09,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0] (custom)
2022-08-31 02:43:09,236 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-0B938B7D88CA:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER] returns group-0B938B7D88CA:java.util.concurrent.CompletableFuture@7efa47b9[Not completed]
2022-08-31 02:43:09,237 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-0B938B7D88CA:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:09,237 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1
2022-08-31 02:43:09,237 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1 does not exist.
2022-08-31 02:43:09,237 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1
2022-08-31 02:43:09,237 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:09,237 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:09,237 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44529 (custom)
2022-08-31 02:43:09,237 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:09,237 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37035 (custom)
2022-08-31 02:43:09,237 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:09,237 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46061 (custom)
2022-08-31 02:43:09,237 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:09,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:09,238 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:09,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:09,238 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:09,238 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:09,238 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:09,239 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:09,239 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:09,239 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:09,239 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:09,239 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:09,239 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1] (custom)
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-0B938B7D88CA:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-0B938B7D88CA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:09,240 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:09,241 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:09,241 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:09,241 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:09,241 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:09,241 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:09,241 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:09,241 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:09,244 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-0B938B7D88CA:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER] returns group-0B938B7D88CA:java.util.concurrent.CompletableFuture@a897a22[Not completed]
2022-08-31 02:43:09,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-0B938B7D88CA:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:09,244 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2
2022-08-31 02:43:09,244 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2 does not exist.
2022-08-31 02:43:09,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2
2022-08-31 02:43:09,244 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:09,244 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:09,244 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:09,244 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:09,245 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:09,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43517 (custom)
2022-08-31 02:43:09,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:09,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37471 (custom)
2022-08-31 02:43:09,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:09,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36897 (custom)
2022-08-31 02:43:09,245 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:09,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:09,245 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:09,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:09,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:09,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:09,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:09,246 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:09,247 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:09,247 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:09,247 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:09,247 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:09,247 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2] (custom)
2022-08-31 02:43:09,247 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-0B938B7D88CA:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:09,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:09,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:09,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:09,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:09,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:09,248 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:09,248 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-0B938B7D88CA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:09,248 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:09,248 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:09,248 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:09,248 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:09,248 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:09,248 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:09,249 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:09,249 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:09,249 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-0B938B7D88CA:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER] returns group-0B938B7D88CA:java.util.concurrent.CompletableFuture@3de6cd93[Not completed]
2022-08-31 02:43:09,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:09,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:09,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0] (custom)
2022-08-31 02:43:09,250 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0/ea668faa-22ce-4c75-8bed-0b938b7d88ca does not exist. Creating ...
2022-08-31 02:43:09,251 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0/ea668faa-22ce-4c75-8bed-0b938b7d88ca
2022-08-31 02:43:09,252 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:09,252 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:09,252 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-0B938B7D88CA:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-0B938B7D88CA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:09,253 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0/ea668faa-22ce-4c75-8bed-0b938b7d88ca/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:09,253 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0/ea668faa-22ce-4c75-8bed-0b938b7d88ca/current
2022-08-31 02:43:09,254 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0/ea668faa-22ce-4c75-8bed-0b938b7d88ca/sm
2022-08-31 02:43:09,253 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:09,254 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:09,254 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:09,254 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:09,255 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0/ea668faa-22ce-4c75-8bed-0b938b7d88ca has been successfully formatted.
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-0B938B7D88CA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0/ea668faa-22ce-4c75-8bed-0b938b7d88ca
2022-08-31 02:43:09,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-0B938B7D88CA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:09,257 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-0B938B7D88CA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:09,258 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-0B938B7D88CA: start as a follower, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,258 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0B938B7D88CA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:09,258 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0B938B7D88CA-FollowerState
2022-08-31 02:43:09,258 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B938B7D88CA,id=s0
2022-08-31 02:43:09,258 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:09,258 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:09,258 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:09,259 [s0@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:09,259 [s0@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:09,262 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 02:43:09,263 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 35759
2022-08-31 02:43:09,263 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 37603
2022-08-31 02:43:09,264 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 46603
2022-08-31 02:43:09,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:09,267 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:09,267 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1] (custom)
2022-08-31 02:43:09,267 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@5f998633] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 02:43:09,267 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1/ea668faa-22ce-4c75-8bed-0b938b7d88ca does not exist. Creating ...
2022-08-31 02:43:09,267 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1/ea668faa-22ce-4c75-8bed-0b938b7d88ca
2022-08-31 02:43:09,269 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1/ea668faa-22ce-4c75-8bed-0b938b7d88ca/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:09,270 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1/ea668faa-22ce-4c75-8bed-0b938b7d88ca/current
2022-08-31 02:43:09,270 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1/ea668faa-22ce-4c75-8bed-0b938b7d88ca/sm
2022-08-31 02:43:09,271 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1/ea668faa-22ce-4c75-8bed-0b938b7d88ca has been successfully formatted.
2022-08-31 02:43:09,272 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:09,272 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:09,272 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:09,272 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:09,272 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:09,272 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:09,272 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:09,272 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:09,272 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:09,272 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-0B938B7D88CA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1/ea668faa-22ce-4c75-8bed-0b938b7d88ca
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:09,273 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:09,274 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-0B938B7D88CA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:09,274 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-0B938B7D88CA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:09,274 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-0B938B7D88CA: start as a follower, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,274 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0B938B7D88CA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:09,274 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0B938B7D88CA-FollowerState
2022-08-31 02:43:09,274 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B938B7D88CA,id=s1
2022-08-31 02:43:09,274 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:09,274 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:09,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:09,275 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 02:43:09,275 [s1@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:09,275 [s1@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:09,276 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 37035
2022-08-31 02:43:09,276 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 46061
2022-08-31 02:43:09,278 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 44529
2022-08-31 02:43:09,279 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@14c7bc42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 02:43:09,279 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:09,283 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:09,284 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2] (custom)
2022-08-31 02:43:09,284 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2/ea668faa-22ce-4c75-8bed-0b938b7d88ca does not exist. Creating ...
2022-08-31 02:43:09,284 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2/ea668faa-22ce-4c75-8bed-0b938b7d88ca
2022-08-31 02:43:09,285 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2/ea668faa-22ce-4c75-8bed-0b938b7d88ca/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:09,286 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2/ea668faa-22ce-4c75-8bed-0b938b7d88ca/current
2022-08-31 02:43:09,286 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2/ea668faa-22ce-4c75-8bed-0b938b7d88ca/sm
2022-08-31 02:43:09,287 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2/ea668faa-22ce-4c75-8bed-0b938b7d88ca has been successfully formatted.
2022-08-31 02:43:09,288 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:09,288 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:09,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:09,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:09,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:09,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:09,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:09,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:09,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:09,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-0B938B7D88CA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2/ea668faa-22ce-4c75-8bed-0b938b7d88ca
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:09,289 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-0B938B7D88CA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:09,290 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-0B938B7D88CA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:09,290 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-0B938B7D88CA: start as a follower, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,290 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-0B938B7D88CA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:09,290 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0B938B7D88CA-FollowerState
2022-08-31 02:43:09,291 [s2@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:09,291 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B938B7D88CA,id=s2
2022-08-31 02:43:09,291 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:09,291 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:09,291 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:09,291 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 02:43:09,291 [s2@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:09,295 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 37471
2022-08-31 02:43:09,297 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 36897
2022-08-31 02:43:09,297 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 43517
2022-08-31 02:43:09,297 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@575194bd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 02:43:09,298 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:09,298 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s0@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s1@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s2@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:09,298 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s0@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s1@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s2@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s0@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s1@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s2@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:313)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:218)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:09,545 [s0@group-0B938B7D88CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-0B938B7D88CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:287323585ns, electionTimeout:286ms
2022-08-31 02:43:09,545 [s0@group-0B938B7D88CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0B938B7D88CA-FollowerState
2022-08-31 02:43:09,546 [s0@group-0B938B7D88CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0B938B7D88CA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:43:09,546 [s0@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:43:09,546 [s0@group-0B938B7D88CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0B938B7D88CA-LeaderElection10
2022-08-31 02:43:09,549 [s0@group-0B938B7D88CA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-0B938B7D88CA-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,550 [s0@group-0B938B7D88CA-LeaderElection10-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 02:43:09,550 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:09,550 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:09,551 [s0@group-0B938B7D88CA-LeaderElection10-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 02:43:09,553 [s1@group-0B938B7D88CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-0B938B7D88CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:279303107ns, electionTimeout:278ms
2022-08-31 02:43:09,553 [s1@group-0B938B7D88CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0B938B7D88CA-FollowerState
2022-08-31 02:43:09,553 [s1@group-0B938B7D88CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0B938B7D88CA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:43:09,553 [s1@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:43:09,554 [s1@group-0B938B7D88CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0B938B7D88CA-LeaderElection11
2022-08-31 02:43:09,557 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-0B938B7D88CA: receive requestVote(PRE_VOTE, s0, group-0B938B7D88CA, 0, (t:0, i:0))
2022-08-31 02:43:09,561 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-0B938B7D88CA-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:09,561 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-0B938B7D88CA replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s1@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,561 [s1@group-0B938B7D88CA-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-0B938B7D88CA-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,563 [s0@group-0B938B7D88CA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-0B938B7D88CA-LeaderElection10: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:09,563 [s0@group-0B938B7D88CA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-31 02:43:09,563 [s0@group-0B938B7D88CA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-0B938B7D88CA-LeaderElection10 PRE_VOTE round 0: result PASSED
2022-08-31 02:43:09,567 [s1@group-0B938B7D88CA-LeaderElection11-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 02:43:09,567 [s0@group-0B938B7D88CA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-0B938B7D88CA-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,568 [s1@group-0B938B7D88CA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:09,569 [s1@group-0B938B7D88CA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:09,571 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0B938B7D88CA: receive requestVote(PRE_VOTE, s0, group-0B938B7D88CA, 0, (t:0, i:0))
2022-08-31 02:43:09,571 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0B938B7D88CA-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:09,572 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0B938B7D88CA replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-0B938B7D88CA:t0, leader=null, voted=, raftlog=Memoized:s2@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,573 [s1@group-0B938B7D88CA-LeaderElection11-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 02:43:09,575 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:09,575 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:09,580 [s2@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:09,580 [s2@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:09,584 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-0B938B7D88CA: receive requestVote(ELECTION, s0, group-0B938B7D88CA, 1, (t:0, i:0))
2022-08-31 02:43:09,584 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-0B938B7D88CA-CANDIDATE: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:09,584 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0B938B7D88CA: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s0
2022-08-31 02:43:09,584 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-0B938B7D88CA-LeaderElection11
2022-08-31 02:43:09,584 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0B938B7D88CA-FollowerState
2022-08-31 02:43:09,586 [s1@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:09,587 [s1@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:09,587 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0B938B7D88CA: receive requestVote(ELECTION, s0, group-0B938B7D88CA, 1, (t:0, i:0))
2022-08-31 02:43:09,587 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0B938B7D88CA-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:09,587 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-0B938B7D88CA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-31 02:43:09,587 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0B938B7D88CA-FollowerState
2022-08-31 02:43:09,587 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0B938B7D88CA-FollowerState
2022-08-31 02:43:09,587 [s2@group-0B938B7D88CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0B938B7D88CA-FollowerState was interrupted
2022-08-31 02:43:09,588 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0B938B7D88CA: receive requestVote(PRE_VOTE, s1, group-0B938B7D88CA, 0, (t:0, i:0))
2022-08-31 02:43:09,588 [s2@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:09,588 [s2@group-0B938B7D88CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:09,588 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-0B938B7D88CA: receive requestVote(PRE_VOTE, s1, group-0B938B7D88CA, 0, (t:0, i:0))
2022-08-31 02:43:09,588 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-0B938B7D88CA-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:43:09,589 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-0B938B7D88CA replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-0B938B7D88CA:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,589 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-0B938B7D88CA replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-0B938B7D88CA:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,591 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0B938B7D88CA replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-0B938B7D88CA:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,591 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0B938B7D88CA-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:43:09,591 [s0@group-0B938B7D88CA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-0B938B7D88CA-LeaderElection10: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:09,591 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0B938B7D88CA replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-0B938B7D88CA:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,591 [s0@group-0B938B7D88CA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-31 02:43:09,591 [s0@group-0B938B7D88CA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-0B938B7D88CA-LeaderElection10 ELECTION round 0: result PASSED
2022-08-31 02:43:09,591 [s0@group-0B938B7D88CA-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-0B938B7D88CA-LeaderElection10
2022-08-31 02:43:09,591 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0B938B7D88CA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 02:43:09,591 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-0B938B7D88CA: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 350ms
2022-08-31 02:43:09,591 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:43:09,591 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:09,591 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:09,592 [s0@group-0B938B7D88CA-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:09,593 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:09,593 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:09,593 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:09,593 [s0@group-0B938B7D88CA-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:09,593 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:09,593 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:09,593 [s0@group-0B938B7D88CA-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:09,593 [s0@group-0B938B7D88CA-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0B938B7D88CA-LeaderStateImpl
2022-08-31 02:43:09,593 [s0@group-0B938B7D88CA-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-0B938B7D88CA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:09,600 [s1@group-0B938B7D88CA-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-0B938B7D88CA-LeaderElection11: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-08-31 02:43:09,600 [s1@group-0B938B7D88CA-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2022-08-31 02:43:09,600 [s1@group-0B938B7D88CA-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-0B938B7D88CA-LeaderElection11 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2022-08-31 02:43:09,609 [s0@group-0B938B7D88CA-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-0B938B7D88CA: set configuration 0: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,610 [s0@group-0B938B7D88CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-0B938B7D88CA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s0/ea668faa-22ce-4c75-8bed-0b938b7d88ca/current/log_inprogress_0
2022-08-31 02:43:09,630 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-0B938B7D88CA: change Leader from null to s0 at term 1 for appendEntries, leader elected after 377ms
2022-08-31 02:43:09,632 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-0B938B7D88CA: set configuration 0: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,632 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-0B938B7D88CA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:09,633 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-0B938B7D88CA: change Leader from null to s0 at term 1 for appendEntries, leader elected after 384ms
2022-08-31 02:43:09,638 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-0B938B7D88CA: set configuration 0: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:09,638 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-0B938B7D88CA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:09,651 [s2@group-0B938B7D88CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-0B938B7D88CA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s2/ea668faa-22ce-4c75-8bed-0b938b7d88ca/current/log_inprogress_0
2022-08-31 02:43:09,652 [s1@group-0B938B7D88CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-0B938B7D88CA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc156a0d29/s1/ea668faa-22ce-4c75-8bed-0b938b7d88ca/current/log_inprogress_0
2022-08-31 02:43:09,749 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0B938B7D88CA:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0B938B7D88CA:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0B938B7D88CA:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:09,750 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:09,750 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:09,758 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-5BF96F5B2EB4->s0: receive RaftClientReply:client-5BF96F5B2EB4->s0@group-0B938B7D88CA, cid=30, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-31 02:43:09,763 [s0@group-0B938B7D88CA-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-5BF96F5B2EB4
2022-08-31 02:43:09,765 [s1@group-0B938B7D88CA-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-5BF96F5B2EB4
2022-08-31 02:43:09,766 [s2@group-0B938B7D88CA-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-5BF96F5B2EB4
2022-08-31 02:43:09,770 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-5BF96F5B2EB4->s0: receive RaftClientReply:client-5BF96F5B2EB4->s0@group-0B938B7D88CA, cid=31, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-08-31 02:43:09,771 [s0-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-08-31 02:43:09,773 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-5BF96F5B2EB4->s0: receive RaftClientReply:client-5BF96F5B2EB4->s0@group-0B938B7D88CA, cid=32, SUCCESS, logIndex=0, commits[s0:c2, s1:c1, s2:c1]
2022-08-31 02:43:13,775 [timer6] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=409, target=localhost:35759}}. 
2022-08-31 02:43:13,876 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:13,877 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:13,890 [s0-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-08-31 02:43:13,895 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-5BF96F5B2EB4->s0: receive RaftClientReply:client-5BF96F5B2EB4->s0@group-0B938B7D88CA, cid=33, SUCCESS, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:13,897 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:13,897 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:13,904 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-5BF96F5B2EB4->s1@group-0B938B7D88CA, cid=34, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-5BF96F5B2EB4->s1@group-0B938B7D88CA, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-0B938B7D88CA is not the leader s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:43:13,906 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-5BF96F5B2EB4->s1: receive RaftClientReply:client-5BF96F5B2EB4->s1@group-0B938B7D88CA, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-0B938B7D88CA is not the leader s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2022-08-31 02:43:13,913 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-5BF96F5B2EB4->s0: receive RaftClientReply:client-5BF96F5B2EB4->s0@group-0B938B7D88CA, cid=34, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:13,915 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-5BF96F5B2EB4->s0: receive RaftClientReply:client-5BF96F5B2EB4->s0@group-0B938B7D88CA, cid=35, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:13,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 02:43:13,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 02:43:13,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 02:43:13,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 02:43:13,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 02:43:13,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0B938B7D88CA:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0B938B7D88CA:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0B938B7D88CA:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0B938B7D88CA-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37603|admin:localhost:46603|client:localhost:35759|dataStream:localhost:35635|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46061|admin:localhost:44529|client:localhost:37035|dataStream:localhost:45471|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36897|admin:localhost:43517|client:localhost:37471|dataStream:localhost:43039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:13,920 [java.util.concurrent.ThreadPoolExecutor$Worker@622fcc8e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 02:43:13,922 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-0B938B7D88CA: shutdown
2022-08-31 02:43:13,922 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B938B7D88CA,id=s0
2022-08-31 02:43:13,922 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-0B938B7D88CA-LeaderStateImpl
2022-08-31 02:43:13,923 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-0B938B7D88CA-PendingRequests: sendNotLeaderResponses
2022-08-31 02:43:13,923 [s0@group-0B938B7D88CA->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-0B938B7D88CA->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:13,923 [s0@group-0B938B7D88CA->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-0B938B7D88CA->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:13,923 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-08-31 02:43:13,924 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#6-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-08-31 02:43:13,924 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 02:43:13,924 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 02:43:13,925 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0B938B7D88CA->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:13,925 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0B938B7D88CA->s2: nextIndex: updateUnconditionally 3 -> 2
2022-08-31 02:43:13,925 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0B938B7D88CA->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:13,925 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0B938B7D88CA->s2: nextIndex: updateUnconditionally 2 -> 1
2022-08-31 02:43:13,925 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0B938B7D88CA->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:13,925 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0B938B7D88CA->s1: nextIndex: updateUnconditionally 3 -> 2
2022-08-31 02:43:13,926 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0B938B7D88CA->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:13,926 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0B938B7D88CA->s1: nextIndex: updateUnconditionally 2 -> 1
2022-08-31 02:43:13,931 [java.util.concurrent.ThreadPoolExecutor$Worker@622fcc8e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:13,932 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-0B938B7D88CA-StateMachineUpdater: set stopIndex = 2
2022-08-31 02:43:13,932 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-0B938B7D88CA: applyIndex: 2
2022-08-31 02:43:13,932 [s0@group-0B938B7D88CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-0B938B7D88CA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:13,933 [java.util.concurrent.ThreadPoolExecutor$Worker@46c3c03c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 02:43:13,933 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 02:43:13,934 [java.util.concurrent.ThreadPoolExecutor$Worker@a7626b0[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 02:43:13,934 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-0B938B7D88CA: shutdown
2022-08-31 02:43:13,934 [java.util.concurrent.ThreadPoolExecutor$Worker@46c3c03c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:13,934 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-0B938B7D88CA-SegmentedRaftLogWorker close()
2022-08-31 02:43:13,935 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B938B7D88CA,id=s1
2022-08-31 02:43:13,935 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0B938B7D88CA-FollowerState
2022-08-31 02:43:13,934 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-0B938B7D88CA: shutdown
2022-08-31 02:43:13,935 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B938B7D88CA,id=s2
2022-08-31 02:43:13,935 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0B938B7D88CA-FollowerState
2022-08-31 02:43:13,935 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-0B938B7D88CA-StateMachineUpdater: set stopIndex = 2
2022-08-31 02:43:13,936 [s2@group-0B938B7D88CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0B938B7D88CA-FollowerState was interrupted
2022-08-31 02:43:13,936 [s1@group-0B938B7D88CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0B938B7D88CA-FollowerState was interrupted
2022-08-31 02:43:13,935 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-0B938B7D88CA-StateMachineUpdater: set stopIndex = 2
2022-08-31 02:43:13,936 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-0B938B7D88CA: applyIndex: 2
2022-08-31 02:43:13,936 [s1@group-0B938B7D88CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-0B938B7D88CA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:13,936 [java.util.concurrent.ThreadPoolExecutor$Worker@a7626b0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:13,936 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-0B938B7D88CA: applyIndex: 2
2022-08-31 02:43:13,938 [s2@group-0B938B7D88CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-0B938B7D88CA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:13,937 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-0B938B7D88CA-SegmentedRaftLogWorker close()
2022-08-31 02:43:13,936 [java.util.concurrent.ThreadPoolExecutor$Worker@46c3c03c[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 02:43:13,938 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 02:43:13,939 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-0B938B7D88CA-SegmentedRaftLogWorker close()
2022-08-31 02:43:13,941 [java.util.concurrent.ThreadPoolExecutor$Worker@622fcc8e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:13,943 [java.util.concurrent.ThreadPoolExecutor$Worker@622fcc8e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:13,943 [java.util.concurrent.ThreadPoolExecutor$Worker@46c3c03c[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 02:43:13,949 [java.util.concurrent.ThreadPoolExecutor$Worker@622fcc8e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:13,949 [java.util.concurrent.ThreadPoolExecutor$Worker@622fcc8e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:13,950 [java.util.concurrent.ThreadPoolExecutor$Worker@622fcc8e[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:13,950 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@5f998633] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 02:43:13,950 [java.util.concurrent.ThreadPoolExecutor$Worker@46c3c03c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:13,951 [java.util.concurrent.ThreadPoolExecutor$Worker@46c3c03c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:13,951 [java.util.concurrent.ThreadPoolExecutor$Worker@46c3c03c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:13,951 [java.util.concurrent.ThreadPoolExecutor$Worker@46c3c03c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:13,951 [java.util.concurrent.ThreadPoolExecutor$Worker@a7626b0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:13,951 [java.util.concurrent.ThreadPoolExecutor$Worker@a7626b0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:13,951 [java.util.concurrent.ThreadPoolExecutor$Worker@46c3c03c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:13,951 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@14c7bc42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 02:43:13,951 [java.util.concurrent.ThreadPoolExecutor$Worker@a7626b0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:13,952 [java.util.concurrent.ThreadPoolExecutor$Worker@a7626b0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:13,952 [java.util.concurrent.ThreadPoolExecutor$Worker@a7626b0[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:13,952 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@575194bd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 02:43:13,952 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 02:43:13,953 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 02:43:13,953 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 02:43:13,953 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 02:43:13,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 02:43:13,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-A08E232D777D:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]
2022-08-31 02:43:13,956 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 02:43:13,956 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 02:43:13,956 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 02:43:13,956 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 02:43:13,956 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 02:43:13,956 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 02:43:13,956 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-A08E232D777D:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:13,956 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0
2022-08-31 02:43:13,956 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0 does not exist.
2022-08-31 02:43:13,956 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0
2022-08-31 02:43:13,956 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:13,956 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:13,957 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38949 (custom)
2022-08-31 02:43:13,957 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:13,957 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43977 (custom)
2022-08-31 02:43:13,957 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:13,957 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44497 (custom)
2022-08-31 02:43:13,957 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:13,957 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:13,957 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:13,957 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:13,957 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:13,957 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:13,957 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:13,958 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:13,958 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:13,958 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:13,959 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:13,959 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:13,959 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0] (custom)
2022-08-31 02:43:13,959 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-A08E232D777D:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER] returns group-A08E232D777D:java.util.concurrent.CompletableFuture@6b9dcf76[Not completed]
2022-08-31 02:43:13,959 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-A08E232D777D:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:13,959 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1
2022-08-31 02:43:13,959 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1 does not exist.
2022-08-31 02:43:13,960 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1
2022-08-31 02:43:13,960 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:13,960 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:13,960 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46841 (custom)
2022-08-31 02:43:13,960 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:13,960 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36287 (custom)
2022-08-31 02:43:13,960 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:13,960 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38071 (custom)
2022-08-31 02:43:13,960 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:13,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:13,960 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:13,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:13,960 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:13,961 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:13,961 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:13,961 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:13,962 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:13,962 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:13,962 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:13,962 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:13,962 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1] (custom)
2022-08-31 02:43:13,962 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:13,962 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:13,962 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:13,962 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-A08E232D777D:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:13,962 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:13,962 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:13,962 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:13,962 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A08E232D777D: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:13,963 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:13,967 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-A08E232D777D:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER] returns group-A08E232D777D:java.util.concurrent.CompletableFuture@1ffb82ae[Not completed]
2022-08-31 02:43:13,967 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-A08E232D777D:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:13,967 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2
2022-08-31 02:43:13,967 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2 does not exist.
2022-08-31 02:43:13,967 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2
2022-08-31 02:43:13,967 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:13,967 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:13,967 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:13,968 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:13,968 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:13,968 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42963 (custom)
2022-08-31 02:43:13,968 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-A08E232D777D:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:13,968 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:13,968 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:13,968 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37147 (custom)
2022-08-31 02:43:13,968 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:13,968 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:13,968 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:13,969 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43547 (custom)
2022-08-31 02:43:13,969 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:13,969 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:13,969 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:13,969 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:13,969 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:13,969 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:13,969 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-A08E232D777D: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:13,969 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:13,969 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:13,969 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:13,969 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:13,970 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:13,970 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:13,970 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:13,970 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:13,970 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:13,970 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:13,969 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:13,971 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:13,972 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:13,972 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:13,972 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:13,972 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:13,972 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:13,972 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2] (custom)
2022-08-31 02:43:13,981 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-A08E232D777D:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER] returns group-A08E232D777D:java.util.concurrent.CompletableFuture@1831e540[Not completed]
2022-08-31 02:43:13,982 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:13,982 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:13,982 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0] (custom)
2022-08-31 02:43:13,982 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0/4f363fef-6a9d-40cf-b74b-a08e232d777d does not exist. Creating ...
2022-08-31 02:43:13,983 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0/4f363fef-6a9d-40cf-b74b-a08e232d777d
2022-08-31 02:43:13,983 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:13,983 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:13,983 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:13,983 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-A08E232D777D:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:13,983 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:13,983 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:13,983 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:13,984 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:13,984 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:13,984 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:13,984 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-A08E232D777D: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:13,984 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:13,984 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:13,984 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:13,984 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0/4f363fef-6a9d-40cf-b74b-a08e232d777d/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:13,984 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0/4f363fef-6a9d-40cf-b74b-a08e232d777d/current
2022-08-31 02:43:13,985 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:13,985 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:13,985 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:13,985 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:13,985 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:13,985 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0/4f363fef-6a9d-40cf-b74b-a08e232d777d/sm
2022-08-31 02:43:13,986 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0/4f363fef-6a9d-40cf-b74b-a08e232d777d has been successfully formatted.
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:13,987 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-A08E232D777D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0/4f363fef-6a9d-40cf-b74b-a08e232d777d
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-A08E232D777D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:13,988 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-A08E232D777D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:13,990 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-A08E232D777D: start as a follower, conf=-1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:13,990 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-A08E232D777D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:13,990 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A08E232D777D-FollowerState
2022-08-31 02:43:13,994 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A08E232D777D,id=s0
2022-08-31 02:43:13,994 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:13,994 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:13,994 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:13,995 [s0@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:13,995 [s0@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:13,995 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 02:43:13,995 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 43977
2022-08-31 02:43:13,996 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 44497
2022-08-31 02:43:13,996 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 38949
2022-08-31 02:43:13,996 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:13,996 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:13,997 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1] (custom)
2022-08-31 02:43:13,997 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1/4f363fef-6a9d-40cf-b74b-a08e232d777d does not exist. Creating ...
2022-08-31 02:43:13,997 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1/4f363fef-6a9d-40cf-b74b-a08e232d777d
2022-08-31 02:43:14,000 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@5b9cea1a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 02:43:14,003 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1/4f363fef-6a9d-40cf-b74b-a08e232d777d/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:14,003 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1/4f363fef-6a9d-40cf-b74b-a08e232d777d/current
2022-08-31 02:43:14,003 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1/4f363fef-6a9d-40cf-b74b-a08e232d777d/sm
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1/4f363fef-6a9d-40cf-b74b-a08e232d777d has been successfully formatted.
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-A08E232D777D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1/4f363fef-6a9d-40cf-b74b-a08e232d777d
2022-08-31 02:43:14,005 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-A08E232D777D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-A08E232D777D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-A08E232D777D: start as a follower, conf=-1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,006 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-A08E232D777D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:14,007 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A08E232D777D-FollowerState
2022-08-31 02:43:14,007 [s1@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:14,007 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A08E232D777D,id=s1
2022-08-31 02:43:14,007 [s1@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:14,007 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:14,007 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:14,007 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:14,008 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 02:43:14,009 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 36287
2022-08-31 02:43:14,009 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 38071
2022-08-31 02:43:14,009 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 46841
2022-08-31 02:43:14,010 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@19ce3f9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 02:43:14,010 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:14,010 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:14,010 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2] (custom)
2022-08-31 02:43:14,010 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2/4f363fef-6a9d-40cf-b74b-a08e232d777d does not exist. Creating ...
2022-08-31 02:43:14,010 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2/4f363fef-6a9d-40cf-b74b-a08e232d777d
2022-08-31 02:43:14,012 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2/4f363fef-6a9d-40cf-b74b-a08e232d777d/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:14,012 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2/4f363fef-6a9d-40cf-b74b-a08e232d777d/current
2022-08-31 02:43:14,012 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2/4f363fef-6a9d-40cf-b74b-a08e232d777d/sm
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2/4f363fef-6a9d-40cf-b74b-a08e232d777d has been successfully formatted.
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:14,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-A08E232D777D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2/4f363fef-6a9d-40cf-b74b-a08e232d777d
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-A08E232D777D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:14,015 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-A08E232D777D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:14,016 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-A08E232D777D: start as a follower, conf=-1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,016 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-A08E232D777D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:14,016 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A08E232D777D-FollowerState
2022-08-31 02:43:14,016 [s2@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:14,016 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A08E232D777D,id=s2
2022-08-31 02:43:14,016 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:14,016 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:14,016 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:14,016 [s2@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:14,017 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 02:43:14,017 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 37147
2022-08-31 02:43:14,017 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 43547
2022-08-31 02:43:14,018 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 42963
2022-08-31 02:43:14,018 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,018 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,026 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@4afe0927] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 02:43:14,032 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D143F2AEB5BC->s0: receive RaftClientReply:client-D143F2AEB5BC->s0@group-A08E232D777D, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-A08E232D777D is not the leader, logIndex=0, commits[s0:c-1]
2022-08-31 02:43:14,135 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,135 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,143 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D143F2AEB5BC->s1: receive RaftClientReply:client-D143F2AEB5BC->s1@group-A08E232D777D, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-A08E232D777D is not the leader, logIndex=0, commits[s1:c-1]
2022-08-31 02:43:14,207 [s0@group-A08E232D777D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A08E232D777D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:216611300ns, electionTimeout:212ms
2022-08-31 02:43:14,207 [s0@group-A08E232D777D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A08E232D777D-FollowerState
2022-08-31 02:43:14,207 [s0@group-A08E232D777D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-A08E232D777D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:43:14,207 [s0@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:43:14,207 [s0@group-A08E232D777D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A08E232D777D-LeaderElection12
2022-08-31 02:43:14,212 [s0@group-A08E232D777D-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A08E232D777D-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,212 [s0@group-A08E232D777D-LeaderElection12-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 02:43:14,212 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:14,212 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:14,213 [s0@group-A08E232D777D-LeaderElection12-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 02:43:14,219 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-A08E232D777D: receive requestVote(PRE_VOTE, s0, group-A08E232D777D, 0, (t:0, i:0))
2022-08-31 02:43:14,220 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A08E232D777D-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:14,220 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-A08E232D777D replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-A08E232D777D:t0, leader=null, voted=, raftlog=Memoized:s1@group-A08E232D777D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,220 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-A08E232D777D: receive requestVote(PRE_VOTE, s0, group-A08E232D777D, 0, (t:0, i:0))
2022-08-31 02:43:14,220 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A08E232D777D-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:14,220 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-A08E232D777D replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-A08E232D777D:t0, leader=null, voted=, raftlog=Memoized:s2@group-A08E232D777D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,221 [s0@group-A08E232D777D-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A08E232D777D-LeaderElection12: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:14,221 [s0@group-A08E232D777D-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-31 02:43:14,221 [s0@group-A08E232D777D-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A08E232D777D-LeaderElection12 PRE_VOTE round 0: result PASSED
2022-08-31 02:43:14,222 [s0@group-A08E232D777D-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A08E232D777D-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,225 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-A08E232D777D: receive requestVote(ELECTION, s0, group-A08E232D777D, 1, (t:0, i:0))
2022-08-31 02:43:14,225 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:14,225 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:14,226 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A08E232D777D-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:14,226 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-A08E232D777D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-31 02:43:14,226 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A08E232D777D-FollowerState
2022-08-31 02:43:14,226 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A08E232D777D-FollowerState
2022-08-31 02:43:14,226 [s1@group-A08E232D777D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A08E232D777D-FollowerState was interrupted
2022-08-31 02:43:14,231 [s1@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:14,231 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-A08E232D777D replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-A08E232D777D:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-A08E232D777D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,232 [s1@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A08E232D777D-LeaderElection12: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A08E232D777D-LeaderElection12 ELECTION round 0: result PASSED
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A08E232D777D-LeaderElection12
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-A08E232D777D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-A08E232D777D: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 271ms
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:43:14,234 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:14,235 [s0@group-A08E232D777D-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:14,236 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:14,236 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:14,236 [s0@group-A08E232D777D-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:14,236 [s0@group-A08E232D777D-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A08E232D777D-LeaderStateImpl
2022-08-31 02:43:14,234 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-A08E232D777D: receive requestVote(ELECTION, s0, group-A08E232D777D, 1, (t:0, i:0))
2022-08-31 02:43:14,236 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A08E232D777D-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:14,236 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-A08E232D777D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-31 02:43:14,236 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A08E232D777D-FollowerState
2022-08-31 02:43:14,236 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A08E232D777D-FollowerState
2022-08-31 02:43:14,236 [s2@group-A08E232D777D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A08E232D777D-FollowerState was interrupted
2022-08-31 02:43:14,237 [s0@group-A08E232D777D-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-A08E232D777D-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:14,237 [s2@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:14,237 [s2@group-A08E232D777D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:14,238 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-A08E232D777D replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-A08E232D777D:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-A08E232D777D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,242 [s0@group-A08E232D777D-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-A08E232D777D: set configuration 0: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,246 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,246 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,247 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-A08E232D777D: change Leader from null to s0 at term 1 for appendEntries, leader elected after 277ms
2022-08-31 02:43:14,250 [s0@group-A08E232D777D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-A08E232D777D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s0/4f363fef-6a9d-40cf-b74b-a08e232d777d/current/log_inprogress_0
2022-08-31 02:43:14,254 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-A08E232D777D: set configuration 0: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,255 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-A08E232D777D-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:14,263 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-A08E232D777D: change Leader from null to s0 at term 1 for appendEntries, leader elected after 278ms
2022-08-31 02:43:14,265 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D143F2AEB5BC->s0: receive RaftClientReply:client-D143F2AEB5BC->s0@group-A08E232D777D, cid=36, SUCCESS, logIndex=0, commits[s0:c0, s1:c-1, s2:c-1]
2022-08-31 02:43:14,268 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-A08E232D777D: set configuration 0: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:14,268 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-A08E232D777D-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:14,282 [s1@group-A08E232D777D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-A08E232D777D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s1/4f363fef-6a9d-40cf-b74b-a08e232d777d/current/log_inprogress_0
2022-08-31 02:43:14,282 [s2@group-A08E232D777D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-A08E232D777D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9e01ceaa/s2/4f363fef-6a9d-40cf-b74b-a08e232d777d/current/log_inprogress_0
2022-08-31 02:43:14,284 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-D143F2AEB5BC
2022-08-31 02:43:14,286 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D143F2AEB5BC->s0: receive RaftClientReply:client-D143F2AEB5BC->s0@group-A08E232D777D, cid=37, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c-1]
2022-08-31 02:43:14,286 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-D143F2AEB5BC
2022-08-31 02:43:14,289 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-D143F2AEB5BC
2022-08-31 02:43:14,290 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-08-31 02:43:14,290 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,291 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,292 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,292 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,303 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,303 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,303 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A3A92E9F7A8F->s0: receive RaftClientReply:client-A3A92E9F7A8F->s0@group-A08E232D777D, cid=38, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-31 02:43:14,305 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-946831664A24->s0: receive RaftClientReply:client-946831664A24->s0@group-A08E232D777D, cid=40, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-08-31 02:43:14,311 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,311 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,321 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,321 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,329 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-72E376D5371B->s0: receive RaftClientReply:client-72E376D5371B->s0@group-A08E232D777D, cid=42, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:14,329 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A5198BA21791->s0: receive RaftClientReply:client-A5198BA21791->s0@group-A08E232D777D, cid=44, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:14,340 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,340 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,342 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2C0A7787C3C9->s0: receive RaftClientReply:client-2C0A7787C3C9->s0@group-A08E232D777D, cid=46, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:14,345 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,346 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,355 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-DF5FFB831832->s0: receive RaftClientReply:client-DF5FFB831832->s0@group-A08E232D777D, cid=48, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:14,363 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,365 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,366 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F4D54829B79E->s0: receive RaftClientReply:client-F4D54829B79E->s0@group-A08E232D777D, cid=50, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:14,372 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,373 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,374 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9D604A69CEB4->s0: receive RaftClientReply:client-9D604A69CEB4->s0@group-A08E232D777D, cid=52, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:14,382 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,384 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,385 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-78DE10490554->s0: receive RaftClientReply:client-78DE10490554->s0@group-A08E232D777D, cid=54, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:14,389 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,390 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,392 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F562DA6BFE3E->s0: receive RaftClientReply:client-F562DA6BFE3E->s0@group-A08E232D777D, cid=56, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:14,404 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-48177619709F->s0: receive RaftClientReply:client-48177619709F->s0@group-A08E232D777D, cid=58, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-08-31 02:43:14,411 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-A08E232D777D: Failed to acquire a pending write request for RaftClientRequest:client-48177619709F->s0@group-A08E232D777D, cid=59, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-A08E232D777D: Failed to acquire a pending write request for RaftClientRequest:client-48177619709F->s0@group-A08E232D777D, cid=59, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:760)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:872)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:809)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:809)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:880)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:879)
		... 7 more
2022-08-31 02:43:14,699 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-08-31 02:43:14,701 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 39@client-A3A92E9F7A8F
2022-08-31 02:43:14,703 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A3A92E9F7A8F->s0: receive RaftClientReply:client-A3A92E9F7A8F->s0@group-A08E232D777D, cid=39, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2022-08-31 02:43:14,704 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-946831664A24
2022-08-31 02:43:14,704 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 2 -> (t:1, i:5), STATEMACHINELOGENTRY, 45@client-A5198BA21791
2022-08-31 02:43:14,704 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-946831664A24->s0: receive RaftClientReply:client-946831664A24->s0@group-A08E232D777D, cid=41, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 02:43:14,705 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A5198BA21791->s0: receive RaftClientReply:client-A5198BA21791->s0@group-A08E232D777D, cid=45, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 02:43:14,708 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:14,708 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:14,709 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 43@client-72E376D5371B
2022-08-31 02:43:14,709 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-72E376D5371B->s0: receive RaftClientReply:client-72E376D5371B->s0@group-A08E232D777D, cid=43, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 02:43:14,710 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-2C0A7787C3C9
2022-08-31 02:43:14,711 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 39@client-A3A92E9F7A8F
2022-08-31 02:43:14,712 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2C0A7787C3C9->s0: receive RaftClientReply:client-2C0A7787C3C9->s0@group-A08E232D777D, cid=47, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2022-08-31 02:43:14,712 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 39@client-A3A92E9F7A8F
2022-08-31 02:43:14,712 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-946831664A24
2022-08-31 02:43:14,712 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-DF5FFB831832
2022-08-31 02:43:14,712 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 2 -> (t:1, i:5), STATEMACHINELOGENTRY, 45@client-A5198BA21791
2022-08-31 02:43:14,712 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 43@client-72E376D5371B
2022-08-31 02:43:14,713 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-2C0A7787C3C9
2022-08-31 02:43:14,713 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-DF5FFB831832
2022-08-31 02:43:14,713 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 51@client-F4D54829B79E
2022-08-31 02:43:14,713 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 53@client-9D604A69CEB4
2022-08-31 02:43:14,713 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 55@client-78DE10490554
2022-08-31 02:43:14,714 [s1@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 57@client-F562DA6BFE3E
2022-08-31 02:43:14,714 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-DF5FFB831832->s0: receive RaftClientReply:client-DF5FFB831832->s0@group-A08E232D777D, cid=49, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c12]
2022-08-31 02:43:14,714 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 51@client-F4D54829B79E
2022-08-31 02:43:14,712 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-946831664A24
2022-08-31 02:43:14,715 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 2 -> (t:1, i:5), STATEMACHINELOGENTRY, 45@client-A5198BA21791
2022-08-31 02:43:14,715 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 53@client-9D604A69CEB4
2022-08-31 02:43:14,715 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 43@client-72E376D5371B
2022-08-31 02:43:14,715 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-2C0A7787C3C9
2022-08-31 02:43:14,715 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 55@client-78DE10490554
2022-08-31 02:43:14,715 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-DF5FFB831832
2022-08-31 02:43:14,715 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 51@client-F4D54829B79E
2022-08-31 02:43:14,716 [s0@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 57@client-F562DA6BFE3E
2022-08-31 02:43:14,716 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 53@client-9D604A69CEB4
2022-08-31 02:43:14,716 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 55@client-78DE10490554
2022-08-31 02:43:14,716 [s2@group-A08E232D777D-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 57@client-F562DA6BFE3E
2022-08-31 02:43:14,719 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-78DE10490554->s0: receive RaftClientReply:client-78DE10490554->s0@group-A08E232D777D, cid=55, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c12]
2022-08-31 02:43:14,719 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9D604A69CEB4->s0: receive RaftClientReply:client-9D604A69CEB4->s0@group-A08E232D777D, cid=53, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c12]
2022-08-31 02:43:14,719 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F562DA6BFE3E->s0: receive RaftClientReply:client-F562DA6BFE3E->s0@group-A08E232D777D, cid=57, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c12]
2022-08-31 02:43:14,719 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F4D54829B79E->s0: receive RaftClientReply:client-F4D54829B79E->s0@group-A08E232D777D, cid=51, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c12]
2022-08-31 02:43:14,724 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-BD0C18C8FF49->s0: receive RaftClientReply:client-BD0C18C8FF49->s0@group-A08E232D777D, cid=60, SUCCESS, logIndex=14, commits[s0:c14, s1:c12, s2:c12]
2022-08-31 02:43:14,736 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-A08E232D777D: Failed to acquire a pending write request for RaftClientRequest:client-BD0C18C8FF49->s0@group-A08E232D777D, cid=61, seq=2, RW, Message:1e41496bc39f5fd113d9...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-A08E232D777D: Failed to acquire a pending write request for RaftClientRequest:client-BD0C18C8FF49->s0@group-A08E232D777D, cid=61, seq=2, RW, Message:1e41496bc39f5fd113d9...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:760)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:872)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:809)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:809)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:880)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:879)
		... 7 more
2022-08-31 02:43:15,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 02:43:15,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 02:43:15,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 02:43:15,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 02:43:15,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 02:43:15,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A08E232D777D:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A08E232D777D-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A08E232D777D:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-A08E232D777D-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A08E232D777D:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-A08E232D777D-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:44497|admin:localhost:38949|client:localhost:43977|dataStream:localhost:42191|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38071|admin:localhost:46841|client:localhost:36287|dataStream:localhost:40813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43547|admin:localhost:42963|client:localhost:37147|dataStream:localhost:36657|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:15,044 [java.util.concurrent.ThreadPoolExecutor$Worker@48c37935[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 02:43:15,044 [java.util.concurrent.ThreadPoolExecutor$Worker@12f0ec58[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 02:43:15,049 [java.util.concurrent.ThreadPoolExecutor$Worker@4e5fd2dd[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 02:43:15,049 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-A08E232D777D: shutdown
2022-08-31 02:43:15,050 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A08E232D777D,id=s1
2022-08-31 02:43:15,050 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A08E232D777D-FollowerState
2022-08-31 02:43:15,050 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-A08E232D777D-StateMachineUpdater: set stopIndex = 14
2022-08-31 02:43:15,050 [s1@group-A08E232D777D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A08E232D777D-FollowerState was interrupted
2022-08-31 02:43:15,049 [java.util.concurrent.ThreadPoolExecutor$Worker@12f0ec58[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:15,049 [java.util.concurrent.ThreadPoolExecutor$Worker@48c37935[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:15,049 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-A08E232D777D: shutdown
2022-08-31 02:43:15,051 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A08E232D777D,id=s0
2022-08-31 02:43:15,051 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-A08E232D777D-LeaderStateImpl
2022-08-31 02:43:15,051 [s0@group-A08E232D777D->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-A08E232D777D->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:15,051 [s0@group-A08E232D777D->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-A08E232D777D->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:15,052 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 02:43:15,052 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#29-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2022-08-31 02:43:15,052 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 02:43:15,052 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#27-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-08-31 02:43:15,053 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-A08E232D777D->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:15,053 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-A08E232D777D->s1: nextIndex: updateUnconditionally 15 -> 14
2022-08-31 02:43:15,053 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-A08E232D777D->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:15,053 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-A08E232D777D->s2: nextIndex: updateUnconditionally 15 -> 14
2022-08-31 02:43:15,053 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-A08E232D777D->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:15,053 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-A08E232D777D->s1: nextIndex: updateUnconditionally 14 -> 13
2022-08-31 02:43:15,053 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-A08E232D777D->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:15,053 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-A08E232D777D->s2: nextIndex: updateUnconditionally 14 -> 13
2022-08-31 02:43:15,050 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-A08E232D777D: applyIndex: 14
2022-08-31 02:43:15,051 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-A08E232D777D-PendingRequests: sendNotLeaderResponses
2022-08-31 02:43:15,054 [s1@group-A08E232D777D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-A08E232D777D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:15,054 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 02:43:15,054 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-A08E232D777D: shutdown
2022-08-31 02:43:15,054 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A08E232D777D,id=s2
2022-08-31 02:43:15,054 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A08E232D777D-FollowerState
2022-08-31 02:43:15,054 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-A08E232D777D-StateMachineUpdater: set stopIndex = 14
2022-08-31 02:43:15,054 [s2@group-A08E232D777D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A08E232D777D-FollowerState was interrupted
2022-08-31 02:43:15,055 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-A08E232D777D: applyIndex: 14
2022-08-31 02:43:15,055 [s2@group-A08E232D777D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-A08E232D777D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:15,055 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 02:43:15,056 [java.util.concurrent.ThreadPoolExecutor$Worker@48c37935[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:15,056 [java.util.concurrent.ThreadPoolExecutor$Worker@48c37935[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:15,059 [java.util.concurrent.ThreadPoolExecutor$Worker@4e5fd2dd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:15,059 [java.util.concurrent.ThreadPoolExecutor$Worker@48c37935[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:15,059 [java.util.concurrent.ThreadPoolExecutor$Worker@48c37935[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:15,061 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-A08E232D777D-SegmentedRaftLogWorker close()
2022-08-31 02:43:15,061 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-A08E232D777D-SegmentedRaftLogWorker close()
2022-08-31 02:43:15,062 [java.util.concurrent.ThreadPoolExecutor$Worker@48c37935[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:15,062 [java.util.concurrent.ThreadPoolExecutor$Worker@12f0ec58[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:15,062 [java.util.concurrent.ThreadPoolExecutor$Worker@12f0ec58[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:15,062 [java.util.concurrent.ThreadPoolExecutor$Worker@4e5fd2dd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:15,062 [java.util.concurrent.ThreadPoolExecutor$Worker@4e5fd2dd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:15,066 [java.util.concurrent.ThreadPoolExecutor$Worker@12f0ec58[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:15,063 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-A08E232D777D-StateMachineUpdater: set stopIndex = 14
2022-08-31 02:43:15,066 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-A08E232D777D: applyIndex: 14
2022-08-31 02:43:15,066 [s0@group-A08E232D777D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-A08E232D777D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:15,068 [java.util.concurrent.ThreadPoolExecutor$Worker@12f0ec58[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:15,069 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-A08E232D777D-SegmentedRaftLogWorker close()
2022-08-31 02:43:15,069 [java.util.concurrent.ThreadPoolExecutor$Worker@4e5fd2dd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:15,069 [java.util.concurrent.ThreadPoolExecutor$Worker@4e5fd2dd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:15,070 [java.util.concurrent.ThreadPoolExecutor$Worker@4e5fd2dd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:15,070 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@5b9cea1a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 02:43:15,070 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@4afe0927] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 02:43:15,071 [java.util.concurrent.ThreadPoolExecutor$Worker@12f0ec58[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:15,072 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@19ce3f9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 02:43:15,072 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 02:43:15,072 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 02:43:15,072 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 02:43:15,073 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 02:43:15,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 02:43:15,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-2133C6F3EB31:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]
2022-08-31 02:43:15,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 02:43:15,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 02:43:15,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 02:43:15,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 02:43:15,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 02:43:15,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 02:43:15,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-2133C6F3EB31:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:15,075 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0
2022-08-31 02:43:15,075 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0 does not exist.
2022-08-31 02:43:15,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0
2022-08-31 02:43:15,075 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:15,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:15,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39309 (custom)
2022-08-31 02:43:15,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:15,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46823 (custom)
2022-08-31 02:43:15,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:15,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46555 (custom)
2022-08-31 02:43:15,076 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:15,076 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:15,076 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:15,076 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:15,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:15,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:15,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:15,079 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:15,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:15,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:15,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:15,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:15,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0] (custom)
2022-08-31 02:43:15,080 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-2133C6F3EB31:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER] returns group-2133C6F3EB31:java.util.concurrent.CompletableFuture@37adc34[Not completed]
2022-08-31 02:43:15,080 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:15,080 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:15,080 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:15,080 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-2133C6F3EB31:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:15,080 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:15,080 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:15,080 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:15,080 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:15,081 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:15,081 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:15,081 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-2133C6F3EB31: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:15,081 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:15,081 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:15,081 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:15,081 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:15,081 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:15,081 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:15,082 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:15,082 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:15,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:15,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:15,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0] (custom)
2022-08-31 02:43:15,082 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0/506fe2d5-b9f7-4fcf-83d4-2133c6f3eb31 does not exist. Creating ...
2022-08-31 02:43:15,082 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0/506fe2d5-b9f7-4fcf-83d4-2133c6f3eb31
2022-08-31 02:43:15,084 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0/506fe2d5-b9f7-4fcf-83d4-2133c6f3eb31/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:15,084 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0/506fe2d5-b9f7-4fcf-83d4-2133c6f3eb31/current
2022-08-31 02:43:15,084 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0/506fe2d5-b9f7-4fcf-83d4-2133c6f3eb31/sm
2022-08-31 02:43:15,086 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0/506fe2d5-b9f7-4fcf-83d4-2133c6f3eb31 has been successfully formatted.
2022-08-31 02:43:15,086 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:15,086 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:15,086 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:15,086 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:15,086 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:15,086 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:15,086 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:15,086 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-2133C6F3EB31-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0/506fe2d5-b9f7-4fcf-83d4-2133c6f3eb31
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:15,087 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:15,088 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-2133C6F3EB31-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:15,088 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-2133C6F3EB31-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:15,090 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-2133C6F3EB31: start as a follower, conf=-1: peers:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:15,090 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-2133C6F3EB31: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:15,090 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2133C6F3EB31-FollowerState
2022-08-31 02:43:15,094 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2133C6F3EB31,id=s0
2022-08-31 02:43:15,094 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:15,094 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:15,094 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:15,095 [s0@group-2133C6F3EB31-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:15,095 [s0@group-2133C6F3EB31-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:15,095 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 02:43:15,095 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 46823
2022-08-31 02:43:15,096 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 46555
2022-08-31 02:43:15,097 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39309
2022-08-31 02:43:15,097 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@4678523f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 02:43:15,098 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:15,098 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2133C6F3EB31:t0, leader=null, voted=, raftlog=Memoized:s0@group-2133C6F3EB31-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:15,098 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2133C6F3EB31:t0, leader=null, voted=, raftlog=Memoized:s0@group-2133C6F3EB31-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2133C6F3EB31:t0, leader=null, voted=, raftlog=Memoized:s0@group-2133C6F3EB31-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:154)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:150)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:15,326 [s0@group-2133C6F3EB31-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-2133C6F3EB31-FollowerState: change to CANDIDATE, lastRpcElapsedTime:235697283ns, electionTimeout:231ms
2022-08-31 02:43:15,326 [s0@group-2133C6F3EB31-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2133C6F3EB31-FollowerState
2022-08-31 02:43:15,326 [s0@group-2133C6F3EB31-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-2133C6F3EB31: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:43:15,326 [s0@group-2133C6F3EB31-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:43:15,326 [s0@group-2133C6F3EB31-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2133C6F3EB31-LeaderElection13
2022-08-31 02:43:15,327 [s0@group-2133C6F3EB31-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-2133C6F3EB31-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:15,327 [s0@group-2133C6F3EB31-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-2133C6F3EB31-LeaderElection13 PRE_VOTE round 0: result PASSED (term=0)
2022-08-31 02:43:15,329 [s0@group-2133C6F3EB31-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-2133C6F3EB31-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:15,329 [s0@group-2133C6F3EB31-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-2133C6F3EB31-LeaderElection13 ELECTION round 0: result PASSED (term=1)
2022-08-31 02:43:15,329 [s0@group-2133C6F3EB31-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-2133C6F3EB31-LeaderElection13
2022-08-31 02:43:15,330 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-2133C6F3EB31: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 02:43:15,330 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-2133C6F3EB31: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 248ms
2022-08-31 02:43:15,330 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:43:15,330 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:15,330 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 02:43:15,330 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:43:15,330 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:43:15,330 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:43:15,331 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:15,331 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:43:15,331 [s0@group-2133C6F3EB31-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2133C6F3EB31-LeaderStateImpl
2022-08-31 02:43:15,334 [s0@group-2133C6F3EB31-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-2133C6F3EB31-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:15,343 [s0@group-2133C6F3EB31-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-2133C6F3EB31: set configuration 0: peers:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:15,346 [s0@group-2133C6F3EB31-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-2133C6F3EB31-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc75cb2748/s0/506fe2d5-b9f7-4fcf-83d4-2133c6f3eb31/current/log_inprogress_0
2022-08-31 02:43:15,549 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2133C6F3EB31:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-2133C6F3EB31-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:15,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:15,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39309 (custom)
2022-08-31 02:43:15,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:15,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46823 (custom)
2022-08-31 02:43:15,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:15,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46555 (custom)
2022-08-31 02:43:15,549 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:15,549 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:15,550 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:15,550 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:15,550 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:15,550 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:15,550 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:15,551 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-08-31 02:43:15,551 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:318)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:157)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:150)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:15,551 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-08-31 02:43:15,551 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:324)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:161)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:150)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:15,552 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 02:43:15,552 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 02:43:15,552 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 02:43:15,552 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 02:43:15,552 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 02:43:15,552 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2133C6F3EB31:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-2133C6F3EB31-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46555|admin:localhost:39309|client:localhost:46823|dataStream:localhost:39111|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:15,552 [java.util.concurrent.ThreadPoolExecutor$Worker@2657ad70[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 02:43:15,553 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-2133C6F3EB31: shutdown
2022-08-31 02:43:15,553 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2133C6F3EB31,id=s0
2022-08-31 02:43:15,553 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-2133C6F3EB31-LeaderStateImpl
2022-08-31 02:43:15,553 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-2133C6F3EB31-PendingRequests: sendNotLeaderResponses
2022-08-31 02:43:15,553 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-2133C6F3EB31-StateMachineUpdater: set stopIndex = 0
2022-08-31 02:43:15,554 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-2133C6F3EB31: applyIndex: 0
2022-08-31 02:43:15,554 [s0@group-2133C6F3EB31-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-2133C6F3EB31-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:15,555 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-2133C6F3EB31-SegmentedRaftLogWorker close()
2022-08-31 02:43:15,556 [java.util.concurrent.ThreadPoolExecutor$Worker@2657ad70[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:15,558 [java.util.concurrent.ThreadPoolExecutor$Worker@2657ad70[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:15,558 [java.util.concurrent.ThreadPoolExecutor$Worker@2657ad70[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:15,560 [java.util.concurrent.ThreadPoolExecutor$Worker@2657ad70[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:15,560 [java.util.concurrent.ThreadPoolExecutor$Worker@2657ad70[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:15,560 [java.util.concurrent.ThreadPoolExecutor$Worker@2657ad70[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:15,560 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@4678523f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 02:43:15,561 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 02:43:15,561 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 02:43:15,561 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 02:43:15,561 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 02:43:15,565 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 02:43:15,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-E7080970BC87:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]
2022-08-31 02:43:15,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 02:43:15,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 02:43:15,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 02:43:15,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 02:43:15,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 02:43:15,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 02:43:15,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-E7080970BC87:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:15,566 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0
2022-08-31 02:43:15,566 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0 does not exist.
2022-08-31 02:43:15,566 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0
2022-08-31 02:43:15,566 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:15,567 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:15,567 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45815 (custom)
2022-08-31 02:43:15,567 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:15,567 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38713 (custom)
2022-08-31 02:43:15,567 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:15,567 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43857 (custom)
2022-08-31 02:43:15,567 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:15,567 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:15,567 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:15,567 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:15,567 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:15,567 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:15,567 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:15,568 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:15,569 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:15,569 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:15,569 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:15,569 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:15,569 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0] (custom)
2022-08-31 02:43:15,570 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-E7080970BC87:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER] returns group-E7080970BC87:java.util.concurrent.CompletableFuture@74c8daa3[Not completed]
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-E7080970BC87:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E7080970BC87: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:15,570 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:15,572 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:15,572 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:15,572 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:15,572 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:15,572 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:15,572 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:15,572 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:15,572 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0] (custom)
2022-08-31 02:43:15,572 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87 does not exist. Creating ...
2022-08-31 02:43:15,573 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87
2022-08-31 02:43:15,577 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:15,577 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87/current
2022-08-31 02:43:15,577 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87/sm
2022-08-31 02:43:15,579 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87 has been successfully formatted.
2022-08-31 02:43:15,579 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:15,579 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:15,579 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:15,579 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:15,579 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:15,579 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:15,579 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-E7080970BC87-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:15,580 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:15,581 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-E7080970BC87-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:15,581 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-E7080970BC87-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:15,581 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-E7080970BC87: start as a follower, conf=-1: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:15,581 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E7080970BC87: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:15,581 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E7080970BC87-FollowerState
2022-08-31 02:43:15,583 [s0@group-E7080970BC87-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:15,583 [s0@group-E7080970BC87-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:15,583 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7080970BC87,id=s0
2022-08-31 02:43:15,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:15,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:15,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:15,584 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 02:43:15,585 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 38713
2022-08-31 02:43:15,585 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 43857
2022-08-31 02:43:15,585 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45815
2022-08-31 02:43:15,586 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@31ca4a5e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 02:43:15,586 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:15,586 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E7080970BC87:t0, leader=null, voted=, raftlog=Memoized:s0@group-E7080970BC87-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:15,586 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E7080970BC87:t0, leader=null, voted=, raftlog=Memoized:s0@group-E7080970BC87-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E7080970BC87:t0, leader=null, voted=, raftlog=Memoized:s0@group-E7080970BC87-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:120)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:15,787 [s0@group-E7080970BC87-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E7080970BC87-FollowerState: change to CANDIDATE, lastRpcElapsedTime:206021496ns, electionTimeout:204ms
2022-08-31 02:43:15,787 [s0@group-E7080970BC87-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E7080970BC87-FollowerState
2022-08-31 02:43:15,787 [s0@group-E7080970BC87-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E7080970BC87: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:43:15,787 [s0@group-E7080970BC87-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:43:15,788 [s0@group-E7080970BC87-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E7080970BC87-LeaderElection14
2022-08-31 02:43:15,790 [s0@group-E7080970BC87-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E7080970BC87-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:15,790 [s0@group-E7080970BC87-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E7080970BC87-LeaderElection14 PRE_VOTE round 0: result PASSED (term=0)
2022-08-31 02:43:15,793 [s0@group-E7080970BC87-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E7080970BC87-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:15,793 [s0@group-E7080970BC87-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E7080970BC87-LeaderElection14 ELECTION round 0: result PASSED (term=1)
2022-08-31 02:43:15,793 [s0@group-E7080970BC87-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E7080970BC87-LeaderElection14
2022-08-31 02:43:15,794 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E7080970BC87: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 02:43:15,794 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-E7080970BC87: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 223ms
2022-08-31 02:43:15,794 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:43:15,794 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:15,794 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 02:43:15,794 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:43:15,794 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:43:15,794 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:43:15,794 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:15,794 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:43:15,795 [s0@group-E7080970BC87-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E7080970BC87-LeaderStateImpl
2022-08-31 02:43:15,795 [s0@group-E7080970BC87-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-E7080970BC87-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:15,800 [s0@group-E7080970BC87-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-E7080970BC87: set configuration 0: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:15,811 [s0@group-E7080970BC87-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E7080970BC87-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87/current/log_inprogress_0
2022-08-31 02:43:16,037 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E7080970BC87:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E7080970BC87-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:16,038 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:16,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:16,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45815 (custom)
2022-08-31 02:43:16,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:16,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38713 (custom)
2022-08-31 02:43:16,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:16,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43857 (custom)
2022-08-31 02:43:16,038 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:16,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:16,039 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:16,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:16,039 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:16,039 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:16,039 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:16,041 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:16,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:16,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:16,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:16,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:16,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0] (custom)
2022-08-31 02:43:16,042 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87
2022-08-31 02:43:16,042 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-E7080970BC87:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER] returns group-E7080970BC87:java.util.concurrent.CompletableFuture@51e5b511[Not completed]
2022-08-31 02:43:16,042 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-E7080970BC87:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-E7080970BC87
2022-08-31 02:43:16,043 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:16,043 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:16,043 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:16,043 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:16,043 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:16,043 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:16,043 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:16,043 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E7080970BC87: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:16,043 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:16,043 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:16,043 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:16,044 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:16,044 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:16,044 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:16,044 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:16,044 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:16,044 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:16,044 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:16,044 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:16,045 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:16,045 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:16,045 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-08-31 02:43:16,045 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:16,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:16,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45815 (custom)
2022-08-31 02:43:16,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:16,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38713 (custom)
2022-08-31 02:43:16,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:16,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43857 (custom)
2022-08-31 02:43:16,046 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:16,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:16,046 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:16,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:16,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:16,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:16,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:16,047 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:16,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:16,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:16,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:16,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:16,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0] (custom)
2022-08-31 02:43:16,048 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87
2022-08-31 02:43:16,048 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-E7080970BC87:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER] returns group-E7080970BC87:java.util.concurrent.CompletableFuture@299aed5a[Not completed]
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-E7080970BC87:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-E7080970BC87
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E7080970BC87: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:16,048 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:16,049 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:16,049 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:16,049 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:16,049 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:16,049 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:16,049 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:16,049 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:16,049 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0] (custom)
2022-08-31 02:43:16,049 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:16,050 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 02:43:17,050 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:17,051 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 02:43:18,051 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:18,052 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 02:43:19,052 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:19,053 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 02:43:20,053 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:20,054 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc9f89ca1e/s0/2ef9ec3c-84b6-4413-9eb1-e7080970bc87. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:324)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-08-31 02:43:20,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:20,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45815 (custom)
2022-08-31 02:43:20,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:20,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38713 (custom)
2022-08-31 02:43:20,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:20,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43857 (custom)
2022-08-31 02:43:20,055 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:20,055 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:20,055 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:20,055 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:20,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:20,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:20,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:20,056 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 02:43:20,056 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 02:43:20,056 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 02:43:20,056 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 02:43:20,056 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 02:43:20,056 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E7080970BC87:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E7080970BC87-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43857|admin:localhost:45815|client:localhost:38713|dataStream:localhost:38311|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,057 [java.util.concurrent.ThreadPoolExecutor$Worker@33e907b6[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 02:43:20,058 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-E7080970BC87: shutdown
2022-08-31 02:43:20,058 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7080970BC87,id=s0
2022-08-31 02:43:20,058 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E7080970BC87-LeaderStateImpl
2022-08-31 02:43:20,058 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E7080970BC87-PendingRequests: sendNotLeaderResponses
2022-08-31 02:43:20,058 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-E7080970BC87-StateMachineUpdater: set stopIndex = 0
2022-08-31 02:43:20,060 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-E7080970BC87: applyIndex: 0
2022-08-31 02:43:20,060 [s0@group-E7080970BC87-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-E7080970BC87-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:20,061 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-E7080970BC87-SegmentedRaftLogWorker close()
2022-08-31 02:43:20,062 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@31ca4a5e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 02:43:20,062 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-08-31 02:43:20,063 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-31 02:43:20,063 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-31 02:43:20,063 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-08-31 02:43:20,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-31 02:43:20,064 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-0AEAE07CD8B0:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]
2022-08-31 02:43:20,064 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-31 02:43:20,064 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-31 02:43:20,064 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-08-31 02:43:20,064 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-31 02:43:20,064 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-31 02:43:20,064 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-31 02:43:20,065 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-0AEAE07CD8B0:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:20,065 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0
2022-08-31 02:43:20,065 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0 does not exist.
2022-08-31 02:43:20,065 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0
2022-08-31 02:43:20,065 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:20,065 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:20,065 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42701 (custom)
2022-08-31 02:43:20,066 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:20,066 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41241 (custom)
2022-08-31 02:43:20,066 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:20,066 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34027 (custom)
2022-08-31 02:43:20,066 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:20,066 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:20,066 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:20,066 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:20,066 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:20,066 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:20,066 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:20,067 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:20,068 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:20,068 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:20,068 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:20,068 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:20,068 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0] (custom)
2022-08-31 02:43:20,069 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-0AEAE07CD8B0:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER] returns group-0AEAE07CD8B0:java.util.concurrent.CompletableFuture@14fb6faf[Not completed]
2022-08-31 02:43:20,069 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:20,069 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:20,069 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:20,069 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-0AEAE07CD8B0:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:20,069 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1
2022-08-31 02:43:20,069 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-0AEAE07CD8B0:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:20,069 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1 does not exist.
2022-08-31 02:43:20,069 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1
2022-08-31 02:43:20,070 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:20,070 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:20,070 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35291 (custom)
2022-08-31 02:43:20,070 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:20,070 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39049 (custom)
2022-08-31 02:43:20,070 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:20,070 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 32887 (custom)
2022-08-31 02:43:20,070 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:20,070 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:20,070 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:20,070 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:20,070 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:20,070 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:20,071 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:20,069 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:20,071 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:20,071 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:20,071 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:20,071 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:20,071 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:20,071 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-0AEAE07CD8B0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:20,071 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:20,071 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:20,071 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:20,072 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:20,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:20,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:20,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:20,072 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:20,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:20,072 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:20,073 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1] (custom)
2022-08-31 02:43:20,073 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:20,073 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:20,073 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:20,073 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-0AEAE07CD8B0:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER] returns group-0AEAE07CD8B0:java.util.concurrent.CompletableFuture@6062a45d[Not completed]
2022-08-31 02:43:20,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-0AEAE07CD8B0:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER], format? true
2022-08-31 02:43:20,073 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2
2022-08-31 02:43:20,073 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2 does not exist.
2022-08-31 02:43:20,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2
2022-08-31 02:43:20,074 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-08-31 02:43:20,074 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:20,074 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41645 (custom)
2022-08-31 02:43:20,074 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-08-31 02:43:20,074 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34455 (custom)
2022-08-31 02:43:20,074 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-08-31 02:43:20,074 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42065 (custom)
2022-08-31 02:43:20,074 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:20,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:20,074 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:20,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:20,074 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:20,074 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-08-31 02:43:20,074 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-08-31 02:43:20,075 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-31 02:43:20,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-31 02:43:20,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-31 02:43:20,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:20,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:20,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2] (custom)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-0AEAE07CD8B0:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-0AEAE07CD8B0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:20,076 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:20,077 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:20,077 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:20,077 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-0AEAE07CD8B0:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER] returns group-0AEAE07CD8B0:java.util.concurrent.CompletableFuture@37882219[Not completed]
2022-08-31 02:43:20,077 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:20,077 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:20,077 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:20,077 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:20,078 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:20,077 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:20,078 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0] (custom)
2022-08-31 02:43:20,079 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0 does not exist. Creating ...
2022-08-31 02:43:20,079 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0
2022-08-31 02:43:20,079 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:20,079 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:20,079 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:20,079 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-0AEAE07CD8B0:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:20,079 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-31 02:43:20,079 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:20,080 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-31 02:43:20,080 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-31 02:43:20,080 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-31 02:43:20,080 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-31 02:43:20,080 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-0AEAE07CD8B0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-31 02:43:20,080 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-31 02:43:20,080 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-31 02:43:20,080 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:20,080 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current
2022-08-31 02:43:20,081 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0/sm
2022-08-31 02:43:20,081 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-31 02:43:20,081 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:20,082 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0 has been successfully formatted.
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:20,082 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:20,083 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:20,084 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-31 02:43:20,084 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-31 02:43:20,084 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-31 02:43:20,084 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-0AEAE07CD8B0: start as a follower, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,084 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0AEAE07CD8B0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:20,084 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:20,088 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEAE07CD8B0,id=s0
2022-08-31 02:43:20,088 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:20,088 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:20,088 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:20,090 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-31 02:43:20,090 [s0@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:20,090 [s0@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:20,092 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 41241
2022-08-31 02:43:20,092 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 34027
2022-08-31 02:43:20,093 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42701
2022-08-31 02:43:20,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:20,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:20,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1] (custom)
2022-08-31 02:43:20,094 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0 does not exist. Creating ...
2022-08-31 02:43:20,094 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0
2022-08-31 02:43:20,095 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@42bd28f9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-31 02:43:20,096 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:20,096 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current
2022-08-31 02:43:20,096 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0/sm
2022-08-31 02:43:20,097 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0 has been successfully formatted.
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:20,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-0AEAE07CD8B0: start as a follower, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0AEAE07CD8B0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:20,099 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:20,100 [s1@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:20,100 [s1@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:20,100 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEAE07CD8B0,id=s1
2022-08-31 02:43:20,100 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:20,100 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:20,100 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:20,100 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-31 02:43:20,101 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 39049
2022-08-31 02:43:20,102 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 32887
2022-08-31 02:43:20,103 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 35291
2022-08-31 02:43:20,103 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@34af3536] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-31 02:43:20,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-31 02:43:20,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-31 02:43:20,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2] (custom)
2022-08-31 02:43:20,104 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0 does not exist. Creating ...
2022-08-31 02:43:20,104 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0
2022-08-31 02:43:20,105 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0/in_use.lock acquired by nodename 9152@fv-az318-963
2022-08-31 02:43:20,105 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current
2022-08-31 02:43:20,105 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0/sm
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0 has been successfully formatted.
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-31 02:43:20,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-31 02:43:20,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-31 02:43:20,109 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:20,109 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-31 02:43:20,109 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-0AEAE07CD8B0: start as a follower, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,109 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-0AEAE07CD8B0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-31 02:43:20,109 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:20,109 [s2@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:20,109 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEAE07CD8B0,id=s2
2022-08-31 02:43:20,109 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-31 02:43:20,110 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-31 02:43:20,110 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-31 02:43:20,109 [s2@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:20,110 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-31 02:43:20,112 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 34455
2022-08-31 02:43:20,112 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 42065
2022-08-31 02:43:20,113 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 41645
2022-08-31 02:43:20,113 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@3598516c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-31 02:43:20,113 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:20,113 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,114 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:172)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:20,263 [s0@group-0AEAE07CD8B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-0AEAE07CD8B0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:178601930ns, electionTimeout:172ms
2022-08-31 02:43:20,263 [s0@group-0AEAE07CD8B0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:20,263 [s0@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0AEAE07CD8B0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-31 02:43:20,263 [s0@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:43:20,263 [s0@group-0AEAE07CD8B0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0AEAE07CD8B0-LeaderElection15
2022-08-31 02:43:20,264 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-0AEAE07CD8B0-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,265 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:20,265 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:20,265 [s0@group-0AEAE07CD8B0-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-08-31 02:43:20,265 [s0@group-0AEAE07CD8B0-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 02:43:20,273 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-0AEAE07CD8B0: receive requestVote(PRE_VOTE, s0, group-0AEAE07CD8B0, 0, (t:0, i:0))
2022-08-31 02:43:20,274 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-0AEAE07CD8B0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:20,274 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-0AEAE07CD8B0 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,275 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-0AEAE07CD8B0-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:20,275 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-31 02:43:20,284 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-0AEAE07CD8B0-LeaderElection15 PRE_VOTE round 0: result PASSED
2022-08-31 02:43:20,284 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0AEAE07CD8B0: receive requestVote(PRE_VOTE, s0, group-0AEAE07CD8B0, 0, (t:0, i:0))
2022-08-31 02:43:20,284 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0AEAE07CD8B0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:20,285 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0AEAE07CD8B0 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-0AEAE07CD8B0:t0, leader=null, voted=, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,286 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-0AEAE07CD8B0-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,287 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:20,287 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:20,290 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-0AEAE07CD8B0: receive requestVote(ELECTION, s0, group-0AEAE07CD8B0, 1, (t:0, i:0))
2022-08-31 02:43:20,291 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-0AEAE07CD8B0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:20,291 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0AEAE07CD8B0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-31 02:43:20,291 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:20,291 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:20,291 [s1@group-0AEAE07CD8B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0AEAE07CD8B0-FollowerState was interrupted
2022-08-31 02:43:20,291 [s1@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:20,291 [s1@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:20,292 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0AEAE07CD8B0: receive requestVote(ELECTION, s0, group-0AEAE07CD8B0, 1, (t:0, i:0))
2022-08-31 02:43:20,292 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0AEAE07CD8B0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-31 02:43:20,292 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-0AEAE07CD8B0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-31 02:43:20,292 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:20,292 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:20,292 [s2@group-0AEAE07CD8B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0AEAE07CD8B0-FollowerState was interrupted
2022-08-31 02:43:20,296 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-0AEAE07CD8B0 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-0AEAE07CD8B0:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,297 [s2@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-31 02:43:20,297 [s2@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-31 02:43:20,297 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-0AEAE07CD8B0-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:20,297 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-31 02:43:20,297 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-0AEAE07CD8B0-LeaderElection15 ELECTION round 0: result PASSED
2022-08-31 02:43:20,297 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-0AEAE07CD8B0-LeaderElection15
2022-08-31 02:43:20,297 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0AEAE07CD8B0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-31 02:43:20,297 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-0AEAE07CD8B0: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 226ms
2022-08-31 02:43:20,297 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:20,298 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:20,299 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:20,299 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:20,299 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0AEAE07CD8B0 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-0AEAE07CD8B0:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,299 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:20,299 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:20,299 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:20,299 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:20,299 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:20,299 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:20,300 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:20,300 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0AEAE07CD8B0-LeaderStateImpl
2022-08-31 02:43:20,300 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:20,307 [s0@group-0AEAE07CD8B0-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-0AEAE07CD8B0: set configuration 0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,316 [s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_0
2022-08-31 02:43:20,321 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-0AEAE07CD8B0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 244ms
2022-08-31 02:43:20,322 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-0AEAE07CD8B0: set configuration 0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,322 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:20,332 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-0AEAE07CD8B0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 251ms
2022-08-31 02:43:20,332 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-0AEAE07CD8B0: set configuration 0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,332 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-31 02:43:20,337 [s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_0
2022-08-31 02:43:20,345 [s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_0
2022-08-31 02:43:20,565 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,565 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:20,566 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:20,572 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-36D01EE372B9->s0: receive RaftClientReply:client-36D01EE372B9->s0@group-0AEAE07CD8B0, cid=62, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-08-31 02:43:20,577 [s0@group-0AEAE07CD8B0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-36D01EE372B9
2022-08-31 02:43:20,578 [s2@group-0AEAE07CD8B0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-36D01EE372B9
2022-08-31 02:43:20,578 [s1@group-0AEAE07CD8B0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-36D01EE372B9
2022-08-31 02:43:20,579 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-36D01EE372B9->s0: receive RaftClientReply:client-36D01EE372B9->s0@group-0AEAE07CD8B0, cid=63, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-08-31 02:43:20,581 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:20,581 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:20,590 [s0@group-0AEAE07CD8B0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-CCFB5E30BB4E
2022-08-31 02:43:20,591 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-CCFB5E30BB4E->s0: receive RaftClientReply:client-CCFB5E30BB4E->s0@group-0AEAE07CD8B0, cid=1, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c1]
2022-08-31 02:43:20,591 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-08-31 02:43:20,592 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2022-08-31 02:43:20,592 [s1@group-0AEAE07CD8B0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-CCFB5E30BB4E
2022-08-31 02:43:20,592 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:20,592 [s2@group-0AEAE07CD8B0-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-CCFB5E30BB4E
2022-08-31 02:43:20,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,594 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:198)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:20,669 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2022-08-31 02:43:20,670 [s1-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-08-31 02:43:20,694 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:20,695 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,695 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,695 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:198)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:20,796 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:20,796 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,796 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,796 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:198)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:20,897 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:20,897 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,897 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,898 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:198)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:20,977 [s1@group-0AEAE07CD8B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-0AEAE07CD8B0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:385106930ns, electionTimeout:237ms
2022-08-31 02:43:20,977 [s1@group-0AEAE07CD8B0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:20,977 [s1@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0AEAE07CD8B0: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-31 02:43:20,977 [s1@group-0AEAE07CD8B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-31 02:43:20,977 [s1@group-0AEAE07CD8B0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0AEAE07CD8B0-LeaderElection16
2022-08-31 02:43:20,978 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-0AEAE07CD8B0: change Leader from s0 to null at term 1 for PRE_VOTE
2022-08-31 02:43:20,978 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-0AEAE07CD8B0-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,978 [s1@group-0AEAE07CD8B0-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-08-31 02:43:20,979 [s1@group-0AEAE07CD8B0-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-08-31 02:43:20,988 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-0AEAE07CD8B0: receive requestVote(PRE_VOTE, s1, group-0AEAE07CD8B0, 1, (t:1, i:4))
2022-08-31 02:43:20,988 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0AEAE07CD8B0: receive requestVote(PRE_VOTE, s1, group-0AEAE07CD8B0, 1, (t:1, i:4))
2022-08-31 02:43:20,988 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1056)) - s0@group-0AEAE07CD8B0-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 690ms. Conf: 0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,988 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0AEAE07CD8B0-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:43:20,988 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0AEAE07CD8B0 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,989 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1060)) - Follower s0@group-0AEAE07CD8B0->s1(c3,m4,n5, attendVote=true, lastRpcSendTime=16, lastRpcResponseTime=395)
2022-08-31 02:43:20,989 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1060)) - Follower s0@group-0AEAE07CD8B0->s2(c3,m4,n5, attendVote=true, lastRpcSendTime=16, lastRpcResponseTime=396)
2022-08-31 02:43:20,989 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0AEAE07CD8B0: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-31 02:43:20,989 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-0AEAE07CD8B0-LeaderStateImpl
2022-08-31 02:43:20,989 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-0AEAE07CD8B0-PendingRequests: sendNotLeaderResponses
2022-08-31 02:43:20,989 [s0@group-0AEAE07CD8B0->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-0AEAE07CD8B0->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:20,992 [s0@group-0AEAE07CD8B0->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s0@group-0AEAE07CD8B0->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:20,992 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:20,992 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#11-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-31 02:43:20,993 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0AEAE07CD8B0->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:20,993 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0AEAE07CD8B0->s2: nextIndex: updateUnconditionally 5 -> 4
2022-08-31 02:43:20,994 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-0AEAE07CD8B0-LeaderElection16: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:20,994 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#13-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-08-31 02:43:20,994 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2022-08-31 02:43:20,994 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-0AEAE07CD8B0-LeaderElection16 PRE_VOTE round 0: result PASSED
2022-08-31 02:43:20,996 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-0AEAE07CD8B0-LeaderElection16 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:20,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-31 02:43:20,998 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-0AEAE07CD8B0:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:20,998 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-0AEAE07CD8B0:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-0AEAE07CD8B0:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:198)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-31 02:43:21,003 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0AEAE07CD8B0->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:21,003 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0AEAE07CD8B0->s1: nextIndex: updateUnconditionally 5 -> 4
2022-08-31 02:43:21,004 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-0AEAE07CD8B0-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-31 02:43:21,004 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-0AEAE07CD8B0 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-0AEAE07CD8B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:21,012 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-0AEAE07CD8B0: receive requestVote(ELECTION, s1, group-0AEAE07CD8B0, 2, (t:1, i:4))
2022-08-31 02:43:21,012 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-0AEAE07CD8B0-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:43:21,012 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-0AEAE07CD8B0: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-08-31 02:43:21,012 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-0AEAE07CD8B0: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-08-31 02:43:21,012 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:21,012 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:21,012 [s0@group-0AEAE07CD8B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0AEAE07CD8B0-FollowerState was interrupted
2022-08-31 02:43:21,014 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-0AEAE07CD8B0 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-0AEAE07CD8B0:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:21,015 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-0AEAE07CD8B0-LeaderElection16: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-31 02:43:21,015 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t2
2022-08-31 02:43:21,015 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-0AEAE07CD8B0-LeaderElection16 ELECTION round 0: result PASSED
2022-08-31 02:43:21,015 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-0AEAE07CD8B0-LeaderElection16
2022-08-31 02:43:21,015 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-0AEAE07CD8B0: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-31 02:43:21,015 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-0AEAE07CD8B0: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 37ms
2022-08-31 02:43:21,015 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-31 02:43:21,015 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:21,015 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-31 02:43:21,016 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-31 02:43:21,017 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-31 02:43:21,017 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-08-31 02:43:21,017 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-08-31 02:43:21,017 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-31 02:43:21,017 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-08-31 02:43:21,017 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0AEAE07CD8B0-LeaderStateImpl
2022-08-31 02:43:21,017 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 02:43:21,018 [s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_0-4
2022-08-31 02:43:21,018 [s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_0-4
2022-08-31 02:43:21,019 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-0AEAE07CD8B0: receive requestVote(ELECTION, s1, group-0AEAE07CD8B0, 2, (t:1, i:4))
2022-08-31 02:43:21,019 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-0AEAE07CD8B0-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-31 02:43:21,019 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-0AEAE07CD8B0: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-08-31 02:43:21,019 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-0AEAE07CD8B0: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-08-31 02:43:21,019 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:21,019 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:21,019 [s2@group-0AEAE07CD8B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0AEAE07CD8B0-FollowerState was interrupted
2022-08-31 02:43:21,027 [s1@group-0AEAE07CD8B0-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-0AEAE07CD8B0: set configuration 5: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:21,032 [s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s1/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_5
2022-08-31 02:43:21,033 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-0AEAE07CD8B0 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-0AEAE07CD8B0:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:21,034 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-0AEAE07CD8B0: change Leader from null to s1 at term 2 for appendEntries, leader elected after 22ms
2022-08-31 02:43:21,045 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-0AEAE07CD8B0: set configuration 5: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:21,045 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 02:43:21,047 [s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_0-4
2022-08-31 02:43:21,047 [s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_0-4
2022-08-31 02:43:21,050 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-0AEAE07CD8B0: change Leader from null to s1 at term 2 for appendEntries, leader elected after 30ms
2022-08-31 02:43:21,050 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-0AEAE07CD8B0: set configuration 5: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-31 02:43:21,050 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-08-31 02:43:21,051 [s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_0-4
2022-08-31 02:43:21,051 [s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_0-4
2022-08-31 02:43:21,071 [s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s0/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_5
2022-08-31 02:43:21,071 [s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/19d5fc4b/MiniRaftClusterWithGrpc1f1d5945/s2/3b62d26c-4090-4084-9e63-0aeae07cd8b0/current/log_inprogress_5
2022-08-31 02:43:21,449 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEAE07CD8B0:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0AEAE07CD8B0:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:21,449 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-08-31 02:43:21,449 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2022-08-31 02:43:21,450 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-08-31 02:43:21,450 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-CCFB5E30BB4E->s0: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:202)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-CCFB5E30BB4E->s0: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:406)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:346)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-08-31 02:43:21,451 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-08-31 02:43:21,452 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-08-31 02:43:21,452 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-08-31 02:43:21,454 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-08-31 02:43:21,570 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2022-08-31 02:43:21,570 [s1-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-08-31 02:43:21,575 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 02:43:21,578 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 02:43:21,579 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0AEAE07CD8B0->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:21,579 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0AEAE07CD8B0->s2: nextIndex: updateUnconditionally 4 -> 3
2022-08-31 02:43:21,580 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s0@group-0AEAE07CD8B0->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:21,580 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0AEAE07CD8B0->s1: nextIndex: updateUnconditionally 4 -> 3
2022-08-31 02:43:22,455 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-CCFB5E30BB4E->s0 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:210)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:168)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-CCFB5E30BB4E->s0 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:388)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-08-31 02:43:22,459 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-CCFB5E30BB4E->s0: receive RaftClientReply:client-CCFB5E30BB4E->s0@group-0AEAE07CD8B0, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-08-31 02:43:25,456 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=705, target=localhost:41241}}. 
2022-08-31 02:43:25,458 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-31 02:43:25,458 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-31 02:43:25,458 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-08-31 02:43:25,459 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-31 02:43:25,459 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-31 02:43:25,459 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AEAE07CD8B0:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0AEAE07CD8B0:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AEAE07CD8B0:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-0AEAE07CD8B0-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34027|admin:localhost:42701|client:localhost:41241|dataStream:localhost:34353|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32887|admin:localhost:35291|client:localhost:39049|dataStream:localhost:34849|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42065|admin:localhost:41645|client:localhost:34455|dataStream:localhost:38939|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-31 02:43:25,460 [java.util.concurrent.ThreadPoolExecutor$Worker@7bf09307[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-31 02:43:25,461 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-0AEAE07CD8B0: shutdown
2022-08-31 02:43:25,461 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEAE07CD8B0,id=s0
2022-08-31 02:43:25,461 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:25,461 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-0AEAE07CD8B0-StateMachineUpdater: set stopIndex = 6
2022-08-31 02:43:25,461 [s0@group-0AEAE07CD8B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0AEAE07CD8B0-FollowerState was interrupted
2022-08-31 02:43:25,461 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-0AEAE07CD8B0: applyIndex: 6
2022-08-31 02:43:25,462 [s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:25,461 [java.util.concurrent.ThreadPoolExecutor$Worker@7bf09307[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:25,463 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-0AEAE07CD8B0-SegmentedRaftLogWorker close()
2022-08-31 02:43:25,464 [java.util.concurrent.ThreadPoolExecutor$Worker@7bf09307[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-08-31 02:43:25,465 [java.util.concurrent.ThreadPoolExecutor$Worker@1d9223b7[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-31 02:43:25,465 [java.util.concurrent.ThreadPoolExecutor$Worker@1d9223b7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:25,466 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-0AEAE07CD8B0: shutdown
2022-08-31 02:43:25,466 [java.util.concurrent.ThreadPoolExecutor$Worker@499759ea[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-31 02:43:25,466 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEAE07CD8B0,id=s2
2022-08-31 02:43:25,466 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0AEAE07CD8B0-FollowerState
2022-08-31 02:43:25,466 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-0AEAE07CD8B0-StateMachineUpdater: set stopIndex = 6
2022-08-31 02:43:25,466 [s2@group-0AEAE07CD8B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0AEAE07CD8B0-FollowerState was interrupted
2022-08-31 02:43:25,466 [java.util.concurrent.ThreadPoolExecutor$Worker@7bf09307[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 02:43:25,466 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-0AEAE07CD8B0: applyIndex: 6
2022-08-31 02:43:25,466 [s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:25,467 [java.util.concurrent.ThreadPoolExecutor$Worker@7bf09307[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:25,467 [java.util.concurrent.ThreadPoolExecutor$Worker@7bf09307[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:25,468 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-0AEAE07CD8B0: shutdown
2022-08-31 02:43:25,468 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AEAE07CD8B0,id=s1
2022-08-31 02:43:25,468 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-0AEAE07CD8B0-LeaderStateImpl
2022-08-31 02:43:25,468 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-0AEAE07CD8B0-SegmentedRaftLogWorker close()
2022-08-31 02:43:25,468 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-0AEAE07CD8B0-PendingRequests: sendNotLeaderResponses
2022-08-31 02:43:25,468 [java.util.concurrent.ThreadPoolExecutor$Worker@499759ea[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-08-31 02:43:25,469 [s1@group-0AEAE07CD8B0->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-0AEAE07CD8B0->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:25,469 [java.util.concurrent.ThreadPoolExecutor$Worker@1d9223b7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:25,469 [java.util.concurrent.ThreadPoolExecutor$Worker@1d9223b7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:25,469 [s1@group-0AEAE07CD8B0->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(191)) - s1@group-0AEAE07CD8B0->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-08-31 02:43:25,471 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-31 02:43:25,471 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-08-31 02:43:25,472 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-08-31 02:43:25,472 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(395)) - s1@group-0AEAE07CD8B0->s0-GrpcLogAppender is already stopped
2022-08-31 02:43:25,472 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(395)) - s1@group-0AEAE07CD8B0->s0-GrpcLogAppender is already stopped
2022-08-31 02:43:25,472 [java.util.concurrent.ThreadPoolExecutor$Worker@7bf09307[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:25,472 [java.util.concurrent.ThreadPoolExecutor$Worker@7bf09307[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:25,472 [java.util.concurrent.ThreadPoolExecutor$Worker@7bf09307[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:25,473 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(406)) - s1@group-0AEAE07CD8B0->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-08-31 02:43:25,473 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-0AEAE07CD8B0->s2: nextIndex: updateUnconditionally 7 -> 6
2022-08-31 02:43:25,473 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-0AEAE07CD8B0-StateMachineUpdater: set stopIndex = 6
2022-08-31 02:43:25,474 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-0AEAE07CD8B0: applyIndex: 6
2022-08-31 02:43:25,474 [s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-31 02:43:25,474 [java.util.concurrent.ThreadPoolExecutor$Worker@499759ea[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-08-31 02:43:25,478 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-0AEAE07CD8B0-SegmentedRaftLogWorker close()
2022-08-31 02:43:25,479 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#3-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-08-31 02:43:25,481 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(395)) - s1@group-0AEAE07CD8B0->s2-GrpcLogAppender is already stopped
2022-08-31 02:43:25,481 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@42bd28f9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-31 02:43:25,481 [java.util.concurrent.ThreadPoolExecutor$Worker@499759ea[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-08-31 02:43:25,481 [java.util.concurrent.ThreadPoolExecutor$Worker@499759ea[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-08-31 02:43:25,481 [java.util.concurrent.ThreadPoolExecutor$Worker@499759ea[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-08-31 02:43:25,481 [java.util.concurrent.ThreadPoolExecutor$Worker@1d9223b7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:25,482 [java.util.concurrent.ThreadPoolExecutor$Worker@1d9223b7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:25,482 [java.util.concurrent.ThreadPoolExecutor$Worker@499759ea[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-08-31 02:43:25,482 [java.util.concurrent.ThreadPoolExecutor$Worker@499759ea[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-08-31 02:43:25,482 [java.util.concurrent.ThreadPoolExecutor$Worker@499759ea[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:25,483 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@34af3536] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-31 02:43:25,482 [java.util.concurrent.ThreadPoolExecutor$Worker@1d9223b7[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-08-31 02:43:25,486 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$347/0x00000001002d7440@3598516c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-31 02:43:25,487 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
