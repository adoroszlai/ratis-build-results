SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-log4j12/1.7.29/slf4j-log4j12-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-simple/1.7.29/slf4j-simple-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2022-08-26 17:03:21,557 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:21,560 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:21,563 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:21,563 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:21,580 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2022-08-26 17:03:21,636 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:21,636 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:21,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:21,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:21,638 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:21,639 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:21,639 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:21,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s3, group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:21,645 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3
2022-08-26 17:03:21,646 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3 does not exist.
2022-08-26 17:03:21,647 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3
2022-08-26 17:03:21,657 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:21,668 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:21,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:21,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:21,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:21,689 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:21,692 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3] (custom)
2022-08-26 17:03:21,696 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s3: addNew group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER] returns group-410B3BB8FAF4:java.util.concurrent.CompletableFuture@5dce1ee6[Not completed]
2022-08-26 17:03:21,696 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:21,696 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0
2022-08-26 17:03:21,696 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0 does not exist.
2022-08-26 17:03:21,696 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0
2022-08-26 17:03:21,697 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:21,697 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:21,697 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:21,697 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:21,697 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:21,698 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:21,698 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0] (custom)
2022-08-26 17:03:21,708 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s3: new RaftServerImpl for group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:21,709 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER] returns group-410B3BB8FAF4:java.util.concurrent.CompletableFuture@17f10588[Not completed]
2022-08-26 17:03:21,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:21,709 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1
2022-08-26 17:03:21,709 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1 does not exist.
2022-08-26 17:03:21,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1
2022-08-26 17:03:21,710 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:21,710 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:21,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:21,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:21,711 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:21,711 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:21,711 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1] (custom)
2022-08-26 17:03:21,715 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:21,715 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:21,716 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:21,716 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:21,716 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:21,716 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:21,712 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:21,719 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:21,719 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:21,719 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:21,719 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:21,719 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:21,719 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:21,721 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s3@group-410B3BB8FAF4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:21,723 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-410B3BB8FAF4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:21,723 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:21,723 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:21,724 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:21,724 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:21,724 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:21,724 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:21,724 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:21,724 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-410B3BB8FAF4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:21,733 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER] returns group-410B3BB8FAF4:java.util.concurrent.CompletableFuture@5ad08f12[Not completed]
2022-08-26 17:03:21,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:21,734 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2
2022-08-26 17:03:21,734 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2 does not exist.
2022-08-26 17:03:21,734 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2
2022-08-26 17:03:21,734 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:21,734 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:21,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:21,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:21,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:21,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:21,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2] (custom)
2022-08-26 17:03:21,740 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:21,742 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:21,740 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:21,743 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:21,743 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:21,746 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:21,747 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:21,747 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:21,747 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:21,748 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER] returns group-410B3BB8FAF4:java.util.concurrent.CompletableFuture@6bc7281c[Not completed]
2022-08-26 17:03:21,753 [pool-4-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-410B3BB8FAF4:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:21,753 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:21,753 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:21,753 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:21,753 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:21,753 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:21,754 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:21,754 [pool-4-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-410B3BB8FAF4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:21,754 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:21,754 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:21,754 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:21,784 [pool-2-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-08-26 17:03:21,923 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:21,923 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:21,924 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:21,924 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:21,925 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:21,926 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:21,927 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:21,927 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:21,927 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:21,927 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:21,928 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:21,928 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:21,928 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:21,928 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:21,928 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:21,928 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:21,929 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:21,929 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3] (custom)
2022-08-26 17:03:21,928 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:21,930 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:21,930 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:21,930 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:21,930 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:21,941 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3/e6c80d55-1760-451f-8207-410b3bb8faf4 does not exist. Creating ...
2022-08-26 17:03:21,942 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3/e6c80d55-1760-451f-8207-410b3bb8faf4
2022-08-26 17:03:21,946 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3/e6c80d55-1760-451f-8207-410b3bb8faf4/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:21,946 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3/e6c80d55-1760-451f-8207-410b3bb8faf4/current
2022-08-26 17:03:21,947 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3/e6c80d55-1760-451f-8207-410b3bb8faf4/sm
2022-08-26 17:03:21,971 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3/e6c80d55-1760-451f-8207-410b3bb8faf4 has been successfully formatted.
2022-08-26 17:03:21,973 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:21,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:21,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:21,980 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:21,981 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:21,982 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:21,995 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:21,996 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:21,999 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s3@group-410B3BB8FAF4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3/e6c80d55-1760-451f-8207-410b3bb8faf4
2022-08-26 17:03:21,999 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:22,000 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:22,001 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,001 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:22,001 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:22,002 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:22,002 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:22,006 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:22,020 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:22,020 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:22,021 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:22,021 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:22,028 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s3@group-410B3BB8FAF4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,033 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s3@group-410B3BB8FAF4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,040 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(331)) - s3@group-410B3BB8FAF4: start as a listener, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,040 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-410B3BB8FAF4: changes role from      null to LISTENER at term 0 for startAsListener
2022-08-26 17:03:22,041 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,042 [s3@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,049 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-410B3BB8FAF4,id=s3
2022-08-26 17:03:22,051 [s3@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,052 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:22,053 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:22,053 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:22,058 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s3: start RPC server
2022-08-26 17:03:22,062 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:22,062 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:22,062 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0] (custom)
2022-08-26 17:03:22,062 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0/e6c80d55-1760-451f-8207-410b3bb8faf4 does not exist. Creating ...
2022-08-26 17:03:22,068 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0/e6c80d55-1760-451f-8207-410b3bb8faf4
2022-08-26 17:03:22,069 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0/e6c80d55-1760-451f-8207-410b3bb8faf4/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:22,069 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0/e6c80d55-1760-451f-8207-410b3bb8faf4/current
2022-08-26 17:03:22,069 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0/e6c80d55-1760-451f-8207-410b3bb8faf4/sm
2022-08-26 17:03:22,070 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0/e6c80d55-1760-451f-8207-410b3bb8faf4 has been successfully formatted.
2022-08-26 17:03:22,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:22,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:22,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:22,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:22,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,072 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:22,072 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:22,072 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-410B3BB8FAF4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0/e6c80d55-1760-451f-8207-410b3bb8faf4
2022-08-26 17:03:22,072 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:22,072 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:22,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:22,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:22,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:22,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:22,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:22,074 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:22,074 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:22,074 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:22,074 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:22,075 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-410B3BB8FAF4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,075 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-410B3BB8FAF4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,075 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-410B3BB8FAF4: start as a follower, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,075 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-410B3BB8FAF4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:22,078 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@38a423ea] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-08-26 17:03:22,075 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,081 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-410B3BB8FAF4,id=s0
2022-08-26 17:03:22,084 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:22,084 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:22,084 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:22,084 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:22,088 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:22,088 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:22,088 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1] (custom)
2022-08-26 17:03:22,088 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1/e6c80d55-1760-451f-8207-410b3bb8faf4 does not exist. Creating ...
2022-08-26 17:03:22,089 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1/e6c80d55-1760-451f-8207-410b3bb8faf4
2022-08-26 17:03:22,089 [s0@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,089 [s0@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,090 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1/e6c80d55-1760-451f-8207-410b3bb8faf4/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:22,090 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1/e6c80d55-1760-451f-8207-410b3bb8faf4/current
2022-08-26 17:03:22,090 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1/e6c80d55-1760-451f-8207-410b3bb8faf4/sm
2022-08-26 17:03:22,091 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1/e6c80d55-1760-451f-8207-410b3bb8faf4 has been successfully formatted.
2022-08-26 17:03:22,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:22,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:22,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:22,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:22,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:22,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:22,094 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-410B3BB8FAF4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1/e6c80d55-1760-451f-8207-410b3bb8faf4
2022-08-26 17:03:22,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:22,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:22,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:22,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:22,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:22,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:22,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:22,095 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@1c6858e5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:22,096 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:22,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:22,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:22,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:22,099 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-410B3BB8FAF4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,102 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-410B3BB8FAF4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,103 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-410B3BB8FAF4: start as a follower, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,103 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-410B3BB8FAF4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:22,103 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,104 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-410B3BB8FAF4,id=s1
2022-08-26 17:03:22,104 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:22,104 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:22,104 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:22,105 [s1@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,107 [s1@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,107 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:22,112 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@5ca83f1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:22,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:22,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:22,113 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2] (custom)
2022-08-26 17:03:22,113 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2/e6c80d55-1760-451f-8207-410b3bb8faf4 does not exist. Creating ...
2022-08-26 17:03:22,113 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2/e6c80d55-1760-451f-8207-410b3bb8faf4
2022-08-26 17:03:22,114 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2/e6c80d55-1760-451f-8207-410b3bb8faf4/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:22,115 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2/e6c80d55-1760-451f-8207-410b3bb8faf4/current
2022-08-26 17:03:22,115 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2/e6c80d55-1760-451f-8207-410b3bb8faf4/sm
2022-08-26 17:03:22,116 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2/e6c80d55-1760-451f-8207-410b3bb8faf4 has been successfully formatted.
2022-08-26 17:03:22,116 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:22,117 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:22,117 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,117 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:22,117 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:22,117 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-410B3BB8FAF4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2/e6c80d55-1760-451f-8207-410b3bb8faf4
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:22,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:22,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:22,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:22,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:22,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:22,120 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-410B3BB8FAF4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,120 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-410B3BB8FAF4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,120 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-410B3BB8FAF4: start as a follower, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,120 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-410B3BB8FAF4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:22,120 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,122 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-410B3BB8FAF4,id=s2
2022-08-26 17:03:22,122 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:22,122 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:22,122 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:22,123 [s2@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,128 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:22,134 [s2@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,136 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@578e02d3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:22,138 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:22,140 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s3@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s0@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s1@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s2@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
2022-08-26 17:03:22,145 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s3@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s0@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s1@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s2@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s3@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s0@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s1@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s2@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testRemoveListener(LeaderElectionTests.java:346)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:22,249 [s3@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,249 [s3@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,297 [s0@group-410B3BB8FAF4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-410B3BB8FAF4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:222068996ns, electionTimeout:207ms
2022-08-26 17:03:22,299 [s0@group-410B3BB8FAF4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,299 [s0@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-410B3BB8FAF4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:22,301 [s0@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:22,301 [s0@group-410B3BB8FAF4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-410B3BB8FAF4-LeaderElection1
2022-08-26 17:03:22,304 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-410B3BB8FAF4-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,323 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-410B3BB8FAF4: receive requestVote(PRE_VOTE, s0, group-410B3BB8FAF4, 0, (t:0, i:0))
2022-08-26 17:03:22,324 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-410B3BB8FAF4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:22,330 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-410B3BB8FAF4 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s1@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,330 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,330 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,332 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-410B3BB8FAF4: receive requestVote(PRE_VOTE, s0, group-410B3BB8FAF4, 0, (t:0, i:0))
2022-08-26 17:03:22,332 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-410B3BB8FAF4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:22,332 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-410B3BB8FAF4 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-410B3BB8FAF4:t0, leader=null, voted=, raftlog=Memoized:s2@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,344 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-410B3BB8FAF4-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:22,344 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-26 17:03:22,344 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-410B3BB8FAF4-LeaderElection1 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:22,346 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-410B3BB8FAF4-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,348 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-410B3BB8FAF4: receive requestVote(ELECTION, s0, group-410B3BB8FAF4, 1, (t:0, i:0))
2022-08-26 17:03:22,350 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,355 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,354 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-410B3BB8FAF4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:22,356 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-410B3BB8FAF4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:22,356 [Thread-15] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,356 [Thread-15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,356 [s1@group-410B3BB8FAF4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-410B3BB8FAF4-FollowerState was interrupted
2022-08-26 17:03:22,363 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-410B3BB8FAF4: receive requestVote(ELECTION, s0, group-410B3BB8FAF4, 1, (t:0, i:0))
2022-08-26 17:03:22,363 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-410B3BB8FAF4 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-410B3BB8FAF4:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,364 [s1@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,364 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-410B3BB8FAF4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:22,365 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-410B3BB8FAF4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:22,365 [Thread-22] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,365 [Thread-22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,365 [s2@group-410B3BB8FAF4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-410B3BB8FAF4-FollowerState was interrupted
2022-08-26 17:03:22,365 [s1@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,369 [s2@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,371 [s2@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,372 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-410B3BB8FAF4 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-410B3BB8FAF4:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,378 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-410B3BB8FAF4-LeaderElection1: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:22,379 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-26 17:03:22,379 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-410B3BB8FAF4-LeaderElection1 ELECTION round 0: result PASSED
2022-08-26 17:03:22,379 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-410B3BB8FAF4-LeaderElection1
2022-08-26 17:03:22,379 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-410B3BB8FAF4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:22,380 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-410B3BB8FAF4: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 640ms
2022-08-26 17:03:22,386 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:22,391 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:22,392 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:22,398 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:22,398 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:22,399 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:22,410 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:22,427 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:22,454 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:22,454 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,455 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:22,457 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:22,458 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,458 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:22,459 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:22,459 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,460 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:22,460 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-410B3BB8FAF4-LeaderStateImpl
2022-08-26 17:03:22,473 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-410B3BB8FAF4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:22,537 [s0@group-410B3BB8FAF4-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-410B3BB8FAF4: set configuration 0: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,546 [Thread-16] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-410B3BB8FAF4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 806ms
2022-08-26 17:03:22,549 [s3@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,550 [s3@group-410B3BB8FAF4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,550 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-410B3BB8FAF4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 796ms
2022-08-26 17:03:22,558 [Thread-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-410B3BB8FAF4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 819ms
2022-08-26 17:03:22,577 [s0@group-410B3BB8FAF4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-410B3BB8FAF4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s0/e6c80d55-1760-451f-8207-410b3bb8faf4/current/log_inprogress_0
2022-08-26 17:03:22,597 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-410B3BB8FAF4:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-410B3BB8FAF4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-410B3BB8FAF4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-410B3BB8FAF4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null RUNNING
2022-08-26 17:03:22,600 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:22,629 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s0@group-410B3BB8FAF4: receive client request(RaftClientRequest:client-EF3CAEB1D33E->s0@group-410B3BB8FAF4, cid=9, seq=0, RW, message)
2022-08-26 17:03:22,641 [Thread-14] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1], cId:6, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:22,643 [Thread-14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-410B3BB8FAF4: set configuration 0: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,643 [Thread-14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-410B3BB8FAF4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:22,643 [Thread-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-410B3BB8FAF4: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1], cId:8, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:22,644 [Thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s3@group-410B3BB8FAF4: set configuration 0: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,644 [Thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s3@group-410B3BB8FAF4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:22,650 [Thread-21] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1], cId:7, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:22,651 [Thread-21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-410B3BB8FAF4: set configuration 0: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:22,651 [Thread-21] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-410B3BB8FAF4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:22,655 [s3@group-410B3BB8FAF4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s3@group-410B3BB8FAF4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s3/e6c80d55-1760-451f-8207-410b3bb8faf4/current/log_inprogress_0
2022-08-26 17:03:22,660 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s3#8:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:22,672 [s2@group-410B3BB8FAF4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-410B3BB8FAF4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s2/e6c80d55-1760-451f-8207-410b3bb8faf4/current/log_inprogress_0
2022-08-26 17:03:22,672 [s1@group-410B3BB8FAF4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-410B3BB8FAF4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4821d95b/s1/e6c80d55-1760-451f-8207-410b3bb8faf4/current/log_inprogress_0
2022-08-26 17:03:22,674 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s1#6:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:22,674 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s2#7:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:22,678 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-410B3BB8FAF4-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-EF3CAEB1D33E->s0@group-410B3BB8FAF4, cid=9, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 9@client-EF3CAEB1D33E
2022-08-26 17:03:22,680 [Thread-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c-1, s2:c-1, s3:c-1], cId:10, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 9@client-EF3CAEB1D33E]
2022-08-26 17:03:22,681 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s3#10:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:22,690 [Thread-15] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c-1, s2:c-1, s3:c-1], cId:11, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 9@client-EF3CAEB1D33E]
2022-08-26 17:03:22,691 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s1#11:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:22,693 [Thread-22] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c-1, s2:c-1, s3:c0], cId:12, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 9@client-EF3CAEB1D33E]
2022-08-26 17:03:22,693 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s2#12:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:22,712 [Thread-16] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0, s3:c0], cId:13, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:22,713 [Thread-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0], cId:15, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:22,715 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s1#13:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:22,716 [Thread-23] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0, s3:c0], cId:14, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:22,717 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s3#15:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:22,717 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s2#14:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:22,735 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1106)) - s0@group-410B3BB8FAF4: receive setConfiguration SetConfigurationRequest:client-EF3CAEB1D33E->s0@group-410B3BB8FAF4, cid=16, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER], listeners:[]
2022-08-26 17:03:22,735 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s0@group-410B3BB8FAF4-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-EF3CAEB1D33E->s0@group-410B3BB8FAF4, cid=16, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER], listeners:[]
2022-08-26 17:03:22,739 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-410B3BB8FAF4: set configuration 3: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER]
2022-08-26 17:03:22,741 [Thread-14] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1, s3:c1], cId:17, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
)]
2022-08-26 17:03:22,741 [Thread-14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-410B3BB8FAF4: set configuration 3: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER]
2022-08-26 17:03:22,742 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s1#17:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:22,745 [Thread-21] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1, s3:c1], cId:18, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
)]
2022-08-26 17:03:22,746 [Thread-21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-410B3BB8FAF4: set configuration 3: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER]
2022-08-26 17:03:22,747 [Thread-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c1], cId:19, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
)]
2022-08-26 17:03:22,748 [Thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s3@group-410B3BB8FAF4: set configuration 3: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER]
2022-08-26 17:03:22,749 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s2#18:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:22,750 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s3#19:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:22,761 [s0@group-410B3BB8FAF4->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-410B3BB8FAF4->s3-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:22,762 [Thread-15] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2, s3:c1], cId:20, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-08-26 17:03:22,762 [s0@group-410B3BB8FAF4-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-410B3BB8FAF4: set configuration 5: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:22,763 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s1#20:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-08-26 17:03:22,763 [Thread-22] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:21, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:22,764 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-410B3BB8FAF4: set configuration 5: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:22,765 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s2#21:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:22,780 [Thread-16] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:4), 3, true, commits:[s0:c3, s1:c3, s2:c2], cId:22, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44547"
dataStreamAddress: "localhost:45185"
clientAddress: "localhost:45511"
adminAddress: "localhost:43853"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43719"
dataStreamAddress: "localhost:46851"
clientAddress: "localhost:35851"
adminAddress: "localhost:38119"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42633"
dataStreamAddress: "localhost:45157"
clientAddress: "localhost:34979"
adminAddress: "localhost:36495"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:22,781 [Thread-16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-410B3BB8FAF4: set configuration 5: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:22,782 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s1#22:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:22,785 [Thread-23] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3], cId:23, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:22,789 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s2#23:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:22,793 [Thread-14] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3], cId:24, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:22,794 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-410B3BB8FAF4: succeeded to handle AppendEntries. Reply: s0<-s1#24:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:22,808 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:22,809 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:22,809 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:22,809 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:22,809 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:22,809 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-410B3BB8FAF4:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER] RUNNING
  s0:  RUNNING    LEADER s0@group-410B3BB8FAF4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-410B3BB8FAF4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-410B3BB8FAF4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-410B3BB8FAF4-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:22,811 [java.util.concurrent.ThreadPoolExecutor$Worker@22a95b9[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s3: close
2022-08-26 17:03:22,811 [java.util.concurrent.ThreadPoolExecutor$Worker@760c3863[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:03:22,816 [Thread-3] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,816 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s3@group-410B3BB8FAF4: shutdown
2022-08-26 17:03:22,817 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-410B3BB8FAF4,id=s3
2022-08-26 17:03:22,812 [java.util.concurrent.ThreadPoolExecutor$Worker@193f901c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:03:22,816 [Thread-5] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,818 [Thread-12] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,818 [Thread-11] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,817 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-410B3BB8FAF4: shutdown
2022-08-26 17:03:22,818 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-410B3BB8FAF4,id=s0
2022-08-26 17:03:22,818 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-410B3BB8FAF4-LeaderStateImpl
2022-08-26 17:03:22,819 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-410B3BB8FAF4-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:22,817 [Thread-10] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,816 [Thread-4] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,817 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,819 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-410B3BB8FAF4-StateMachineUpdater: set stopIndex = 2
2022-08-26 17:03:22,819 [s3@group-410B3BB8FAF4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-410B3BB8FAF4-FollowerState was interrupted
2022-08-26 17:03:22,819 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-410B3BB8FAF4: shutdown
2022-08-26 17:03:22,820 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-410B3BB8FAF4,id=s1
2022-08-26 17:03:22,820 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,820 [s1@group-410B3BB8FAF4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-410B3BB8FAF4-FollowerState was interrupted
2022-08-26 17:03:22,817 [java.util.concurrent.ThreadPoolExecutor$Worker@286d62cd[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:03:22,821 [Thread-17] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,821 [Thread-18] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,821 [Thread-19] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,819 [s0@group-410B3BB8FAF4->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-410B3BB8FAF4->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:22,819 [s0@group-410B3BB8FAF4->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-410B3BB8FAF4->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:22,820 [Thread-1] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,820 [Thread-0] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,820 [Thread-2] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,822 [Thread-9] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,822 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s3@group-410B3BB8FAF4: applyIndex: 2
2022-08-26 17:03:22,820 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-410B3BB8FAF4-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:22,823 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-410B3BB8FAF4: applyIndex: 5
2022-08-26 17:03:22,822 [Thread-8] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,823 [Thread-7] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,825 [s3@group-410B3BB8FAF4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s3@group-410B3BB8FAF4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:22,825 [s1@group-410B3BB8FAF4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-410B3BB8FAF4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:22,826 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@1c6858e5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:03:22,827 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@38a423ea] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-08-26 17:03:22,827 [Thread-14] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,827 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-410B3BB8FAF4: shutdown
2022-08-26 17:03:22,827 [Thread-25] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,827 [Thread-24] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,827 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-410B3BB8FAF4,id=s2
2022-08-26 17:03:22,828 [Thread-26] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,828 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-410B3BB8FAF4-FollowerState
2022-08-26 17:03:22,828 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-410B3BB8FAF4-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:22,828 [s2@group-410B3BB8FAF4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-410B3BB8FAF4-FollowerState was interrupted
2022-08-26 17:03:22,830 [Thread-15] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,830 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-410B3BB8FAF4-StateMachineUpdater: set stopIndex = 6
2022-08-26 17:03:22,831 [Thread-16] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,831 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-410B3BB8FAF4: applyIndex: 5
2022-08-26 17:03:22,832 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@5ca83f1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:03:22,833 [s2@group-410B3BB8FAF4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-410B3BB8FAF4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:22,833 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-410B3BB8FAF4: applyIndex: 6
2022-08-26 17:03:22,835 [Thread-23] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,834 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-410B3BB8FAF4-SegmentedRaftLogWorker close()
2022-08-26 17:03:22,835 [s0@group-410B3BB8FAF4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-410B3BB8FAF4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:22,834 [Thread-22] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,834 [Thread-21] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:22,834 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-410B3BB8FAF4-SegmentedRaftLogWorker close()
2022-08-26 17:03:22,834 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s3@group-410B3BB8FAF4-SegmentedRaftLogWorker close()
2022-08-26 17:03:22,835 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@578e02d3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:03:22,837 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-410B3BB8FAF4-SegmentedRaftLogWorker close()
2022-08-26 17:03:22,840 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:22,840 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:22,840 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:22,840 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:22,840 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:22,840 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:22,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-410B3BB8FAF4:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-410B3BB8FAF4-SegmentedRaftLog:CLOSED:c2, conf=3: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:44555|admin:localhost:34899|client:localhost:39821|dataStream:localhost:33887|priority:0|startupRole:LISTENER] CLOSED
  s0:   CLOSED    LEADER s0@group-410B3BB8FAF4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-410B3BB8FAF4-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-410B3BB8FAF4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-410B3BB8FAF4-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-410B3BB8FAF4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-410B3BB8FAF4-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:44547|admin:localhost:43853|client:localhost:45511|dataStream:localhost:45185|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43719|admin:localhost:38119|client:localhost:35851|dataStream:localhost:46851|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42633|admin:localhost:36495|client:localhost:34979|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-08-26 17:03:22,848 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:22,850 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:22,851 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:22,851 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:22,851 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:22,852 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(228)) - Running testEnforceLeader
2022-08-26 17:03:22,852 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2022-08-26 17:03:22,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:22,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:22,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:22,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:22,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:22,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:22,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:22,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s3, group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:22,853 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3
2022-08-26 17:03:22,853 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3 does not exist.
2022-08-26 17:03:22,853 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3
2022-08-26 17:03:22,854 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:22,854 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:22,854 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:22,854 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:22,854 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:22,854 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:22,854 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3] (custom)
2022-08-26 17:03:22,855 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s3: addNew group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER] returns group-6458135C7B8A:java.util.concurrent.CompletableFuture@2be4d1d[Not completed]
2022-08-26 17:03:22,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s4, group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:22,855 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4
2022-08-26 17:03:22,855 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4 does not exist.
2022-08-26 17:03:22,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4
2022-08-26 17:03:22,855 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:22,856 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:22,856 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:22,856 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:22,856 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:22,856 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:22,856 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4] (custom)
2022-08-26 17:03:22,856 [pool-5-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s3: new RaftServerImpl for group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:22,857 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:22,857 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:22,857 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:22,857 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:22,857 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:22,857 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:22,857 [pool-5-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s3@group-6458135C7B8A: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:22,857 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:22,857 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:22,857 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:22,858 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:22,858 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:22,858 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:22,858 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:22,858 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:22,862 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s4: addNew group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER] returns group-6458135C7B8A:java.util.concurrent.CompletableFuture@76b14740[Not completed]
2022-08-26 17:03:22,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:22,863 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0
2022-08-26 17:03:22,863 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0 does not exist.
2022-08-26 17:03:22,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0
2022-08-26 17:03:22,863 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:22,863 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:22,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:22,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:22,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:22,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:22,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0] (custom)
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s4: new RaftServerImpl for group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s4@group-6458135C7B8A: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:22,866 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:22,867 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:22,867 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:22,867 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:22,867 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:22,867 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:22,871 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER] returns group-6458135C7B8A:java.util.concurrent.CompletableFuture@5e1dff49[Not completed]
2022-08-26 17:03:22,871 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:22,871 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1
2022-08-26 17:03:22,871 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1 does not exist.
2022-08-26 17:03:22,871 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1
2022-08-26 17:03:22,871 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:22,871 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:22,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:22,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:22,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:22,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:22,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1] (custom)
2022-08-26 17:03:22,872 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:22,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:22,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:22,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:22,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:22,873 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:22,873 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:22,873 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-6458135C7B8A: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:22,873 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:22,873 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:22,873 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:22,874 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:22,874 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:22,874 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:22,874 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:22,874 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:22,876 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER] returns group-6458135C7B8A:java.util.concurrent.CompletableFuture@23dde743[Not completed]
2022-08-26 17:03:22,876 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:22,876 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2
2022-08-26 17:03:22,876 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2 does not exist.
2022-08-26 17:03:22,876 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2
2022-08-26 17:03:22,876 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:22,877 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:22,877 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:22,877 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:22,877 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:22,877 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:22,877 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2] (custom)
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-6458135C7B8A: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:22,878 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:22,879 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:22,880 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:22,880 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:22,880 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:22,880 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:22,880 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER] returns group-6458135C7B8A:java.util.concurrent.CompletableFuture@61405544[Not completed]
2022-08-26 17:03:22,881 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:22,881 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:22,881 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3] (custom)
2022-08-26 17:03:22,881 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3/7207ec40-1066-49fd-af1e-6458135c7b8a does not exist. Creating ...
2022-08-26 17:03:22,881 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3/7207ec40-1066-49fd-af1e-6458135c7b8a
2022-08-26 17:03:22,882 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-6458135C7B8A:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:22,883 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:22,883 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:22,883 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:22,883 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:22,883 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:22,883 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:22,883 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3/7207ec40-1066-49fd-af1e-6458135c7b8a/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:22,883 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3/7207ec40-1066-49fd-af1e-6458135c7b8a/current
2022-08-26 17:03:22,883 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3/7207ec40-1066-49fd-af1e-6458135c7b8a/sm
2022-08-26 17:03:22,885 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3/7207ec40-1066-49fd-af1e-6458135c7b8a has been successfully formatted.
2022-08-26 17:03:22,885 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:22,885 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:22,885 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,885 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:22,885 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:22,885 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s3@group-6458135C7B8A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3/7207ec40-1066-49fd-af1e-6458135c7b8a
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:22,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:22,887 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:22,887 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:22,887 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:22,887 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:22,887 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s3@group-6458135C7B8A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,887 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s3@group-6458135C7B8A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,887 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-6458135C7B8A: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:22,888 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:22,888 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s3@group-6458135C7B8A: start as a follower, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:22,888 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6458135C7B8A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:22,888 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:22,889 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,889 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,889 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6458135C7B8A,id=s3
2022-08-26 17:03:22,889 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:22,889 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:22,889 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:22,889 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s3: start RPC server
2022-08-26 17:03:22,890 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:22,890 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:22,890 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@2d6b41d0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-08-26 17:03:22,890 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:22,894 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:22,895 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4] (custom)
2022-08-26 17:03:22,895 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4/7207ec40-1066-49fd-af1e-6458135c7b8a does not exist. Creating ...
2022-08-26 17:03:22,895 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4/7207ec40-1066-49fd-af1e-6458135c7b8a
2022-08-26 17:03:22,896 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:22,896 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:22,896 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4/7207ec40-1066-49fd-af1e-6458135c7b8a/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:22,896 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4/7207ec40-1066-49fd-af1e-6458135c7b8a/current
2022-08-26 17:03:22,896 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4/7207ec40-1066-49fd-af1e-6458135c7b8a/sm
2022-08-26 17:03:22,897 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4/7207ec40-1066-49fd-af1e-6458135c7b8a has been successfully formatted.
2022-08-26 17:03:22,897 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:22,897 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:22,897 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,897 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s4@group-6458135C7B8A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4/7207ec40-1066-49fd-af1e-6458135c7b8a
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:22,898 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:22,899 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:22,899 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:22,899 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:22,899 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:22,899 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s4@group-6458135C7B8A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,900 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s4@group-6458135C7B8A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,902 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s4@group-6458135C7B8A: start as a follower, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:22,902 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6458135C7B8A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:22,902 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:22,896 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:22,906 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:22,907 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6458135C7B8A,id=s4
2022-08-26 17:03:22,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:22,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:22,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:22,907 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:22,907 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,907 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,910 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s4: start RPC server
2022-08-26 17:03:22,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:22,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:22,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0] (custom)
2022-08-26 17:03:22,916 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0/7207ec40-1066-49fd-af1e-6458135c7b8a does not exist. Creating ...
2022-08-26 17:03:22,916 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0/7207ec40-1066-49fd-af1e-6458135c7b8a
2022-08-26 17:03:22,917 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@62b14238] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2022-08-26 17:03:22,917 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0/7207ec40-1066-49fd-af1e-6458135c7b8a/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:22,917 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0/7207ec40-1066-49fd-af1e-6458135c7b8a/current
2022-08-26 17:03:22,917 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0/7207ec40-1066-49fd-af1e-6458135c7b8a/sm
2022-08-26 17:03:22,918 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0/7207ec40-1066-49fd-af1e-6458135c7b8a has been successfully formatted.
2022-08-26 17:03:22,918 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-6458135C7B8A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0/7207ec40-1066-49fd-af1e-6458135c7b8a
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:22,919 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,920 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:22,920 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:22,920 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:22,920 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:22,920 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:22,920 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:22,920 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:22,920 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:22,921 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:22,921 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-6458135C7B8A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,921 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-6458135C7B8A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,930 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-6458135C7B8A: start as a follower, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:22,931 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:22,931 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:22,935 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6458135C7B8A,id=s0
2022-08-26 17:03:22,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:22,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:22,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:22,935 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,936 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,936 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:22,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:22,937 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@314efd2b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:22,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:22,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1] (custom)
2022-08-26 17:03:22,937 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1/7207ec40-1066-49fd-af1e-6458135c7b8a does not exist. Creating ...
2022-08-26 17:03:22,937 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1/7207ec40-1066-49fd-af1e-6458135c7b8a
2022-08-26 17:03:22,938 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1/7207ec40-1066-49fd-af1e-6458135c7b8a/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:22,938 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1/7207ec40-1066-49fd-af1e-6458135c7b8a/current
2022-08-26 17:03:22,939 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1/7207ec40-1066-49fd-af1e-6458135c7b8a/sm
2022-08-26 17:03:22,939 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1/7207ec40-1066-49fd-af1e-6458135c7b8a has been successfully formatted.
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-6458135C7B8A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1/7207ec40-1066-49fd-af1e-6458135c7b8a
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:22,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:22,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:22,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:22,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:22,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:22,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:22,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:22,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:22,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:22,942 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-6458135C7B8A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,942 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-6458135C7B8A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,942 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-6458135C7B8A: start as a follower, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:22,942 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6458135C7B8A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:22,942 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6458135C7B8A-FollowerState
2022-08-26 17:03:22,942 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6458135C7B8A,id=s1
2022-08-26 17:03:22,943 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:22,943 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:22,943 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:22,943 [s1@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,943 [s1@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,943 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:22,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:22,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:22,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2] (custom)
2022-08-26 17:03:22,945 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2/7207ec40-1066-49fd-af1e-6458135c7b8a does not exist. Creating ...
2022-08-26 17:03:22,945 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2/7207ec40-1066-49fd-af1e-6458135c7b8a
2022-08-26 17:03:22,945 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@52c77433] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:22,946 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2/7207ec40-1066-49fd-af1e-6458135c7b8a/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:22,946 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2/7207ec40-1066-49fd-af1e-6458135c7b8a/current
2022-08-26 17:03:22,946 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2/7207ec40-1066-49fd-af1e-6458135c7b8a/sm
2022-08-26 17:03:22,947 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2/7207ec40-1066-49fd-af1e-6458135c7b8a has been successfully formatted.
2022-08-26 17:03:22,947 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:22,947 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:22,947 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:22,947 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:22,947 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-6458135C7B8A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2/7207ec40-1066-49fd-af1e-6458135c7b8a
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:22,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:22,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:22,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:22,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:22,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:22,949 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-6458135C7B8A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,949 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-6458135C7B8A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:22,954 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-6458135C7B8A: start as a follower, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:22,955 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6458135C7B8A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:22,955 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6458135C7B8A-FollowerState
2022-08-26 17:03:22,959 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6458135C7B8A,id=s2
2022-08-26 17:03:22,959 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:22,959 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:22,959 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:22,959 [s2@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:22,959 [s2@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:22,960 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:22,961 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@2555ca7a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:22,961 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:22,962 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:22,962 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:233)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:23,110 [s2@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155110839ns, electionTimeout:150ms
2022-08-26 17:03:23,110 [s2@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,111 [s2@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:23,111 [s2@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:23,111 [s2@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6458135C7B8A-LeaderElection2
2022-08-26 17:03:23,112 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-6458135C7B8A-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,113 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s2, group-6458135C7B8A, 0, (t:0, i:0))
2022-08-26 17:03:23,113 [Thread-67] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:23,113 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s2<-s3#0:OK-t0. Peer's state: s3@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,113 [Thread-74] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s2, group-6458135C7B8A, 0, (t:0, i:0))
2022-08-26 17:03:23,114 [Thread-74] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:23,114 [Thread-74] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s2<-s4#0:OK-t0. Peer's state: s4@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,114 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:23,114 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:23,114 [Thread-81] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s2, group-6458135C7B8A, 0, (t:0, i:0))
2022-08-26 17:03:23,114 [Thread-81] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:23,114 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s2, group-6458135C7B8A, 0, (t:0, i:0))
2022-08-26 17:03:23,114 [Thread-81] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,114 [Thread-88] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:23,115 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-6458135C7B8A:t0, leader=null, voted=, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,127 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-6458135C7B8A-LeaderElection2: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:23,127 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s4#0:OK-t0
2022-08-26 17:03:23,127 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s0#0:OK-t0
2022-08-26 17:03:23,127 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-6458135C7B8A-LeaderElection2 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:23,129 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-6458135C7B8A-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,130 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(ELECTION, s2, group-6458135C7B8A, 1, (t:0, i:0))
2022-08-26 17:03:23,130 [Thread-67] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:23,130 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(ELECTION, s2, group-6458135C7B8A, 1, (t:0, i:0))
2022-08-26 17:03:23,130 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6458135C7B8A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-08-26 17:03:23,130 [Thread-67] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,130 [Thread-67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,130 [s3@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-6458135C7B8A-FollowerState was interrupted
2022-08-26 17:03:23,130 [Thread-82] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(ELECTION, s2, group-6458135C7B8A, 1, (t:0, i:0))
2022-08-26 17:03:23,130 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:23,131 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:23,134 [Thread-75] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:23,134 [Thread-82] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:23,134 [Thread-82] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-08-26 17:03:23,134 [Thread-82] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,134 [Thread-82] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,134 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6458135C7B8A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-08-26 17:03:23,135 [Thread-75] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,135 [Thread-75] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,134 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-6458135C7B8A-FollowerState was interrupted
2022-08-26 17:03:23,135 [s4@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-6458135C7B8A-FollowerState was interrupted
2022-08-26 17:03:23,135 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:23,135 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:23,136 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(ELECTION, s2, group-6458135C7B8A, 1, (t:0, i:0))
2022-08-26 17:03:23,136 [Thread-82] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,137 [Thread-89] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:23,137 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6458135C7B8A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-08-26 17:03:23,137 [Thread-89] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,138 [Thread-89] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,138 [s1@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-6458135C7B8A-FollowerState was interrupted
2022-08-26 17:03:23,141 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:23,142 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:23,142 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:23,142 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:23,142 [s1@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:23,143 [s1@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:23,142 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,142 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to ELECTION vote request: s2<-s3#0:OK-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=null, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,143 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to ELECTION vote request: s2<-s4#0:OK-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=null, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,153 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-6458135C7B8A-LeaderElection2: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:23,153 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s4#0:OK-t1
2022-08-26 17:03:23,153 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s0#0:OK-t1
2022-08-26 17:03:23,154 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-6458135C7B8A-LeaderElection2 ELECTION round 0: result PASSED
2022-08-26 17:03:23,154 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-6458135C7B8A-LeaderElection2
2022-08-26 17:03:23,154 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6458135C7B8A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:23,154 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-6458135C7B8A: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 266ms
2022-08-26 17:03:23,154 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:23,154 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:23,154 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:23,154 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:23,155 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:23,155 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:23,155 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:23,155 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:23,155 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:23,155 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:23,156 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:23,156 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:23,156 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:23,156 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:23,157 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:23,157 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:23,157 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:23,157 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:23,157 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:23,158 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:23,158 [s2@group-6458135C7B8A-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6458135C7B8A-LeaderStateImpl
2022-08-26 17:03:23,158 [s2@group-6458135C7B8A-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-6458135C7B8A-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:23,169 [s2@group-6458135C7B8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-6458135C7B8A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s2/7207ec40-1066-49fd-af1e-6458135c7b8a/current/log_inprogress_0
2022-08-26 17:03:23,172 [Thread-76] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 305ms
2022-08-26 17:03:23,177 [Thread-83] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 304ms
2022-08-26 17:03:23,178 [Thread-90] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 299ms
2022-08-26 17:03:23,187 [Thread-69] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 329ms
2022-08-26 17:03:23,187 [s2@group-6458135C7B8A-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-6458135C7B8A: set configuration 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,200 [Thread-81] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6458135C7B8A: receive appendEntries(s2, 1, null, 0, true, commits:[s2:c0, s3:c-1, s4:c-1, s0:c-1, s1:c-1], cId:33, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:34629"
dataStreamAddress: "localhost:36131"
clientAddress: "localhost:34343"
adminAddress: "localhost:38947"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:41115"
dataStreamAddress: "localhost:43601"
clientAddress: "localhost:37581"
adminAddress: "localhost:34281"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41743"
dataStreamAddress: "localhost:33005"
clientAddress: "localhost:43463"
adminAddress: "localhost:42389"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43623"
dataStreamAddress: "localhost:33813"
clientAddress: "localhost:33463"
adminAddress: "localhost:45655"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37993"
dataStreamAddress: "localhost:43663"
clientAddress: "localhost:35825"
adminAddress: "localhost:44397"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:23,200 [Thread-81] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-6458135C7B8A: set configuration 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,201 [Thread-81] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-6458135C7B8A-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:23,203 [Thread-74] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6458135C7B8A: receive appendEntries(s2, 1, null, 0, true, commits:[s2:c0, s3:c-1, s4:c-1, s0:c-1, s1:c-1], cId:34, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:34629"
dataStreamAddress: "localhost:36131"
clientAddress: "localhost:34343"
adminAddress: "localhost:38947"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:41115"
dataStreamAddress: "localhost:43601"
clientAddress: "localhost:37581"
adminAddress: "localhost:34281"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41743"
dataStreamAddress: "localhost:33005"
clientAddress: "localhost:43463"
adminAddress: "localhost:42389"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43623"
dataStreamAddress: "localhost:33813"
clientAddress: "localhost:33463"
adminAddress: "localhost:45655"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37993"
dataStreamAddress: "localhost:43663"
clientAddress: "localhost:35825"
adminAddress: "localhost:44397"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:23,205 [Thread-74] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s4@group-6458135C7B8A: set configuration 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,206 [Thread-74] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s4@group-6458135C7B8A-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:23,210 [Thread-88] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-6458135C7B8A: receive appendEntries(s2, 1, null, 0, true, commits:[s2:c0, s3:c-1, s4:c-1, s0:c-1, s1:c-1], cId:35, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:34629"
dataStreamAddress: "localhost:36131"
clientAddress: "localhost:34343"
adminAddress: "localhost:38947"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:41115"
dataStreamAddress: "localhost:43601"
clientAddress: "localhost:37581"
adminAddress: "localhost:34281"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41743"
dataStreamAddress: "localhost:33005"
clientAddress: "localhost:43463"
adminAddress: "localhost:42389"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43623"
dataStreamAddress: "localhost:33813"
clientAddress: "localhost:33463"
adminAddress: "localhost:45655"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37993"
dataStreamAddress: "localhost:43663"
clientAddress: "localhost:35825"
adminAddress: "localhost:44397"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:23,211 [Thread-88] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-6458135C7B8A: set configuration 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,211 [Thread-88] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-6458135C7B8A-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:23,212 [s0@group-6458135C7B8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-6458135C7B8A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s0/7207ec40-1066-49fd-af1e-6458135c7b8a/current/log_inprogress_0
2022-08-26 17:03:23,212 [Thread-68] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6458135C7B8A: receive appendEntries(s2, 1, null, 0, true, commits:[s2:c0, s3:c-1, s4:c-1, s0:c-1, s1:c-1], cId:36, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:34629"
dataStreamAddress: "localhost:36131"
clientAddress: "localhost:34343"
adminAddress: "localhost:38947"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:41115"
dataStreamAddress: "localhost:43601"
clientAddress: "localhost:37581"
adminAddress: "localhost:34281"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41743"
dataStreamAddress: "localhost:33005"
clientAddress: "localhost:43463"
adminAddress: "localhost:42389"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43623"
dataStreamAddress: "localhost:33813"
clientAddress: "localhost:33463"
adminAddress: "localhost:45655"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37993"
dataStreamAddress: "localhost:43663"
clientAddress: "localhost:35825"
adminAddress: "localhost:44397"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:23,214 [Thread-68] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s3@group-6458135C7B8A: set configuration 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,214 [Thread-68] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s3@group-6458135C7B8A-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:23,230 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6458135C7B8A: succeeded to handle AppendEntries. Reply: s2<-s0#33:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-08-26 17:03:23,235 [s3@group-6458135C7B8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s3@group-6458135C7B8A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s3/7207ec40-1066-49fd-af1e-6458135c7b8a/current/log_inprogress_0
2022-08-26 17:03:23,236 [s1@group-6458135C7B8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-6458135C7B8A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s1/7207ec40-1066-49fd-af1e-6458135c7b8a/current/log_inprogress_0
2022-08-26 17:03:23,236 [s4@group-6458135C7B8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s4@group-6458135C7B8A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc6556e5ab/s4/7207ec40-1066-49fd-af1e-6458135c7b8a/current/log_inprogress_0
2022-08-26 17:03:23,237 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-6458135C7B8A: succeeded to handle AppendEntries. Reply: s2<-s1#35:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-08-26 17:03:23,237 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6458135C7B8A: succeeded to handle AppendEntries. Reply: s2<-s3#36:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-08-26 17:03:23,238 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6458135C7B8A: succeeded to handle AppendEntries. Reply: s2<-s4#34:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-08-26 17:03:23,414 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:23,414 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(234)) - firstLeader = s2
2022-08-26 17:03:23,414 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(239)) - enforce leader to s0
2022-08-26 17:03:23,414 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(245)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:23,416 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:23,684 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:357503847ns, electionTimeout:259ms
2022-08-26 17:03:23,684 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,684 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:23,684 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:23,684 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-LeaderElection3
2022-08-26 17:03:23,687 [s0@group-6458135C7B8A-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:23,687 [s0@group-6458135C7B8A-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,838 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:23,839 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:23,839 [Thread-89] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:23,840 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,840 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:23,840 [Thread-95] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:23,840 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,838 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:23,840 [Thread-75] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:23,840 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,839 [Thread-67] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:23,841 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:23,855 [s0@group-6458135C7B8A-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection3: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-08-26 17:03:23,855 [s0@group-6458135C7B8A-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:FAIL-t1
2022-08-26 17:03:23,855 [s0@group-6458135C7B8A-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:FAIL-t1
2022-08-26 17:03:23,855 [s0@group-6458135C7B8A-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2022-08-26 17:03:23,855 [s0@group-6458135C7B8A-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection3 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:23,857 [s0@group-6458135C7B8A-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:23,858 [s0@group-6458135C7B8A-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6458135C7B8A-LeaderElection3
2022-08-26 17:03:23,858 [s0@group-6458135C7B8A-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:23,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:24,020 [Thread-83] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 333ms
2022-08-26 17:03:24,317 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(248)) - try enforcing leader to s0 but new leader is s2
2022-08-26 17:03:24,317 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:24,441 [s3@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:184267260ns, electionTimeout:179ms
2022-08-26 17:03:24,441 [s3@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:24,441 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:24,441 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:24,441 [s3@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6458135C7B8A-LeaderElection4
2022-08-26 17:03:24,442 [s3@group-6458135C7B8A-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:24,442 [s3@group-6458135C7B8A-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-6458135C7B8A-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:24,494 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:24,494 [Thread-67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-6458135C7B8A-LeaderElection4
2022-08-26 17:03:24,494 [Thread-67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:24,494 [Thread-67] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 51ms
2022-08-26 17:03:24,593 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:24,593 [Thread-76] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:24,593 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:24,594 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:24,594 [Thread-90] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:24,594 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:24,594 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:24,594 [Thread-96] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-08-26 17:03:24,594 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:24,608 [s3@group-6458135C7B8A-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-6458135C7B8A-LeaderElection4: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:24,608 [s3@group-6458135C7B8A-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s1#0:FAIL-t1
2022-08-26 17:03:24,608 [s3@group-6458135C7B8A-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-6458135C7B8A-LeaderElection4 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:24,611 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:319705311ns, electionTimeout:213ms
2022-08-26 17:03:24,611 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:24,611 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:24,611 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:24,611 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-LeaderElection5
2022-08-26 17:03:24,611 [s0@group-6458135C7B8A-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:24,611 [s0@group-6458135C7B8A-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:24,762 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:24,763 [Thread-75] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:24,763 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:24,763 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:24,763 [Thread-68] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:24,763 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:24,763 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:24,763 [Thread-89] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:24,763 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:24,767 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:24,767 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:24,767 [Thread-97] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:24,768 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:24,780 [s0@group-6458135C7B8A-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection5: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-08-26 17:03:24,780 [s0@group-6458135C7B8A-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-08-26 17:03:24,780 [s0@group-6458135C7B8A-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:FAIL-t1
2022-08-26 17:03:24,780 [s0@group-6458135C7B8A-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s1#0:FAIL-t1
2022-08-26 17:03:24,780 [s0@group-6458135C7B8A-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection5 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:24,780 [s0@group-6458135C7B8A-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:24,780 [s0@group-6458135C7B8A-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6458135C7B8A-LeaderElection5
2022-08-26 17:03:24,780 [s0@group-6458135C7B8A-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:24,980 [Thread-81] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 369ms
2022-08-26 17:03:25,043 [Thread-82] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:25,044 [Thread-82] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:25,044 [Thread-82] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:25,218 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(248)) - try enforcing leader to s0 but new leader is s2
2022-08-26 17:03:25,218 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:25,634 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:471077157ns, electionTimeout:280ms
2022-08-26 17:03:25,634 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:25,634 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:25,634 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:25,634 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-LeaderElection6
2022-08-26 17:03:25,635 [s0@group-6458135C7B8A-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:25,635 [s0@group-6458135C7B8A-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:25,635 [s1@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:210131800ns, electionTimeout:205ms
2022-08-26 17:03:25,635 [s1@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6458135C7B8A-FollowerState
2022-08-26 17:03:25,635 [s1@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:25,636 [s1@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:25,636 [s1@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6458135C7B8A-LeaderElection7
2022-08-26 17:03:25,640 [s1@group-6458135C7B8A-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:25,640 [s1@group-6458135C7B8A-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-6458135C7B8A-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:25,668 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:25,668 [Thread-90] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-6458135C7B8A-LeaderElection7
2022-08-26 17:03:25,668 [Thread-90] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6458135C7B8A-FollowerState
2022-08-26 17:03:25,669 [Thread-90] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 28ms
2022-08-26 17:03:25,669 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:25,786 [Thread-74] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:25,786 [Thread-74] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:25,786 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:25,787 [Thread-74] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:25,787 [Thread-69] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:25,787 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:25,791 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:25,791 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:25,791 [Thread-88] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:25,791 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s1, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:25,791 [Thread-75] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-08-26 17:03:25,792 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:25,791 [Thread-95] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:25,792 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:25,792 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:25,792 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s1, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:25,792 [Thread-68] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-08-26 17:03:25,792 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s1, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:25,792 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:25,792 [Thread-96] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-08-26 17:03:25,792 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:25,803 [s0@group-6458135C7B8A-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection6: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-08-26 17:03:25,803 [s0@group-6458135C7B8A-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-08-26 17:03:25,803 [s0@group-6458135C7B8A-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:FAIL-t1
2022-08-26 17:03:25,803 [s0@group-6458135C7B8A-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s1#0:FAIL-t1
2022-08-26 17:03:25,803 [s0@group-6458135C7B8A-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection6 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:25,803 [s0@group-6458135C7B8A-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:25,803 [s0@group-6458135C7B8A-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6458135C7B8A-LeaderElection6
2022-08-26 17:03:25,803 [s0@group-6458135C7B8A-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:25,804 [s1@group-6458135C7B8A-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-6458135C7B8A-LeaderElection7: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:25,804 [s1@group-6458135C7B8A-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-08-26 17:03:25,804 [s1@group-6458135C7B8A-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-6458135C7B8A-LeaderElection7 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:25,854 [Thread-82] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 219ms
2022-08-26 17:03:25,941 [Thread-83] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s1, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:25,941 [Thread-83] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-08-26 17:03:25,941 [Thread-83] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:26,119 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(248)) - try enforcing leader to s0 but new leader is s2
2022-08-26 17:03:26,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:26,458 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:422746961ns, electionTimeout:207ms
2022-08-26 17:03:26,458 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:26,459 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:26,459 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:26,459 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-LeaderElection8
2022-08-26 17:03:26,459 [s0@group-6458135C7B8A-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:26,459 [s0@group-6458135C7B8A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:26,570 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:26,610 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:26,610 [Thread-67] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:26,610 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:26,611 [Thread-75] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:26,611 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:26,611 [Thread-88] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:26,611 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:26,610 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:26,611 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:26,611 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:26,611 [Thread-97] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:26,611 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:26,629 [s0@group-6458135C7B8A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection8: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-08-26 17:03:26,629 [s0@group-6458135C7B8A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-08-26 17:03:26,629 [s0@group-6458135C7B8A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:FAIL-t1
2022-08-26 17:03:26,629 [s0@group-6458135C7B8A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2022-08-26 17:03:26,629 [s0@group-6458135C7B8A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection8 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:26,629 [s0@group-6458135C7B8A-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:26,629 [s0@group-6458135C7B8A-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6458135C7B8A-LeaderElection8
2022-08-26 17:03:26,629 [s0@group-6458135C7B8A-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:26,723 [Thread-83] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 263ms
2022-08-26 17:03:27,021 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(248)) - try enforcing leader to s0 but new leader is s2
2022-08-26 17:03:27,021 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:27,174 [s3@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:210470409ns, electionTimeout:160ms
2022-08-26 17:03:27,174 [s3@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:27,174 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:27,175 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:27,175 [s3@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6458135C7B8A-LeaderElection9
2022-08-26 17:03:27,178 [s3@group-6458135C7B8A-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:27,179 [s3@group-6458135C7B8A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-6458135C7B8A-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:27,201 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:27,201 [Thread-68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-6458135C7B8A-LeaderElection9
2022-08-26 17:03:27,201 [Thread-68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:27,201 [Thread-68] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 22ms
2022-08-26 17:03:27,329 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:27,330 [Thread-76] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:27,330 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:27,331 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:27,331 [Thread-88] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:27,331 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:27,331 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:27,331 [Thread-95] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-08-26 17:03:27,332 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:27,344 [s3@group-6458135C7B8A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-6458135C7B8A-LeaderElection9: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:27,344 [s3@group-6458135C7B8A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s1#0:FAIL-t1
2022-08-26 17:03:27,344 [s3@group-6458135C7B8A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-6458135C7B8A-LeaderElection9 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:27,471 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:27,481 [Thread-81] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:27,481 [Thread-81] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-08-26 17:03:27,481 [Thread-81] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:27,922 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(248)) - try enforcing leader to s0 but new leader is s2
2022-08-26 17:03:27,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:28,267 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:408482816ns, electionTimeout:243ms
2022-08-26 17:03:28,267 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:28,267 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:28,267 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:28,267 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-LeaderElection10
2022-08-26 17:03:28,271 [s0@group-6458135C7B8A-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:28,271 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,329 [s3@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:188053046ns, electionTimeout:175ms
2022-08-26 17:03:28,329 [s3@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:28,330 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:28,330 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:28,330 [s3@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6458135C7B8A-LeaderElection11
2022-08-26 17:03:28,331 [s3@group-6458135C7B8A-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:28,331 [s3@group-6458135C7B8A-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-6458135C7B8A-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,353 [s1@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:224239278ns, electionTimeout:190ms
2022-08-26 17:03:28,353 [s1@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6458135C7B8A-FollowerState
2022-08-26 17:03:28,353 [s1@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:28,353 [s1@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:28,353 [s1@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6458135C7B8A-LeaderElection12
2022-08-26 17:03:28,354 [s1@group-6458135C7B8A-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:28,354 [s1@group-6458135C7B8A-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-6458135C7B8A-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,365 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:28,365 [Thread-90] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-6458135C7B8A-LeaderElection12
2022-08-26 17:03:28,365 [Thread-90] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6458135C7B8A-FollowerState
2022-08-26 17:03:28,365 [Thread-90] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 11ms
2022-08-26 17:03:28,372 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:28,382 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:28,382 [Thread-69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-6458135C7B8A-LeaderElection11
2022-08-26 17:03:28,382 [Thread-69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:28,382 [Thread-69] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 51ms
2022-08-26 17:03:28,384 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s1, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,384 [Thread-75] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,384 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,398 [s1@group-6458135C7B8A-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-6458135C7B8A-LeaderElection12: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:28,398 [s1@group-6458135C7B8A-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s4#0:FAIL-t1
2022-08-26 17:03:28,398 [s1@group-6458135C7B8A-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-6458135C7B8A-LeaderElection12 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:28,422 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,422 [Thread-68] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,422 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,422 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,422 [Thread-76] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,423 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,423 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,423 [Thread-88] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,423 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,423 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,423 [Thread-96] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:28,423 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,436 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection10: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:28,436 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection10 PRE_VOTE round 0: result TIMEOUT
2022-08-26 17:03:28,436 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection10 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,437 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,437 [Thread-75] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,437 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,437 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,437 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,437 [Thread-69] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,437 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,437 [Thread-90] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,437 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,438 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,438 [Thread-96] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:28,439 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,451 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection10: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-08-26 17:03:28,451 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:FAIL-t1
2022-08-26 17:03:28,451 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:FAIL-t1
2022-08-26 17:03:28,451 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2022-08-26 17:03:28,451 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection10 PRE_VOTE round 1: result REJECTED
2022-08-26 17:03:28,451 [s0@group-6458135C7B8A-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:28,451 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6458135C7B8A-LeaderElection10
2022-08-26 17:03:28,451 [s0@group-6458135C7B8A-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:28,482 [Thread-74] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,483 [Thread-74] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,483 [Thread-74] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,483 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,483 [Thread-89] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,483 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,483 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,484 [Thread-97] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-08-26 17:03:28,484 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,493 [s3@group-6458135C7B8A-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-6458135C7B8A-LeaderElection11: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:28,493 [s3@group-6458135C7B8A-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-08-26 17:03:28,493 [s3@group-6458135C7B8A-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-6458135C7B8A-LeaderElection11 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:28,505 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s1, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,505 [Thread-67] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,505 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,505 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s1, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,505 [Thread-95] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-08-26 17:03:28,506 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,544 [Thread-82] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 273ms
2022-08-26 17:03:28,633 [Thread-81] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,633 [Thread-81] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,633 [Thread-81] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,655 [Thread-82] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s1, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:28,655 [Thread-82] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-08-26 17:03:28,655 [Thread-82] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:28,825 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(248)) - try enforcing leader to s0 but new leader is s2
2022-08-26 17:03:28,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:29,186 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:372714505ns, electionTimeout:281ms
2022-08-26 17:03:29,186 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:29,187 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:29,187 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:29,187 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-LeaderElection13
2022-08-26 17:03:29,191 [s0@group-6458135C7B8A-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:29,191 [s0@group-6458135C7B8A-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:29,276 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:29,342 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:29,342 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:29,342 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:29,342 [Thread-75] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:29,342 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:29,342 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:29,342 [Thread-67] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:29,343 [Thread-96] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:29,343 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:29,342 [Thread-90] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:29,343 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:29,343 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:29,358 [s0@group-6458135C7B8A-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection13: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-08-26 17:03:29,358 [s0@group-6458135C7B8A-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-08-26 17:03:29,358 [s0@group-6458135C7B8A-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:FAIL-t1
2022-08-26 17:03:29,359 [s0@group-6458135C7B8A-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s1#0:FAIL-t1
2022-08-26 17:03:29,359 [s0@group-6458135C7B8A-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection13 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:29,359 [s0@group-6458135C7B8A-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:29,359 [s0@group-6458135C7B8A-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6458135C7B8A-LeaderElection13
2022-08-26 17:03:29,359 [s0@group-6458135C7B8A-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:29,506 [Thread-82] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 315ms
2022-08-26 17:03:29,726 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(248)) - try enforcing leader to s0 but new leader is s2
2022-08-26 17:03:29,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:30,057 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:368378393ns, electionTimeout:242ms
2022-08-26 17:03:30,057 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:30,057 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:30,057 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:30,057 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-LeaderElection14
2022-08-26 17:03:30,058 [s0@group-6458135C7B8A-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:30,058 [s0@group-6458135C7B8A-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,125 [s4@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:231926377ns, electionTimeout:197ms
2022-08-26 17:03:30,126 [s4@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:30,126 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:30,126 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:30,126 [s4@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6458135C7B8A-LeaderElection15
2022-08-26 17:03:30,127 [s4@group-6458135C7B8A-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:30,127 [s4@group-6458135C7B8A-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6458135C7B8A-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,135 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:30,136 [Thread-75] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6458135C7B8A-LeaderElection15
2022-08-26 17:03:30,136 [Thread-75] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:30,136 [Thread-75] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 9ms
2022-08-26 17:03:30,177 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:30,209 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,209 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,209 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,209 [Thread-68] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:30,209 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,209 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,209 [Thread-97] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:30,209 [Thread-88] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:30,210 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,210 [Thread-76] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:30,210 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,210 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,228 [s0@group-6458135C7B8A-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection14: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-08-26 17:03:30,228 [s0@group-6458135C7B8A-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:FAIL-t1
2022-08-26 17:03:30,228 [s0@group-6458135C7B8A-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:FAIL-t1
2022-08-26 17:03:30,228 [s0@group-6458135C7B8A-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2022-08-26 17:03:30,229 [s0@group-6458135C7B8A-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection14 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:30,229 [s0@group-6458135C7B8A-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:30,229 [s0@group-6458135C7B8A-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6458135C7B8A-LeaderElection14
2022-08-26 17:03:30,229 [s0@group-6458135C7B8A-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:30,277 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,278 [Thread-69] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:30,278 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,278 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,279 [Thread-89] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:30,279 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,279 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,279 [Thread-95] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-08-26 17:03:30,279 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,288 [s4@group-6458135C7B8A-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6458135C7B8A-LeaderElection15: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:30,288 [s4@group-6458135C7B8A-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-08-26 17:03:30,288 [s4@group-6458135C7B8A-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6458135C7B8A-LeaderElection15 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:30,379 [Thread-82] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 320ms
2022-08-26 17:03:30,428 [Thread-83] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,428 [Thread-83] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:30,428 [Thread-83] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,627 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(248)) - try enforcing leader to s0 but new leader is s2
2022-08-26 17:03:30,628 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:30,804 [s4@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:204839079ns, electionTimeout:178ms
2022-08-26 17:03:30,804 [s4@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:30,804 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:30,804 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:30,804 [s4@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6458135C7B8A-LeaderElection16
2022-08-26 17:03:30,807 [s4@group-6458135C7B8A-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:30,807 [s4@group-6458135C7B8A-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6458135C7B8A-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,842 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:30,842 [Thread-76] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6458135C7B8A-LeaderElection16
2022-08-26 17:03:30,842 [Thread-76] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:30,842 [Thread-76] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 35ms
2022-08-26 17:03:30,951 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:388154503ns, electionTimeout:266ms
2022-08-26 17:03:30,951 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:30,951 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:30,951 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:30,952 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-LeaderElection17
2022-08-26 17:03:30,952 [s0@group-6458135C7B8A-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:30,952 [s0@group-6458135C7B8A-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,957 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,958 [Thread-69] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:30,958 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,958 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,958 [Thread-89] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:30,958 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,959 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:30,959 [Thread-96] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-08-26 17:03:30,959 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:30,959 [s4@group-6458135C7B8A-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6458135C7B8A-LeaderElection16: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-08-26 17:03:30,959 [s4@group-6458135C7B8A-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6458135C7B8A-LeaderElection16 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:31,067 [s4@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:225069400ns, electionTimeout:225ms
2022-08-26 17:03:31,067 [s4@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:31,068 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:31,068 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:31,068 [s4@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6458135C7B8A-LeaderElection18
2022-08-26 17:03:31,070 [s4@group-6458135C7B8A-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:31,070 [s4@group-6458135C7B8A-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6458135C7B8A-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,078 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:31,081 [Thread-74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:31,081 [Thread-74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6458135C7B8A-LeaderElection18
2022-08-26 17:03:31,081 [Thread-74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:31,081 [Thread-74] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 11ms
2022-08-26 17:03:31,103 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,103 [Thread-75] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:31,103 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,104 [Thread-97] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:31,104 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,103 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,104 [Thread-67] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:31,103 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,104 [Thread-90] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:31,104 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,104 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,103 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,109 [Thread-83] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,109 [Thread-83] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:31,109 [Thread-83] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,119 [s0@group-6458135C7B8A-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection17: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-08-26 17:03:31,120 [s0@group-6458135C7B8A-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-08-26 17:03:31,120 [s0@group-6458135C7B8A-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:FAIL-t1
2022-08-26 17:03:31,120 [s0@group-6458135C7B8A-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2022-08-26 17:03:31,120 [s0@group-6458135C7B8A-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection17 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:31,120 [s0@group-6458135C7B8A-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:31,120 [s0@group-6458135C7B8A-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6458135C7B8A-LeaderElection17
2022-08-26 17:03:31,120 [s0@group-6458135C7B8A-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:31,221 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,221 [Thread-69] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:31,221 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,221 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,221 [Thread-95] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-08-26 17:03:31,221 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,221 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,221 [Thread-89] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:31,222 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,231 [s4@group-6458135C7B8A-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6458135C7B8A-LeaderElection18: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:31,231 [s4@group-6458135C7B8A-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-08-26 17:03:31,232 [s4@group-6458135C7B8A-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6458135C7B8A-LeaderElection18 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:31,255 [Thread-81] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 302ms
2022-08-26 17:03:31,371 [Thread-83] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,371 [Thread-83] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:31,371 [Thread-83] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,529 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(248)) - try enforcing leader to s0 but new leader is s2
2022-08-26 17:03:31,529 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:31,672 [s4@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:221665212ns, electionTimeout:187ms
2022-08-26 17:03:31,672 [s4@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:31,672 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:31,672 [s4@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:31,672 [s4@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6458135C7B8A-LeaderElection19
2022-08-26 17:03:31,673 [s4@group-6458135C7B8A-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:31,673 [s4@group-6458135C7B8A-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6458135C7B8A-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,687 [Thread-74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:31,687 [Thread-74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6458135C7B8A-LeaderElection19
2022-08-26 17:03:31,687 [Thread-74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:31,687 [Thread-74] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 14ms
2022-08-26 17:03:31,823 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,824 [Thread-68] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:31,824 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,824 [Thread-89] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:31,824 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,824 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,824 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:31,824 [Thread-96] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-08-26 17:03:31,824 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,836 [s4@group-6458135C7B8A-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6458135C7B8A-LeaderElection19: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:31,836 [s4@group-6458135C7B8A-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s2#0:FAIL-t1
2022-08-26 17:03:31,836 [s4@group-6458135C7B8A-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6458135C7B8A-LeaderElection19 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:31,879 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:441988590ns, electionTimeout:280ms
2022-08-26 17:03:31,879 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:31,879 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:31,879 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:31,879 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-LeaderElection20
2022-08-26 17:03:31,880 [s0@group-6458135C7B8A-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:31,880 [s0@group-6458135C7B8A-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,902 [s3@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:221281302ns, electionTimeout:166ms
2022-08-26 17:03:31,902 [s3@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:31,902 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:31,903 [s3@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:31,903 [s3@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6458135C7B8A-LeaderElection21
2022-08-26 17:03:31,903 [s3@group-6458135C7B8A-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:31,903 [s3@group-6458135C7B8A-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-6458135C7B8A-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:31,921 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:31,921 [Thread-69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-6458135C7B8A-LeaderElection21
2022-08-26 17:03:31,921 [Thread-69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:31,921 [Thread-69] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 18ms
2022-08-26 17:03:31,979 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:32,031 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,031 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,031 [Thread-88] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,031 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,031 [Thread-97] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:32,032 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,031 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,032 [Thread-76] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,032 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,031 [Thread-67] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,032 [Thread-67] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,032 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,044 [s0@group-6458135C7B8A-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection20: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-08-26 17:03:32,044 [s0@group-6458135C7B8A-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:FAIL-t1
2022-08-26 17:03:32,044 [s0@group-6458135C7B8A-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:FAIL-t1
2022-08-26 17:03:32,044 [s0@group-6458135C7B8A-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2022-08-26 17:03:32,044 [s0@group-6458135C7B8A-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection20 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:32,044 [s0@group-6458135C7B8A-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:32,044 [s0@group-6458135C7B8A-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6458135C7B8A-LeaderElection20
2022-08-26 17:03:32,044 [s0@group-6458135C7B8A-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:32,054 [Thread-74] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,054 [Thread-74] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,054 [Thread-74] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,055 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,055 [Thread-95] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-08-26 17:03:32,055 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,055 [Thread-95] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,055 [Thread-89] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,055 [Thread-89] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,066 [s3@group-6458135C7B8A-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-6458135C7B8A-LeaderElection21: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-08-26 17:03:32,067 [s3@group-6458135C7B8A-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-6458135C7B8A-LeaderElection21 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:32,130 [Thread-82] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 250ms
2022-08-26 17:03:32,204 [Thread-83] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s3, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,204 [Thread-83] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,205 [Thread-83] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,274 [Thread-82] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6458135C7B8A: receive requestVote(PRE_VOTE, s4, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,274 [Thread-82] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,274 [Thread-82] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6458135C7B8A replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,430 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(248)) - try enforcing leader to s0 but new leader is s2
2022-08-26 17:03:32,430 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:32,743 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6458135C7B8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:338612426ns, electionTimeout:261ms
2022-08-26 17:03:32,743 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:32,743 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:32,744 [s0@group-6458135C7B8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:32,744 [s0@group-6458135C7B8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-LeaderElection22
2022-08-26 17:03:32,744 [s0@group-6458135C7B8A-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-08-26 17:03:32,744 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,880 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:32,895 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,895 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,895 [Thread-90] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,895 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,895 [Thread-90] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,895 [Thread-96] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:32,895 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,896 [Thread-96] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,895 [Thread-69] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,896 [Thread-75] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,896 [Thread-69] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,896 [Thread-75] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,904 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection22: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:32,904 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection22 PRE_VOTE round 0: result TIMEOUT
2022-08-26 17:03:32,904 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6458135C7B8A-LeaderElection22 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,905 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,905 [Thread-68] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,905 [Thread-68] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,905 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,906 [Thread-76] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,906 [Thread-76] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,906 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,906 [Thread-97] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6458135C7B8A-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:32,906 [Thread-97] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,906 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6458135C7B8A: receive requestVote(PRE_VOTE, s0, group-6458135C7B8A, 1, (t:1, i:0))
2022-08-26 17:03:32,906 [Thread-88] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6458135C7B8A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:32,906 [Thread-88] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6458135C7B8A replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:32,922 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6458135C7B8A-LeaderElection22: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-08-26 17:03:32,923 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-08-26 17:03:32,923 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:FAIL-t1
2022-08-26 17:03:32,923 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2022-08-26 17:03:32,923 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6458135C7B8A-LeaderElection22 PRE_VOTE round 1: result REJECTED
2022-08-26 17:03:32,923 [s0@group-6458135C7B8A-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6458135C7B8A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:32,923 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6458135C7B8A-LeaderElection22
2022-08-26 17:03:32,923 [s0@group-6458135C7B8A-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:32,962 [Timer-1] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$start$6(347)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6458135C7B8A:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:33,094 [Thread-82] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6458135C7B8A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 349ms
2022-08-26 17:03:33,331 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(251)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:33,333 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:33,333 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:33,333 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:33,333 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:33,333 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:33,333 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-6458135C7B8A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-6458135C7B8A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:34629|admin:localhost:38947|client:localhost:34343|dataStream:localhost:36131|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41115|admin:localhost:34281|client:localhost:37581|dataStream:localhost:43601|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41743|admin:localhost:42389|client:localhost:43463|dataStream:localhost:33005|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43623|admin:localhost:45655|client:localhost:33463|dataStream:localhost:33813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37993|admin:localhost:44397|client:localhost:35825|dataStream:localhost:43663|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:33,334 [java.util.concurrent.ThreadPoolExecutor$Worker@1e864030[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s3: close
2022-08-26 17:03:33,334 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s3@group-6458135C7B8A: shutdown
2022-08-26 17:03:33,334 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6458135C7B8A,id=s3
2022-08-26 17:03:33,334 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6458135C7B8A-FollowerState
2022-08-26 17:03:33,335 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-6458135C7B8A-StateMachineUpdater: set stopIndex = 0
2022-08-26 17:03:33,335 [s3@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-6458135C7B8A-FollowerState was interrupted
2022-08-26 17:03:33,335 [java.util.concurrent.ThreadPoolExecutor$Worker@7cf6826f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s4: close
2022-08-26 17:03:33,335 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s4@group-6458135C7B8A: shutdown
2022-08-26 17:03:33,335 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6458135C7B8A,id=s4
2022-08-26 17:03:33,335 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6458135C7B8A-FollowerState
2022-08-26 17:03:33,335 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s4@group-6458135C7B8A-StateMachineUpdater: set stopIndex = 0
2022-08-26 17:03:33,335 [s4@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-6458135C7B8A-FollowerState was interrupted
2022-08-26 17:03:33,335 [Thread-77] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,335 [Thread-78] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,335 [java.util.concurrent.ThreadPoolExecutor$Worker@dde4368[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:03:33,335 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-6458135C7B8A: shutdown
2022-08-26 17:03:33,335 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6458135C7B8A,id=s0
2022-08-26 17:03:33,335 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6458135C7B8A-FollowerState
2022-08-26 17:03:33,336 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-6458135C7B8A-StateMachineUpdater: set stopIndex = 0
2022-08-26 17:03:33,336 [s0@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-6458135C7B8A-FollowerState was interrupted
2022-08-26 17:03:33,334 [Thread-72] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,334 [Thread-71] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,334 [Thread-70] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,336 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-6458135C7B8A: applyIndex: 0
2022-08-26 17:03:33,335 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s4@group-6458135C7B8A: applyIndex: 0
2022-08-26 17:03:33,336 [s0@group-6458135C7B8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-6458135C7B8A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:33,335 [Thread-79] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,336 [s4@group-6458135C7B8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s4@group-6458135C7B8A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:33,336 [Thread-85] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,336 [Thread-84] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,336 [Thread-86] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,335 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s3@group-6458135C7B8A: applyIndex: 0
2022-08-26 17:03:33,336 [s3@group-6458135C7B8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s3@group-6458135C7B8A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:33,339 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-6458135C7B8A-SegmentedRaftLogWorker close()
2022-08-26 17:03:33,339 [Thread-67] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,339 [Thread-68] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,339 [Thread-69] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,339 [Thread-75] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,347 [java.util.concurrent.ThreadPoolExecutor$Worker@77428c54[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:03:33,347 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-6458135C7B8A: shutdown
2022-08-26 17:03:33,347 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6458135C7B8A,id=s1
2022-08-26 17:03:33,347 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6458135C7B8A-FollowerState
2022-08-26 17:03:33,347 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-6458135C7B8A-StateMachineUpdater: set stopIndex = 0
2022-08-26 17:03:33,347 [s1@group-6458135C7B8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-6458135C7B8A-FollowerState was interrupted
2022-08-26 17:03:33,347 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-6458135C7B8A: applyIndex: 0
2022-08-26 17:03:33,347 [s1@group-6458135C7B8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-6458135C7B8A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:33,348 [Thread-91] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,348 [Thread-92] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,348 [Thread-93] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,348 [Thread-88] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,348 [Thread-90] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,349 [Thread-89] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,349 [Thread-74] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,349 [Thread-81] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,349 [Thread-83] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,349 [Thread-82] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,349 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s4@group-6458135C7B8A-SegmentedRaftLogWorker close()
2022-08-26 17:03:33,349 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@314efd2b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:03:33,350 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s3@group-6458135C7B8A-SegmentedRaftLogWorker close()
2022-08-26 17:03:33,350 [Thread-76] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,351 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@52c77433] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:03:33,352 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@62b14238] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2022-08-26 17:03:33,352 [java.util.concurrent.ThreadPoolExecutor$Worker@5b69d54c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:03:33,352 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-6458135C7B8A: shutdown
2022-08-26 17:03:33,353 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6458135C7B8A,id=s2
2022-08-26 17:03:33,353 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-6458135C7B8A-LeaderStateImpl
2022-08-26 17:03:33,352 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-6458135C7B8A-SegmentedRaftLogWorker close()
2022-08-26 17:03:33,353 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-6458135C7B8A-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:33,353 [s2@group-6458135C7B8A->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-6458135C7B8A->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:33,353 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-6458135C7B8A-StateMachineUpdater: set stopIndex = 0
2022-08-26 17:03:33,352 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@2d6b41d0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-08-26 17:03:33,353 [s2@group-6458135C7B8A->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-6458135C7B8A->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:33,353 [s2@group-6458135C7B8A->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-6458135C7B8A->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:33,354 [s2@group-6458135C7B8A->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-6458135C7B8A->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:33,354 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-6458135C7B8A: applyIndex: 0
2022-08-26 17:03:33,354 [s2@group-6458135C7B8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-6458135C7B8A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:33,354 [Thread-98] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,354 [Thread-99] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,355 [Thread-100] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,355 [Thread-96] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,355 [Thread-97] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,355 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-6458135C7B8A-SegmentedRaftLogWorker close()
2022-08-26 17:03:33,355 [Thread-95] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:33,356 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@2555ca7a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:03:33,356 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:33,364 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:33,364 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:33,364 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:33,364 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:33,365 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-26 17:03:33,365 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:03:33,366 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-59A50733DE3F:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:33,366 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:33,366 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:33,366 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:33,366 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:33,366 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:33,366 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:33,366 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-59A50733DE3F:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:33,366 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0
2022-08-26 17:03:33,367 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0 does not exist.
2022-08-26 17:03:33,367 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0
2022-08-26 17:03:33,367 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:33,367 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:33,367 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:33,367 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:33,368 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:33,368 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:33,368 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0] (custom)
2022-08-26 17:03:33,368 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-59A50733DE3F:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER] returns group-59A50733DE3F:java.util.concurrent.CompletableFuture@2a404f53[Not completed]
2022-08-26 17:03:33,368 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-59A50733DE3F:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:33,368 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1
2022-08-26 17:03:33,368 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1 does not exist.
2022-08-26 17:03:33,369 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1
2022-08-26 17:03:33,369 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:33,369 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:33,369 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:33,369 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:33,369 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:33,370 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:33,370 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1] (custom)
2022-08-26 17:03:33,371 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-59A50733DE3F:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:33,371 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:33,371 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:33,371 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:33,371 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:33,371 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:33,371 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:33,371 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-59A50733DE3F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:33,372 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:33,372 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:33,372 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:33,376 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:33,376 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:33,376 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:33,376 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:33,376 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:33,382 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-59A50733DE3F:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER] returns group-59A50733DE3F:java.util.concurrent.CompletableFuture@62fd41c7[Not completed]
2022-08-26 17:03:33,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-59A50733DE3F:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:33,383 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2
2022-08-26 17:03:33,383 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2 does not exist.
2022-08-26 17:03:33,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2
2022-08-26 17:03:33,383 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:33,383 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:33,383 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:33,383 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:33,383 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:33,383 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:33,383 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2] (custom)
2022-08-26 17:03:33,384 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-59A50733DE3F:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:33,385 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:33,385 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:33,385 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:33,385 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:33,385 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:33,385 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:33,385 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-59A50733DE3F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:33,385 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:33,386 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:33,386 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:33,387 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:33,387 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:33,387 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:33,387 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:33,387 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:33,388 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-59A50733DE3F:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER] returns group-59A50733DE3F:java.util.concurrent.CompletableFuture@7102ba3f[Not completed]
2022-08-26 17:03:33,388 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:33,388 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:33,388 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0] (custom)
2022-08-26 17:03:33,388 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0/5a8e818f-98fa-41ca-85ab-59a50733de3f does not exist. Creating ...
2022-08-26 17:03:33,389 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0/5a8e818f-98fa-41ca-85ab-59a50733de3f
2022-08-26 17:03:33,389 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-59A50733DE3F:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:33,389 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:33,390 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:33,390 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0/5a8e818f-98fa-41ca-85ab-59a50733de3f/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:33,390 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0/5a8e818f-98fa-41ca-85ab-59a50733de3f/current
2022-08-26 17:03:33,390 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0/5a8e818f-98fa-41ca-85ab-59a50733de3f/sm
2022-08-26 17:03:33,391 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:33,391 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0/5a8e818f-98fa-41ca-85ab-59a50733de3f has been successfully formatted.
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-59A50733DE3F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0/5a8e818f-98fa-41ca-85ab-59a50733de3f
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:33,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:33,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:33,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:33,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:33,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:33,393 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-59A50733DE3F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:33,393 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-59A50733DE3F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:33,394 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:33,394 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:33,394 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:33,394 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-59A50733DE3F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:33,394 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:33,394 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:33,394 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:33,396 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:33,396 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:33,396 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:33,396 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:33,396 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:33,396 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-59A50733DE3F: start as a follower, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,396 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-59A50733DE3F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:33,396 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-59A50733DE3F-FollowerState
2022-08-26 17:03:33,397 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A50733DE3F,id=s0
2022-08-26 17:03:33,397 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:33,397 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:33,397 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:33,397 [s0@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:33,398 [s0@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:33,398 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:33,399 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:33,399 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:33,399 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1] (custom)
2022-08-26 17:03:33,399 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@79f92ea1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:33,399 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f does not exist. Creating ...
2022-08-26 17:03:33,399 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f
2022-08-26 17:03:33,400 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:33,400 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f/current
2022-08-26 17:03:33,400 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f/sm
2022-08-26 17:03:33,401 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f has been successfully formatted.
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-59A50733DE3F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:33,402 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:33,403 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:33,403 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:33,403 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:33,403 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:33,403 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-59A50733DE3F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:33,403 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-59A50733DE3F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:33,403 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-59A50733DE3F: start as a follower, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,403 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-59A50733DE3F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:33,403 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-59A50733DE3F-FollowerState
2022-08-26 17:03:33,404 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A50733DE3F,id=s1
2022-08-26 17:03:33,404 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:33,404 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:33,404 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:33,404 [s1@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:33,404 [s1@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:33,404 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:33,409 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:33,409 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:33,409 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2] (custom)
2022-08-26 17:03:33,409 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f does not exist. Creating ...
2022-08-26 17:03:33,410 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f
2022-08-26 17:03:33,410 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@4e218ed2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:33,410 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:33,411 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f/current
2022-08-26 17:03:33,411 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f/sm
2022-08-26 17:03:33,412 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f has been successfully formatted.
2022-08-26 17:03:33,412 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:33,412 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:33,412 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:33,412 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:33,412 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-59A50733DE3F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:33,413 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:33,414 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:33,414 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:33,414 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:33,414 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-59A50733DE3F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:33,414 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-59A50733DE3F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:33,414 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-59A50733DE3F: start as a follower, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,414 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-59A50733DE3F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:33,414 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-59A50733DE3F-FollowerState
2022-08-26 17:03:33,418 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A50733DE3F,id=s2
2022-08-26 17:03:33,419 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:33,419 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:33,419 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:33,419 [s2@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:33,419 [s2@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:33,419 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:33,420 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@4eb716e1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:33,420 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:33,421 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:33,421 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s0@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s1@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s2@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:33,421 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s0@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s1@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s2@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s0@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s1@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s2@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLostMajorityHeartbeats(LeaderElectionTests.java:120)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLostMajorityHeartbeats(LeaderElectionTests.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:33,579 [s0@group-59A50733DE3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-59A50733DE3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:182343599ns, electionTimeout:181ms
2022-08-26 17:03:33,579 [s0@group-59A50733DE3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-59A50733DE3F-FollowerState
2022-08-26 17:03:33,579 [s0@group-59A50733DE3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-59A50733DE3F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:33,579 [s0@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:33,579 [s0@group-59A50733DE3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-59A50733DE3F-LeaderElection23
2022-08-26 17:03:33,580 [s0@group-59A50733DE3F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-59A50733DE3F-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,581 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:33,581 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:33,581 [Thread-280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-59A50733DE3F: receive requestVote(PRE_VOTE, s0, group-59A50733DE3F, 0, (t:0, i:0))
2022-08-26 17:03:33,581 [Thread-280] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-59A50733DE3F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:33,581 [Thread-280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-59A50733DE3F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s1@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,581 [Thread-287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-59A50733DE3F: receive requestVote(PRE_VOTE, s0, group-59A50733DE3F, 0, (t:0, i:0))
2022-08-26 17:03:33,581 [s0@group-59A50733DE3F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-59A50733DE3F-LeaderElection23: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:33,581 [Thread-287] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-59A50733DE3F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:33,581 [s0@group-59A50733DE3F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-26 17:03:33,581 [s0@group-59A50733DE3F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-59A50733DE3F-LeaderElection23 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:33,581 [Thread-287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-59A50733DE3F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-59A50733DE3F:t0, leader=null, voted=, raftlog=Memoized:s2@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,583 [s0@group-59A50733DE3F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-59A50733DE3F-LeaderElection23 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,583 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:33,583 [Thread-281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-59A50733DE3F: receive requestVote(ELECTION, s0, group-59A50733DE3F, 1, (t:0, i:0))
2022-08-26 17:03:33,583 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:33,583 [Thread-281] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-59A50733DE3F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:33,584 [Thread-281] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-59A50733DE3F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:33,584 [Thread-281] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-59A50733DE3F-FollowerState
2022-08-26 17:03:33,584 [Thread-281] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-59A50733DE3F-FollowerState
2022-08-26 17:03:33,584 [s1@group-59A50733DE3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-59A50733DE3F-FollowerState was interrupted
2022-08-26 17:03:33,588 [Thread-281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-59A50733DE3F replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-59A50733DE3F:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,588 [s1@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:33,588 [s1@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:33,589 [s2@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:33,589 [s0@group-59A50733DE3F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-59A50733DE3F-LeaderElection23: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:33,589 [s0@group-59A50733DE3F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-26 17:03:33,589 [s0@group-59A50733DE3F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-59A50733DE3F-LeaderElection23 ELECTION round 0: result PASSED
2022-08-26 17:03:33,589 [s0@group-59A50733DE3F-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-59A50733DE3F-LeaderElection23
2022-08-26 17:03:33,589 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-59A50733DE3F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:33,589 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-59A50733DE3F: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 217ms
2022-08-26 17:03:33,589 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:33,589 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:33,589 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:33,590 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:33,590 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:33,590 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:33,590 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:33,590 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:33,590 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:33,590 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:33,590 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:33,591 [Thread-288] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-59A50733DE3F: receive requestVote(ELECTION, s0, group-59A50733DE3F, 1, (t:0, i:0))
2022-08-26 17:03:33,591 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:33,591 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:33,591 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:33,591 [s0@group-59A50733DE3F-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-59A50733DE3F-LeaderStateImpl
2022-08-26 17:03:33,591 [s0@group-59A50733DE3F-LeaderElection23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-59A50733DE3F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:33,589 [s2@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:33,591 [Thread-288] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-59A50733DE3F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:33,595 [Thread-288] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-59A50733DE3F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:33,595 [Thread-288] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-59A50733DE3F-FollowerState
2022-08-26 17:03:33,595 [Thread-288] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-59A50733DE3F-FollowerState
2022-08-26 17:03:33,595 [s2@group-59A50733DE3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-59A50733DE3F-FollowerState was interrupted
2022-08-26 17:03:33,600 [Thread-282] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-59A50733DE3F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 214ms
2022-08-26 17:03:33,600 [s2@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:33,600 [s2@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:33,602 [Thread-288] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-59A50733DE3F replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-59A50733DE3F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-59A50733DE3F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,606 [s0@group-59A50733DE3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-59A50733DE3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s0/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_inprogress_0
2022-08-26 17:03:33,603 [s0@group-59A50733DE3F-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-59A50733DE3F: set configuration 0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,608 [Thread-280] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-59A50733DE3F: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:567, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37729"
dataStreamAddress: "localhost:36879"
clientAddress: "localhost:41993"
adminAddress: "localhost:34515"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41767"
dataStreamAddress: "localhost:44337"
clientAddress: "localhost:43447"
adminAddress: "localhost:33399"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33223"
dataStreamAddress: "localhost:34091"
clientAddress: "localhost:35215"
adminAddress: "localhost:37987"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:33,608 [Thread-289] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-59A50733DE3F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 213ms
2022-08-26 17:03:33,609 [Thread-280] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-59A50733DE3F: set configuration 0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,610 [Thread-280] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-59A50733DE3F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:33,616 [Thread-287] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-59A50733DE3F: receive appendEntries(s0, 1, null, 0, true, commits:[s0:c0, s1:c-1, s2:c-1], cId:568, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37729"
dataStreamAddress: "localhost:36879"
clientAddress: "localhost:41993"
adminAddress: "localhost:34515"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41767"
dataStreamAddress: "localhost:44337"
clientAddress: "localhost:43447"
adminAddress: "localhost:33399"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33223"
dataStreamAddress: "localhost:34091"
clientAddress: "localhost:35215"
adminAddress: "localhost:37987"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:33,616 [Thread-287] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-59A50733DE3F: set configuration 0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:33,616 [Thread-287] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-59A50733DE3F-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:33,626 [s1@group-59A50733DE3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-59A50733DE3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_inprogress_0
2022-08-26 17:03:33,627 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-59A50733DE3F: succeeded to handle AppendEntries. Reply: s0<-s1#567:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:33,628 [s2@group-59A50733DE3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-59A50733DE3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_inprogress_0
2022-08-26 17:03:33,630 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-59A50733DE3F: succeeded to handle AppendEntries. Reply: s0<-s2#568:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-08-26 17:03:33,872 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-59A50733DE3F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-59A50733DE3F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A50733DE3F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-59A50733DE3F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59A50733DE3F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-59A50733DE3F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:34,132 [s2@group-59A50733DE3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-59A50733DE3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:274608977ns, electionTimeout:157ms
2022-08-26 17:03:34,132 [s2@group-59A50733DE3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-59A50733DE3F-FollowerState
2022-08-26 17:03:34,132 [s2@group-59A50733DE3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-59A50733DE3F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:34,132 [s2@group-59A50733DE3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:34,132 [s2@group-59A50733DE3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-59A50733DE3F-LeaderElection24
2022-08-26 17:03:34,133 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-59A50733DE3F: change Leader from s0 to null at term 1 for PRE_VOTE
2022-08-26 17:03:34,133 [s2@group-59A50733DE3F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-59A50733DE3F-LeaderElection24 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,134 [Thread-273] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-08-26 17:03:34,136 [Thread-282] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-59A50733DE3F: receive requestVote(PRE_VOTE, s2, group-59A50733DE3F, 1, (t:1, i:0))
2022-08-26 17:03:34,136 [Thread-282] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-59A50733DE3F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:34,136 [Thread-282] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-59A50733DE3F replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-59A50733DE3F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-59A50733DE3F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,137 [s2@group-59A50733DE3F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-59A50733DE3F-LeaderElection24: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:34,137 [s2@group-59A50733DE3F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t1
2022-08-26 17:03:34,137 [s2@group-59A50733DE3F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-59A50733DE3F-LeaderElection24 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:34,138 [s2@group-59A50733DE3F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-59A50733DE3F-LeaderElection24 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,139 [Thread-274] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-08-26 17:03:34,140 [Thread-280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-59A50733DE3F: receive requestVote(ELECTION, s2, group-59A50733DE3F, 2, (t:1, i:0))
2022-08-26 17:03:34,140 [Thread-280] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-59A50733DE3F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:34,140 [Thread-280] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-59A50733DE3F: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-08-26 17:03:34,140 [Thread-280] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-59A50733DE3F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-08-26 17:03:34,140 [Thread-280] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-59A50733DE3F-FollowerState
2022-08-26 17:03:34,140 [Thread-280] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-59A50733DE3F-FollowerState
2022-08-26 17:03:34,140 [s1@group-59A50733DE3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-59A50733DE3F-FollowerState was interrupted
2022-08-26 17:03:34,142 [Thread-280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-59A50733DE3F replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-59A50733DE3F:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-59A50733DE3F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,142 [s2@group-59A50733DE3F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-59A50733DE3F-LeaderElection24: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:34,142 [s2@group-59A50733DE3F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t2
2022-08-26 17:03:34,142 [s2@group-59A50733DE3F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-59A50733DE3F-LeaderElection24 ELECTION round 0: result PASSED
2022-08-26 17:03:34,142 [s2@group-59A50733DE3F-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-59A50733DE3F-LeaderElection24
2022-08-26 17:03:34,142 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-59A50733DE3F: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-26 17:03:34,142 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-59A50733DE3F: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 9ms
2022-08-26 17:03:34,142 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:34,142 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:34,142 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:34,143 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:34,143 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:34,143 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:34,143 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:34,143 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:34,143 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:34,143 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:34,143 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:34,144 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:34,144 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:34,144 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:34,144 [s2@group-59A50733DE3F-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-59A50733DE3F-LeaderStateImpl
2022-08-26 17:03:34,145 [s2@group-59A50733DE3F-LeaderElection24] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-59A50733DE3F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-08-26 17:03:34,147 [s2@group-59A50733DE3F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_0-0
2022-08-26 17:03:34,147 [s2@group-59A50733DE3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-59A50733DE3F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_0-0
2022-08-26 17:03:34,151 [Thread-275] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-08-26 17:03:34,151 [s2@group-59A50733DE3F-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-59A50733DE3F: set configuration 1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,151 [Thread-281] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-59A50733DE3F: change Leader from null to s2 at term 2 for appendEntries, leader elected after 11ms
2022-08-26 17:03:34,152 [Thread-282] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-59A50733DE3F: receive appendEntries(s2, 2, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:589, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37729"
dataStreamAddress: "localhost:36879"
clientAddress: "localhost:41993"
adminAddress: "localhost:34515"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41767"
dataStreamAddress: "localhost:44337"
clientAddress: "localhost:43447"
adminAddress: "localhost:33399"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33223"
dataStreamAddress: "localhost:34091"
clientAddress: "localhost:35215"
adminAddress: "localhost:37987"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:34,152 [Thread-282] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-59A50733DE3F: set configuration 1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,153 [Thread-282] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-59A50733DE3F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-08-26 17:03:34,154 [s1@group-59A50733DE3F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_0-0
2022-08-26 17:03:34,154 [s1@group-59A50733DE3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-59A50733DE3F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_0-0
2022-08-26 17:03:34,160 [s2@group-59A50733DE3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-59A50733DE3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s2/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_inprogress_1
2022-08-26 17:03:34,163 [s1@group-59A50733DE3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-59A50733DE3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpceb182986/s1/5a8e818f-98fa-41ca-85ab-59a50733de3f/current/log_inprogress_1
2022-08-26 17:03:34,166 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-59A50733DE3F: succeeded to handle AppendEntries. Reply: s2<-s1#589:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:34,167 [Thread-280] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-59A50733DE3F: receive appendEntries(s2, 2, (t:2, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:590, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:34,168 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-59A50733DE3F: succeeded to handle AppendEntries. Reply: s2<-s1#590:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:34,231 [s0@group-59A50733DE3F-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s0@group-59A50733DE3F-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 641ms. Conf: 0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,232 [s0@group-59A50733DE3F-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-59A50733DE3F->s1(c0,m0,n1, attendVote=true, lastRpcSendTime=299, lastRpcResponseTime=374)
2022-08-26 17:03:34,232 [s0@group-59A50733DE3F-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-59A50733DE3F->s2(c0,m0,n1, attendVote=true, lastRpcSendTime=299, lastRpcResponseTime=374)
2022-08-26 17:03:34,232 [s0@group-59A50733DE3F-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-59A50733DE3F: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-26 17:03:34,232 [s0@group-59A50733DE3F-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-59A50733DE3F-LeaderStateImpl
2022-08-26 17:03:34,232 [s0@group-59A50733DE3F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-59A50733DE3F->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:34,232 [s0@group-59A50733DE3F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-59A50733DE3F->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:34,232 [s0@group-59A50733DE3F-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-59A50733DE3F-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:34,233 [s0@group-59A50733DE3F-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-59A50733DE3F-FollowerState
2022-08-26 17:03:34,475 [Time-limited test] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s0@group-59A50733DE3F-FollowerState: Skipping leader election since it stepped down recently (elapsed = 241ms < waitTime = 10s)
2022-08-26 17:03:34,475 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:34,475 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:34,475 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:34,475 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:34,475 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:34,475 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-59A50733DE3F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-59A50733DE3F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-59A50733DE3F:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-59A50733DE3F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-59A50733DE3F:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-59A50733DE3F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37729|admin:localhost:34515|client:localhost:41993|dataStream:localhost:36879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41767|admin:localhost:33399|client:localhost:43447|dataStream:localhost:44337|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33223|admin:localhost:37987|client:localhost:35215|dataStream:localhost:34091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:34,476 [java.util.concurrent.ThreadPoolExecutor$Worker@347a3[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:03:34,477 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-59A50733DE3F: shutdown
2022-08-26 17:03:34,477 [java.util.concurrent.ThreadPoolExecutor$Worker@7bc82ee7[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:03:34,477 [Thread-276] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,477 [Thread-278] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,477 [Thread-283] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,477 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A50733DE3F,id=s0
2022-08-26 17:03:34,477 [Thread-284] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,477 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-59A50733DE3F: shutdown
2022-08-26 17:03:34,478 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A50733DE3F,id=s1
2022-08-26 17:03:34,478 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-59A50733DE3F-FollowerState
2022-08-26 17:03:34,478 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-59A50733DE3F-StateMachineUpdater: set stopIndex = 2
2022-08-26 17:03:34,478 [Thread-285] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,478 [s1@group-59A50733DE3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-59A50733DE3F-FollowerState was interrupted
2022-08-26 17:03:34,477 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-59A50733DE3F-FollowerState
2022-08-26 17:03:34,479 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-59A50733DE3F-StateMachineUpdater: set stopIndex = 0
2022-08-26 17:03:34,479 [Thread-281] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,479 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-59A50733DE3F: applyIndex: 0
2022-08-26 17:03:34,479 [s0@group-59A50733DE3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-59A50733DE3F-FollowerState was interrupted
2022-08-26 17:03:34,479 [s0@group-59A50733DE3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-59A50733DE3F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:34,479 [Thread-280] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,478 [Thread-277] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,479 [java.util.concurrent.ThreadPoolExecutor$Worker@682a0b53[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:03:34,479 [Thread-274] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-08-26 17:03:34,479 [Thread-274] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-59A50733DE3F: receive requestVote(ELECTION, s2, group-59A50733DE3F, 2, (t:1, i:0))
2022-08-26 17:03:34,480 [Thread-273] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-08-26 17:03:34,480 [Thread-273] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-59A50733DE3F: receive requestVote(PRE_VOTE, s2, group-59A50733DE3F, 1, (t:1, i:0))
2022-08-26 17:03:34,479 [Thread-282] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,480 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-59A50733DE3F: applyIndex: 2
2022-08-26 17:03:34,480 [s1@group-59A50733DE3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-59A50733DE3F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:34,480 [Thread-275] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-08-26 17:03:34,481 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@79f92ea1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:03:34,481 [s2@group-59A50733DE3F->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(86)) - s2@group-59A50733DE3F->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-59A50733DE3F is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$9(RaftServerImpl.java:727)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:253)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:726)
	at org.apache.ratis.server.impl.RaftServerImpl.preAppendEntriesAsync(RaftServerImpl.java:1338)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1300)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1286)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:631)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:160)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:150)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:124)
2022-08-26 17:03:34,481 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@4e218ed2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:03:34,482 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-59A50733DE3F: shutdown
2022-08-26 17:03:34,482 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59A50733DE3F,id=s2
2022-08-26 17:03:34,482 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-59A50733DE3F-LeaderStateImpl
2022-08-26 17:03:34,483 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-59A50733DE3F-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:34,483 [s2@group-59A50733DE3F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-59A50733DE3F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:34,483 [Thread-290] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,483 [Thread-291] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,483 [s2@group-59A50733DE3F->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-59A50733DE3F->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-08-26 17:03:34,483 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-59A50733DE3F-SegmentedRaftLogWorker close()
2022-08-26 17:03:34,483 [Thread-292] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,484 [Thread-288] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,484 [Thread-287] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,485 [Thread-289] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:34,485 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@4eb716e1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:03:34,485 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-59A50733DE3F-SegmentedRaftLogWorker close()
2022-08-26 17:03:34,485 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-59A50733DE3F-StateMachineUpdater: set stopIndex = 2
2022-08-26 17:03:34,485 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-59A50733DE3F: applyIndex: 2
2022-08-26 17:03:34,486 [s2@group-59A50733DE3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-59A50733DE3F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:34,488 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-59A50733DE3F-SegmentedRaftLogWorker close()
2022-08-26 17:03:34,491 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:34,492 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:34,492 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:34,492 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:34,492 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:34,493 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(260)) - Running testLateServerStart
2022-08-26 17:03:34,493 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:03:34,494 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-C32924B2ABEC:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:34,494 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:34,494 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-C32924B2ABEC:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:34,494 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0
2022-08-26 17:03:34,494 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0 does not exist.
2022-08-26 17:03:34,494 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0
2022-08-26 17:03:34,495 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:34,495 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:34,495 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:34,495 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:34,495 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:34,495 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:34,495 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0] (custom)
2022-08-26 17:03:34,496 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-C32924B2ABEC:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER] returns group-C32924B2ABEC:java.util.concurrent.CompletableFuture@7d7b7717[Not completed]
2022-08-26 17:03:34,496 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-C32924B2ABEC:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:34,496 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1
2022-08-26 17:03:34,496 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1 does not exist.
2022-08-26 17:03:34,496 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1
2022-08-26 17:03:34,496 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:34,496 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:34,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:34,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:34,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:34,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:34,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1] (custom)
2022-08-26 17:03:34,497 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-C32924B2ABEC:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:34,497 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:34,497 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:34,497 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:34,497 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:34,497 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:34,497 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:34,497 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-C32924B2ABEC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:34,497 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:34,497 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:34,498 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:34,498 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:34,498 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:34,498 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:34,498 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:34,498 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:34,503 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-C32924B2ABEC:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER] returns group-C32924B2ABEC:java.util.concurrent.CompletableFuture@98b584d[Not completed]
2022-08-26 17:03:34,503 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-C32924B2ABEC:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:34,503 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2
2022-08-26 17:03:34,503 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2 does not exist.
2022-08-26 17:03:34,503 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2
2022-08-26 17:03:34,503 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:34,504 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:34,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:34,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:34,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:34,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:34,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2] (custom)
2022-08-26 17:03:34,504 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-C32924B2ABEC:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:34,504 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:34,504 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:34,504 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:34,505 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:34,505 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:34,505 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:34,505 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-C32924B2ABEC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:34,505 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:34,505 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:34,505 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:34,505 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:34,506 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:34,506 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:34,506 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:34,506 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:34,506 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-C32924B2ABEC:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER] returns group-C32924B2ABEC:java.util.concurrent.CompletableFuture@346a38f3[Not completed]
2022-08-26 17:03:34,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:34,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:34,507 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0] (custom)
2022-08-26 17:03:34,507 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0/fa0355c9-12b3-4bbe-9050-c32924b2abec does not exist. Creating ...
2022-08-26 17:03:34,507 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0/fa0355c9-12b3-4bbe-9050-c32924b2abec
2022-08-26 17:03:34,507 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-C32924B2ABEC:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:34,507 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:34,508 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:34,508 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:34,508 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:34,508 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:34,508 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:34,508 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-C32924B2ABEC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:34,508 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:34,508 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:34,508 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0/fa0355c9-12b3-4bbe-9050-c32924b2abec/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:34,508 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0/fa0355c9-12b3-4bbe-9050-c32924b2abec/current
2022-08-26 17:03:34,508 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0/fa0355c9-12b3-4bbe-9050-c32924b2abec/sm
2022-08-26 17:03:34,508 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:34,509 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:34,509 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0/fa0355c9-12b3-4bbe-9050-c32924b2abec has been successfully formatted.
2022-08-26 17:03:34,510 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:34,510 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:34,510 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:34,510 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:34,510 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:34,510 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:34,510 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:34,510 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:34,510 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:34,510 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:34,510 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:34,510 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:34,510 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-C32924B2ABEC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0/fa0355c9-12b3-4bbe-9050-c32924b2abec
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-C32924B2ABEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:34,511 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-C32924B2ABEC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:34,512 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-C32924B2ABEC: start as a follower, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,512 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-C32924B2ABEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:34,512 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:34,512 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C32924B2ABEC,id=s0
2022-08-26 17:03:34,512 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:34,512 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:34,512 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:34,513 [s0@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:34,513 [s0@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:34,513 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:34,514 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:34,514 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:34,514 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1] (custom)
2022-08-26 17:03:34,514 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1/fa0355c9-12b3-4bbe-9050-c32924b2abec does not exist. Creating ...
2022-08-26 17:03:34,514 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1/fa0355c9-12b3-4bbe-9050-c32924b2abec
2022-08-26 17:03:34,515 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@5c18256c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:34,515 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1/fa0355c9-12b3-4bbe-9050-c32924b2abec/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:34,515 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1/fa0355c9-12b3-4bbe-9050-c32924b2abec/current
2022-08-26 17:03:34,515 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1/fa0355c9-12b3-4bbe-9050-c32924b2abec/sm
2022-08-26 17:03:34,516 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1/fa0355c9-12b3-4bbe-9050-c32924b2abec has been successfully formatted.
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-C32924B2ABEC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1/fa0355c9-12b3-4bbe-9050-c32924b2abec
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:34,517 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:34,518 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:34,518 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:34,518 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:34,518 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:34,518 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-C32924B2ABEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:34,518 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-C32924B2ABEC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:34,518 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-C32924B2ABEC: start as a follower, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,518 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:34,518 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:34,519 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:34,519 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C32924B2ABEC,id=s1
2022-08-26 17:03:34,521 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:34,521 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:34,521 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:34,522 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:34,522 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:34,527 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:34,527 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C32924B2ABEC:t0, leader=null, voted=, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C32924B2ABEC:t0, leader=null, voted=, raftlog=Memoized:s1@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-C32924B2ABEC:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
2022-08-26 17:03:34,528 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C32924B2ABEC:t0, leader=null, voted=, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C32924B2ABEC:t0, leader=null, voted=, raftlog=Memoized:s1@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-C32924B2ABEC:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C32924B2ABEC:t0, leader=null, voted=, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C32924B2ABEC:t0, leader=null, voted=, raftlog=Memoized:s1@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-C32924B2ABEC:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:270)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:34,527 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@115224ce] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:34,756 [s0@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C32924B2ABEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:244137192ns, electionTimeout:243ms
2022-08-26 17:03:34,756 [s0@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:34,756 [s0@group-C32924B2ABEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-C32924B2ABEC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:34,757 [s0@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:34,757 [s0@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C32924B2ABEC-LeaderElection25
2022-08-26 17:03:34,757 [s0@group-C32924B2ABEC-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-C32924B2ABEC-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,758 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:34,758 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:34,758 [Thread-336] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s0, group-C32924B2ABEC, 0, (t:0, i:0))
2022-08-26 17:03:34,758 [Thread-336] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C32924B2ABEC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:34,758 [Thread-336] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-C32924B2ABEC replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-C32924B2ABEC:t0, leader=null, voted=, raftlog=Memoized:s1@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,758 [s0@group-C32924B2ABEC-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C32924B2ABEC-LeaderElection25: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:34,758 [s0@group-C32924B2ABEC-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-26 17:03:34,759 [s0@group-C32924B2ABEC-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-C32924B2ABEC-LeaderElection25 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:34,760 [s0@group-C32924B2ABEC-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-C32924B2ABEC-LeaderElection25 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,760 [Thread-337] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-C32924B2ABEC: receive requestVote(ELECTION, s0, group-C32924B2ABEC, 1, (t:0, i:0))
2022-08-26 17:03:34,760 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:34,760 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:34,763 [Thread-337] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C32924B2ABEC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:34,764 [Thread-337] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:34,764 [Thread-337] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:34,764 [Thread-337] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:34,764 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C32924B2ABEC-FollowerState was interrupted
2022-08-26 17:03:34,764 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:34,764 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:34,765 [Thread-337] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-C32924B2ABEC replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C32924B2ABEC:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,765 [s0@group-C32924B2ABEC-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C32924B2ABEC-LeaderElection25: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:34,765 [s0@group-C32924B2ABEC-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-26 17:03:34,765 [s0@group-C32924B2ABEC-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-C32924B2ABEC-LeaderElection25 ELECTION round 0: result PASSED
2022-08-26 17:03:34,765 [s0@group-C32924B2ABEC-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C32924B2ABEC-LeaderElection25
2022-08-26 17:03:34,765 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-C32924B2ABEC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:34,765 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-C32924B2ABEC: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 267ms
2022-08-26 17:03:34,765 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:34,766 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:34,766 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:34,766 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:34,766 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:34,766 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:34,766 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:34,766 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:34,766 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:34,766 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:34,766 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:34,767 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:34,767 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:34,767 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:34,767 [s0@group-C32924B2ABEC-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C32924B2ABEC-LeaderStateImpl
2022-08-26 17:03:34,767 [s0@group-C32924B2ABEC-LeaderElection25] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-C32924B2ABEC-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:34,775 [Thread-338] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-C32924B2ABEC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 270ms
2022-08-26 17:03:34,778 [s0@group-C32924B2ABEC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-C32924B2ABEC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s0/fa0355c9-12b3-4bbe-9050-c32924b2abec/current/log_inprogress_0
2022-08-26 17:03:34,778 [s0@group-C32924B2ABEC-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-C32924B2ABEC: set configuration 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,779 [Thread-336] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-C32924B2ABEC: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:601, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44257"
dataStreamAddress: "localhost:35593"
clientAddress: "localhost:38199"
adminAddress: "localhost:40965"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39061"
dataStreamAddress: "localhost:42953"
clientAddress: "localhost:36815"
adminAddress: "localhost:36789"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38857"
dataStreamAddress: "localhost:35609"
clientAddress: "localhost:40449"
adminAddress: "localhost:39733"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:34,780 [Thread-336] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-C32924B2ABEC: set configuration 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:34,781 [Thread-336] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-C32924B2ABEC-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:34,790 [s1@group-C32924B2ABEC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-C32924B2ABEC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s1/fa0355c9-12b3-4bbe-9050-c32924b2abec/current/log_inprogress_0
2022-08-26 17:03:34,791 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-C32924B2ABEC: succeeded to handle AppendEntries. Reply: s0<-s1#601:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:34,978 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-C32924B2ABEC:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
2022-08-26 17:03:34,979 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(272)) - sleep 3s
2022-08-26 17:03:37,783 [s0@group-C32924B2ABEC->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(86)) - s0@group-C32924B2ABEC->s2-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@1adc0f24
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:76)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:152)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:37,979 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:37,979 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:37,980 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2] (custom)
2022-08-26 17:03:37,980 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2/fa0355c9-12b3-4bbe-9050-c32924b2abec does not exist. Creating ...
2022-08-26 17:03:37,980 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2/fa0355c9-12b3-4bbe-9050-c32924b2abec
2022-08-26 17:03:37,981 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2/fa0355c9-12b3-4bbe-9050-c32924b2abec/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:37,981 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2/fa0355c9-12b3-4bbe-9050-c32924b2abec/current
2022-08-26 17:03:37,981 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2/fa0355c9-12b3-4bbe-9050-c32924b2abec/sm
2022-08-26 17:03:37,982 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2/fa0355c9-12b3-4bbe-9050-c32924b2abec has been successfully formatted.
2022-08-26 17:03:37,983 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:37,983 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:37,983 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:37,983 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:37,983 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:37,983 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:37,983 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:37,983 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:37,984 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-C32924B2ABEC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2/fa0355c9-12b3-4bbe-9050-c32924b2abec
2022-08-26 17:03:37,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:37,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:37,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:37,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:37,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:37,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:37,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:37,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:37,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:37,985 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:37,985 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:37,985 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:37,985 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-C32924B2ABEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:37,985 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-C32924B2ABEC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:37,985 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-C32924B2ABEC: start as a follower, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:37,985 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-C32924B2ABEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:37,985 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:37,986 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C32924B2ABEC,id=s2
2022-08-26 17:03:37,986 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:37,986 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:37,986 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:37,986 [s2@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:37,986 [s2@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:37,987 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:37,987 [Thread-343] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s0, group-C32924B2ABEC, 0, (t:0, i:0))
2022-08-26 17:03:37,987 [Thread-343] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C32924B2ABEC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:37,987 [Thread-343] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-C32924B2ABEC replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-C32924B2ABEC:t0, leader=null, voted=, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:37,987 [Thread-343] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-C32924B2ABEC: receive requestVote(ELECTION, s0, group-C32924B2ABEC, 1, (t:0, i:0))
2022-08-26 17:03:37,987 [Thread-343] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C32924B2ABEC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:37,987 [Thread-343] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-C32924B2ABEC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:37,987 [Thread-343] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:37,988 [s2@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C32924B2ABEC-FollowerState was interrupted
2022-08-26 17:03:37,988 [Thread-343] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:37,989 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@39bbbf46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:37,989 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "getLeaderId", attempt #1/10: java.lang.IllegalStateException: No leader yet, sleep 1s and then retry.
java.lang.IllegalStateException: No leader yet
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$3(LeaderElectionTests.java:280)
	at java.base/java.util.Optional.orElseThrow(Optional.java:408)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$4(LeaderElectionTests.java:280)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:278)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:37,990 [Thread-343] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-C32924B2ABEC replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-C32924B2ABEC:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:37,990 [Thread-345] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-C32924B2ABEC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 3482ms
2022-08-26 17:03:37,989 [s2@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:37,992 [s2@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:37,993 [Thread-343] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-C32924B2ABEC: receive appendEntries(s0, 1, null, 0, true, commits:[s0:c0, s1:c0, s2:c-1], cId:689, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44257"
dataStreamAddress: "localhost:35593"
clientAddress: "localhost:38199"
adminAddress: "localhost:40965"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39061"
dataStreamAddress: "localhost:42953"
clientAddress: "localhost:36815"
adminAddress: "localhost:36789"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38857"
dataStreamAddress: "localhost:35609"
clientAddress: "localhost:40449"
adminAddress: "localhost:39733"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:37,993 [Thread-343] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-C32924B2ABEC: set configuration 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:37,993 [Thread-343] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-C32924B2ABEC-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:38,003 [s2@group-C32924B2ABEC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-C32924B2ABEC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc22c26717/s2/fa0355c9-12b3-4bbe-9050-c32924b2abec/current/log_inprogress_0
2022-08-26 17:03:38,004 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-C32924B2ABEC: succeeded to handle AppendEntries. Reply: s0<-s2#689:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-08-26 17:03:38,991 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(282)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:38,992 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:38,992 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:38,992 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:38,992 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:38,992 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:03:38,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-5256FDE1638E:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:38,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:38,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:38,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:38,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:38,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:38,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:38,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-5256FDE1638E:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:38,994 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0
2022-08-26 17:03:38,994 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0 does not exist.
2022-08-26 17:03:38,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0
2022-08-26 17:03:38,994 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:38,995 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:38,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:38,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:38,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:38,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:38,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0] (custom)
2022-08-26 17:03:38,996 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-5256FDE1638E:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER] returns group-5256FDE1638E:java.util.concurrent.CompletableFuture@230138cd[Not completed]
2022-08-26 17:03:38,996 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-5256FDE1638E:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:38,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-5256FDE1638E:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:38,997 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1
2022-08-26 17:03:38,997 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1 does not exist.
2022-08-26 17:03:38,997 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1
2022-08-26 17:03:38,997 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:38,997 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:38,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:38,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:38,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:38,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:38,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1] (custom)
2022-08-26 17:03:38,996 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:38,998 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:38,998 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:38,998 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:38,998 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:38,998 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:38,998 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-5256FDE1638E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:38,998 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:38,998 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:38,998 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:38,999 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:38,999 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:38,999 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:38,999 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:38,999 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:39,003 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-5256FDE1638E:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER] returns group-5256FDE1638E:java.util.concurrent.CompletableFuture@70b899f7[Not completed]
2022-08-26 17:03:39,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-5256FDE1638E:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:39,003 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2
2022-08-26 17:03:39,003 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-5256FDE1638E:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:39,004 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2 does not exist.
2022-08-26 17:03:39,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2
2022-08-26 17:03:39,004 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:39,004 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:39,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:39,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:39,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:39,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:39,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2] (custom)
2022-08-26 17:03:39,004 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-5256FDE1638E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:39,005 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:39,006 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:39,006 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:39,006 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:39,006 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-5256FDE1638E:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER] returns group-5256FDE1638E:java.util.concurrent.CompletableFuture@40b55b26[Not completed]
2022-08-26 17:03:39,006 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:39,006 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-5256FDE1638E:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:39,006 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:39,006 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:39,006 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:39,006 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:39,006 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0] (custom)
2022-08-26 17:03:39,006 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-5256FDE1638E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:39,007 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0/67230a5a-4778-4634-88cd-5256fde1638e does not exist. Creating ...
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:39,007 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0/67230a5a-4778-4634-88cd-5256fde1638e
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:39,007 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:39,008 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0/67230a5a-4778-4634-88cd-5256fde1638e/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:39,008 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0/67230a5a-4778-4634-88cd-5256fde1638e/current
2022-08-26 17:03:39,008 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0/67230a5a-4778-4634-88cd-5256fde1638e/sm
2022-08-26 17:03:39,009 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0/67230a5a-4778-4634-88cd-5256fde1638e has been successfully formatted.
2022-08-26 17:03:39,009 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:39,009 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:39,009 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-5256FDE1638E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0/67230a5a-4778-4634-88cd-5256fde1638e
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:39,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:39,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:39,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:39,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:39,011 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-5256FDE1638E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:39,011 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-5256FDE1638E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:39,011 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-5256FDE1638E: start as a follower, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,011 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-5256FDE1638E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:39,011 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5256FDE1638E-FollowerState
2022-08-26 17:03:39,012 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5256FDE1638E,id=s0
2022-08-26 17:03:39,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:39,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:39,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:39,012 [s0@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:39,012 [s0@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:39,014 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:39,015 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@74f605e6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:39,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:39,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:39,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1] (custom)
2022-08-26 17:03:39,016 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1/67230a5a-4778-4634-88cd-5256fde1638e does not exist. Creating ...
2022-08-26 17:03:39,016 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1/67230a5a-4778-4634-88cd-5256fde1638e
2022-08-26 17:03:39,017 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1/67230a5a-4778-4634-88cd-5256fde1638e/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:39,017 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1/67230a5a-4778-4634-88cd-5256fde1638e/current
2022-08-26 17:03:39,017 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1/67230a5a-4778-4634-88cd-5256fde1638e/sm
2022-08-26 17:03:39,018 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1/67230a5a-4778-4634-88cd-5256fde1638e has been successfully formatted.
2022-08-26 17:03:39,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:39,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:39,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:39,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:39,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:39,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-5256FDE1638E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1/67230a5a-4778-4634-88cd-5256fde1638e
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:39,019 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-5256FDE1638E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:39,020 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-5256FDE1638E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:39,020 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-5256FDE1638E: start as a follower, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,020 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-5256FDE1638E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:39,020 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5256FDE1638E-FollowerState
2022-08-26 17:03:39,020 [s1@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:39,020 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5256FDE1638E,id=s1
2022-08-26 17:03:39,020 [s1@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:39,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:39,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:39,020 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:39,026 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:39,027 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@652a5fd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:39,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:39,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2] (custom)
2022-08-26 17:03:39,028 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2/67230a5a-4778-4634-88cd-5256fde1638e does not exist. Creating ...
2022-08-26 17:03:39,028 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2/67230a5a-4778-4634-88cd-5256fde1638e
2022-08-26 17:03:39,029 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2/67230a5a-4778-4634-88cd-5256fde1638e/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:39,029 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2/67230a5a-4778-4634-88cd-5256fde1638e/current
2022-08-26 17:03:39,029 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2/67230a5a-4778-4634-88cd-5256fde1638e/sm
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2/67230a5a-4778-4634-88cd-5256fde1638e has been successfully formatted.
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-5256FDE1638E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2/67230a5a-4778-4634-88cd-5256fde1638e
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:39,031 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-5256FDE1638E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:39,031 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-5256FDE1638E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:39,034 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-5256FDE1638E: start as a follower, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,034 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-5256FDE1638E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:39,034 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5256FDE1638E-FollowerState
2022-08-26 17:03:39,037 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5256FDE1638E,id=s2
2022-08-26 17:03:39,038 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:39,038 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:39,038 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:39,038 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:39,039 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@288a39f6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:39,040 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:39,040 [s2@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:39,040 [s2@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:39,040 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s0@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s1@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s2@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:39,040 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s0@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s1@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s2@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s0@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s1@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s2@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPreVote(LeaderElectionTests.java:463)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:39,277 [s0@group-5256FDE1638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5256FDE1638E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:265380158ns, electionTimeout:264ms
2022-08-26 17:03:39,277 [s0@group-5256FDE1638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5256FDE1638E-FollowerState
2022-08-26 17:03:39,277 [s0@group-5256FDE1638E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-5256FDE1638E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:39,277 [s0@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:39,277 [s0@group-5256FDE1638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5256FDE1638E-LeaderElection26
2022-08-26 17:03:39,278 [s0@group-5256FDE1638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5256FDE1638E-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,278 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:39,278 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:39,279 [Thread-379] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-5256FDE1638E: receive requestVote(PRE_VOTE, s0, group-5256FDE1638E, 0, (t:0, i:0))
2022-08-26 17:03:39,279 [Thread-379] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-5256FDE1638E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:39,279 [Thread-379] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-5256FDE1638E replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s1@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,279 [s0@group-5256FDE1638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5256FDE1638E-LeaderElection26: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:39,279 [s0@group-5256FDE1638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-26 17:03:39,279 [s0@group-5256FDE1638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5256FDE1638E-LeaderElection26 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:39,280 [Thread-386] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-5256FDE1638E: receive requestVote(PRE_VOTE, s0, group-5256FDE1638E, 0, (t:0, i:0))
2022-08-26 17:03:39,280 [Thread-386] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-5256FDE1638E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:39,280 [Thread-386] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-5256FDE1638E replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-5256FDE1638E:t0, leader=null, voted=, raftlog=Memoized:s2@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,281 [s0@group-5256FDE1638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5256FDE1638E-LeaderElection26 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,281 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:39,281 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:39,281 [Thread-380] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-5256FDE1638E: receive requestVote(ELECTION, s0, group-5256FDE1638E, 1, (t:0, i:0))
2022-08-26 17:03:39,281 [Thread-380] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-5256FDE1638E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:39,282 [Thread-380] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-5256FDE1638E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:39,282 [Thread-380] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5256FDE1638E-FollowerState
2022-08-26 17:03:39,282 [Thread-387] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-5256FDE1638E: receive requestVote(ELECTION, s0, group-5256FDE1638E, 1, (t:0, i:0))
2022-08-26 17:03:39,282 [s1@group-5256FDE1638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5256FDE1638E-FollowerState was interrupted
2022-08-26 17:03:39,282 [Thread-380] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5256FDE1638E-FollowerState
2022-08-26 17:03:39,283 [Thread-387] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-5256FDE1638E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:39,283 [Thread-387] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-5256FDE1638E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:39,283 [Thread-387] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5256FDE1638E-FollowerState
2022-08-26 17:03:39,283 [Thread-387] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5256FDE1638E-FollowerState
2022-08-26 17:03:39,283 [s1@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:39,284 [s1@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:39,284 [s2@group-5256FDE1638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5256FDE1638E-FollowerState was interrupted
2022-08-26 17:03:39,284 [Thread-380] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-5256FDE1638E replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-5256FDE1638E:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,284 [s0@group-5256FDE1638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5256FDE1638E-LeaderElection26: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:39,284 [s0@group-5256FDE1638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-26 17:03:39,284 [s0@group-5256FDE1638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5256FDE1638E-LeaderElection26 ELECTION round 0: result PASSED
2022-08-26 17:03:39,284 [s0@group-5256FDE1638E-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5256FDE1638E-LeaderElection26
2022-08-26 17:03:39,284 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-5256FDE1638E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:39,284 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-5256FDE1638E: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 286ms
2022-08-26 17:03:39,285 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:39,285 [Thread-387] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-5256FDE1638E replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-5256FDE1638E:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-5256FDE1638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,285 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:39,285 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:39,285 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:39,285 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:39,285 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:39,285 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:39,285 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:39,286 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:39,286 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:39,286 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:39,286 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:39,286 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:39,286 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:39,286 [s0@group-5256FDE1638E-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5256FDE1638E-LeaderStateImpl
2022-08-26 17:03:39,286 [s2@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:39,287 [s2@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:39,287 [s0@group-5256FDE1638E-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-5256FDE1638E-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:39,291 [Thread-381] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-5256FDE1638E: change Leader from null to s0 at term 1 for appendEntries, leader elected after 285ms
2022-08-26 17:03:39,292 [Thread-388] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-5256FDE1638E: change Leader from null to s0 at term 1 for appendEntries, leader elected after 284ms
2022-08-26 17:03:39,292 [Thread-379] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:762, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45241"
dataStreamAddress: "localhost:44043"
clientAddress: "localhost:38145"
adminAddress: "localhost:43715"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45779"
dataStreamAddress: "localhost:41445"
clientAddress: "localhost:41091"
adminAddress: "localhost:42361"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35125"
dataStreamAddress: "localhost:42849"
clientAddress: "localhost:41441"
adminAddress: "localhost:32923"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:39,296 [s0@group-5256FDE1638E-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-5256FDE1638E: set configuration 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,296 [Thread-379] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-5256FDE1638E: set configuration 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,296 [Thread-379] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-5256FDE1638E-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:39,299 [s0@group-5256FDE1638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-5256FDE1638E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s0/67230a5a-4778-4634-88cd-5256fde1638e/current/log_inprogress_0
2022-08-26 17:03:39,305 [Thread-386] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:763, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45241"
dataStreamAddress: "localhost:44043"
clientAddress: "localhost:38145"
adminAddress: "localhost:43715"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45779"
dataStreamAddress: "localhost:41445"
clientAddress: "localhost:41091"
adminAddress: "localhost:42361"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35125"
dataStreamAddress: "localhost:42849"
clientAddress: "localhost:41441"
adminAddress: "localhost:32923"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:39,306 [Thread-386] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-5256FDE1638E: set configuration 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,307 [Thread-386] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-5256FDE1638E-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:39,316 [s1@group-5256FDE1638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-5256FDE1638E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s1/67230a5a-4778-4634-88cd-5256fde1638e/current/log_inprogress_0
2022-08-26 17:03:39,317 [s2@group-5256FDE1638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-5256FDE1638E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc33abbf59/s2/67230a5a-4778-4634-88cd-5256fde1638e/current/log_inprogress_0
2022-08-26 17:03:39,317 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s1#762:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:39,318 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s2#763:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:39,491 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5256FDE1638E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5256FDE1638E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5256FDE1638E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:39,492 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:39,492 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s0@group-5256FDE1638E: receive client request(RaftClientRequest:client-C84D3E5A71A5->s0@group-5256FDE1638E, cid=780, seq=0, RW, message)
2022-08-26 17:03:39,493 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-5256FDE1638E-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C84D3E5A71A5->s0@group-5256FDE1638E, cid=780, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 780@client-C84D3E5A71A5
2022-08-26 17:03:39,494 [Thread-379] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:783, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 780@client-C84D3E5A71A5]
2022-08-26 17:03:39,494 [Thread-386] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:784, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 780@client-C84D3E5A71A5]
2022-08-26 17:03:39,495 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s1#783:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:39,497 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s2#784:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:39,498 [Thread-387] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:785, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:39,498 [Thread-380] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:786, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:39,499 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s2#785:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:39,499 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s0@group-5256FDE1638E: receive client request(RaftClientRequest:client-C84D3E5A71A5->s0@group-5256FDE1638E, cid=787, seq=0, RW, message)
2022-08-26 17:03:39,499 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s1#786:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:39,499 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-5256FDE1638E-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C84D3E5A71A5->s0@group-5256FDE1638E, cid=787, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 787@client-C84D3E5A71A5
2022-08-26 17:03:39,500 [Thread-381] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-08-26 17:03:39,501 [Thread-388] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:2), 1, true, commits:[s0:c1, s1:c1, s2:c1], cId:789, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 787@client-C84D3E5A71A5]
2022-08-26 17:03:39,501 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s2#789:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-08-26 17:03:39,502 [Thread-386] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c1, s2:c1], cId:790, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-08-26 17:03:39,502 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s2#790:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-08-26 17:03:39,503 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testPreVote(478)) - Wait follower s1 timeout and trigger pre-vote
2022-08-26 17:03:39,568 [Thread-336] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-08-26 17:03:39,816 [s1@group-5256FDE1638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5256FDE1638E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:316748928ns, electionTimeout:276ms
2022-08-26 17:03:39,816 [s1@group-5256FDE1638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5256FDE1638E-FollowerState
2022-08-26 17:03:39,816 [s1@group-5256FDE1638E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-5256FDE1638E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:39,816 [s1@group-5256FDE1638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:39,816 [s1@group-5256FDE1638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5256FDE1638E-LeaderElection27
2022-08-26 17:03:39,817 [s1@group-5256FDE1638E-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-5256FDE1638E: change Leader from s0 to null at term 1 for PRE_VOTE
2022-08-26 17:03:39,817 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,873 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C32924B2ABEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:380903013ns, electionTimeout:285ms
2022-08-26 17:03:39,874 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:39,874 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:39,874 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:39,874 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-LeaderElection28
2022-08-26 17:03:39,874 [s1@group-C32924B2ABEC-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-C32924B2ABEC: change Leader from s0 to null at term 1 for PRE_VOTE
2022-08-26 17:03:39,874 [s1@group-C32924B2ABEC-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-C32924B2ABEC-LeaderElection28 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,875 [Thread-329] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:39,875 [Thread-329] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C32924B2ABEC-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-08-26 17:03:39,875 [Thread-329] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,875 [Thread-345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:39,876 [Thread-345] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C32924B2ABEC-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-26 17:03:39,876 [Thread-345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:39,876 [s1@group-C32924B2ABEC-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-C32924B2ABEC-LeaderElection28: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:39,876 [s1@group-C32924B2ABEC-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-26 17:03:39,876 [s1@group-C32924B2ABEC-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-26 17:03:39,876 [s1@group-C32924B2ABEC-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-C32924B2ABEC-LeaderElection28 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:39,876 [s1@group-C32924B2ABEC-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:39,876 [s1@group-C32924B2ABEC-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C32924B2ABEC-LeaderElection28
2022-08-26 17:03:39,876 [s1@group-C32924B2ABEC-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:40,004 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5256FDE1638E-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:40,004 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 0: result TIMEOUT
2022-08-26 17:03:40,004 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,126 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C32924B2ABEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:249454565ns, electionTimeout:249ms
2022-08-26 17:03:40,126 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:40,126 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:40,126 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:40,126 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-LeaderElection29
2022-08-26 17:03:40,127 [s1@group-C32924B2ABEC-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-C32924B2ABEC-LeaderElection29 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,128 [Thread-343] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:40,128 [Thread-343] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C32924B2ABEC-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-26 17:03:40,128 [Thread-330] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:40,128 [Thread-330] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C32924B2ABEC-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-08-26 17:03:40,128 [Thread-343] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,128 [Thread-330] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,128 [s1@group-C32924B2ABEC-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-C32924B2ABEC-LeaderElection29: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:40,128 [s1@group-C32924B2ABEC-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-26 17:03:40,128 [s1@group-C32924B2ABEC-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-26 17:03:40,128 [s1@group-C32924B2ABEC-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-C32924B2ABEC-LeaderElection29 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:40,128 [s1@group-C32924B2ABEC-LeaderElection29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:40,128 [s1@group-C32924B2ABEC-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C32924B2ABEC-LeaderElection29
2022-08-26 17:03:40,129 [s1@group-C32924B2ABEC-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:40,237 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5256FDE1638E-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:40,237 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 1: result TIMEOUT
2022-08-26 17:03:40,237 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,408 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C32924B2ABEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:279444806ns, electionTimeout:279ms
2022-08-26 17:03:40,408 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:40,408 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:40,408 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:40,408 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-LeaderElection30
2022-08-26 17:03:40,408 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5256FDE1638E-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:40,409 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 2: result TIMEOUT
2022-08-26 17:03:40,409 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,409 [s1@group-C32924B2ABEC-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-C32924B2ABEC-LeaderElection30 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,409 [Thread-331] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:40,409 [Thread-331] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C32924B2ABEC-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-08-26 17:03:40,410 [Thread-331] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,410 [Thread-345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:40,410 [Thread-345] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C32924B2ABEC-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-26 17:03:40,410 [Thread-345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,410 [s1@group-C32924B2ABEC-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-C32924B2ABEC-LeaderElection30: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:40,410 [s1@group-C32924B2ABEC-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-26 17:03:40,410 [s1@group-C32924B2ABEC-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-26 17:03:40,410 [s1@group-C32924B2ABEC-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-C32924B2ABEC-LeaderElection30 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:40,410 [s1@group-C32924B2ABEC-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:40,411 [s1@group-C32924B2ABEC-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C32924B2ABEC-LeaderElection30
2022-08-26 17:03:40,411 [s1@group-C32924B2ABEC-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:40,589 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C32924B2ABEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:178412609ns, electionTimeout:178ms
2022-08-26 17:03:40,589 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:40,589 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:40,589 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:40,589 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-LeaderElection31
2022-08-26 17:03:40,590 [s1@group-C32924B2ABEC-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-C32924B2ABEC-LeaderElection31 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,590 [Thread-329] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:40,590 [Thread-329] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C32924B2ABEC-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-08-26 17:03:40,590 [Thread-344] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:40,591 [Thread-329] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,591 [Thread-344] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C32924B2ABEC-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-26 17:03:40,591 [Thread-344] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,591 [s1@group-C32924B2ABEC-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-C32924B2ABEC-LeaderElection31: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:40,591 [s1@group-C32924B2ABEC-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-26 17:03:40,591 [s1@group-C32924B2ABEC-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-26 17:03:40,591 [s1@group-C32924B2ABEC-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-C32924B2ABEC-LeaderElection31 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:40,591 [s1@group-C32924B2ABEC-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:40,591 [s1@group-C32924B2ABEC-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C32924B2ABEC-LeaderElection31
2022-08-26 17:03:40,591 [s1@group-C32924B2ABEC-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:40,660 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5256FDE1638E-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:40,660 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 3: result TIMEOUT
2022-08-26 17:03:40,660 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,888 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C32924B2ABEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:296766134ns, electionTimeout:296ms
2022-08-26 17:03:40,888 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:40,888 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:40,888 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:40,888 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-LeaderElection32
2022-08-26 17:03:40,889 [s1@group-C32924B2ABEC-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-C32924B2ABEC-LeaderElection32 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,889 [Thread-330] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:40,889 [Thread-330] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C32924B2ABEC-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-08-26 17:03:40,889 [Thread-345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:40,889 [Thread-330] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,889 [Thread-345] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C32924B2ABEC-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-26 17:03:40,890 [Thread-345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:40,890 [s1@group-C32924B2ABEC-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-C32924B2ABEC-LeaderElection32: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:40,890 [s1@group-C32924B2ABEC-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-26 17:03:40,890 [s1@group-C32924B2ABEC-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-26 17:03:40,890 [s1@group-C32924B2ABEC-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-C32924B2ABEC-LeaderElection32 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:40,890 [s1@group-C32924B2ABEC-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:40,890 [s1@group-C32924B2ABEC-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C32924B2ABEC-LeaderElection32
2022-08-26 17:03:40,890 [s1@group-C32924B2ABEC-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:40,947 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5256FDE1638E-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:40,947 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 4: result TIMEOUT
2022-08-26 17:03:40,947 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,107 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C32924B2ABEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:216376847ns, electionTimeout:216ms
2022-08-26 17:03:41,107 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:41,107 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:41,107 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:41,107 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-LeaderElection33
2022-08-26 17:03:41,108 [s1@group-C32924B2ABEC-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-C32924B2ABEC-LeaderElection33 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,108 [Thread-331] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:41,108 [Thread-344] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:41,108 [Thread-344] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C32924B2ABEC-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-26 17:03:41,108 [Thread-331] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C32924B2ABEC-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-08-26 17:03:41,109 [Thread-344] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,109 [Thread-331] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,109 [s1@group-C32924B2ABEC-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-C32924B2ABEC-LeaderElection33: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:41,109 [s1@group-C32924B2ABEC-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-26 17:03:41,109 [s1@group-C32924B2ABEC-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-26 17:03:41,109 [s1@group-C32924B2ABEC-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-C32924B2ABEC-LeaderElection33 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:41,109 [s1@group-C32924B2ABEC-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:41,109 [s1@group-C32924B2ABEC-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C32924B2ABEC-LeaderElection33
2022-08-26 17:03:41,109 [s1@group-C32924B2ABEC-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:41,166 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5256FDE1638E-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:41,166 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 5: result TIMEOUT
2022-08-26 17:03:41,166 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,366 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C32924B2ABEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:257202256ns, electionTimeout:256ms
2022-08-26 17:03:41,367 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:41,367 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:41,367 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:41,367 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-LeaderElection34
2022-08-26 17:03:41,367 [s1@group-C32924B2ABEC-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-C32924B2ABEC-LeaderElection34 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,368 [Thread-329] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:41,368 [Thread-329] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C32924B2ABEC-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-08-26 17:03:41,368 [Thread-343] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:41,368 [Thread-329] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,368 [Thread-343] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C32924B2ABEC-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-26 17:03:41,368 [Thread-343] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,368 [s1@group-C32924B2ABEC-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-C32924B2ABEC-LeaderElection34: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:41,369 [s1@group-C32924B2ABEC-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-26 17:03:41,369 [s1@group-C32924B2ABEC-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-26 17:03:41,369 [s1@group-C32924B2ABEC-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-C32924B2ABEC-LeaderElection34 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:41,369 [s1@group-C32924B2ABEC-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:41,369 [s1@group-C32924B2ABEC-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C32924B2ABEC-LeaderElection34
2022-08-26 17:03:41,369 [s1@group-C32924B2ABEC-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:41,424 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5256FDE1638E-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:41,425 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 6: result TIMEOUT
2022-08-26 17:03:41,425 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,575 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C32924B2ABEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:206596405ns, electionTimeout:206ms
2022-08-26 17:03:41,575 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:41,576 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:41,576 [s1@group-C32924B2ABEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:41,576 [s1@group-C32924B2ABEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-LeaderElection35
2022-08-26 17:03:41,576 [s1@group-C32924B2ABEC-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-C32924B2ABEC-LeaderElection35 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,577 [Thread-330] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:41,577 [Thread-330] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C32924B2ABEC-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-08-26 17:03:41,577 [Thread-345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-C32924B2ABEC: receive requestVote(PRE_VOTE, s1, group-C32924B2ABEC, 1, (t:1, i:0))
2022-08-26 17:03:41,577 [Thread-345] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C32924B2ABEC-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-08-26 17:03:41,577 [Thread-330] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,577 [Thread-345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-C32924B2ABEC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-C32924B2ABEC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C32924B2ABEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44257|admin:localhost:40965|client:localhost:38199|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39061|admin:localhost:36789|client:localhost:36815|dataStream:localhost:42953|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38857|admin:localhost:39733|client:localhost:40449|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:41,577 [s1@group-C32924B2ABEC-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-C32924B2ABEC-LeaderElection35: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:41,577 [s1@group-C32924B2ABEC-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-26 17:03:41,577 [s1@group-C32924B2ABEC-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-26 17:03:41,577 [s1@group-C32924B2ABEC-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-C32924B2ABEC-LeaderElection35 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:41,577 [s1@group-C32924B2ABEC-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-C32924B2ABEC: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:41,577 [s1@group-C32924B2ABEC-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C32924B2ABEC-LeaderElection35
2022-08-26 17:03:41,577 [s1@group-C32924B2ABEC-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C32924B2ABEC-FollowerState
2022-08-26 17:03:41,601 [Thread-381] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-08-26 17:03:41,601 [Thread-381] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:2), 1, true, commits:[s0:c1, s1:c1, s2:c1], cId:788, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 787@client-C84D3E5A71A5]
2022-08-26 17:03:41,601 [Thread-381] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-5256FDE1638E: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-08-26 17:03:41,601 [Thread-381] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5256FDE1638E-LeaderElection27
2022-08-26 17:03:41,601 [Thread-381] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5256FDE1638E-FollowerState
2022-08-26 17:03:41,602 [Thread-381] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-5256FDE1638E: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1784ms
2022-08-26 17:03:41,603 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s1#788:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-08-26 17:03:41,603 [Thread-379] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:3), 4, true, commits:[s0:c4, s1:c1, s2:c4], cId:903, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-08-26 17:03:41,604 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s1#903:OK-t1,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2022-08-26 17:03:41,638 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5256FDE1638E-LeaderElection27: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-08-26 17:03:41,638 [s1@group-5256FDE1638E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5256FDE1638E-LeaderElection27 PRE_VOTE round 7: result REJECTED
2022-08-26 17:03:41,669 [Thread-336] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-08-26 17:03:41,669 [Thread-336] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-C32924B2ABEC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1795ms
2022-08-26 17:03:43,503 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:43,503 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5256FDE1638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5256FDE1638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5256FDE1638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:43,504 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5256FDE1638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5256FDE1638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5256FDE1638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:43,504 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s0@group-5256FDE1638E: receive client request(RaftClientRequest:client-C84D3E5A71A5->s0@group-5256FDE1638E, cid=1102, seq=0, RW, message)
2022-08-26 17:03:43,505 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-5256FDE1638E-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C84D3E5A71A5->s0@group-5256FDE1638E, cid=1102, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 1102@client-C84D3E5A71A5
2022-08-26 17:03:43,505 [Thread-388] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:1104, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1102@client-C84D3E5A71A5]
2022-08-26 17:03:43,505 [Thread-381] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:1103, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1102@client-C84D3E5A71A5]
2022-08-26 17:03:43,506 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s1#1103:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-08-26 17:03:43,507 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s2#1104:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-08-26 17:03:43,507 [Thread-379] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:1105, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:43,511 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:43,511 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:43,511 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:43,511 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:43,511 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:43,512 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5256FDE1638E-SegmentedRaftLog:OPENED:c5, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5256FDE1638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5256FDE1638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:43,512 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s1#1105:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:43,512 [java.util.concurrent.ThreadPoolExecutor$Worker@4f3186d3[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:03:43,513 [java.util.concurrent.ThreadPoolExecutor$Worker@47d1f802[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:03:43,516 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-5256FDE1638E: shutdown
2022-08-26 17:03:43,516 [Thread-375] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,516 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5256FDE1638E,id=s1
2022-08-26 17:03:43,516 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5256FDE1638E-FollowerState
2022-08-26 17:03:43,516 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-5256FDE1638E-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:43,516 [s1@group-5256FDE1638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5256FDE1638E-FollowerState was interrupted
2022-08-26 17:03:43,516 [Thread-387] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c5, s2:c4], cId:1106, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:43,517 [Thread-376] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,516 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-5256FDE1638E: shutdown
2022-08-26 17:03:43,517 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5256FDE1638E,id=s0
2022-08-26 17:03:43,517 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-5256FDE1638E: applyIndex: 5
2022-08-26 17:03:43,516 [Thread-377] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,517 [Thread-383] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,517 [s1@group-5256FDE1638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-5256FDE1638E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:43,517 [Thread-382] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,517 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-5256FDE1638E-LeaderStateImpl
2022-08-26 17:03:43,517 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-5256FDE1638E-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:43,517 [Thread-372] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,517 [Thread-374] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,518 [Thread-373] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,517 [Thread-384] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,518 [s0@group-5256FDE1638E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-5256FDE1638E->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:43,517 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-5256FDE1638E: succeeded to handle AppendEntries. Reply: s0<-s2#1106:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:43,518 [Thread-379] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,519 [s0@group-5256FDE1638E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-5256FDE1638E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:43,519 [Thread-380] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,518 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@74f605e6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:03:43,519 [Thread-381] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,521 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@652a5fd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:03:43,521 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-5256FDE1638E-SegmentedRaftLogWorker close()
2022-08-26 17:03:43,522 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-5256FDE1638E-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:43,522 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-5256FDE1638E: applyIndex: 5
2022-08-26 17:03:43,523 [s0@group-5256FDE1638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-5256FDE1638E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:43,523 [java.util.concurrent.ThreadPoolExecutor$Worker@2dbeda1d[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:03:43,524 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-5256FDE1638E-SegmentedRaftLogWorker close()
2022-08-26 17:03:43,524 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-5256FDE1638E: shutdown
2022-08-26 17:03:43,524 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5256FDE1638E,id=s2
2022-08-26 17:03:43,524 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5256FDE1638E-FollowerState
2022-08-26 17:03:43,524 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-5256FDE1638E-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:43,524 [Thread-389] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,524 [Thread-390] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,524 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-5256FDE1638E: applyIndex: 5
2022-08-26 17:03:43,524 [s2@group-5256FDE1638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5256FDE1638E-FollowerState was interrupted
2022-08-26 17:03:43,524 [Thread-391] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,524 [s2@group-5256FDE1638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-5256FDE1638E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:43,525 [Thread-387] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,525 [Thread-386] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,525 [Thread-388] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:43,526 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@288a39f6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:03:43,526 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-5256FDE1638E-SegmentedRaftLogWorker close()
2022-08-26 17:03:43,526 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:43,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:43,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:43,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:43,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:43,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:43,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5256FDE1638E-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5256FDE1638E-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-5256FDE1638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5256FDE1638E-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:43715|client:localhost:38145|dataStream:localhost:44043|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45779|admin:localhost:42361|client:localhost:41091|dataStream:localhost:41445|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35125|admin:localhost:32923|client:localhost:41441|dataStream:localhost:42849|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-08-26 17:03:43,531 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:43,531 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:43,531 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:43,531 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:43,531 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:43,532 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:03:43,532 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-BB70B28367F4:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:43,532 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:43,532 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:43,532 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:43,532 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:43,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:43,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:43,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-BB70B28367F4:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:43,533 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0
2022-08-26 17:03:43,533 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0 does not exist.
2022-08-26 17:03:43,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0
2022-08-26 17:03:43,533 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:43,533 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:43,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:43,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:43,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:43,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:43,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0] (custom)
2022-08-26 17:03:43,534 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-BB70B28367F4:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER] returns group-BB70B28367F4:java.util.concurrent.CompletableFuture@4459a37e[Not completed]
2022-08-26 17:03:43,534 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-BB70B28367F4:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:43,535 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:43,535 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:43,535 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:43,535 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:43,535 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:43,535 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:43,535 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-BB70B28367F4:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:43,535 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1
2022-08-26 17:03:43,535 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-BB70B28367F4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:43,535 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1 does not exist.
2022-08-26 17:03:43,535 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1
2022-08-26 17:03:43,535 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:43,535 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:43,535 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:43,535 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:43,536 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:43,536 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:43,536 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:43,536 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:43,536 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:43,536 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:43,536 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:43,536 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1] (custom)
2022-08-26 17:03:43,536 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:43,537 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:43,537 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:43,537 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-BB70B28367F4:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER] returns group-BB70B28367F4:java.util.concurrent.CompletableFuture@309090f6[Not completed]
2022-08-26 17:03:43,537 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-BB70B28367F4:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:43,537 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-BB70B28367F4:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:43,537 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:43,537 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-BB70B28367F4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:43,537 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2
2022-08-26 17:03:43,538 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2 does not exist.
2022-08-26 17:03:43,538 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:43,538 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:43,539 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:43,539 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:43,539 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:43,540 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:43,540 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:43,540 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:43,540 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:43,540 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2] (custom)
2022-08-26 17:03:43,541 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-BB70B28367F4:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER] returns group-BB70B28367F4:java.util.concurrent.CompletableFuture@737cc0e0[Not completed]
2022-08-26 17:03:43,541 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-BB70B28367F4:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:43,541 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:43,541 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:43,541 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:43,541 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:43,541 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:43,541 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:43,541 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:43,541 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:43,541 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0] (custom)
2022-08-26 17:03:43,541 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-BB70B28367F4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:43,541 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:43,542 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:43,542 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:43,542 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0/7f791295-bd75-4e18-9d71-bb70b28367f4 does not exist. Creating ...
2022-08-26 17:03:43,542 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:43,542 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:43,542 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0/7f791295-bd75-4e18-9d71-bb70b28367f4
2022-08-26 17:03:43,542 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:43,542 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:43,542 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:43,547 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0/7f791295-bd75-4e18-9d71-bb70b28367f4/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:43,547 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0/7f791295-bd75-4e18-9d71-bb70b28367f4/current
2022-08-26 17:03:43,547 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0/7f791295-bd75-4e18-9d71-bb70b28367f4/sm
2022-08-26 17:03:43,548 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0/7f791295-bd75-4e18-9d71-bb70b28367f4 has been successfully formatted.
2022-08-26 17:03:43,548 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:43,548 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:43,548 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:43,548 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:43,548 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-BB70B28367F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0/7f791295-bd75-4e18-9d71-bb70b28367f4
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:43,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:43,550 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:43,550 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:43,550 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:43,550 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:43,550 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-BB70B28367F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:43,550 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-BB70B28367F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:43,550 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-BB70B28367F4: start as a follower, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,550 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-BB70B28367F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:43,551 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BB70B28367F4-FollowerState
2022-08-26 17:03:43,555 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BB70B28367F4,id=s0
2022-08-26 17:03:43,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:43,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:43,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:43,555 [s0@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:43,555 [s0@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:43,555 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:43,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:43,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:43,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1] (custom)
2022-08-26 17:03:43,557 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1/7f791295-bd75-4e18-9d71-bb70b28367f4 does not exist. Creating ...
2022-08-26 17:03:43,557 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1/7f791295-bd75-4e18-9d71-bb70b28367f4
2022-08-26 17:03:43,556 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@47dff959] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:43,558 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1/7f791295-bd75-4e18-9d71-bb70b28367f4/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:43,558 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1/7f791295-bd75-4e18-9d71-bb70b28367f4/current
2022-08-26 17:03:43,558 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1/7f791295-bd75-4e18-9d71-bb70b28367f4/sm
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1/7f791295-bd75-4e18-9d71-bb70b28367f4 has been successfully formatted.
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-BB70B28367F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1/7f791295-bd75-4e18-9d71-bb70b28367f4
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:43,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:43,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:43,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:43,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:43,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:43,560 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-BB70B28367F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:43,560 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-BB70B28367F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:43,561 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-BB70B28367F4: start as a follower, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,561 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-BB70B28367F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:43,561 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BB70B28367F4-FollowerState
2022-08-26 17:03:43,566 [s1@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:43,567 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BB70B28367F4,id=s1
2022-08-26 17:03:43,567 [s1@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:43,567 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:43,567 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:43,567 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:43,567 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:43,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:43,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:43,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2] (custom)
2022-08-26 17:03:43,568 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2/7f791295-bd75-4e18-9d71-bb70b28367f4 does not exist. Creating ...
2022-08-26 17:03:43,569 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2/7f791295-bd75-4e18-9d71-bb70b28367f4
2022-08-26 17:03:43,569 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@22dfcba4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:43,569 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2/7f791295-bd75-4e18-9d71-bb70b28367f4/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:43,570 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2/7f791295-bd75-4e18-9d71-bb70b28367f4/current
2022-08-26 17:03:43,570 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2/7f791295-bd75-4e18-9d71-bb70b28367f4/sm
2022-08-26 17:03:43,570 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2/7f791295-bd75-4e18-9d71-bb70b28367f4 has been successfully formatted.
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-BB70B28367F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2/7f791295-bd75-4e18-9d71-bb70b28367f4
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:43,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:43,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:43,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:43,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:43,572 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-BB70B28367F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:43,572 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-BB70B28367F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:43,572 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-BB70B28367F4: start as a follower, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,572 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-BB70B28367F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:43,572 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BB70B28367F4-FollowerState
2022-08-26 17:03:43,573 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BB70B28367F4,id=s2
2022-08-26 17:03:43,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:43,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:43,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:43,573 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:43,573 [s2@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:43,573 [s2@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:43,575 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@653ad71b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:43,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:43,575 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s0@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s1@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s2@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:43,575 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s0@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s1@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s2@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s0@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s1@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s2@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testAddListener(LeaderElectionTests.java:324)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:43,745 [s0@group-BB70B28367F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-BB70B28367F4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194878916ns, electionTimeout:190ms
2022-08-26 17:03:43,746 [s0@group-BB70B28367F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BB70B28367F4-FollowerState
2022-08-26 17:03:43,746 [s0@group-BB70B28367F4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-BB70B28367F4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:43,746 [s0@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:43,746 [s0@group-BB70B28367F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BB70B28367F4-LeaderElection36
2022-08-26 17:03:43,748 [s0@group-BB70B28367F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-BB70B28367F4-LeaderElection36 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,748 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:43,748 [Thread-482] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-BB70B28367F4: receive requestVote(PRE_VOTE, s0, group-BB70B28367F4, 0, (t:0, i:0))
2022-08-26 17:03:43,748 [Thread-482] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-BB70B28367F4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:43,748 [Thread-489] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-BB70B28367F4: receive requestVote(PRE_VOTE, s0, group-BB70B28367F4, 0, (t:0, i:0))
2022-08-26 17:03:43,748 [Thread-482] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-BB70B28367F4 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s1@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,749 [Thread-489] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-BB70B28367F4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:43,749 [Thread-489] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-BB70B28367F4 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-BB70B28367F4:t0, leader=null, voted=, raftlog=Memoized:s2@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,748 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:43,749 [s0@group-BB70B28367F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-BB70B28367F4-LeaderElection36: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:43,749 [s0@group-BB70B28367F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-08-26 17:03:43,750 [s0@group-BB70B28367F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-BB70B28367F4-LeaderElection36 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:43,752 [s0@group-BB70B28367F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-BB70B28367F4-LeaderElection36 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,752 [Thread-483] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-BB70B28367F4: receive requestVote(ELECTION, s0, group-BB70B28367F4, 1, (t:0, i:0))
2022-08-26 17:03:43,752 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:43,752 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:43,753 [Thread-483] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-BB70B28367F4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:43,753 [Thread-483] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-BB70B28367F4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:43,753 [Thread-483] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BB70B28367F4-FollowerState
2022-08-26 17:03:43,753 [Thread-483] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BB70B28367F4-FollowerState
2022-08-26 17:03:43,753 [s1@group-BB70B28367F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-BB70B28367F4-FollowerState was interrupted
2022-08-26 17:03:43,753 [Thread-490] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-BB70B28367F4: receive requestVote(ELECTION, s0, group-BB70B28367F4, 1, (t:0, i:0))
2022-08-26 17:03:43,754 [Thread-490] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-BB70B28367F4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:43,754 [Thread-490] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-BB70B28367F4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:43,754 [Thread-490] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BB70B28367F4-FollowerState
2022-08-26 17:03:43,754 [Thread-490] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BB70B28367F4-FollowerState
2022-08-26 17:03:43,754 [s2@group-BB70B28367F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BB70B28367F4-FollowerState was interrupted
2022-08-26 17:03:43,754 [s1@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:43,754 [s1@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:43,754 [s2@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:43,755 [s2@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:43,755 [Thread-483] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-BB70B28367F4 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-BB70B28367F4:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,755 [s0@group-BB70B28367F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-BB70B28367F4-LeaderElection36: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:43,755 [s0@group-BB70B28367F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-26 17:03:43,755 [s0@group-BB70B28367F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-BB70B28367F4-LeaderElection36 ELECTION round 0: result PASSED
2022-08-26 17:03:43,755 [s0@group-BB70B28367F4-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-BB70B28367F4-LeaderElection36
2022-08-26 17:03:43,755 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-BB70B28367F4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:43,755 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-BB70B28367F4: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 220ms
2022-08-26 17:03:43,755 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:43,755 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:43,755 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:43,756 [Thread-490] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-BB70B28367F4 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-BB70B28367F4:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-BB70B28367F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,756 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:43,756 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:43,756 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:43,756 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:43,756 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:43,757 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:43,757 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:43,757 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:43,757 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:43,757 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:43,763 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:43,763 [s0@group-BB70B28367F4-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BB70B28367F4-LeaderStateImpl
2022-08-26 17:03:43,763 [s0@group-BB70B28367F4-LeaderElection36] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-BB70B28367F4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:43,764 [Thread-484] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-BB70B28367F4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 226ms
2022-08-26 17:03:43,771 [s0@group-BB70B28367F4-LeaderElection36] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-BB70B28367F4: set configuration 0: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,772 [Thread-491] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-BB70B28367F4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 230ms
2022-08-26 17:03:43,772 [Thread-482] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1125, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36903"
dataStreamAddress: "localhost:35431"
clientAddress: "localhost:39755"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45935"
dataStreamAddress: "localhost:44625"
clientAddress: "localhost:39043"
adminAddress: "localhost:37003"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40977"
dataStreamAddress: "localhost:35195"
clientAddress: "localhost:43577"
adminAddress: "localhost:44125"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:43,772 [Thread-489] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1126, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36903"
dataStreamAddress: "localhost:35431"
clientAddress: "localhost:39755"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45935"
dataStreamAddress: "localhost:44625"
clientAddress: "localhost:39043"
adminAddress: "localhost:37003"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40977"
dataStreamAddress: "localhost:35195"
clientAddress: "localhost:43577"
adminAddress: "localhost:44125"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:43,774 [Thread-489] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-BB70B28367F4: set configuration 0: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,775 [Thread-489] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-BB70B28367F4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:43,774 [s0@group-BB70B28367F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-BB70B28367F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s0/7f791295-bd75-4e18-9d71-bb70b28367f4/current/log_inprogress_0
2022-08-26 17:03:43,774 [Thread-482] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-BB70B28367F4: set configuration 0: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:43,779 [Thread-482] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-BB70B28367F4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:43,794 [s2@group-BB70B28367F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-BB70B28367F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s2/7f791295-bd75-4e18-9d71-bb70b28367f4/current/log_inprogress_0
2022-08-26 17:03:43,795 [s1@group-BB70B28367F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-BB70B28367F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s1/7f791295-bd75-4e18-9d71-bb70b28367f4/current/log_inprogress_0
2022-08-26 17:03:43,795 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s2#1126:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:43,797 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s1#1125:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:44,026 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BB70B28367F4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BB70B28367F4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BB70B28367F4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BB70B28367F4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BB70B28367F4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BB70B28367F4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:44,026 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:44,027 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s0@group-BB70B28367F4: receive client request(RaftClientRequest:client-D36A4FD3C82F->s0@group-BB70B28367F4, cid=1153, seq=0, RW, message)
2022-08-26 17:03:44,028 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-BB70B28367F4-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D36A4FD3C82F->s0@group-BB70B28367F4, cid=1153, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1153@client-D36A4FD3C82F
2022-08-26 17:03:44,029 [Thread-483] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1154, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1153@client-D36A4FD3C82F]
2022-08-26 17:03:44,029 [Thread-490] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1155, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1153@client-D36A4FD3C82F]
2022-08-26 17:03:44,030 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s2#1155:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:44,030 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s1#1154:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:44,030 [Thread-484] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1157, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:44,031 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(462)) - Add new peers [s3]
2022-08-26 17:03:44,031 [Thread-491] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1156, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:44,031 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s1#1157:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:44,031 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s3, group-BB70B28367F4:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:44,032 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3
2022-08-26 17:03:44,032 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3 does not exist.
2022-08-26 17:03:44,032 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3
2022-08-26 17:03:44,032 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s2#1156:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:44,032 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:44,032 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:44,032 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:44,032 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:44,032 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:44,032 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:44,032 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3] (custom)
2022-08-26 17:03:44,034 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s3: addNew group-BB70B28367F4:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER] returns group-BB70B28367F4:java.util.concurrent.CompletableFuture@49cbbc22[Not completed]
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s3: new RaftServerImpl for group-BB70B28367F4:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s3@group-BB70B28367F4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:44,035 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:44,036 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:44,036 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:44,036 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:44,036 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:44,036 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:44,036 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:44,036 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:44,036 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3] (custom)
2022-08-26 17:03:44,037 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3/7f791295-bd75-4e18-9d71-bb70b28367f4 does not exist. Creating ...
2022-08-26 17:03:44,037 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3/7f791295-bd75-4e18-9d71-bb70b28367f4
2022-08-26 17:03:44,038 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3/7f791295-bd75-4e18-9d71-bb70b28367f4/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:44,038 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3/7f791295-bd75-4e18-9d71-bb70b28367f4/current
2022-08-26 17:03:44,038 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3/7f791295-bd75-4e18-9d71-bb70b28367f4/sm
2022-08-26 17:03:44,039 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3/7f791295-bd75-4e18-9d71-bb70b28367f4 has been successfully formatted.
2022-08-26 17:03:44,039 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:44,039 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:44,039 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:44,039 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:44,039 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:44,039 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s3@group-BB70B28367F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3/7f791295-bd75-4e18-9d71-bb70b28367f4
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:44,040 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:44,041 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:44,041 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:44,041 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:44,041 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s3@group-BB70B28367F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:44,041 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s3@group-BB70B28367F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:44,042 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(331)) - s3@group-BB70B28367F4: start as a listener, conf=-1: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:03:44,042 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-BB70B28367F4: changes role from      null to LISTENER at term 0 for startAsListener
2022-08-26 17:03:44,042 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-BB70B28367F4-FollowerState
2022-08-26 17:03:44,047 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BB70B28367F4,id=s3
2022-08-26 17:03:44,047 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:44,047 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:44,047 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:44,047 [s3@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:44,047 [s3@group-BB70B28367F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:44,047 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s3: start RPC server
2022-08-26 17:03:44,049 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@160f5f3a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-08-26 17:03:44,049 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1106)) - s0@group-BB70B28367F4: receive setConfiguration SetConfigurationRequest:client-D36A4FD3C82F->s0@group-BB70B28367F4, cid=1158, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[s3|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:44,049 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s0@group-BB70B28367F4-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-D36A4FD3C82F->s0@group-BB70B28367F4, cid=1158, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[s3|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:44,049 [s0-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:44,050 [s0-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:44,050 [s0-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:44,051 [s0@group-BB70B28367F4->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(118)) - Follower s0@group-BB70B28367F4->s3 acknowledged installing snapshot
2022-08-26 17:03:44,052 [Thread-520] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-BB70B28367F4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 16ms
2022-08-26 17:03:44,055 [Thread-521] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-BB70B28367F4: receive appendEntries(s0, 1, null, 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c-1], cId:1163, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36903"
dataStreamAddress: "localhost:35431"
clientAddress: "localhost:39755"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45935"
dataStreamAddress: "localhost:44625"
clientAddress: "localhost:39043"
adminAddress: "localhost:37003"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40977"
dataStreamAddress: "localhost:35195"
clientAddress: "localhost:43577"
adminAddress: "localhost:44125"
startupRole: FOLLOWER
, old:), (t:1, i:1), STATEMACHINELOGENTRY, 1153@client-D36A4FD3C82F, (t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:44,056 [Thread-521] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s3@group-BB70B28367F4: set configuration 0: peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,056 [Thread-521] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s3@group-BB70B28367F4-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:44,066 [s3@group-BB70B28367F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s3@group-BB70B28367F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcd0e6d625/s3/7f791295-bd75-4e18-9d71-bb70b28367f4/current/log_inprogress_0
2022-08-26 17:03:44,068 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s3#1163:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2022-08-26 17:03:44,070 [s0@group-BB70B28367F4-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-BB70B28367F4: set configuration 3: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:44,072 [Thread-489] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1, s3:c2], cId:1164, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:36903"
dataStreamAddress: "localhost:35431"
clientAddress: "localhost:39755"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45935"
dataStreamAddress: "localhost:44625"
clientAddress: "localhost:39043"
adminAddress: "localhost:37003"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40977"
dataStreamAddress: "localhost:35195"
clientAddress: "localhost:43577"
adminAddress: "localhost:44125"
startupRole: FOLLOWER
)]
2022-08-26 17:03:44,072 [Thread-489] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-BB70B28367F4: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:44,073 [Thread-482] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1, s3:c2], cId:1165, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:36903"
dataStreamAddress: "localhost:35431"
clientAddress: "localhost:39755"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45935"
dataStreamAddress: "localhost:44625"
clientAddress: "localhost:39043"
adminAddress: "localhost:37003"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40977"
dataStreamAddress: "localhost:35195"
clientAddress: "localhost:43577"
adminAddress: "localhost:44125"
startupRole: FOLLOWER
)]
2022-08-26 17:03:44,073 [Thread-482] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-BB70B28367F4: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:44,074 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s2#1164:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:44,074 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s1#1165:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:44,080 [Thread-483] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2, s3:c2], cId:1166, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-08-26 17:03:44,080 [Thread-490] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2, s3:c2], cId:1167, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-08-26 17:03:44,080 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s1#1166:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-08-26 17:03:44,081 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s2#1167:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-08-26 17:03:44,083 [Thread-522] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:2), 3, false, commits:[s0:c3, s1:c3, s2:c3, s3:c2], cId:1168, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:36903"
dataStreamAddress: "localhost:35431"
clientAddress: "localhost:39755"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45935"
dataStreamAddress: "localhost:44625"
clientAddress: "localhost:39043"
adminAddress: "localhost:37003"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40977"
dataStreamAddress: "localhost:35195"
clientAddress: "localhost:43577"
adminAddress: "localhost:44125"
startupRole: FOLLOWER
), (t:1, i:4), METADATAENTRY(c:3)]
2022-08-26 17:03:44,083 [Thread-522] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s3@group-BB70B28367F4: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:36903|admin:localhost:44437|client:localhost:39755|dataStream:localhost:35431|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45935|admin:localhost:37003|client:localhost:39043|dataStream:localhost:44625|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40977|admin:localhost:44125|client:localhost:43577|dataStream:localhost:35195|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:44,084 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s3#1168:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-08-26 17:03:44,084 [s0@group-BB70B28367F4-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-BB70B28367F4: set configuration 5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null
2022-08-26 17:03:44,085 [Thread-484] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:4), 3, true, commits:[s0:c3, s1:c3, s2:c3, s3:c2], cId:1169, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:44,085 [Thread-484] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-BB70B28367F4: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2022-08-26 17:03:44,085 [Thread-491] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:4), 3, true, commits:[s0:c3, s1:c3, s2:c3, s3:c2], cId:1170, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:44,086 [Thread-491] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-BB70B28367F4: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2022-08-26 17:03:44,086 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s1#1169:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:44,086 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s2#1170:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:44,087 [Thread-482] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3, s3:c2], cId:1171, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:44,087 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s1#1171:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:44,087 [Thread-489] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3, s3:c2], cId:1172, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:44,088 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s2#1172:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:44,091 [Thread-520] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-BB70B28367F4: receive appendEntries(s0, 1, (t:1, i:4), 6, false, commits:[s0:c6, s1:c5, s2:c5, s3:c3], cId:1175, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:), (t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:44,091 [Thread-520] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s3@group-BB70B28367F4: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2022-08-26 17:03:44,092 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-BB70B28367F4: succeeded to handle AppendEntries. Reply: s0<-s3#1175:OK-t1,SUCCESS,nextIndex=7,followerCommit=6,matchIndex=6
2022-08-26 17:03:44,092 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:44,093 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:44,093 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:44,093 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:44,093 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:44,093 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-BB70B28367F4:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-BB70B28367F4-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-BB70B28367F4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BB70B28367F4-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BB70B28367F4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BB70B28367F4-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BB70B28367F4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BB70B28367F4-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
2022-08-26 17:03:44,094 [java.util.concurrent.ThreadPoolExecutor$Worker@3e9171b0[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:03:44,094 [java.util.concurrent.ThreadPoolExecutor$Worker@528b1254[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s3: close
2022-08-26 17:03:44,094 [java.util.concurrent.ThreadPoolExecutor$Worker@2a4beb07[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:03:44,098 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s3@group-BB70B28367F4: shutdown
2022-08-26 17:03:44,100 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BB70B28367F4,id=s3
2022-08-26 17:03:44,100 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-BB70B28367F4-FollowerState
2022-08-26 17:03:44,100 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-BB70B28367F4-StateMachineUpdater: set stopIndex = 6
2022-08-26 17:03:44,098 [Thread-480] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,098 [Thread-479] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,098 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-BB70B28367F4: shutdown
2022-08-26 17:03:44,101 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BB70B28367F4,id=s0
2022-08-26 17:03:44,101 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-BB70B28367F4-LeaderStateImpl
2022-08-26 17:03:44,101 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-BB70B28367F4-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:44,101 [s0@group-BB70B28367F4->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-BB70B28367F4->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:44,101 [s0@group-BB70B28367F4->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-BB70B28367F4->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:44,101 [s0@group-BB70B28367F4->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-BB70B28367F4->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:44,098 [Thread-478] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,102 [Thread-476] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,102 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s3@group-BB70B28367F4: applyIndex: 6
2022-08-26 17:03:44,102 [s3@group-BB70B28367F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s3@group-BB70B28367F4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:44,102 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-BB70B28367F4: shutdown
2022-08-26 17:03:44,102 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BB70B28367F4,id=s1
2022-08-26 17:03:44,102 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BB70B28367F4-FollowerState
2022-08-26 17:03:44,102 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-BB70B28367F4-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:44,102 [s1@group-BB70B28367F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-BB70B28367F4-FollowerState was interrupted
2022-08-26 17:03:44,102 [Thread-525] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,103 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-BB70B28367F4: applyIndex: 5
2022-08-26 17:03:44,103 [Thread-475] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,103 [s1@group-BB70B28367F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-BB70B28367F4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:44,103 [s3@group-BB70B28367F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-BB70B28367F4-FollowerState was interrupted
2022-08-26 17:03:44,103 [Thread-477] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,103 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@47dff959] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:03:44,103 [Thread-523] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,103 [Thread-524] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,103 [Thread-521] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,103 [Thread-520] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,103 [Thread-522] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,103 [Thread-485] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,104 [Thread-486] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,104 [Thread-487] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,104 [Thread-482] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,104 [Thread-483] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,104 [Thread-484] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,104 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@22dfcba4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:03:44,105 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@160f5f3a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-08-26 17:03:44,107 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-BB70B28367F4-StateMachineUpdater: set stopIndex = 6
2022-08-26 17:03:44,107 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-BB70B28367F4: applyIndex: 6
2022-08-26 17:03:44,107 [s0@group-BB70B28367F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-BB70B28367F4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:44,107 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s3@group-BB70B28367F4-SegmentedRaftLogWorker close()
2022-08-26 17:03:44,108 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-BB70B28367F4-SegmentedRaftLogWorker close()
2022-08-26 17:03:44,109 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-BB70B28367F4-SegmentedRaftLogWorker close()
2022-08-26 17:03:44,112 [java.util.concurrent.ThreadPoolExecutor$Worker@40f4d7ae[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:03:44,114 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-BB70B28367F4: shutdown
2022-08-26 17:03:44,114 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BB70B28367F4,id=s2
2022-08-26 17:03:44,115 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BB70B28367F4-FollowerState
2022-08-26 17:03:44,115 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-BB70B28367F4-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:44,115 [s2@group-BB70B28367F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BB70B28367F4-FollowerState was interrupted
2022-08-26 17:03:44,115 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-BB70B28367F4: applyIndex: 5
2022-08-26 17:03:44,115 [s2@group-BB70B28367F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-BB70B28367F4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:44,116 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-BB70B28367F4-SegmentedRaftLogWorker close()
2022-08-26 17:03:44,118 [Thread-492] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,119 [Thread-493] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,119 [Thread-494] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,119 [Thread-489] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,119 [Thread-490] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,119 [Thread-491] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:44,119 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@653ad71b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:03:44,120 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:44,120 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:44,120 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:44,120 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:44,120 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:44,120 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:44,120 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-BB70B28367F4:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-BB70B28367F4-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-BB70B28367F4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BB70B28367F4-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-BB70B28367F4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BB70B28367F4-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-BB70B28367F4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BB70B28367F4-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
2022-08-26 17:03:44,123 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:44,123 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:44,123 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:44,123 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:44,123 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:44,124 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:03:44,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-6887C13115BA:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:44,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:44,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:44,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:44,126 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:44,126 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:44,126 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:44,126 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-6887C13115BA:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:44,126 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0
2022-08-26 17:03:44,126 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0 does not exist.
2022-08-26 17:03:44,126 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0
2022-08-26 17:03:44,126 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:44,126 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:44,127 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:44,127 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:44,127 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:44,127 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:44,127 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0] (custom)
2022-08-26 17:03:44,127 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-6887C13115BA:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] returns group-6887C13115BA:java.util.concurrent.CompletableFuture@11a0c0c9[Not completed]
2022-08-26 17:03:44,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-6887C13115BA:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:44,127 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1
2022-08-26 17:03:44,128 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1 does not exist.
2022-08-26 17:03:44,128 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1
2022-08-26 17:03:44,128 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:44,128 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:44,128 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:44,128 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:44,128 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:44,128 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:44,128 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1] (custom)
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-6887C13115BA:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-6887C13115BA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:44,129 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:44,130 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:44,130 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:44,130 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:44,130 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:44,130 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:44,132 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-6887C13115BA:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] returns group-6887C13115BA:java.util.concurrent.CompletableFuture@65bcdd7c[Not completed]
2022-08-26 17:03:44,132 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-6887C13115BA:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:44,132 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2
2022-08-26 17:03:44,132 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-6887C13115BA:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:44,132 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2 does not exist.
2022-08-26 17:03:44,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2
2022-08-26 17:03:44,134 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:44,135 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:44,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:44,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:44,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:44,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:44,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2] (custom)
2022-08-26 17:03:44,136 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:44,136 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:44,136 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:44,136 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:44,136 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:44,136 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:44,137 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-6887C13115BA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:44,137 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:44,137 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:44,137 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:44,137 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:44,137 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:44,137 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:44,137 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:44,137 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:44,138 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-6887C13115BA:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] returns group-6887C13115BA:java.util.concurrent.CompletableFuture@77b1c208[Not completed]
2022-08-26 17:03:44,138 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-6887C13115BA:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:44,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:44,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:44,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0] (custom)
2022-08-26 17:03:44,139 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0/6b586e10-e58c-42e6-b535-6887c13115ba does not exist. Creating ...
2022-08-26 17:03:44,139 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0/6b586e10-e58c-42e6-b535-6887c13115ba
2022-08-26 17:03:44,139 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:44,139 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:44,140 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:44,140 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:44,140 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:44,140 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:44,140 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-6887C13115BA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:44,140 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:44,140 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:44,140 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:44,140 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0/6b586e10-e58c-42e6-b535-6887c13115ba/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:44,140 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0/6b586e10-e58c-42e6-b535-6887c13115ba/current
2022-08-26 17:03:44,140 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0/6b586e10-e58c-42e6-b535-6887c13115ba/sm
2022-08-26 17:03:44,141 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:44,141 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:44,141 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0/6b586e10-e58c-42e6-b535-6887c13115ba has been successfully formatted.
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-6887C13115BA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0/6b586e10-e58c-42e6-b535-6887c13115ba
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:44,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:44,143 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:44,143 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:44,143 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:44,143 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:44,143 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:44,143 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-6887C13115BA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:44,143 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-6887C13115BA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:44,143 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:44,143 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:44,143 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:44,144 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-6887C13115BA: start as a follower, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,144 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6887C13115BA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:44,144 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6887C13115BA-FollowerState
2022-08-26 17:03:44,145 [s0@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:44,145 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6887C13115BA,id=s0
2022-08-26 17:03:44,145 [s0@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:44,145 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:44,145 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:44,145 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:44,145 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:44,146 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@74e5a6bf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:44,146 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:44,146 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:44,146 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1] (custom)
2022-08-26 17:03:44,147 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1/6b586e10-e58c-42e6-b535-6887c13115ba does not exist. Creating ...
2022-08-26 17:03:44,147 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1/6b586e10-e58c-42e6-b535-6887c13115ba
2022-08-26 17:03:44,148 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1/6b586e10-e58c-42e6-b535-6887c13115ba/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:44,148 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1/6b586e10-e58c-42e6-b535-6887c13115ba/current
2022-08-26 17:03:44,148 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1/6b586e10-e58c-42e6-b535-6887c13115ba/sm
2022-08-26 17:03:44,149 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1/6b586e10-e58c-42e6-b535-6887c13115ba has been successfully formatted.
2022-08-26 17:03:44,149 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:44,149 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:44,149 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:44,149 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:44,149 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:44,149 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-6887C13115BA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1/6b586e10-e58c-42e6-b535-6887c13115ba
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-6887C13115BA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:44,150 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-6887C13115BA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:44,151 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-6887C13115BA: start as a follower, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,152 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6887C13115BA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:44,152 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6887C13115BA-FollowerState
2022-08-26 17:03:44,152 [s1@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:44,152 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6887C13115BA,id=s1
2022-08-26 17:03:44,152 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:44,152 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:44,152 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:44,152 [s1@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:44,152 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:44,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:44,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:44,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2] (custom)
2022-08-26 17:03:44,153 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2/6b586e10-e58c-42e6-b535-6887c13115ba does not exist. Creating ...
2022-08-26 17:03:44,154 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2/6b586e10-e58c-42e6-b535-6887c13115ba
2022-08-26 17:03:44,154 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@69096616] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:44,155 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2/6b586e10-e58c-42e6-b535-6887c13115ba/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:44,155 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2/6b586e10-e58c-42e6-b535-6887c13115ba/current
2022-08-26 17:03:44,155 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2/6b586e10-e58c-42e6-b535-6887c13115ba/sm
2022-08-26 17:03:44,155 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2/6b586e10-e58c-42e6-b535-6887c13115ba has been successfully formatted.
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-6887C13115BA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2/6b586e10-e58c-42e6-b535-6887c13115ba
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:44,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:44,157 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:44,157 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:44,157 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:44,157 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:44,157 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-6887C13115BA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:44,157 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-6887C13115BA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:44,157 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-6887C13115BA: start as a follower, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,157 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6887C13115BA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:44,157 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6887C13115BA-FollowerState
2022-08-26 17:03:44,158 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6887C13115BA,id=s2
2022-08-26 17:03:44,158 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:44,158 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:44,158 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:44,158 [s2@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:44,158 [s2@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:44,158 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:44,163 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@30c36be2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:44,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:44,164 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s0@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s1@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s2@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:44,164 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s0@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s1@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s2@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s0@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s1@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s2@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeaderTimeout(LeaderElectionTests.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:44,348 [s1@group-6887C13115BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-6887C13115BA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:195957490ns, electionTimeout:195ms
2022-08-26 17:03:44,348 [s1@group-6887C13115BA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6887C13115BA-FollowerState
2022-08-26 17:03:44,348 [s1@group-6887C13115BA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6887C13115BA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:44,348 [s1@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:44,348 [s1@group-6887C13115BA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6887C13115BA-LeaderElection37
2022-08-26 17:03:44,349 [s1@group-6887C13115BA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-6887C13115BA-LeaderElection37 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,349 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:44,349 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:44,349 [Thread-542] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6887C13115BA: receive requestVote(PRE_VOTE, s1, group-6887C13115BA, 0, (t:0, i:0))
2022-08-26 17:03:44,349 [Thread-542] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6887C13115BA-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:44,350 [Thread-542] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6887C13115BA replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s0@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,350 [s1@group-6887C13115BA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-6887C13115BA-LeaderElection37: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:44,350 [s1@group-6887C13115BA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-26 17:03:44,350 [s1@group-6887C13115BA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-6887C13115BA-LeaderElection37 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:44,350 [Thread-556] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6887C13115BA: receive requestVote(PRE_VOTE, s1, group-6887C13115BA, 0, (t:0, i:0))
2022-08-26 17:03:44,350 [Thread-556] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6887C13115BA-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:44,351 [Thread-556] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6887C13115BA replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-6887C13115BA:t0, leader=null, voted=, raftlog=Memoized:s2@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,351 [s1@group-6887C13115BA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-6887C13115BA-LeaderElection37 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,352 [Thread-543] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6887C13115BA: receive requestVote(ELECTION, s1, group-6887C13115BA, 1, (t:0, i:0))
2022-08-26 17:03:44,352 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:44,352 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:44,352 [Thread-543] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6887C13115BA-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:44,352 [Thread-543] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6887C13115BA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-26 17:03:44,352 [Thread-543] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6887C13115BA-FollowerState
2022-08-26 17:03:44,352 [Thread-543] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6887C13115BA-FollowerState
2022-08-26 17:03:44,352 [s0@group-6887C13115BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-6887C13115BA-FollowerState was interrupted
2022-08-26 17:03:44,353 [Thread-557] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6887C13115BA: receive requestVote(ELECTION, s1, group-6887C13115BA, 1, (t:0, i:0))
2022-08-26 17:03:44,355 [Thread-557] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6887C13115BA-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:44,355 [Thread-557] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6887C13115BA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-26 17:03:44,355 [Thread-557] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-6887C13115BA-FollowerState
2022-08-26 17:03:44,355 [Thread-557] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6887C13115BA-FollowerState
2022-08-26 17:03:44,355 [s2@group-6887C13115BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-6887C13115BA-FollowerState was interrupted
2022-08-26 17:03:44,355 [Thread-543] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6887C13115BA replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-6887C13115BA:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,355 [s1@group-6887C13115BA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-6887C13115BA-LeaderElection37: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:44,355 [s1@group-6887C13115BA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-6887C13115BA-LeaderElection37 ELECTION round 0: result PASSED
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-6887C13115BA-LeaderElection37
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6887C13115BA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6887C13115BA: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 219ms
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:44,356 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:44,357 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:44,357 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:44,357 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:44,357 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:44,357 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:44,357 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:44,357 [s1@group-6887C13115BA-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6887C13115BA-LeaderStateImpl
2022-08-26 17:03:44,357 [s1@group-6887C13115BA-LeaderElection37] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-6887C13115BA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:44,358 [Thread-557] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6887C13115BA replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-6887C13115BA:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-6887C13115BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,358 [s2@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:44,359 [s2@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:44,362 [s0@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:44,362 [s0@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:44,365 [s1@group-6887C13115BA-LeaderElection37] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-6887C13115BA: set configuration 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,366 [Thread-544] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6887C13115BA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 236ms
2022-08-26 17:03:44,366 [Thread-558] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-6887C13115BA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 226ms
2022-08-26 17:03:44,367 [Thread-556] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1195, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34829"
dataStreamAddress: "localhost:42801"
clientAddress: "localhost:41695"
adminAddress: "localhost:42271"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45275"
dataStreamAddress: "localhost:36597"
clientAddress: "localhost:35515"
adminAddress: "localhost:43479"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40201"
dataStreamAddress: "localhost:36263"
clientAddress: "localhost:41847"
adminAddress: "localhost:45085"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:44,367 [Thread-542] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6887C13115BA: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1194, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34829"
dataStreamAddress: "localhost:42801"
clientAddress: "localhost:41695"
adminAddress: "localhost:42271"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45275"
dataStreamAddress: "localhost:36597"
clientAddress: "localhost:35515"
adminAddress: "localhost:43479"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40201"
dataStreamAddress: "localhost:36263"
clientAddress: "localhost:41847"
adminAddress: "localhost:45085"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:44,367 [Thread-556] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-6887C13115BA: set configuration 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,368 [Thread-556] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-6887C13115BA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:44,370 [s1@group-6887C13115BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-6887C13115BA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s1/6b586e10-e58c-42e6-b535-6887c13115ba/current/log_inprogress_0
2022-08-26 17:03:44,371 [Thread-542] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-6887C13115BA: set configuration 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,371 [Thread-542] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-6887C13115BA-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:44,384 [s2@group-6887C13115BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-6887C13115BA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s2/6b586e10-e58c-42e6-b535-6887c13115ba/current/log_inprogress_0
2022-08-26 17:03:44,385 [s0@group-6887C13115BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-6887C13115BA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca0a4fdf8/s0/6b586e10-e58c-42e6-b535-6887c13115ba/current/log_inprogress_0
2022-08-26 17:03:44,385 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: succeeded to handle AppendEntries. Reply: s1<-s2#1195:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:44,385 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6887C13115BA: succeeded to handle AppendEntries. Reply: s1<-s0#1194:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:44,615 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6887C13115BA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-6887C13115BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-6887C13115BA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-6887C13115BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6887C13115BA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-6887C13115BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:44,615 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:44,616 [Thread-542] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-08-26 17:03:44,616 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1106)) - s1@group-6887C13115BA: receive setConfiguration SetConfigurationRequest:client-21A0C570FCC1->s1@group-6887C13115BA, cid=1219, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-08-26 17:03:44,616 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s1@group-6887C13115BA-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-21A0C570FCC1->s1@group-6887C13115BA, cid=1219, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-08-26 17:03:44,617 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-6887C13115BA: set configuration 1: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:44,618 [Thread-557] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:1223, entries: [(t:1, i:1), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:34829"
dataStreamAddress: "localhost:42801"
clientAddress: "localhost:41695"
adminAddress: "localhost:42271"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45275"
dataStreamAddress: "localhost:36597"
clientAddress: "localhost:35515"
adminAddress: "localhost:43479"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40201"
dataStreamAddress: "localhost:36263"
clientAddress: "localhost:41847"
adminAddress: "localhost:45085"
startupRole: FOLLOWER
)]
2022-08-26 17:03:44,618 [Thread-557] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-6887C13115BA: set configuration 1: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:44,619 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: succeeded to handle AppendEntries. Reply: s1<-s2#1223:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:44,620 [s1@group-6887C13115BA-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-6887C13115BA: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,620 [Thread-558] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:1224, entries: [(t:1, i:2), METADATAENTRY(c:1), (t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:44,621 [Thread-558] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-6887C13115BA: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:44,621 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: succeeded to handle AppendEntries. Reply: s1<-s2#1224:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-08-26 17:03:44,623 [Thread-556] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c0, s2:c1], cId:1225, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2022-08-26 17:03:44,623 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: succeeded to handle AppendEntries. Reply: s1<-s2#1225:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-08-26 17:03:44,625 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(998)) - s1@group-6887C13115BA: receive transferLeadership TransferLeadershipRequest:client-21A0C570FCC1->s1@group-6887C13115BA, cid=1226, seq=0, RO, null
2022-08-26 17:03:44,627 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s1@group-6887C13115BA: receive client request(RaftClientRequest:client-21A0C570FCC1->s1@group-6887C13115BA, cid=1227, seq=0, RW, message)
2022-08-26 17:03:44,769 [s0@group-6887C13115BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6887C13115BA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:230045240ns, electionTimeout:193ms
2022-08-26 17:03:44,769 [s0@group-6887C13115BA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6887C13115BA-FollowerState
2022-08-26 17:03:44,769 [s0@group-6887C13115BA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6887C13115BA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:44,770 [s0@group-6887C13115BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:44,770 [s0@group-6887C13115BA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6887C13115BA-LeaderElection38
2022-08-26 17:03:44,770 [s0@group-6887C13115BA-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6887C13115BA: change Leader from s1 to null at term 1 for PRE_VOTE
2022-08-26 17:03:44,770 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:45,000 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:45,000 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 0: result TIMEOUT
2022-08-26 17:03:45,000 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:45,269 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:45,269 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 1: result TIMEOUT
2022-08-26 17:03:45,269 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:45,537 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:45,538 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 2: result TIMEOUT
2022-08-26 17:03:45,538 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:45,825 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:45,825 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 3: result TIMEOUT
2022-08-26 17:03:45,825 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:46,084 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:46,084 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 4: result TIMEOUT
2022-08-26 17:03:46,084 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:46,293 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:46,293 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 5: result TIMEOUT
2022-08-26 17:03:46,293 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:46,456 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:46,456 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 6: result TIMEOUT
2022-08-26 17:03:46,456 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:46,631 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:46,631 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 7: result TIMEOUT
2022-08-26 17:03:46,631 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 8: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:46,918 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:46,919 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 8: result TIMEOUT
2022-08-26 17:03:46,919 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 9: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:47,169 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:47,169 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 9: result TIMEOUT
2022-08-26 17:03:47,169 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 10: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:47,336 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:47,336 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 10: result TIMEOUT
2022-08-26 17:03:47,336 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 11: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:47,501 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:47,501 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 11: result TIMEOUT
2022-08-26 17:03:47,501 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 12: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:47,616 [s1@group-6887C13115BA->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(86)) - s1@group-6887C13115BA->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@3b507be5
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:76)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:152)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:47,629 [Thread-587] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-21A0C570FCC1: suggested new leader: null. Failed TransferLeadershipRequest:client-21A0C570FCC1->s1@group-6887C13115BA, cid=1226, seq=0, RO, null with {}
java.io.IOException: Timeout while waiting for reply of request TransferLeadershipRequest:client-21A0C570FCC1->s1@group-6887C13115BA, cid=1226, seq=0, RO, null
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:134)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:99)
	at org.apache.ratis.client.impl.AdminImpl.transferLeadership(AdminImpl.java:53)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testTransferLeaderTimeout$1(LeaderElectionTests.java:188)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:47,630 [Thread-587] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-21A0C570FCC1: oldLeader=s1,  curLeader=s1, newLeader=s2
2022-08-26 17:03:47,630 [Thread-587] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-6887C13115BA client-21A0C570FCC1: client change Leader from s1 to s2 ex=java.io.IOException
2022-08-26 17:03:47,642 [Thread-543] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-08-26 17:03:47,673 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:47,673 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 12: result TIMEOUT
2022-08-26 17:03:47,673 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 13: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:47,732 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(998)) - s2@group-6887C13115BA: receive transferLeadership TransferLeadershipRequest:client-21A0C570FCC1->s2@group-6887C13115BA, cid=1226, seq=0, RO, null
2022-08-26 17:03:47,733 [Thread-587] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-21A0C570FCC1: suggested new leader: s1. Failed TransferLeadershipRequest:client-21A0C570FCC1->s2@group-6887C13115BA, cid=1226, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-6887C13115BA is not the leader s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:722)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:687)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:1003)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$transferLeadershipAsync$24(RaftServerProxy.java:609)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:803)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:47,733 [Thread-587] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-21A0C570FCC1: oldLeader=s2,  curLeader=s2, newLeader=s1
2022-08-26 17:03:47,733 [Thread-587] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-6887C13115BA client-21A0C570FCC1: client change Leader from s2 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-08-26 17:03:47,834 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(998)) - s1@group-6887C13115BA: receive transferLeadership TransferLeadershipRequest:client-21A0C570FCC1->s1@group-6887C13115BA, cid=1226, seq=0, RO, null
2022-08-26 17:03:47,882 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:47,883 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 13: result TIMEOUT
2022-08-26 17:03:47,883 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 14: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:48,169 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:48,169 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 14: result TIMEOUT
2022-08-26 17:03:48,170 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 15: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:48,338 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:48,338 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 15: result TIMEOUT
2022-08-26 17:03:48,338 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 16: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:48,533 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:48,533 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 16: result TIMEOUT
2022-08-26 17:03:48,533 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 17: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:48,706 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:48,706 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 17: result TIMEOUT
2022-08-26 17:03:48,706 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 18: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:48,906 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:48,907 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 18: result TIMEOUT
2022-08-26 17:03:48,907 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 19: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,176 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:49,176 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 19: result TIMEOUT
2022-08-26 17:03:49,177 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 20: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,445 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-08-26 17:03:49,445 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 20: result TIMEOUT
2022-08-26 17:03:49,446 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 21: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,630 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s1@group-6887C13115BA: receive client request(RaftClientRequest:client-21A0C570FCC1->s1@group-6887C13115BA, cid=1625, seq=0, RW, message)
2022-08-26 17:03:49,631 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s1@group-6887C13115BA-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-21A0C570FCC1->s1@group-6887C13115BA, cid=1625, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 1625@client-21A0C570FCC1
2022-08-26 17:03:49,631 [Thread-558] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: receive appendEntries(s1, 1, (t:1, i:4), 4, true, commits:[s1:c4, s0:c0, s2:c4], cId:1626, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1625@client-21A0C570FCC1]
2022-08-26 17:03:49,632 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: succeeded to handle AppendEntries. Reply: s1<-s2#1626:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-08-26 17:03:49,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:49,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:49,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:49,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:49,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:49,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-6887C13115BA:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-6887C13115BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-6887C13115BA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-6887C13115BA-SegmentedRaftLog:OPENED:c5, conf=3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6887C13115BA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-6887C13115BA-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:49,633 [Thread-556] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c0, s2:c4], cId:1627, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:49,634 [java.util.concurrent.ThreadPoolExecutor$Worker@77cd78c5[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:03:49,637 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6887C13115BA: succeeded to handle AppendEntries. Reply: s1<-s2#1627:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:49,637 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-6887C13115BA: shutdown
2022-08-26 17:03:49,637 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6887C13115BA,id=s0
2022-08-26 17:03:49,637 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6887C13115BA-LeaderElection38
2022-08-26 17:03:49,637 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-6887C13115BA-StateMachineUpdater: set stopIndex = 0
2022-08-26 17:03:49,637 [Thread-545] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,637 [Thread-547] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,638 [Thread-546] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,638 [java.util.concurrent.ThreadPoolExecutor$Worker@1831e011[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:03:49,638 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-6887C13115BA: shutdown
2022-08-26 17:03:49,638 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6887C13115BA,id=s1
2022-08-26 17:03:49,638 [Thread-543] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-08-26 17:03:49,638 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-6887C13115BA-LeaderStateImpl
2022-08-26 17:03:49,639 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-6887C13115BA-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:49,639 [s1@group-6887C13115BA->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-6887C13115BA->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:49,638 [Thread-542] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-08-26 17:03:49,640 [Thread-552] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,640 [java.util.concurrent.ThreadPoolExecutor$Worker@3dd05f4e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:03:49,640 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-6887C13115BA: shutdown
2022-08-26 17:03:49,640 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6887C13115BA,id=s2
2022-08-26 17:03:49,640 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-6887C13115BA-FollowerState
2022-08-26 17:03:49,640 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-6887C13115BA-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:49,641 [Thread-559] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,641 [Thread-560] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,641 [Thread-561] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,641 [s2@group-6887C13115BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-6887C13115BA-FollowerState was interrupted
2022-08-26 17:03:49,641 [Thread-556] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,641 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-6887C13115BA: applyIndex: 5
2022-08-26 17:03:49,641 [s2@group-6887C13115BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-6887C13115BA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:49,639 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-6887C13115BA-StateMachineUpdater: set stopIndex = 6
2022-08-26 17:03:49,641 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-6887C13115BA: applyIndex: 6
2022-08-26 17:03:49,639 [Thread-544] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,639 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-6887C13115BA: applyIndex: 0
2022-08-26 17:03:49,642 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@74e5a6bf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:03:49,642 [s0@group-6887C13115BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-6887C13115BA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:49,642 [s1@group-6887C13115BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-6887C13115BA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:49,641 [Thread-558] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,641 [Thread-557] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,642 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@30c36be2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:03:49,642 [Thread-553] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,645 [Thread-554] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,645 [Thread-549] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,645 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-6887C13115BA-SegmentedRaftLogWorker close()
2022-08-26 17:03:49,645 [Thread-551] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,645 [Thread-550] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:49,644 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-6887C13115BA-SegmentedRaftLogWorker close()
2022-08-26 17:03:49,646 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@69096616] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:03:49,644 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-6887C13115BA-SegmentedRaftLogWorker close()
2022-08-26 17:03:49,647 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:49,647 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:49,647 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:49,647 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:49,647 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:49,647 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:49,652 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:   CLOSED CANDIDATE s0@group-6887C13115BA:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-6887C13115BA-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|rpc:localhost:34829|admin:localhost:42271|client:localhost:41695|dataStream:localhost:42801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45275|admin:localhost:43479|client:localhost:35515|dataStream:localhost:36597|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40201|admin:localhost:45085|client:localhost:41847|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6887C13115BA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-6887C13115BA-SegmentedRaftLog:CLOSED:c6, conf=3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-6887C13115BA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-6887C13115BA-SegmentedRaftLog:CLOSED:c5, conf=3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-08-26 17:03:49,653 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:49,653 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:49,653 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:49,653 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:49,653 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:49,654 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testBasicLeaderElection(85)) - Running testBasicLeaderElection
2022-08-26 17:03:49,654 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:03:49,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:49,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:49,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:49,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:49,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:49,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:49,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:49,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s3, group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:49,655 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3
2022-08-26 17:03:49,655 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3 does not exist.
2022-08-26 17:03:49,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3
2022-08-26 17:03:49,656 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:49,656 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:49,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:49,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:49,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:49,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:49,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3] (custom)
2022-08-26 17:03:49,657 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s3: addNew group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER] returns group-6E977D997785:java.util.concurrent.CompletableFuture@11856d41[Not completed]
2022-08-26 17:03:49,657 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s4, group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:49,657 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4
2022-08-26 17:03:49,657 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4 does not exist.
2022-08-26 17:03:49,657 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4
2022-08-26 17:03:49,657 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:49,657 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:49,657 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:49,658 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:49,658 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:49,658 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:49,658 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4] (custom)
2022-08-26 17:03:49,657 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s3: new RaftServerImpl for group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:49,658 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:49,658 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:49,658 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:49,658 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:49,658 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:49,658 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:49,658 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s3@group-6E977D997785: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:49,658 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:49,658 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:49,658 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:49,659 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:49,660 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:49,660 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:49,660 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:49,660 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:49,660 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s4: addNew group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER] returns group-6E977D997785:java.util.concurrent.CompletableFuture@65995578[Not completed]
2022-08-26 17:03:49,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:49,660 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0
2022-08-26 17:03:49,660 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0 does not exist.
2022-08-26 17:03:49,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0
2022-08-26 17:03:49,660 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s4: new RaftServerImpl for group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:49,660 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:49,660 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:49,660 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:49,660 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:49,660 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:49,660 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:49,660 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s4@group-6E977D997785: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:49,661 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:49,661 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:49,661 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:49,661 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:49,661 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:49,661 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:49,661 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:49,661 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:49,661 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:49,661 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0] (custom)
2022-08-26 17:03:49,662 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:49,662 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:49,662 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:49,662 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:49,662 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:49,662 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER] returns group-6E977D997785:java.util.concurrent.CompletableFuture@52bf000c[Not completed]
2022-08-26 17:03:49,662 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:49,662 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1
2022-08-26 17:03:49,662 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1 does not exist.
2022-08-26 17:03:49,662 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1
2022-08-26 17:03:49,662 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:49,663 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:49,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:49,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:49,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:49,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:49,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1] (custom)
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-6E977D997785: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:49,663 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:49,664 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:49,664 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:49,664 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:49,664 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:49,664 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:49,664 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER] returns group-6E977D997785:java.util.concurrent.CompletableFuture@30e6c64b[Not completed]
2022-08-26 17:03:49,665 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:49,665 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2
2022-08-26 17:03:49,665 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:49,665 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2 does not exist.
2022-08-26 17:03:49,665 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2
2022-08-26 17:03:49,665 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:49,665 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:49,665 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:49,665 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:49,666 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:49,666 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:49,666 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:49,665 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:49,666 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-6E977D997785: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:49,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:49,666 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:49,666 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:49,666 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:49,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:49,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:49,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:49,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2] (custom)
2022-08-26 17:03:49,666 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:49,666 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:49,667 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:49,667 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:49,667 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:49,667 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER] returns group-6E977D997785:java.util.concurrent.CompletableFuture@74c82028[Not completed]
2022-08-26 17:03:49,667 [pool-30-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-6E977D997785:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:49,667 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:49,667 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:49,667 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3] (custom)
2022-08-26 17:03:49,667 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785 does not exist. Creating ...
2022-08-26 17:03:49,668 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785
2022-08-26 17:03:49,668 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:49,668 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:49,668 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:49,668 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:49,668 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:49,668 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:49,668 [pool-30-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-6E977D997785: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:49,668 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:49,668 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:49,668 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:49,669 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:49,669 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:49,669 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:49,669 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:49,669 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:49,669 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:49,669 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current
2022-08-26 17:03:49,669 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6887C13115BA-LeaderElection38: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-08-26 17:03:49,669 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/sm
2022-08-26 17:03:49,669 [s0@group-6887C13115BA-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6887C13115BA-LeaderElection38 PRE_VOTE round 21: result REJECTED
2022-08-26 17:03:49,670 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785 has been successfully formatted.
2022-08-26 17:03:49,670 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s3@group-6E977D997785-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:49,671 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s3@group-6E977D997785-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s3@group-6E977D997785-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s3@group-6E977D997785: start as a follower, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-FollowerState
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E977D997785,id=s3
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:49,672 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:49,673 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:49,673 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,673 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,673 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s3: start RPC server
2022-08-26 17:03:49,674 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@721a6464] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-08-26 17:03:49,674 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:49,674 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:49,674 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4] (custom)
2022-08-26 17:03:49,674 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785 does not exist. Creating ...
2022-08-26 17:03:49,674 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785
2022-08-26 17:03:49,675 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:49,675 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current
2022-08-26 17:03:49,675 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/sm
2022-08-26 17:03:49,676 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785 has been successfully formatted.
2022-08-26 17:03:49,676 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:49,676 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:49,676 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:49,676 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:49,676 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s4@group-6E977D997785-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s4@group-6E977D997785-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:49,677 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s4@group-6E977D997785-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:49,678 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s4@group-6E977D997785: start as a follower, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,678 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:49,678 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:49,678 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,678 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E977D997785,id=s4
2022-08-26 17:03:49,678 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:49,678 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:49,678 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:49,678 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,679 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s4: start RPC server
2022-08-26 17:03:49,679 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:49,679 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:49,679 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0] (custom)
2022-08-26 17:03:49,680 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0/d835117e-3ecb-406a-aeac-6e977d997785 does not exist. Creating ...
2022-08-26 17:03:49,680 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0/d835117e-3ecb-406a-aeac-6e977d997785
2022-08-26 17:03:49,680 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@7012a7db] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2022-08-26 17:03:49,680 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0/d835117e-3ecb-406a-aeac-6e977d997785/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:49,681 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0/d835117e-3ecb-406a-aeac-6e977d997785/current
2022-08-26 17:03:49,681 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0/d835117e-3ecb-406a-aeac-6e977d997785/sm
2022-08-26 17:03:49,681 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0/d835117e-3ecb-406a-aeac-6e977d997785 has been successfully formatted.
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-6E977D997785-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0/d835117e-3ecb-406a-aeac-6e977d997785
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:49,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-6E977D997785-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-6E977D997785-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-6E977D997785: start as a follower, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6E977D997785: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6E977D997785-FollowerState
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E977D997785,id=s0
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:49,683 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:49,684 [s0@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,684 [s0@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,684 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:49,685 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:49,685 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:49,685 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1] (custom)
2022-08-26 17:03:49,685 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785 does not exist. Creating ...
2022-08-26 17:03:49,685 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785
2022-08-26 17:03:49,685 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@24e4a5b9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:49,686 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:49,686 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current
2022-08-26 17:03:49,686 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/sm
2022-08-26 17:03:49,687 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785 has been successfully formatted.
2022-08-26 17:03:49,687 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:49,687 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:49,687 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:49,687 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:49,687 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:49,687 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-6E977D997785-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-6E977D997785-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:49,688 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-6E977D997785-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:49,690 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-6E977D997785: start as a follower, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,691 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6E977D997785: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:49,691 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6E977D997785-FollowerState
2022-08-26 17:03:49,692 [s1@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,692 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E977D997785,id=s1
2022-08-26 17:03:49,693 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:49,693 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:49,693 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:49,693 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:49,693 [s1@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,694 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@1118086d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:49,694 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:49,694 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:49,694 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2] (custom)
2022-08-26 17:03:49,694 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785 does not exist. Creating ...
2022-08-26 17:03:49,694 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785
2022-08-26 17:03:49,695 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:49,695 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785/current
2022-08-26 17:03:49,695 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785/sm
2022-08-26 17:03:49,696 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785 has been successfully formatted.
2022-08-26 17:03:49,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:49,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:49,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:49,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:49,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:49,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:49,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:49,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-6E977D997785-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-6E977D997785-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:49,697 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-6E977D997785-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:49,698 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-6E977D997785: start as a follower, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,698 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6E977D997785: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:49,698 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6E977D997785-FollowerState
2022-08-26 17:03:49,699 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E977D997785,id=s2
2022-08-26 17:03:49,702 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:49,702 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:49,703 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:49,699 [s2@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,703 [s2@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,703 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:49,704 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@3080776e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:49,704 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:49,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:49,705 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:88)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:49,859 [s0@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:175921036ns, electionTimeout:175ms
2022-08-26 17:03:49,859 [s0@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6E977D997785-FollowerState
2022-08-26 17:03:49,860 [s0@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:49,860 [s0@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:49,860 [s0@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6E977D997785-LeaderElection39
2022-08-26 17:03:49,861 [s0@group-6E977D997785-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6E977D997785-LeaderElection39 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,861 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s0, group-6E977D997785, 0, (t:0, i:0))
2022-08-26 17:03:49,861 [Thread-644] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:49,861 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s0<-s3#0:OK-t0. Peer's state: s3@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,861 [Thread-651] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6E977D997785: receive requestVote(PRE_VOTE, s0, group-6E977D997785, 0, (t:0, i:0))
2022-08-26 17:03:49,862 [Thread-651] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:49,862 [Thread-651] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6E977D997785 replies to PRE_VOTE vote request: s0<-s4#0:OK-t0. Peer's state: s4@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,863 [Thread-665] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6E977D997785: receive requestVote(PRE_VOTE, s0, group-6E977D997785, 0, (t:0, i:0))
2022-08-26 17:03:49,863 [Thread-665] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:49,863 [Thread-665] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6E977D997785 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,866 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,866 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,866 [s0@group-6E977D997785-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6E977D997785-LeaderElection39: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:49,866 [s0@group-6E977D997785-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:OK-t0
2022-08-26 17:03:49,866 [s0@group-6E977D997785-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:OK-t0
2022-08-26 17:03:49,866 [s0@group-6E977D997785-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6E977D997785-LeaderElection39 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:49,868 [Thread-672] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6E977D997785: receive requestVote(PRE_VOTE, s0, group-6E977D997785, 0, (t:0, i:0))
2022-08-26 17:03:49,868 [Thread-672] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:49,868 [Thread-672] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6E977D997785 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-6E977D997785:t0, leader=null, voted=, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,868 [s0@group-6E977D997785-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-6E977D997785-LeaderElection39 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,869 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(ELECTION, s0, group-6E977D997785, 1, (t:0, i:0))
2022-08-26 17:03:49,869 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6E977D997785: receive requestVote(ELECTION, s0, group-6E977D997785, 1, (t:0, i:0))
2022-08-26 17:03:49,874 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,874 [Thread-666] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6E977D997785: receive requestVote(ELECTION, s0, group-6E977D997785, 1, (t:0, i:0))
2022-08-26 17:03:49,875 [Thread-645] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:49,875 [Thread-652] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6E977D997785-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:49,874 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,875 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:49,876 [Thread-652] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:49,876 [Thread-652] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:49,876 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:49,875 [Thread-673] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-6E977D997785: receive requestVote(ELECTION, s0, group-6E977D997785, 1, (t:0, i:0))
2022-08-26 17:03:49,875 [Thread-666] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6E977D997785-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:49,876 [Thread-666] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6E977D997785: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:49,876 [Thread-666] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6E977D997785-FollowerState
2022-08-26 17:03:49,876 [Thread-666] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6E977D997785-FollowerState
2022-08-26 17:03:49,875 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:49,876 [Thread-645] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6E977D997785-FollowerState
2022-08-26 17:03:49,876 [Thread-645] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-FollowerState
2022-08-26 17:03:49,876 [s3@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:49,876 [s1@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:49,877 [Thread-673] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-6E977D997785-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:49,877 [Thread-673] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6E977D997785: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:03:49,877 [Thread-673] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-6E977D997785-FollowerState
2022-08-26 17:03:49,877 [Thread-673] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6E977D997785-FollowerState
2022-08-26 17:03:49,877 [s2@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:49,878 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6E977D997785 replies to ELECTION vote request: s0<-s4#0:OK-t1. Peer's state: s4@group-6E977D997785:t1, leader=null, voted=s0, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,878 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,878 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,878 [s2@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,878 [s2@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,879 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,879 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,879 [s1@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:49,879 [Thread-673] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-6E977D997785 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-6E977D997785:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,879 [s0@group-6E977D997785-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6E977D997785-LeaderElection39: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:49,880 [s0@group-6E977D997785-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:OK-t1
2022-08-26 17:03:49,880 [s0@group-6E977D997785-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t1
2022-08-26 17:03:49,880 [s0@group-6E977D997785-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-6E977D997785-LeaderElection39 ELECTION round 0: result PASSED
2022-08-26 17:03:49,880 [s0@group-6E977D997785-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6E977D997785-LeaderElection39
2022-08-26 17:03:49,880 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6E977D997785: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:49,880 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6E977D997785: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 216ms
2022-08-26 17:03:49,880 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:49,880 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:49,880 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:49,879 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to ELECTION vote request: s0<-s3#0:OK-t1. Peer's state: s3@group-6E977D997785:t1, leader=null, voted=s0, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,880 [Thread-666] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6E977D997785 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-6E977D997785:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,881 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:49,881 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:49,881 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:49,881 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:49,881 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:49,881 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:49,881 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:49,881 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:49,881 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:49,881 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:49,882 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:49,882 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:49,882 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:49,882 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:49,882 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:49,882 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:49,882 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:49,882 [s0@group-6E977D997785-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6E977D997785-LeaderStateImpl
2022-08-26 17:03:49,882 [s0@group-6E977D997785-LeaderElection39] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-6E977D997785-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:49,887 [s1@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:49,890 [Thread-646] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6E977D997785: change Leader from null to s0 at term 1 for appendEntries, leader elected after 231ms
2022-08-26 17:03:49,890 [Thread-653] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6E977D997785: change Leader from null to s0 at term 1 for appendEntries, leader elected after 229ms
2022-08-26 17:03:49,891 [Thread-667] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6E977D997785: change Leader from null to s0 at term 1 for appendEntries, leader elected after 224ms
2022-08-26 17:03:49,891 [Thread-674] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-6E977D997785: change Leader from null to s0 at term 1 for appendEntries, leader elected after 222ms
2022-08-26 17:03:49,896 [s0@group-6E977D997785-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-6E977D997785: set configuration 0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,897 [Thread-665] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-6E977D997785: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:1651, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43963"
dataStreamAddress: "localhost:36755"
clientAddress: "localhost:37923"
adminAddress: "localhost:45845"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:37921"
dataStreamAddress: "localhost:37117"
clientAddress: "localhost:45949"
adminAddress: "localhost:41081"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:36889"
dataStreamAddress: "localhost:34131"
clientAddress: "localhost:33063"
adminAddress: "localhost:44123"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39883"
dataStreamAddress: "localhost:46427"
clientAddress: "localhost:43809"
adminAddress: "localhost:45855"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39821"
dataStreamAddress: "localhost:37635"
clientAddress: "localhost:42489"
adminAddress: "localhost:42419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:49,901 [Thread-665] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-6E977D997785: set configuration 0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,901 [Thread-665] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-6E977D997785-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:49,901 [Thread-644] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6E977D997785: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:1650, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43963"
dataStreamAddress: "localhost:36755"
clientAddress: "localhost:37923"
adminAddress: "localhost:45845"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:37921"
dataStreamAddress: "localhost:37117"
clientAddress: "localhost:45949"
adminAddress: "localhost:41081"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:36889"
dataStreamAddress: "localhost:34131"
clientAddress: "localhost:33063"
adminAddress: "localhost:44123"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39883"
dataStreamAddress: "localhost:46427"
clientAddress: "localhost:43809"
adminAddress: "localhost:45855"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39821"
dataStreamAddress: "localhost:37635"
clientAddress: "localhost:42489"
adminAddress: "localhost:42419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:49,902 [s0@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s0/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0
2022-08-26 17:03:49,903 [Thread-672] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6E977D997785: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:1654, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43963"
dataStreamAddress: "localhost:36755"
clientAddress: "localhost:37923"
adminAddress: "localhost:45845"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:37921"
dataStreamAddress: "localhost:37117"
clientAddress: "localhost:45949"
adminAddress: "localhost:41081"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:36889"
dataStreamAddress: "localhost:34131"
clientAddress: "localhost:33063"
adminAddress: "localhost:44123"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39883"
dataStreamAddress: "localhost:46427"
clientAddress: "localhost:43809"
adminAddress: "localhost:45855"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39821"
dataStreamAddress: "localhost:37635"
clientAddress: "localhost:42489"
adminAddress: "localhost:42419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:49,906 [Thread-644] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s3@group-6E977D997785: set configuration 0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,906 [Thread-644] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s3@group-6E977D997785-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:49,908 [Thread-672] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-6E977D997785: set configuration 0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,912 [Thread-672] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-6E977D997785-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:49,909 [Thread-651] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6E977D997785: receive appendEntries(s0, 1, null, 0, true, commits:[s0:c0, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:1655, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43963"
dataStreamAddress: "localhost:36755"
clientAddress: "localhost:37923"
adminAddress: "localhost:45845"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:37921"
dataStreamAddress: "localhost:37117"
clientAddress: "localhost:45949"
adminAddress: "localhost:41081"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:36889"
dataStreamAddress: "localhost:34131"
clientAddress: "localhost:33063"
adminAddress: "localhost:44123"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39883"
dataStreamAddress: "localhost:46427"
clientAddress: "localhost:43809"
adminAddress: "localhost:45855"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39821"
dataStreamAddress: "localhost:37635"
clientAddress: "localhost:42489"
adminAddress: "localhost:42419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:49,915 [Thread-651] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s4@group-6E977D997785: set configuration 0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:49,915 [Thread-651] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s4@group-6E977D997785-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:49,919 [s1@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0
2022-08-26 17:03:49,920 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-6E977D997785: succeeded to handle AppendEntries. Reply: s0<-s1#1651:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:49,939 [s3@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s3@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0
2022-08-26 17:03:49,939 [s4@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s4@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0
2022-08-26 17:03:49,939 [s2@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0
2022-08-26 17:03:49,941 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6E977D997785: succeeded to handle AppendEntries. Reply: s0<-s2#1654:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:49,942 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6E977D997785: succeeded to handle AppendEntries. Reply: s0<-s4#1655:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-08-26 17:03:49,942 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6E977D997785: succeeded to handle AppendEntries. Reply: s0<-s3#1650:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:50,156 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:50,156 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:50,156 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(531)) - killServer s0
2022-08-26 17:03:50,156 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:03:50,156 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-6E977D997785: shutdown
2022-08-26 17:03:50,157 [Thread-661] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,157 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E977D997785,id=s0
2022-08-26 17:03:50,157 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-6E977D997785-LeaderStateImpl
2022-08-26 17:03:50,157 [Thread-662] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,157 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-6E977D997785-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:50,157 [Thread-663] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,157 [s0@group-6E977D997785->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-6E977D997785->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:50,157 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-6E977D997785-StateMachineUpdater: set stopIndex = 0
2022-08-26 17:03:50,157 [Thread-658] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,157 [s0@group-6E977D997785->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-6E977D997785->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:50,157 [Thread-659] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,157 [Thread-660] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,157 [s0@group-6E977D997785->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-6E977D997785->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:50,158 [s0@group-6E977D997785->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-6E977D997785->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:50,158 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-6E977D997785: applyIndex: 0
2022-08-26 17:03:50,158 [s0@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-6E977D997785-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:50,158 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@24e4a5b9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:03:50,159 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-6E977D997785-SegmentedRaftLogWorker close()
2022-08-26 17:03:50,159 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:50,160 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:50,160 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:89)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:50,350 [s2@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:255511888ns, electionTimeout:190ms
2022-08-26 17:03:50,350 [s2@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-6E977D997785-FollowerState
2022-08-26 17:03:50,350 [s2@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:50,350 [s2@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:50,350 [s2@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6E977D997785-LeaderElection40
2022-08-26 17:03:50,351 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-6E977D997785: change Leader from s0 to null at term 1 for PRE_VOTE
2022-08-26 17:03:50,351 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-6E977D997785-LeaderElection40 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,351 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s2, group-6E977D997785, 1, (t:1, i:0))
2022-08-26 17:03:50,352 [Thread-644] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:50,352 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s2<-s3#0:OK-t1. Peer's state: s3@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,352 [Thread-651] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6E977D997785: receive requestVote(PRE_VOTE, s2, group-6E977D997785, 1, (t:1, i:0))
2022-08-26 17:03:50,352 [Thread-651] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:50,352 [Thread-651] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6E977D997785 replies to PRE_VOTE vote request: s2<-s4#0:OK-t1. Peer's state: s4@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,353 [Thread-666] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6E977D997785: receive requestVote(PRE_VOTE, s2, group-6E977D997785, 1, (t:1, i:0))
2022-08-26 17:03:50,353 [Thread-666] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:50,353 [Thread-666] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6E977D997785 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,353 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-6E977D997785-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:50,353 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-6E977D997785-LeaderElection40: PRE_VOTE PASSED received 2 response(s) and 1 exception(s):
2022-08-26 17:03:50,353 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t1
2022-08-26 17:03:50,353 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s4#0:OK-t1
2022-08-26 17:03:50,354 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:50,354 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-6E977D997785-LeaderElection40 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:50,355 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-6E977D997785-LeaderElection40 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,355 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(ELECTION, s2, group-6E977D997785, 2, (t:1, i:0))
2022-08-26 17:03:50,355 [Thread-645] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:50,355 [Thread-645] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6E977D997785: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-08-26 17:03:50,356 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-08-26 17:03:50,356 [Thread-645] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6E977D997785-FollowerState
2022-08-26 17:03:50,356 [Thread-645] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-FollowerState
2022-08-26 17:03:50,356 [s3@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:50,356 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6E977D997785: receive requestVote(ELECTION, s2, group-6E977D997785, 2, (t:1, i:0))
2022-08-26 17:03:50,356 [Thread-652] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6E977D997785-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:50,356 [Thread-652] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6E977D997785: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-08-26 17:03:50,356 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-08-26 17:03:50,356 [Thread-652] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:50,356 [Thread-652] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:50,356 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:50,357 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-6E977D997785-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:50,357 [Thread-667] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-6E977D997785: receive requestVote(ELECTION, s2, group-6E977D997785, 2, (t:1, i:0))
2022-08-26 17:03:50,357 [Thread-667] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-6E977D997785-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:50,357 [Thread-667] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6E977D997785: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-08-26 17:03:50,357 [Thread-667] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6E977D997785: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-08-26 17:03:50,357 [Thread-667] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6E977D997785-FollowerState
2022-08-26 17:03:50,357 [Thread-667] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6E977D997785-FollowerState
2022-08-26 17:03:50,357 [s1@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:50,358 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6E977D997785 replies to ELECTION vote request: s2<-s4#0:OK-t2. Peer's state: s4@group-6E977D997785:t2, leader=null, voted=s2, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,359 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to ELECTION vote request: s2<-s3#0:OK-t2. Peer's state: s3@group-6E977D997785:t2, leader=null, voted=s2, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,359 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-6E977D997785-LeaderElection40: ELECTION PASSED received 2 response(s) and 1 exception(s):
2022-08-26 17:03:50,359 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t2
2022-08-26 17:03:50,359 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s4#0:OK-t2
2022-08-26 17:03:50,359 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:50,359 [Thread-667] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-6E977D997785 replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-6E977D997785:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,359 [s2@group-6E977D997785-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-6E977D997785-LeaderElection40 ELECTION round 0: result PASSED
2022-08-26 17:03:50,359 [s2@group-6E977D997785-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-6E977D997785-LeaderElection40
2022-08-26 17:03:50,359 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6E977D997785: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-26 17:03:50,359 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-6E977D997785: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 8ms
2022-08-26 17:03:50,359 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:50,360 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:50,360 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:50,360 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:50,360 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:50,360 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:50,360 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:50,360 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:50,360 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:50,360 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:50,360 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:50,361 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:50,361 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:50,361 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:50,361 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:50,361 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:50,361 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:50,361 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:50,361 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:50,361 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:50,361 [s2@group-6E977D997785-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6E977D997785-LeaderStateImpl
2022-08-26 17:03:50,362 [s2@group-6E977D997785-LeaderElection40] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-6E977D997785-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-08-26 17:03:50,362 [s2@group-6E977D997785-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785/current/log_0-0
2022-08-26 17:03:50,362 [s2@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-6E977D997785-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785/current/log_0-0
2022-08-26 17:03:50,367 [Thread-646] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6E977D997785: change Leader from null to s2 at term 2 for appendEntries, leader elected after 11ms
2022-08-26 17:03:50,367 [s2@group-6E977D997785->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(86)) - s2@group-6E977D997785->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:76)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:152)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:50,367 [Thread-644] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6E977D997785: receive appendEntries(s2, 2, (t:1, i:0), 0, true, commits:[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0], cId:1700, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43963"
dataStreamAddress: "localhost:36755"
clientAddress: "localhost:37923"
adminAddress: "localhost:45845"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:37921"
dataStreamAddress: "localhost:37117"
clientAddress: "localhost:45949"
adminAddress: "localhost:41081"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:36889"
dataStreamAddress: "localhost:34131"
clientAddress: "localhost:33063"
adminAddress: "localhost:44123"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39883"
dataStreamAddress: "localhost:46427"
clientAddress: "localhost:43809"
adminAddress: "localhost:45855"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39821"
dataStreamAddress: "localhost:37635"
clientAddress: "localhost:42489"
adminAddress: "localhost:42419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:50,368 [Thread-644] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s3@group-6E977D997785: set configuration 1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,368 [Thread-644] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s3@group-6E977D997785-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-08-26 17:03:50,369 [s3@group-6E977D997785-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_0-0
2022-08-26 17:03:50,369 [s3@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s3@group-6E977D997785-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_0-0
2022-08-26 17:03:50,371 [Thread-653] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6E977D997785: change Leader from null to s2 at term 2 for appendEntries, leader elected after 14ms
2022-08-26 17:03:50,371 [Thread-651] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6E977D997785: receive appendEntries(s2, 2, (t:1, i:0), 0, true, commits:[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0], cId:1705, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43963"
dataStreamAddress: "localhost:36755"
clientAddress: "localhost:37923"
adminAddress: "localhost:45845"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:37921"
dataStreamAddress: "localhost:37117"
clientAddress: "localhost:45949"
adminAddress: "localhost:41081"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:36889"
dataStreamAddress: "localhost:34131"
clientAddress: "localhost:33063"
adminAddress: "localhost:44123"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39883"
dataStreamAddress: "localhost:46427"
clientAddress: "localhost:43809"
adminAddress: "localhost:45855"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39821"
dataStreamAddress: "localhost:37635"
clientAddress: "localhost:42489"
adminAddress: "localhost:42419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:50,371 [Thread-651] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s4@group-6E977D997785: set configuration 1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,371 [Thread-651] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s4@group-6E977D997785-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-08-26 17:03:50,372 [s4@group-6E977D997785-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_0-0
2022-08-26 17:03:50,372 [s4@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s4@group-6E977D997785-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_0-0
2022-08-26 17:03:50,376 [s2@group-6E977D997785-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-6E977D997785: set configuration 1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,376 [Thread-665] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6E977D997785: change Leader from null to s2 at term 2 for appendEntries, leader elected after 19ms
2022-08-26 17:03:50,376 [Thread-666] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-6E977D997785: receive appendEntries(s2, 2, (t:1, i:0), 0, true, commits:[s2:c0, s3:c0, s4:c0, s0:c0, s1:c0], cId:1708, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43963"
dataStreamAddress: "localhost:36755"
clientAddress: "localhost:37923"
adminAddress: "localhost:45845"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:37921"
dataStreamAddress: "localhost:37117"
clientAddress: "localhost:45949"
adminAddress: "localhost:41081"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:36889"
dataStreamAddress: "localhost:34131"
clientAddress: "localhost:33063"
adminAddress: "localhost:44123"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39883"
dataStreamAddress: "localhost:46427"
clientAddress: "localhost:43809"
adminAddress: "localhost:45855"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39821"
dataStreamAddress: "localhost:37635"
clientAddress: "localhost:42489"
adminAddress: "localhost:42419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:50,377 [Thread-666] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-6E977D997785: set configuration 1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,377 [Thread-666] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-6E977D997785-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-08-26 17:03:50,379 [s2@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s2/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_1
2022-08-26 17:03:50,380 [s3@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s3@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_1
2022-08-26 17:03:50,380 [s1@group-6E977D997785-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_0-0
2022-08-26 17:03:50,380 [s1@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-6E977D997785-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_0-0
2022-08-26 17:03:50,382 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6E977D997785: succeeded to handle AppendEntries. Reply: s2<-s3#1700:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:50,395 [s4@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s4@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_1
2022-08-26 17:03:50,395 [s1@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_1
2022-08-26 17:03:50,395 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6E977D997785: succeeded to handle AppendEntries. Reply: s2<-s4#1705:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:50,398 [Thread-645] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6E977D997785: receive appendEntries(s2, 2, (t:2, i:1), 1, true, commits:[s2:c1, s3:c0, s4:c0, s0:c0, s1:c0], cId:1712, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:50,398 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-6E977D997785: succeeded to handle AppendEntries. Reply: s2<-s1#1708:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:50,398 [Thread-652] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6E977D997785: receive appendEntries(s2, 2, (t:2, i:1), 1, true, commits:[s2:c1, s3:c0, s4:c0, s0:c0, s1:c0], cId:1713, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:50,399 [Thread-667] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-6E977D997785: receive appendEntries(s2, 2, (t:2, i:1), 1, true, commits:[s2:c1, s3:c0, s4:c0, s0:c0, s1:c0], cId:1714, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:50,399 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6E977D997785: succeeded to handle AppendEntries. Reply: s2<-s3#1712:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:50,399 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6E977D997785: succeeded to handle AppendEntries. Reply: s2<-s4#1713:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:50,400 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-6E977D997785: succeeded to handle AppendEntries. Reply: s2<-s1#1714:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:50,594 [s2@group-6E977D997785->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(86)) - s2@group-6E977D997785->s0-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:76)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:152)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:50,611 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:50,611 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:50,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(531)) - killServer s2
2022-08-26 17:03:50,612 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:03:50,612 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-6E977D997785: shutdown
2022-08-26 17:03:50,612 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E977D997785,id=s2
2022-08-26 17:03:50,612 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-6E977D997785-LeaderStateImpl
2022-08-26 17:03:50,612 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-6E977D997785-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:50,612 [Thread-675] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,612 [Thread-676] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,612 [s2@group-6E977D997785->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-6E977D997785->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:50,612 [s2@group-6E977D997785->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-6E977D997785->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:50,613 [Thread-677] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,613 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-6E977D997785-StateMachineUpdater: set stopIndex = 2
2022-08-26 17:03:50,613 [s2@group-6E977D997785->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-6E977D997785->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-08-26 17:03:50,613 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-6E977D997785: applyIndex: 2
2022-08-26 17:03:50,614 [s2@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-6E977D997785-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:50,614 [s2@group-6E977D997785->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-6E977D997785->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:50,614 [Thread-674] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,614 [Thread-673] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,614 [Thread-672] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:50,615 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-6E977D997785-SegmentedRaftLogWorker close()
2022-08-26 17:03:50,616 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@3080776e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:03:50,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:50,616 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-08-26 17:03:50,617 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:90)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:50,800 [s1@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:248550409ns, electionTimeout:178ms
2022-08-26 17:03:50,800 [s1@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6E977D997785-FollowerState
2022-08-26 17:03:50,800 [s1@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-08-26 17:03:50,800 [s1@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:50,800 [s1@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6E977D997785-LeaderElection41
2022-08-26 17:03:50,801 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6E977D997785: change Leader from s2 to null at term 2 for PRE_VOTE
2022-08-26 17:03:50,801 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-6E977D997785-LeaderElection41 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,802 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6E977D997785: receive requestVote(PRE_VOTE, s1, group-6E977D997785, 2, (t:2, i:2))
2022-08-26 17:03:50,802 [Thread-652] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:50,802 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6E977D997785 replies to PRE_VOTE vote request: s1<-s4#0:OK-t2. Peer's state: s4@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,803 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-6E977D997785-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:50,803 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-6E977D997785-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:50,803 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s1, group-6E977D997785, 2, (t:2, i:2))
2022-08-26 17:03:50,803 [Thread-645] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:50,803 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s1<-s3#0:OK-t2. Peer's state: s3@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,803 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-6E977D997785-LeaderElection41: PRE_VOTE PASSED received 2 response(s) and 2 exception(s):
2022-08-26 17:03:50,803 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:OK-t2
2022-08-26 17:03:50,803 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s4#0:OK-t2
2022-08-26 17:03:50,803 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:50,803 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:50,803 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-6E977D997785-LeaderElection41 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:50,805 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-6E977D997785-LeaderElection41 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,805 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(ELECTION, s1, group-6E977D997785, 3, (t:2, i:2))
2022-08-26 17:03:50,805 [Thread-646] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:50,805 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6E977D997785: receive requestVote(ELECTION, s1, group-6E977D997785, 3, (t:2, i:2))
2022-08-26 17:03:50,805 [Thread-646] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6E977D997785: change Leader from s2 to null at term 3 for updateCurrentTerm
2022-08-26 17:03:50,805 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2022-08-26 17:03:50,805 [Thread-646] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6E977D997785-FollowerState
2022-08-26 17:03:50,805 [Thread-646] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-FollowerState
2022-08-26 17:03:50,805 [s3@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:50,805 [Thread-653] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6E977D997785-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:50,806 [Thread-653] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6E977D997785: change Leader from s2 to null at term 3 for updateCurrentTerm
2022-08-26 17:03:50,806 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2022-08-26 17:03:50,806 [Thread-653] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:50,806 [Thread-653] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:50,806 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:50,806 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-6E977D997785-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:50,806 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-6E977D997785-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:50,807 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6E977D997785 replies to ELECTION vote request: s1<-s4#0:OK-t3. Peer's state: s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,808 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to ELECTION vote request: s1<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-6E977D997785-LeaderElection41: ELECTION PASSED received 2 response(s) and 2 exception(s):
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:OK-t3
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s4#0:OK-t3
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-6E977D997785-LeaderElection41 ELECTION round 0: result PASSED
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-6E977D997785-LeaderElection41
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6E977D997785: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6E977D997785: change Leader from null to s1 at term 3 for becomeLeader, leader elected after 7ms
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:50,808 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:50,809 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:50,809 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:50,809 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:50,809 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:50,809 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:50,809 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:50,809 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:50,809 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:50,809 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:50,809 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:50,810 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:50,810 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:50,810 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:50,810 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:50,810 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:50,810 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:50,810 [s1@group-6E977D997785-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6E977D997785-LeaderStateImpl
2022-08-26 17:03:50,810 [s1@group-6E977D997785-LeaderElection41] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-6E977D997785-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-08-26 17:03:50,811 [Thread-644] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6E977D997785: change Leader from null to s1 at term 3 for appendEntries, leader elected after 5ms
2022-08-26 17:03:50,812 [Thread-645] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6E977D997785: receive appendEntries(s1, 3, (t:2, i:2), 2, true, commits:[s1:c2, s3:c2, s4:c2, s0:c0, s2:c2], cId:1751, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43963"
dataStreamAddress: "localhost:36755"
clientAddress: "localhost:37923"
adminAddress: "localhost:45845"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:37921"
dataStreamAddress: "localhost:37117"
clientAddress: "localhost:45949"
adminAddress: "localhost:41081"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:36889"
dataStreamAddress: "localhost:34131"
clientAddress: "localhost:33063"
adminAddress: "localhost:44123"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39883"
dataStreamAddress: "localhost:46427"
clientAddress: "localhost:43809"
adminAddress: "localhost:45855"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39821"
dataStreamAddress: "localhost:37635"
clientAddress: "localhost:42489"
adminAddress: "localhost:42419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:50,812 [Thread-645] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s3@group-6E977D997785: set configuration 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,812 [Thread-645] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s3@group-6E977D997785-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-08-26 17:03:50,813 [s3@group-6E977D997785-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_1-2
2022-08-26 17:03:50,813 [s3@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s3@group-6E977D997785-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_1-2
2022-08-26 17:03:50,815 [s1@group-6E977D997785-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_1-2
2022-08-26 17:03:50,815 [s1@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-6E977D997785-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_1-2
2022-08-26 17:03:50,820 [Thread-651] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6E977D997785: change Leader from null to s1 at term 3 for appendEntries, leader elected after 14ms
2022-08-26 17:03:50,820 [s1@group-6E977D997785-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-6E977D997785: set configuration 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,820 [Thread-652] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6E977D997785: receive appendEntries(s1, 3, (t:2, i:2), 2, true, commits:[s1:c2, s3:c2, s4:c2, s0:c0, s2:c2], cId:1754, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43963"
dataStreamAddress: "localhost:36755"
clientAddress: "localhost:37923"
adminAddress: "localhost:45845"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:37921"
dataStreamAddress: "localhost:37117"
clientAddress: "localhost:45949"
adminAddress: "localhost:41081"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:36889"
dataStreamAddress: "localhost:34131"
clientAddress: "localhost:33063"
adminAddress: "localhost:44123"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39883"
dataStreamAddress: "localhost:46427"
clientAddress: "localhost:43809"
adminAddress: "localhost:45855"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39821"
dataStreamAddress: "localhost:37635"
clientAddress: "localhost:42489"
adminAddress: "localhost:42419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:50,820 [s1@group-6E977D997785->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(86)) - s1@group-6E977D997785->s2-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:76)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:152)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:50,820 [Thread-652] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s4@group-6E977D997785: set configuration 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:50,821 [Thread-652] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s4@group-6E977D997785-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-08-26 17:03:50,821 [s1@group-6E977D997785->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(86)) - s1@group-6E977D997785->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:76)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:152)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:50,821 [s4@group-6E977D997785-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_1-2
2022-08-26 17:03:50,822 [s4@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s4@group-6E977D997785-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_1-2
2022-08-26 17:03:50,832 [s3@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s3@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s3/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_3
2022-08-26 17:03:50,836 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6E977D997785: succeeded to handle AppendEntries. Reply: s1<-s3#1751:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:50,836 [s1@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s1/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_3
2022-08-26 17:03:50,836 [s4@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s4@group-6E977D997785-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc4710661e/s4/d835117e-3ecb-406a-aeac-6e977d997785/current/log_inprogress_3
2022-08-26 17:03:50,837 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6E977D997785: succeeded to handle AppendEntries. Reply: s1<-s4#1754:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:50,838 [Thread-653] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6E977D997785: receive appendEntries(s1, 3, (t:3, i:3), 3, true, commits:[s1:c3, s3:c2, s4:c2, s0:c0, s2:c2], cId:1759, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-08-26 17:03:50,839 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s4@group-6E977D997785: succeeded to handle AppendEntries. Reply: s1<-s4#1759:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-08-26 17:03:50,838 [Thread-646] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6E977D997785: receive appendEntries(s1, 3, (t:3, i:3), 3, true, commits:[s1:c3, s3:c2, s4:c2, s0:c0, s2:c2], cId:1760, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-08-26 17:03:50,840 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s3@group-6E977D997785: succeeded to handle AppendEntries. Reply: s1<-s3#1760:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-08-26 17:03:51,048 [s1@group-6E977D997785->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(86)) - s1@group-6E977D997785->s0-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:76)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:152)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:51,048 [s1@group-6E977D997785->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(86)) - s1@group-6E977D997785->s2-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:76)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:152)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:51,067 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-08-26 17:03:51,068 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:51,068 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(531)) - killServer s1
2022-08-26 17:03:51,068 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:03:51,068 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-6E977D997785: shutdown
2022-08-26 17:03:51,068 [Thread-670] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:51,069 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E977D997785,id=s1
2022-08-26 17:03:51,069 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-6E977D997785-LeaderStateImpl
2022-08-26 17:03:51,069 [Thread-668] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:51,069 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-6E977D997785-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:51,069 [Thread-669] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:51,069 [s1@group-6E977D997785->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-6E977D997785->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:51,069 [s1@group-6E977D997785->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-6E977D997785->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:51,069 [s1@group-6E977D997785->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-6E977D997785->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-08-26 17:03:51,070 [s1@group-6E977D997785->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-6E977D997785->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-08-26 17:03:51,070 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-6E977D997785-StateMachineUpdater: set stopIndex = 4
2022-08-26 17:03:51,070 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-6E977D997785: applyIndex: 4
2022-08-26 17:03:51,070 [s1@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-6E977D997785-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:51,070 [Thread-667] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:51,070 [Thread-666] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:51,070 [Thread-665] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:51,071 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-6E977D997785-SegmentedRaftLogWorker close()
2022-08-26 17:03:51,072 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@1118086d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:03:51,072 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:testFailureCase(151)) - run 'waitForLeader after killed a majority of servers'
2022-08-26 17:03:51,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:51,073 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-08-26 17:03:51,073 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #1/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:92)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:51,345 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:277723661ns, electionTimeout:259ms
2022-08-26 17:03:51,345 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:51,345 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:51,345 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:51,345 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection42
2022-08-26 17:03:51,346 [s4@group-6E977D997785-LeaderElection42] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s4@group-6E977D997785: change Leader from s1 to null at term 3 for PRE_VOTE
2022-08-26 17:03:51,346 [s4@group-6E977D997785-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection42 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:51,346 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:51,346 [Thread-644] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:51,346 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection42: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection42 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection42
2022-08-26 17:03:51,347 [s4@group-6E977D997785-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:51,504 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:156548436ns, electionTimeout:156ms
2022-08-26 17:03:51,504 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:51,504 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:51,504 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:51,504 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection43
2022-08-26 17:03:51,505 [s4@group-6E977D997785-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection43 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:51,505 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:51,505 [Thread-645] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:51,505 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection43: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection43 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection43
2022-08-26 17:03:51,506 [s4@group-6E977D997785-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:51,524 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #2/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:92)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:51,691 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:184775264ns, electionTimeout:184ms
2022-08-26 17:03:51,691 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:51,691 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:51,691 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:51,691 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection44
2022-08-26 17:03:51,692 [s4@group-6E977D997785-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection44 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:51,692 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:51,692 [Thread-646] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:51,693 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection44: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection44 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection44
2022-08-26 17:03:51,693 [s4@group-6E977D997785-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:51,888 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194775622ns, electionTimeout:194ms
2022-08-26 17:03:51,888 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:51,888 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:51,888 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:51,889 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection45
2022-08-26 17:03:51,889 [s4@group-6E977D997785-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection45 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:51,889 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:51,890 [Thread-644] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:51,890 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection45: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection45 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:51,890 [s4@group-6E977D997785-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection45
2022-08-26 17:03:51,891 [s4@group-6E977D997785-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:51,976 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #3/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:92)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:52,115 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:224666820ns, electionTimeout:224ms
2022-08-26 17:03:52,115 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:52,116 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:52,116 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:52,116 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection46
2022-08-26 17:03:52,116 [s4@group-6E977D997785-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection46 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:52,117 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:52,117 [Thread-645] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:52,117 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:52,117 [s4@group-6E977D997785-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:52,118 [s4@group-6E977D997785-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:52,120 [s4@group-6E977D997785-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:52,120 [s4@group-6E977D997785-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection46: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:52,120 [s4@group-6E977D997785-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:52,120 [s4@group-6E977D997785-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:52,120 [s4@group-6E977D997785-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:52,120 [s4@group-6E977D997785-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:52,120 [s4@group-6E977D997785-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection46 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:52,120 [s4@group-6E977D997785-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:52,120 [s4@group-6E977D997785-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection46
2022-08-26 17:03:52,120 [s4@group-6E977D997785-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:52,421 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:300762467ns, electionTimeout:300ms
2022-08-26 17:03:52,422 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:52,422 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:52,422 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:52,422 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection47
2022-08-26 17:03:52,422 [s4@group-6E977D997785-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection47 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:52,423 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:52,423 [Thread-646] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:52,423 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:52,423 [s4@group-6E977D997785-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection47: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection47 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection47
2022-08-26 17:03:52,424 [s4@group-6E977D997785-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:52,427 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #4/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:92)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:52,606 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181474329ns, electionTimeout:181ms
2022-08-26 17:03:52,606 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:52,606 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:52,606 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:52,606 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection48
2022-08-26 17:03:52,606 [s4@group-6E977D997785-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection48 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:52,607 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:52,607 [Thread-644] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:52,607 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:52,607 [s4@group-6E977D997785-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:52,607 [s4@group-6E977D997785-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:52,607 [s4@group-6E977D997785-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:52,607 [s4@group-6E977D997785-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection48: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:52,607 [s4@group-6E977D997785-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:52,607 [s4@group-6E977D997785-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:52,607 [s4@group-6E977D997785-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:52,607 [s4@group-6E977D997785-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:52,607 [s4@group-6E977D997785-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection48 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:52,608 [s4@group-6E977D997785-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:52,608 [s4@group-6E977D997785-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection48
2022-08-26 17:03:52,608 [s4@group-6E977D997785-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:52,877 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #5/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:92)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:52,879 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:271307268ns, electionTimeout:271ms
2022-08-26 17:03:52,879 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:52,879 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:52,879 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:52,879 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection49
2022-08-26 17:03:52,880 [s4@group-6E977D997785-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection49 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:52,880 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:52,880 [Thread-645] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:52,880 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection49 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection49 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection49 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection49: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection49 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection49
2022-08-26 17:03:52,883 [s4@group-6E977D997785-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:53,184 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:300879771ns, electionTimeout:300ms
2022-08-26 17:03:53,184 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:53,184 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:53,185 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:53,185 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection50
2022-08-26 17:03:53,185 [s4@group-6E977D997785-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection50 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:53,186 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:53,186 [Thread-646] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:53,186 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:53,186 [s4@group-6E977D997785-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:53,186 [s4@group-6E977D997785-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:53,187 [s4@group-6E977D997785-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:53,187 [s4@group-6E977D997785-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection50: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:53,187 [s4@group-6E977D997785-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:53,187 [s4@group-6E977D997785-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:53,187 [s4@group-6E977D997785-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:53,187 [s4@group-6E977D997785-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:53,187 [s4@group-6E977D997785-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection50 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:53,187 [s4@group-6E977D997785-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:53,187 [s4@group-6E977D997785-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection50
2022-08-26 17:03:53,187 [s4@group-6E977D997785-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:53,329 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #6/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:92)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:53,450 [s3@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:264414280ns, electionTimeout:244ms
2022-08-26 17:03:53,451 [s3@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6E977D997785-FollowerState
2022-08-26 17:03:53,451 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:53,451 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:53,451 [s3@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-LeaderElection51
2022-08-26 17:03:53,451 [s3@group-6E977D997785-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s3@group-6E977D997785: change Leader from s1 to null at term 3 for PRE_VOTE
2022-08-26 17:03:53,451 [s3@group-6E977D997785-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-6E977D997785-LeaderElection51 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:53,452 [Thread-651] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6E977D997785: receive requestVote(PRE_VOTE, s3, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:53,452 [Thread-651] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-08-26 17:03:53,452 [Thread-651] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6E977D997785 replies to PRE_VOTE vote request: s3<-s4#0:OK-t3. Peer's state: s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:53,452 [s3@group-6E977D997785-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:53,452 [s3@group-6E977D997785-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:53,452 [s3@group-6E977D997785-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:53,452 [s3@group-6E977D997785-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-6E977D997785-LeaderElection51: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:53,452 [s3@group-6E977D997785-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:OK-t3
2022-08-26 17:03:53,453 [s3@group-6E977D997785-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:53,453 [s3@group-6E977D997785-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:53,453 [s3@group-6E977D997785-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:53,453 [s3@group-6E977D997785-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-6E977D997785-LeaderElection51 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:53,453 [s3@group-6E977D997785-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:53,453 [s3@group-6E977D997785-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-6E977D997785-LeaderElection51
2022-08-26 17:03:53,453 [s3@group-6E977D997785-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-FollowerState
2022-08-26 17:03:53,698 [s3@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:245617270ns, electionTimeout:245ms
2022-08-26 17:03:53,698 [s3@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6E977D997785-FollowerState
2022-08-26 17:03:53,699 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:53,699 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:53,699 [s3@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-LeaderElection52
2022-08-26 17:03:53,699 [s3@group-6E977D997785-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-6E977D997785-LeaderElection52 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:53,700 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6E977D997785: receive requestVote(PRE_VOTE, s3, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:53,700 [Thread-652] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-08-26 17:03:53,700 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6E977D997785 replies to PRE_VOTE vote request: s3<-s4#0:OK-t3. Peer's state: s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:53,700 [s3@group-6E977D997785-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:53,700 [s3@group-6E977D997785-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:53,700 [s3@group-6E977D997785-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:53,700 [s3@group-6E977D997785-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-6E977D997785-LeaderElection52: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:53,701 [s3@group-6E977D997785-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:OK-t3
2022-08-26 17:03:53,701 [s3@group-6E977D997785-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:53,701 [s3@group-6E977D997785-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:53,701 [s3@group-6E977D997785-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:53,701 [s3@group-6E977D997785-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-6E977D997785-LeaderElection52 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:53,701 [s3@group-6E977D997785-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:53,701 [s3@group-6E977D997785-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-6E977D997785-LeaderElection52
2022-08-26 17:03:53,701 [s3@group-6E977D997785-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-FollowerState
2022-08-26 17:03:53,780 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #7/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:92)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:53,964 [s3@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:263499556ns, electionTimeout:262ms
2022-08-26 17:03:53,964 [s3@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6E977D997785-FollowerState
2022-08-26 17:03:53,965 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:53,965 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:53,965 [s3@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-LeaderElection53
2022-08-26 17:03:53,965 [s3@group-6E977D997785-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-6E977D997785-LeaderElection53 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:53,966 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6E977D997785: receive requestVote(PRE_VOTE, s3, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:53,966 [Thread-653] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-08-26 17:03:53,966 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6E977D997785 replies to PRE_VOTE vote request: s3<-s4#0:OK-t3. Peer's state: s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:53,966 [s3@group-6E977D997785-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-6E977D997785-LeaderElection53: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:OK-t3
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-6E977D997785-LeaderElection53 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-6E977D997785-LeaderElection53
2022-08-26 17:03:53,967 [s3@group-6E977D997785-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-FollowerState
2022-08-26 17:03:54,173 [s3@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205523882ns, electionTimeout:205ms
2022-08-26 17:03:54,173 [s3@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6E977D997785-FollowerState
2022-08-26 17:03:54,173 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:54,173 [s3@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:54,173 [s3@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-LeaderElection54
2022-08-26 17:03:54,174 [s3@group-6E977D997785-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-6E977D997785-LeaderElection54 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:54,174 [Thread-651] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s4@group-6E977D997785: receive requestVote(PRE_VOTE, s3, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:54,174 [Thread-651] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-08-26 17:03:54,174 [Thread-651] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s4@group-6E977D997785 replies to PRE_VOTE vote request: s3<-s4#0:OK-t3. Peer's state: s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-6E977D997785-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-6E977D997785-LeaderElection54: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:OK-t3
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-6E977D997785-LeaderElection54 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s3@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-6E977D997785-LeaderElection54
2022-08-26 17:03:54,175 [s3@group-6E977D997785-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6E977D997785-FollowerState
2022-08-26 17:03:54,231 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #8/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:92)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:54,399 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:224713703ns, electionTimeout:162ms
2022-08-26 17:03:54,399 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:54,399 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:54,399 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:54,400 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection55
2022-08-26 17:03:54,400 [s4@group-6E977D997785-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection55 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:54,400 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:54,400 [Thread-644] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:54,401 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection55: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection55 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection55
2022-08-26 17:03:54,401 [s4@group-6E977D997785-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:54,575 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173542713ns, electionTimeout:173ms
2022-08-26 17:03:54,575 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:54,575 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:54,575 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:54,576 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection56
2022-08-26 17:03:54,576 [s4@group-6E977D997785-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection56 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:54,576 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:54,577 [Thread-645] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:54,577 [Thread-645] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection56: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection56 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection56
2022-08-26 17:03:54,577 [s4@group-6E977D997785-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:54,682 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #9/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:92)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:54,802 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:224606400ns, electionTimeout:224ms
2022-08-26 17:03:54,802 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:54,802 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:54,802 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:54,802 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection57
2022-08-26 17:03:54,803 [s4@group-6E977D997785-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection57 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:54,803 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:54,803 [Thread-646] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:54,803 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection57: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection57 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection57
2022-08-26 17:03:54,804 [s4@group-6E977D997785-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:55,053 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6E977D997785-FollowerState: change to CANDIDATE, lastRpcElapsedTime:248578751ns, electionTimeout:248ms
2022-08-26 17:03:55,053 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:55,053 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:55,053 [s4@group-6E977D997785-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:55,053 [s4@group-6E977D997785-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-LeaderElection58
2022-08-26 17:03:55,054 [s4@group-6E977D997785-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-6E977D997785-LeaderElection58 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,054 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s3@group-6E977D997785: receive requestVote(PRE_VOTE, s4, group-6E977D997785, 3, (t:3, i:4))
2022-08-26 17:03:55,054 [Thread-644] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-6E977D997785-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,054 [Thread-644] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s3@group-6E977D997785 replies to PRE_VOTE vote request: s4<-s3#0:OK-t3. Peer's state: s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,054 [s4@group-6E977D997785-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection58 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection58 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-6E977D997785-LeaderElection58 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-6E977D997785-LeaderElection58: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t3
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-6E977D997785-LeaderElection58 PRE_VOTE round 0: result REJECTED
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s4@group-6E977D997785: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6E977D997785-LeaderElection58
2022-08-26 17:03:55,055 [s4@group-6E977D997785-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6E977D997785-FollowerState
2022-08-26 17:03:55,134 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:assertThrowable(133)) - The test "waitForLeader after killed a majority of servers" throws IllegalStateException
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:92)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:55,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:55,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:55,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:55,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:55,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:55,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-6E977D997785:t3, leader=null, voted=s1, raftlog=Memoized:s4@group-6E977D997785-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-6E977D997785:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6E977D997785-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6E977D997785:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-6E977D997785-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-6E977D997785:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6E977D997785-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43963|admin:localhost:45845|client:localhost:37923|dataStream:localhost:36755|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37921|admin:localhost:41081|client:localhost:45949|dataStream:localhost:37117|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:36889|admin:localhost:44123|client:localhost:33063|dataStream:localhost:34131|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39883|admin:localhost:45855|client:localhost:43809|dataStream:localhost:46427|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39821|admin:localhost:42419|client:localhost:42489|dataStream:localhost:37635|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-08-26 17:03:55,135 [java.util.concurrent.ThreadPoolExecutor$Worker@857e0ac[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s4: close
2022-08-26 17:03:55,135 [java.util.concurrent.ThreadPoolExecutor$Worker@6ac25d4[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s3: close
2022-08-26 17:03:55,139 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s4@group-6E977D997785: shutdown
2022-08-26 17:03:55,139 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s3@group-6E977D997785: shutdown
2022-08-26 17:03:55,139 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E977D997785,id=s4
2022-08-26 17:03:55,139 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6E977D997785-FollowerState
2022-08-26 17:03:55,139 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E977D997785,id=s3
2022-08-26 17:03:55,139 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s4@group-6E977D997785-StateMachineUpdater: set stopIndex = 4
2022-08-26 17:03:55,139 [s4@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:55,139 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6E977D997785-FollowerState
2022-08-26 17:03:55,139 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-6E977D997785-StateMachineUpdater: set stopIndex = 4
2022-08-26 17:03:55,139 [s3@group-6E977D997785-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-6E977D997785-FollowerState was interrupted
2022-08-26 17:03:55,140 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s3@group-6E977D997785: applyIndex: 4
2022-08-26 17:03:55,140 [s3@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s3@group-6E977D997785-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:55,140 [Thread-647] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,140 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s4@group-6E977D997785: applyIndex: 4
2022-08-26 17:03:55,140 [s4@group-6E977D997785-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s4@group-6E977D997785-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:55,140 [Thread-648] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,140 [Thread-649] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,140 [Thread-655] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,140 [Thread-656] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,140 [Thread-654] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,140 [Thread-651] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,140 [Thread-644] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,140 [Thread-653] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,141 [Thread-652] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,141 [Thread-645] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,141 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@7012a7db] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2022-08-26 17:03:55,141 [Thread-646] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,141 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@721a6464] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-08-26 17:03:55,142 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s3@group-6E977D997785-SegmentedRaftLogWorker close()
2022-08-26 17:03:55,143 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s4@group-6E977D997785-SegmentedRaftLogWorker close()
2022-08-26 17:03:55,145 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:55,146 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:55,146 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:55,146 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:55,146 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:55,146 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:03:55,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-480B3F0A9319:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:55,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:55,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:55,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:55,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:55,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:55,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:55,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-480B3F0A9319:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:55,147 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0
2022-08-26 17:03:55,147 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0 does not exist.
2022-08-26 17:03:55,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0
2022-08-26 17:03:55,148 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:55,148 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:55,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:55,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:55,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0] (custom)
2022-08-26 17:03:55,149 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-480B3F0A9319:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER] returns group-480B3F0A9319:java.util.concurrent.CompletableFuture@74444b86[Not completed]
2022-08-26 17:03:55,149 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-480B3F0A9319:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:55,149 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1
2022-08-26 17:03:55,149 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1 does not exist.
2022-08-26 17:03:55,149 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1
2022-08-26 17:03:55,149 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:55,149 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:55,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:55,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:55,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,150 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1] (custom)
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-480B3F0A9319:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-480B3F0A9319: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:55,150 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:55,151 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-480B3F0A9319:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER] returns group-480B3F0A9319:java.util.concurrent.CompletableFuture@3ba26ba2[Not completed]
2022-08-26 17:03:55,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-480B3F0A9319:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:55,151 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2
2022-08-26 17:03:55,151 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2 does not exist.
2022-08-26 17:03:55,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2
2022-08-26 17:03:55,151 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:55,151 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:55,151 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:55,151 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:55,151 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,151 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,151 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2] (custom)
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-480B3F0A9319:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-480B3F0A9319: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:55,152 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:55,153 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:55,153 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:55,153 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:55,153 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:55,153 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:55,153 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:55,153 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:55,153 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:55,153 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:55,154 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-480B3F0A9319:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER] returns group-480B3F0A9319:java.util.concurrent.CompletableFuture@17bb2297[Not completed]
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-480B3F0A9319:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-480B3F0A9319: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:55,154 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:55,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:55,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:55,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0] (custom)
2022-08-26 17:03:55,155 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0/fdb92a64-bacd-49f8-aaed-480b3f0a9319 does not exist. Creating ...
2022-08-26 17:03:55,155 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:55,155 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:55,155 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:55,155 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:55,155 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:55,155 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0/fdb92a64-bacd-49f8-aaed-480b3f0a9319
2022-08-26 17:03:55,157 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0/fdb92a64-bacd-49f8-aaed-480b3f0a9319/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:55,157 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0/fdb92a64-bacd-49f8-aaed-480b3f0a9319/current
2022-08-26 17:03:55,157 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0/fdb92a64-bacd-49f8-aaed-480b3f0a9319/sm
2022-08-26 17:03:55,158 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0/fdb92a64-bacd-49f8-aaed-480b3f0a9319 has been successfully formatted.
2022-08-26 17:03:55,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:55,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:55,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:55,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:55,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:55,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:55,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-480B3F0A9319-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0/fdb92a64-bacd-49f8-aaed-480b3f0a9319
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-480B3F0A9319-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,159 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-480B3F0A9319-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,160 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-480B3F0A9319: start as a follower, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,160 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-480B3F0A9319: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:55,160 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,160 [s0@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,160 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-480B3F0A9319,id=s0
2022-08-26 17:03:55,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:55,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:55,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:55,160 [s0@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,160 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:55,161 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@3fecb4b9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:55,161 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:55,161 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:55,161 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1] (custom)
2022-08-26 17:03:55,161 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1/fdb92a64-bacd-49f8-aaed-480b3f0a9319 does not exist. Creating ...
2022-08-26 17:03:55,162 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1/fdb92a64-bacd-49f8-aaed-480b3f0a9319
2022-08-26 17:03:55,162 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1/fdb92a64-bacd-49f8-aaed-480b3f0a9319/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:55,162 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1/fdb92a64-bacd-49f8-aaed-480b3f0a9319/current
2022-08-26 17:03:55,162 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1/fdb92a64-bacd-49f8-aaed-480b3f0a9319/sm
2022-08-26 17:03:55,163 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1/fdb92a64-bacd-49f8-aaed-480b3f0a9319 has been successfully formatted.
2022-08-26 17:03:55,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:55,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:55,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-480B3F0A9319-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1/fdb92a64-bacd-49f8-aaed-480b3f0a9319
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:55,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:55,165 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-480B3F0A9319-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,165 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-480B3F0A9319-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,166 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-480B3F0A9319: start as a follower, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,167 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-480B3F0A9319: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:55,167 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,171 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-480B3F0A9319,id=s1
2022-08-26 17:03:55,171 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:55,171 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:55,171 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:55,171 [s1@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,171 [s1@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,171 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:55,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:55,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:55,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2] (custom)
2022-08-26 17:03:55,172 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2/fdb92a64-bacd-49f8-aaed-480b3f0a9319 does not exist. Creating ...
2022-08-26 17:03:55,173 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2/fdb92a64-bacd-49f8-aaed-480b3f0a9319
2022-08-26 17:03:55,173 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@3274e128] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:55,174 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2/fdb92a64-bacd-49f8-aaed-480b3f0a9319/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:55,174 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2/fdb92a64-bacd-49f8-aaed-480b3f0a9319/current
2022-08-26 17:03:55,174 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2/fdb92a64-bacd-49f8-aaed-480b3f0a9319/sm
2022-08-26 17:03:55,174 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2/fdb92a64-bacd-49f8-aaed-480b3f0a9319 has been successfully formatted.
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-480B3F0A9319-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2/fdb92a64-bacd-49f8-aaed-480b3f0a9319
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:55,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:55,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:55,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:55,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:55,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:55,176 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-480B3F0A9319-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,176 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-480B3F0A9319-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,178 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-480B3F0A9319: start as a follower, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,179 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-480B3F0A9319: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:55,179 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,182 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-480B3F0A9319,id=s2
2022-08-26 17:03:55,183 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:55,183 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:55,183 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:55,183 [s2@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,183 [s2@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,183 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:55,184 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@7742001f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:55,184 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:55,184 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s0@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:55,184 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s0@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s0@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeFollowerToListener(LeaderElectionTests.java:365)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:55,350 [s1@group-480B3F0A9319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-480B3F0A9319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:183674388ns, electionTimeout:179ms
2022-08-26 17:03:55,351 [s0@group-480B3F0A9319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-480B3F0A9319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190886284ns, electionTimeout:190ms
2022-08-26 17:03:55,351 [s1@group-480B3F0A9319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,351 [s0@group-480B3F0A9319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,351 [s1@group-480B3F0A9319-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-480B3F0A9319: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:55,351 [s0@group-480B3F0A9319-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-480B3F0A9319: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:55,351 [s1@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:55,351 [s0@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:55,351 [s1@group-480B3F0A9319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-480B3F0A9319-LeaderElection59
2022-08-26 17:03:55,351 [s0@group-480B3F0A9319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-480B3F0A9319-LeaderElection60
2022-08-26 17:03:55,351 [s2@group-480B3F0A9319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-480B3F0A9319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:172345781ns, electionTimeout:168ms
2022-08-26 17:03:55,351 [s2@group-480B3F0A9319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,351 [s2@group-480B3F0A9319-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-480B3F0A9319: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:55,351 [s2@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:55,351 [s2@group-480B3F0A9319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-480B3F0A9319-LeaderElection61
2022-08-26 17:03:55,355 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-480B3F0A9319-LeaderElection59 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,359 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-480B3F0A9319-LeaderElection60 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,359 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-480B3F0A9319-LeaderElection61 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,359 [s1@group-480B3F0A9319-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,360 [s1@group-480B3F0A9319-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,360 [Thread-864] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-480B3F0A9319: receive requestVote(PRE_VOTE, s0, group-480B3F0A9319, 0, (t:0, i:0))
2022-08-26 17:03:55,360 [Thread-864] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-480B3F0A9319-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,360 [Thread-864] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-480B3F0A9319 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,360 [Thread-858] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-480B3F0A9319: receive requestVote(PRE_VOTE, s1, group-480B3F0A9319, 0, (t:0, i:0))
2022-08-26 17:03:55,360 [Thread-858] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-480B3F0A9319-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,360 [Thread-858] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-480B3F0A9319 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s0@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,360 [Thread-857] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-480B3F0A9319: receive requestVote(PRE_VOTE, s2, group-480B3F0A9319, 0, (t:0, i:0))
2022-08-26 17:03:55,360 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-480B3F0A9319-LeaderElection59: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:55,360 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-26 17:03:55,360 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-480B3F0A9319-LeaderElection59 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:55,360 [s2@group-480B3F0A9319-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,360 [s2@group-480B3F0A9319-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,360 [Thread-857] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-480B3F0A9319-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,361 [Thread-857] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-480B3F0A9319 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-480B3F0A9319:t0, leader=null, voted=, raftlog=Memoized:s0@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,361 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-480B3F0A9319-LeaderElection61: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:55,361 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2022-08-26 17:03:55,361 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-480B3F0A9319-LeaderElection61 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:55,361 [Thread-871] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-480B3F0A9319: receive requestVote(PRE_VOTE, s1, group-480B3F0A9319, 0, (t:0, i:0))
2022-08-26 17:03:55,362 [s0@group-480B3F0A9319-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,362 [s0@group-480B3F0A9319-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,362 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-480B3F0A9319-LeaderElection60: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:55,362 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-26 17:03:55,362 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-480B3F0A9319-LeaderElection60 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:55,362 [Thread-865] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-480B3F0A9319: receive requestVote(PRE_VOTE, s2, group-480B3F0A9319, 0, (t:0, i:0))
2022-08-26 17:03:55,363 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-480B3F0A9319-LeaderElection61 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,363 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-480B3F0A9319-LeaderElection60 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,363 [Thread-871] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-480B3F0A9319-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,363 [Thread-871] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-480B3F0A9319 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-480B3F0A9319:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,365 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-480B3F0A9319-LeaderElection59 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,365 [Thread-865] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-480B3F0A9319-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,365 [Thread-865] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-480B3F0A9319 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-480B3F0A9319:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,365 [Thread-872] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-480B3F0A9319: receive requestVote(PRE_VOTE, s0, group-480B3F0A9319, 0, (t:0, i:0))
2022-08-26 17:03:55,365 [Thread-872] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-480B3F0A9319-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,365 [Thread-872] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-480B3F0A9319 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-480B3F0A9319:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,365 [Thread-859] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-480B3F0A9319: receive requestVote(ELECTION, s2, group-480B3F0A9319, 1, (t:0, i:0))
2022-08-26 17:03:55,365 [Thread-859] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-480B3F0A9319-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2022-08-26 17:03:55,365 [Thread-859] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-480B3F0A9319 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-480B3F0A9319:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,365 [s2@group-480B3F0A9319-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,365 [s2@group-480B3F0A9319-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,366 [Thread-858] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-480B3F0A9319: receive requestVote(ELECTION, s1, group-480B3F0A9319, 1, (t:0, i:0))
2022-08-26 17:03:55,366 [Thread-858] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-480B3F0A9319-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2022-08-26 17:03:55,366 [Thread-858] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-480B3F0A9319 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-480B3F0A9319:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,366 [s1@group-480B3F0A9319-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,366 [s1@group-480B3F0A9319-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,366 [Thread-866] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-480B3F0A9319: receive requestVote(ELECTION, s2, group-480B3F0A9319, 1, (t:0, i:0))
2022-08-26 17:03:55,366 [Thread-866] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-480B3F0A9319-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2022-08-26 17:03:55,366 [Thread-866] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-480B3F0A9319 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-480B3F0A9319:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,366 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-480B3F0A9319-LeaderElection61: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:55,366 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:FAIL-t1
2022-08-26 17:03:55,366 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:FAIL-t1
2022-08-26 17:03:55,366 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-480B3F0A9319-LeaderElection61 ELECTION round 0: result REJECTED
2022-08-26 17:03:55,366 [s2@group-480B3F0A9319-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-480B3F0A9319: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:55,367 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-480B3F0A9319-LeaderElection61
2022-08-26 17:03:55,367 [s2@group-480B3F0A9319-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,367 [Thread-864] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-480B3F0A9319: receive requestVote(ELECTION, s0, group-480B3F0A9319, 1, (t:0, i:0))
2022-08-26 17:03:55,367 [Thread-864] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-480B3F0A9319-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-08-26 17:03:55,367 [Thread-864] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-480B3F0A9319 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-480B3F0A9319:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,367 [Thread-873] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-480B3F0A9319: receive requestVote(ELECTION, s1, group-480B3F0A9319, 1, (t:0, i:0))
2022-08-26 17:03:55,368 [s0@group-480B3F0A9319-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,368 [s0@group-480B3F0A9319-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,368 [Thread-871] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-480B3F0A9319: receive requestVote(ELECTION, s0, group-480B3F0A9319, 1, (t:0, i:0))
2022-08-26 17:03:55,368 [Thread-871] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-480B3F0A9319-FOLLOWER: reject ELECTION from s0: already has voted for s2 at current term 1
2022-08-26 17:03:55,368 [Thread-871] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-480B3F0A9319 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-480B3F0A9319:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,368 [Thread-873] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-480B3F0A9319-FOLLOWER: reject ELECTION from s1: already has voted for s2 at current term 1
2022-08-26 17:03:55,368 [Thread-873] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-480B3F0A9319 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-480B3F0A9319:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,369 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-480B3F0A9319-LeaderElection59: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:55,369 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-08-26 17:03:55,369 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-08-26 17:03:55,369 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-480B3F0A9319-LeaderElection59 ELECTION round 0: result REJECTED
2022-08-26 17:03:55,369 [s1@group-480B3F0A9319-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-480B3F0A9319: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:55,369 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-480B3F0A9319-LeaderElection59
2022-08-26 17:03:55,369 [s1@group-480B3F0A9319-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,369 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-480B3F0A9319-LeaderElection60: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:55,369 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-08-26 17:03:55,369 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-08-26 17:03:55,369 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-480B3F0A9319-LeaderElection60 ELECTION round 0: result REJECTED
2022-08-26 17:03:55,369 [s0@group-480B3F0A9319-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-480B3F0A9319: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-08-26 17:03:55,369 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-480B3F0A9319-LeaderElection60
2022-08-26 17:03:55,369 [s0@group-480B3F0A9319-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,369 [s2@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,369 [s2@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,370 [s1@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,370 [s1@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,370 [s0@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,371 [s0@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,539 [s0@group-480B3F0A9319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-480B3F0A9319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169730909ns, electionTimeout:168ms
2022-08-26 17:03:55,539 [s0@group-480B3F0A9319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,539 [s0@group-480B3F0A9319-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-480B3F0A9319: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:55,539 [s0@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:55,539 [s0@group-480B3F0A9319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-480B3F0A9319-LeaderElection62
2022-08-26 17:03:55,539 [s0@group-480B3F0A9319-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-480B3F0A9319-LeaderElection62 PRE_VOTE round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,540 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,540 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,540 [Thread-865] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-480B3F0A9319: receive requestVote(PRE_VOTE, s0, group-480B3F0A9319, 1, (t:0, i:0))
2022-08-26 17:03:55,540 [Thread-865] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-480B3F0A9319-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,540 [Thread-865] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-480B3F0A9319 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-480B3F0A9319:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,540 [Thread-872] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-480B3F0A9319: receive requestVote(PRE_VOTE, s0, group-480B3F0A9319, 1, (t:0, i:0))
2022-08-26 17:03:55,540 [Thread-872] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-480B3F0A9319-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,540 [Thread-872] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-480B3F0A9319 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-480B3F0A9319:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,540 [s0@group-480B3F0A9319-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-480B3F0A9319-LeaderElection62: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:55,540 [s0@group-480B3F0A9319-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-26 17:03:55,540 [s0@group-480B3F0A9319-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-480B3F0A9319-LeaderElection62 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:55,542 [s0@group-480B3F0A9319-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-480B3F0A9319-LeaderElection62 ELECTION round 0: submit vote requests at term 2 for -1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,543 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,543 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,543 [Thread-866] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-480B3F0A9319: receive requestVote(ELECTION, s0, group-480B3F0A9319, 2, (t:0, i:0))
2022-08-26 17:03:55,543 [Thread-866] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-480B3F0A9319-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,543 [Thread-866] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-480B3F0A9319: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-08-26 17:03:55,543 [Thread-866] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,543 [Thread-866] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,543 [s1@group-480B3F0A9319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-480B3F0A9319-FollowerState was interrupted
2022-08-26 17:03:55,543 [Thread-871] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-480B3F0A9319: receive requestVote(ELECTION, s0, group-480B3F0A9319, 2, (t:0, i:0))
2022-08-26 17:03:55,543 [Thread-871] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-480B3F0A9319-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,543 [Thread-871] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-480B3F0A9319: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-08-26 17:03:55,543 [Thread-871] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,543 [Thread-871] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,543 [s2@group-480B3F0A9319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-480B3F0A9319-FollowerState was interrupted
2022-08-26 17:03:55,543 [s1@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,543 [s1@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,544 [s2@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,544 [s2@group-480B3F0A9319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,545 [Thread-866] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-480B3F0A9319 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-480B3F0A9319:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,545 [Thread-871] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-480B3F0A9319 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-480B3F0A9319:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,545 [s0@group-480B3F0A9319-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-480B3F0A9319-LeaderElection62: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:55,545 [s0@group-480B3F0A9319-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t2
2022-08-26 17:03:55,545 [s0@group-480B3F0A9319-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-480B3F0A9319-LeaderElection62 ELECTION round 0: result PASSED
2022-08-26 17:03:55,545 [s0@group-480B3F0A9319-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-480B3F0A9319-LeaderElection62
2022-08-26 17:03:55,545 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-480B3F0A9319: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-26 17:03:55,545 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-480B3F0A9319: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 395ms
2022-08-26 17:03:55,545 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:55,546 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:55,546 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:55,546 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:55,546 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:55,546 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:55,546 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:55,546 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:55,546 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:55,546 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:55,546 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:55,547 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:55,547 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:55,547 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:55,547 [s0@group-480B3F0A9319-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-480B3F0A9319-LeaderStateImpl
2022-08-26 17:03:55,547 [s0@group-480B3F0A9319-LeaderElection62] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-480B3F0A9319-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:55,555 [s0@group-480B3F0A9319-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-480B3F0A9319: set configuration 0: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,555 [Thread-864] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-480B3F0A9319: change Leader from null to s0 at term 2 for appendEntries, leader elected after 403ms
2022-08-26 17:03:55,555 [Thread-873] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-480B3F0A9319: change Leader from null to s0 at term 2 for appendEntries, leader elected after 401ms
2022-08-26 17:03:55,556 [Thread-865] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: receive appendEntries(s0, 2, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2029, entries: [(t:2, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45309"
dataStreamAddress: "localhost:45987"
clientAddress: "localhost:46595"
adminAddress: "localhost:36059"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34663"
dataStreamAddress: "localhost:46237"
clientAddress: "localhost:42397"
adminAddress: "localhost:39469"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40863"
dataStreamAddress: "localhost:39183"
clientAddress: "localhost:40015"
adminAddress: "localhost:34693"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:55,557 [Thread-865] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-480B3F0A9319: set configuration 0: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,557 [Thread-865] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-480B3F0A9319-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:55,557 [Thread-872] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: receive appendEntries(s0, 2, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2030, entries: [(t:2, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45309"
dataStreamAddress: "localhost:45987"
clientAddress: "localhost:46595"
adminAddress: "localhost:36059"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34663"
dataStreamAddress: "localhost:46237"
clientAddress: "localhost:42397"
adminAddress: "localhost:39469"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40863"
dataStreamAddress: "localhost:39183"
clientAddress: "localhost:40015"
adminAddress: "localhost:34693"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:55,558 [Thread-872] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-480B3F0A9319: set configuration 0: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,558 [Thread-872] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-480B3F0A9319-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:55,558 [s0@group-480B3F0A9319-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-480B3F0A9319-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s0/fdb92a64-bacd-49f8-aaed-480b3f0a9319/current/log_inprogress_0
2022-08-26 17:03:55,574 [s1@group-480B3F0A9319-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-480B3F0A9319-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s1/fdb92a64-bacd-49f8-aaed-480b3f0a9319/current/log_inprogress_0
2022-08-26 17:03:55,574 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s1#2029:OK-t2,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:55,574 [s2@group-480B3F0A9319-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-480B3F0A9319-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca1f6bf8b/s2/fdb92a64-bacd-49f8-aaed-480b3f0a9319/current/log_inprogress_0
2022-08-26 17:03:55,575 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s2#2030:OK-t2,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:55,635 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-480B3F0A9319:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-480B3F0A9319-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-480B3F0A9319:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-480B3F0A9319:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:55,635 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:55,636 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s0@group-480B3F0A9319: receive client request(RaftClientRequest:client-8B411FDDA898->s0@group-480B3F0A9319, cid=2035, seq=0, RW, message)
2022-08-26 17:03:55,636 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-480B3F0A9319-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-8B411FDDA898->s0@group-480B3F0A9319, cid=2035, seq=0, RW, message, entry=(t:2, i:1), STATEMACHINELOGENTRY, 2035@client-8B411FDDA898
2022-08-26 17:03:55,637 [Thread-871] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: receive appendEntries(s0, 2, (t:2, i:0), 0, true, commits:[s0:c0, s1:c-1, s2:c-1], cId:2037, entries: [(t:2, i:1), STATEMACHINELOGENTRY, 2035@client-8B411FDDA898]
2022-08-26 17:03:55,638 [Thread-866] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: receive appendEntries(s0, 2, (t:2, i:0), 0, true, commits:[s0:c0, s1:c-1, s2:c-1], cId:2036, entries: [(t:2, i:1), STATEMACHINELOGENTRY, 2035@client-8B411FDDA898]
2022-08-26 17:03:55,639 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s1#2036:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:55,640 [Thread-864] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c-1], cId:2038, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:55,640 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s2#2037:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:55,641 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s1#2038:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:55,642 [Thread-873] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2039, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:55,642 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s2#2039:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:55,643 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1106)) - s0@group-480B3F0A9319: receive setConfiguration SetConfigurationRequest:client-8B411FDDA898->s0@group-480B3F0A9319, cid=2042, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER], listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:55,643 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s0@group-480B3F0A9319-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-8B411FDDA898->s0@group-480B3F0A9319, cid=2042, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER], listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:55,643 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-480B3F0A9319: set configuration 3: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:55,644 [Thread-872] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: receive appendEntries(s0, 2, (t:2, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:2044, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:34663"
dataStreamAddress: "localhost:46237"
clientAddress: "localhost:42397"
adminAddress: "localhost:39469"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45309"
dataStreamAddress: "localhost:45987"
clientAddress: "localhost:46595"
adminAddress: "localhost:36059"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34663"
dataStreamAddress: "localhost:46237"
clientAddress: "localhost:42397"
adminAddress: "localhost:39469"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40863"
dataStreamAddress: "localhost:39183"
clientAddress: "localhost:40015"
adminAddress: "localhost:34693"
startupRole: FOLLOWER
)]
2022-08-26 17:03:55,644 [Thread-865] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: receive appendEntries(s0, 2, (t:2, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:2043, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:34663"
dataStreamAddress: "localhost:46237"
clientAddress: "localhost:42397"
adminAddress: "localhost:39469"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45309"
dataStreamAddress: "localhost:45987"
clientAddress: "localhost:46595"
adminAddress: "localhost:36059"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:34663"
dataStreamAddress: "localhost:46237"
clientAddress: "localhost:42397"
adminAddress: "localhost:39469"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40863"
dataStreamAddress: "localhost:39183"
clientAddress: "localhost:40015"
adminAddress: "localhost:34693"
startupRole: FOLLOWER
)]
2022-08-26 17:03:55,644 [Thread-872] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-480B3F0A9319: set configuration 3: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:55,644 [Thread-865] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-480B3F0A9319: set configuration 3: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:45309|admin:localhost:36059|client:localhost:46595|dataStream:localhost:45987|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:55,645 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s2#2044:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:55,645 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s1#2043:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:55,645 [s0@group-480B3F0A9319-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-480B3F0A9319: set configuration 5: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=null
2022-08-26 17:03:55,646 [Thread-866] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: receive appendEntries(s0, 2, (t:2, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:2045, entries: [(t:2, i:4), METADATAENTRY(c:3), (t:2, i:5), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:34663"
dataStreamAddress: "localhost:46237"
clientAddress: "localhost:42397"
adminAddress: "localhost:39469"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:55,646 [Thread-866] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-480B3F0A9319: set configuration 5: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=null
2022-08-26 17:03:55,647 [Thread-871] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: receive appendEntries(s0, 2, (t:2, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:2046, entries: [(t:2, i:4), METADATAENTRY(c:3), (t:2, i:5), CONFIGURATIONENTRY(current:id: "s1"
address: "localhost:34663"
dataStreamAddress: "localhost:46237"
clientAddress: "localhost:42397"
adminAddress: "localhost:39469"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:55,647 [Thread-871] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-480B3F0A9319: set configuration 5: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=null
2022-08-26 17:03:55,647 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s1#2045:OK-t2,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:55,648 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s2#2046:OK-t2,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:55,648 [Thread-873] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: receive appendEntries(s0, 2, (t:2, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3], cId:2047, entries: [(t:2, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:55,648 [Thread-864] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: receive appendEntries(s0, 2, (t:2, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3], cId:2048, entries: [(t:2, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:55,649 [s0@group-480B3F0A9319-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkAndUpdateConfiguration(850)) - s0@group-480B3F0A9319-LeaderStateImpl is not included in the new configuration 5: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=null. Will shutdown server...
2022-08-26 17:03:55,649 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s2#2047:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:55,649 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-480B3F0A9319: succeeded to handle AppendEntries. Reply: s0<-s1#2048:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:55,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:55,651 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:55,651 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:55,651 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:55,651 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:55,651 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-480B3F0A9319:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-480B3F0A9319-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-480B3F0A9319:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-480B3F0A9319:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=null RUNNING
2022-08-26 17:03:55,654 [java.util.concurrent.ThreadPoolExecutor$Worker@312168e6[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:03:55,654 [java.util.concurrent.ThreadPoolExecutor$Worker@52bad798[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:03:55,655 [Thread-860] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,655 [Thread-862] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,655 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-480B3F0A9319: shutdown
2022-08-26 17:03:55,655 [Thread-861] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,655 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-480B3F0A9319,id=s0
2022-08-26 17:03:55,655 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-480B3F0A9319-LeaderStateImpl
2022-08-26 17:03:55,655 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-480B3F0A9319-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:55,655 [java.util.concurrent.ThreadPoolExecutor$Worker@621d3352[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:03:55,655 [Thread-857] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,655 [Thread-859] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,655 [Thread-858] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,656 [s0@group-480B3F0A9319->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-480B3F0A9319->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:55,656 [s0@group-480B3F0A9319->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-480B3F0A9319->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:55,656 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@3fecb4b9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:03:55,656 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-480B3F0A9319: shutdown
2022-08-26 17:03:55,657 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-480B3F0A9319,id=s1
2022-08-26 17:03:55,657 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,657 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-480B3F0A9319-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:55,657 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-480B3F0A9319: shutdown
2022-08-26 17:03:55,657 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-480B3F0A9319,id=s2
2022-08-26 17:03:55,657 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-480B3F0A9319-FollowerState
2022-08-26 17:03:55,657 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-480B3F0A9319-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:55,657 [Thread-874] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,657 [s1@group-480B3F0A9319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-480B3F0A9319-FollowerState was interrupted
2022-08-26 17:03:55,657 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-480B3F0A9319: applyIndex: 5
2022-08-26 17:03:55,657 [Thread-876] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,657 [s2@group-480B3F0A9319-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-480B3F0A9319-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:55,657 [Thread-867] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,658 [s2@group-480B3F0A9319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-480B3F0A9319-FollowerState was interrupted
2022-08-26 17:03:55,658 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-480B3F0A9319: applyIndex: 5
2022-08-26 17:03:55,658 [s1@group-480B3F0A9319-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-480B3F0A9319-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:55,658 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-480B3F0A9319-SegmentedRaftLogWorker close()
2022-08-26 17:03:55,657 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-480B3F0A9319-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:03:55,659 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-480B3F0A9319: applyIndex: 5
2022-08-26 17:03:55,657 [Thread-868] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,657 [Thread-869] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,659 [Thread-864] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,659 [Thread-865] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,660 [Thread-866] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,660 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-480B3F0A9319-SegmentedRaftLogWorker close()
2022-08-26 17:03:55,660 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@3274e128] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:03:55,659 [s0@group-480B3F0A9319-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-480B3F0A9319-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:55,657 [Thread-875] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,661 [Thread-873] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,661 [Thread-871] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,661 [Thread-872] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:55,661 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-480B3F0A9319-SegmentedRaftLogWorker close()
2022-08-26 17:03:55,663 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@7742001f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:03:55,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:55,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:55,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:55,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:55,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:55,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:55,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-480B3F0A9319:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-480B3F0A9319-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-480B3F0A9319:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-480B3F0A9319-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-480B3F0A9319:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-480B3F0A9319-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s1|rpc:localhost:34663|admin:localhost:39469|client:localhost:42397|dataStream:localhost:46237|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40863|admin:localhost:34693|client:localhost:40015|dataStream:localhost:39183|priority:0|startupRole:FOLLOWER], old=null CLOSED
2022-08-26 17:03:55,671 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:55,671 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:55,671 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:55,671 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:55,671 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:55,672 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:03:55,672 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-248439477E5B:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:55,672 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:55,672 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:55,672 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:55,673 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:55,673 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:55,673 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:55,673 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-248439477E5B:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:55,673 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0
2022-08-26 17:03:55,673 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0 does not exist.
2022-08-26 17:03:55,673 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0
2022-08-26 17:03:55,673 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:55,673 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:55,673 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:55,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:55,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0] (custom)
2022-08-26 17:03:55,674 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-248439477E5B:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER] returns group-248439477E5B:java.util.concurrent.CompletableFuture@35977217[Not completed]
2022-08-26 17:03:55,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-248439477E5B:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:55,675 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1
2022-08-26 17:03:55,675 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1 does not exist.
2022-08-26 17:03:55,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1
2022-08-26 17:03:55,675 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:55,675 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:55,675 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:55,675 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:55,675 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,675 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,675 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1] (custom)
2022-08-26 17:03:55,675 [pool-34-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-248439477E5B:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:55,675 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:55,676 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:55,676 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:55,676 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,676 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,676 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:55,676 [pool-34-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-248439477E5B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:55,676 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:55,676 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:55,676 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:55,677 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:55,677 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:55,677 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:55,677 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:55,677 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:55,677 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-248439477E5B:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER] returns group-248439477E5B:java.util.concurrent.CompletableFuture@412ff8b1[Not completed]
2022-08-26 17:03:55,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-248439477E5B:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:55,677 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2
2022-08-26 17:03:55,677 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2 does not exist.
2022-08-26 17:03:55,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2
2022-08-26 17:03:55,677 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:55,677 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:55,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:55,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:55,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2] (custom)
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-248439477E5B:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-248439477E5B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:55,686 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:55,686 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-248439477E5B:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER] returns group-248439477E5B:java.util.concurrent.CompletableFuture@144434d5[Not completed]
2022-08-26 17:03:55,687 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:55,687 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:55,687 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0] (custom)
2022-08-26 17:03:55,687 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:55,687 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b does not exist. Creating ...
2022-08-26 17:03:55,687 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:55,687 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:55,687 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:55,687 [pool-35-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:55,687 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-248439477E5B:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-248439477E5B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:55,688 [pool-36-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:55,689 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:55,689 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current
2022-08-26 17:03:55,689 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/sm
2022-08-26 17:03:55,690 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b has been successfully formatted.
2022-08-26 17:03:55,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:55,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:55,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:55,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:55,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:55,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:55,690 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-248439477E5B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-248439477E5B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-248439477E5B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-248439477E5B: start as a follower, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,691 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-248439477E5B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:55,692 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-248439477E5B-FollowerState
2022-08-26 17:03:55,695 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-248439477E5B,id=s0
2022-08-26 17:03:55,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:55,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:55,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:55,695 [s0@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,695 [s0@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,695 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:55,696 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:55,696 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@2a90ac9c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:55,696 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:55,696 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1] (custom)
2022-08-26 17:03:55,697 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b does not exist. Creating ...
2022-08-26 17:03:55,697 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b
2022-08-26 17:03:55,698 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:55,698 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current
2022-08-26 17:03:55,698 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/sm
2022-08-26 17:03:55,698 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b has been successfully formatted.
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-248439477E5B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:55,699 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-248439477E5B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-248439477E5B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-248439477E5B: start as a follower, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-248439477E5B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-248439477E5B-FollowerState
2022-08-26 17:03:55,700 [s1@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-248439477E5B,id=s1
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:55,700 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:55,701 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:55,701 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:55,700 [s1@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,701 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:55,702 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:55,702 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2] (custom)
2022-08-26 17:03:55,702 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b does not exist. Creating ...
2022-08-26 17:03:55,702 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b
2022-08-26 17:03:55,703 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@542210f2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:55,703 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:55,703 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current
2022-08-26 17:03:55,703 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/sm
2022-08-26 17:03:55,704 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b has been successfully formatted.
2022-08-26 17:03:55,704 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:55,704 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:55,704 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-248439477E5B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-248439477E5B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,705 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-248439477E5B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:55,706 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-248439477E5B: start as a follower, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,706 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-248439477E5B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:55,706 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-248439477E5B-FollowerState
2022-08-26 17:03:55,710 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-248439477E5B,id=s2
2022-08-26 17:03:55,711 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:55,711 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:55,711 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:55,711 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:55,711 [s2@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,711 [s2@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,712 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@14f4699d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:55,712 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:55,712 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s0@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s1@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:55,712 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s0@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s1@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s0@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s1@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:136)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:55,856 [s1@group-248439477E5B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-248439477E5B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155978536ns, electionTimeout:155ms
2022-08-26 17:03:55,856 [s1@group-248439477E5B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-248439477E5B-FollowerState
2022-08-26 17:03:55,856 [s1@group-248439477E5B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-248439477E5B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:55,857 [s1@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:55,857 [s1@group-248439477E5B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-248439477E5B-LeaderElection63
2022-08-26 17:03:55,857 [s1@group-248439477E5B-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-248439477E5B-LeaderElection63 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,858 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,858 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,858 [Thread-928] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-248439477E5B: receive requestVote(PRE_VOTE, s1, group-248439477E5B, 0, (t:0, i:0))
2022-08-26 17:03:55,858 [Thread-928] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-248439477E5B-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,858 [Thread-928] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-248439477E5B replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s0@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,858 [Thread-942] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-248439477E5B: receive requestVote(PRE_VOTE, s1, group-248439477E5B, 0, (t:0, i:0))
2022-08-26 17:03:55,858 [Thread-942] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-248439477E5B-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,858 [s1@group-248439477E5B-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-248439477E5B-LeaderElection63: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:55,858 [Thread-942] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-248439477E5B replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-248439477E5B:t0, leader=null, voted=, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,858 [s1@group-248439477E5B-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-26 17:03:55,858 [s1@group-248439477E5B-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-248439477E5B-LeaderElection63 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:55,860 [s1@group-248439477E5B-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-248439477E5B-LeaderElection63 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,860 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,860 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,860 [Thread-929] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-248439477E5B: receive requestVote(ELECTION, s1, group-248439477E5B, 1, (t:0, i:0))
2022-08-26 17:03:55,863 [Thread-929] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-248439477E5B-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,863 [Thread-929] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-248439477E5B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-26 17:03:55,863 [Thread-929] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-248439477E5B-FollowerState
2022-08-26 17:03:55,863 [Thread-929] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-248439477E5B-FollowerState
2022-08-26 17:03:55,863 [s0@group-248439477E5B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-248439477E5B-FollowerState was interrupted
2022-08-26 17:03:55,863 [Thread-943] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-248439477E5B: receive requestVote(ELECTION, s1, group-248439477E5B, 1, (t:0, i:0))
2022-08-26 17:03:55,867 [Thread-943] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-248439477E5B-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:55,867 [Thread-943] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-248439477E5B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-26 17:03:55,867 [Thread-943] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-248439477E5B-FollowerState
2022-08-26 17:03:55,867 [Thread-943] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-248439477E5B-FollowerState
2022-08-26 17:03:55,867 [s2@group-248439477E5B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-248439477E5B-FollowerState was interrupted
2022-08-26 17:03:55,867 [Thread-929] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-248439477E5B replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-248439477E5B:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,867 [s0@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,867 [s0@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,870 [s1@group-248439477E5B-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-248439477E5B-LeaderElection63: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:55,870 [s1@group-248439477E5B-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-26 17:03:55,870 [s1@group-248439477E5B-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-248439477E5B-LeaderElection63 ELECTION round 0: result PASSED
2022-08-26 17:03:55,870 [s1@group-248439477E5B-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-248439477E5B-LeaderElection63
2022-08-26 17:03:55,870 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-248439477E5B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:55,870 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-248439477E5B: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 184ms
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:55,871 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:55,872 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:55,872 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:55,872 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:55,872 [s1@group-248439477E5B-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-248439477E5B-LeaderStateImpl
2022-08-26 17:03:55,872 [s1@group-248439477E5B-LeaderElection63] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-248439477E5B-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:55,874 [s1@group-248439477E5B-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-248439477E5B: set configuration 0: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,874 [s2@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:55,875 [s2@group-248439477E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:55,879 [Thread-930] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-248439477E5B: change Leader from null to s1 at term 1 for appendEntries, leader elected after 203ms
2022-08-26 17:03:55,879 [Thread-943] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-248439477E5B replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-248439477E5B:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,880 [Thread-928] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2065, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39087"
dataStreamAddress: "localhost:41575"
clientAddress: "localhost:39003"
adminAddress: "localhost:38737"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46239"
dataStreamAddress: "localhost:41925"
clientAddress: "localhost:42485"
adminAddress: "localhost:33913"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42013"
dataStreamAddress: "localhost:39099"
clientAddress: "localhost:43721"
adminAddress: "localhost:44419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:55,881 [Thread-928] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-248439477E5B: set configuration 0: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,881 [Thread-928] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-248439477E5B-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:55,882 [Thread-944] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-248439477E5B: change Leader from null to s1 at term 1 for appendEntries, leader elected after 194ms
2022-08-26 17:03:55,888 [Thread-942] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2066, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39087"
dataStreamAddress: "localhost:41575"
clientAddress: "localhost:39003"
adminAddress: "localhost:38737"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46239"
dataStreamAddress: "localhost:41925"
clientAddress: "localhost:42485"
adminAddress: "localhost:33913"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42013"
dataStreamAddress: "localhost:39099"
clientAddress: "localhost:43721"
adminAddress: "localhost:44419"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:55,890 [Thread-942] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-248439477E5B: set configuration 0: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:55,890 [Thread-942] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-248439477E5B-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:55,899 [s0@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-248439477E5B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_0
2022-08-26 17:03:55,902 [s1@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-248439477E5B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_0
2022-08-26 17:03:55,903 [s2@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-248439477E5B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_0
2022-08-26 17:03:55,903 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s0#2065:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:55,904 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s2#2066:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:56,163 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-248439477E5B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-248439477E5B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-248439477E5B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-248439477E5B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-248439477E5B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:56,163 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:56,165 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s1@group-248439477E5B: receive client request(RaftClientRequest:client-D66109D31510->s1@group-248439477E5B, cid=2093, seq=0, RW, message)
2022-08-26 17:03:56,166 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s1@group-248439477E5B-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D66109D31510->s1@group-248439477E5B, cid=2093, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2093@client-D66109D31510
2022-08-26 17:03:56,166 [Thread-929] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2094, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2093@client-D66109D31510]
2022-08-26 17:03:56,166 [Thread-943] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2095, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2093@client-D66109D31510]
2022-08-26 17:03:56,167 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s0#2094:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:56,167 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s2#2095:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:56,168 [Thread-944] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2096, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:56,168 [Thread-930] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2097, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:56,169 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s2#2096:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:56,170 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s0#2097:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:56,173 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1106)) - s1@group-248439477E5B: receive setConfiguration SetConfigurationRequest:client-D66109D31510->s1@group-248439477E5B, cid=2098, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-08-26 17:03:56,173 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s1@group-248439477E5B-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-D66109D31510->s1@group-248439477E5B, cid=2098, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-08-26 17:03:56,174 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-248439477E5B: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:56,174 [Thread-928] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:2101, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:39087"
dataStreamAddress: "localhost:41575"
clientAddress: "localhost:39003"
adminAddress: "localhost:38737"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46239"
dataStreamAddress: "localhost:41925"
clientAddress: "localhost:42485"
adminAddress: "localhost:33913"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42013"
dataStreamAddress: "localhost:39099"
clientAddress: "localhost:43721"
adminAddress: "localhost:44419"
startupRole: FOLLOWER
)]
2022-08-26 17:03:56,174 [Thread-928] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-248439477E5B: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:56,175 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s0#2101:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:56,175 [Thread-942] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c2, s2:c1], cId:2102, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:39087"
dataStreamAddress: "localhost:41575"
clientAddress: "localhost:39003"
adminAddress: "localhost:38737"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46239"
dataStreamAddress: "localhost:41925"
clientAddress: "localhost:42485"
adminAddress: "localhost:33913"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42013"
dataStreamAddress: "localhost:39099"
clientAddress: "localhost:43721"
adminAddress: "localhost:44419"
startupRole: FOLLOWER
)]
2022-08-26 17:03:56,176 [Thread-942] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-248439477E5B: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:39087|admin:localhost:38737|client:localhost:39003|dataStream:localhost:41575|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46239|admin:localhost:33913|client:localhost:42485|dataStream:localhost:41925|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42013|admin:localhost:44419|client:localhost:43721|dataStream:localhost:39099|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:56,176 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s2#2102:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:56,178 [s1@group-248439477E5B-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-248439477E5B: set configuration 5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:56,178 [Thread-943] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:2103, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:56,179 [Thread-943] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-248439477E5B: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:56,179 [Thread-929] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:2104, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:56,179 [Thread-929] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-248439477E5B: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:56,179 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s2#2103:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:56,180 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s0#2104:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:56,181 [Thread-944] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:2105, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:56,181 [Thread-930] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:2106, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:56,181 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s2#2105:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:56,182 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-248439477E5B: succeeded to handle AppendEntries. Reply: s1<-s0#2106:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:56,183 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(998)) - s1@group-248439477E5B: receive transferLeadership TransferLeadershipRequest:client-D66109D31510->s1@group-248439477E5B, cid=2107, seq=0, RO, null
2022-08-26 17:03:56,482 [s1@group-248439477E5B-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(977)) - s1@group-248439477E5B-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-08-26 17:03:56,486 [Thread-929] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1555)) - s0@group-248439477E5B: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2022-08-26 17:03:56,486 [Thread-929] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-248439477E5B-FollowerState
2022-08-26 17:03:56,486 [Thread-929] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-248439477E5B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:56,487 [Thread-929] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-248439477E5B-LeaderElection64
2022-08-26 17:03:56,487 [s0@group-248439477E5B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-248439477E5B-FollowerState was interrupted
2022-08-26 17:03:56,489 [Thread-975] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(593)) - s1@group-248439477E5B-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-08-26 17:03:56,489 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-248439477E5B: change Leader from s1 to null at term 1 for ELECTION
2022-08-26 17:03:56,490 [s0@group-248439477E5B-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-248439477E5B-LeaderElection64 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:56,491 [Thread-935] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-248439477E5B: receive requestVote(ELECTION, s0, group-248439477E5B, 2, (t:1, i:6))
2022-08-26 17:03:56,491 [Thread-935] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-248439477E5B-LEADER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-08-26 17:03:56,491 [Thread-935] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-248439477E5B: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-26 17:03:56,491 [Thread-935] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-248439477E5B: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-08-26 17:03:56,491 [Thread-935] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-248439477E5B-LeaderStateImpl
2022-08-26 17:03:56,491 [s1@group-248439477E5B->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-248439477E5B->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:56,491 [Thread-935] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-248439477E5B-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:56,491 [s1@group-248439477E5B->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-248439477E5B->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:56,496 [Thread-935] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-248439477E5B-FollowerState
2022-08-26 17:03:56,496 [Thread-943] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-248439477E5B: receive requestVote(ELECTION, s0, group-248439477E5B, 2, (t:1, i:6))
2022-08-26 17:03:56,496 [Thread-943] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-248439477E5B-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-08-26 17:03:56,496 [Thread-943] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-248439477E5B: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-26 17:03:56,496 [Thread-943] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-248439477E5B: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-08-26 17:03:56,496 [Thread-943] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-248439477E5B-FollowerState
2022-08-26 17:03:56,496 [Thread-943] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-248439477E5B-FollowerState
2022-08-26 17:03:56,497 [s2@group-248439477E5B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-248439477E5B-FollowerState was interrupted
2022-08-26 17:03:56,497 [Thread-935] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-248439477E5B replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-248439477E5B:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-248439477E5B-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-248439477E5B-LeaderElection64: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t2
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-248439477E5B-LeaderElection64 ELECTION round 0: result PASSED
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-248439477E5B-LeaderElection64
2022-08-26 17:03:56,498 [Thread-943] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-248439477E5B replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-248439477E5B:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-248439477E5B: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-248439477E5B: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 9ms
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:56,498 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:56,499 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:56,499 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:56,499 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:56,499 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:56,499 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:56,499 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:56,499 [s0@group-248439477E5B-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-248439477E5B-LeaderStateImpl
2022-08-26 17:03:56,499 [s0@group-248439477E5B-LeaderElection64] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-248439477E5B-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-08-26 17:03:56,500 [s0@group-248439477E5B-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_0-6
2022-08-26 17:03:56,500 [s0@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-248439477E5B-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_0-6
2022-08-26 17:03:56,504 [Thread-936] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-248439477E5B: change Leader from null to s0 at term 2 for appendEntries, leader elected after 13ms
2022-08-26 17:03:56,504 [s0@group-248439477E5B-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-248439477E5B: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:56,505 [Thread-944] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-248439477E5B: change Leader from null to s0 at term 2 for appendEntries, leader elected after 9ms
2022-08-26 17:03:56,506 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:56,506 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-248439477E5B-SegmentedRaftLog:OPENED:c6, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-248439477E5B-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:56,506 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-248439477E5B not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-248439477E5B not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:152)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:56,507 [Thread-942] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2145, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:56,507 [Thread-937] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-248439477E5B: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2144, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:56,507 [Thread-942] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-248439477E5B: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:56,507 [Thread-937] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-248439477E5B: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:56,507 [Thread-942] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-248439477E5B-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-08-26 17:03:56,507 [Thread-937] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-248439477E5B-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-08-26 17:03:56,508 [s2@group-248439477E5B-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_0-6
2022-08-26 17:03:56,508 [s2@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-248439477E5B-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_0-6
2022-08-26 17:03:56,510 [s1@group-248439477E5B-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_0-6
2022-08-26 17:03:56,510 [s1@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-248439477E5B-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_0-6
2022-08-26 17:03:56,511 [s0@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-248439477E5B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s0/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_7
2022-08-26 17:03:56,526 [s2@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-248439477E5B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s2/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_7
2022-08-26 17:03:56,526 [s1@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-248439477E5B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpca2570403/s1/8dc6a417-1fd5-4e9a-ac4f-248439477e5b/current/log_inprogress_7
2022-08-26 17:03:56,527 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-248439477E5B: succeeded to handle AppendEntries. Reply: s0<-s1#2144:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-08-26 17:03:56,527 [Thread-935] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-248439477E5B: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:2148, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-08-26 17:03:56,528 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-248439477E5B: succeeded to handle AppendEntries. Reply: s0<-s1#2148:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-08-26 17:03:56,529 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: succeeded to handle AppendEntries. Reply: s0<-s2#2145:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-08-26 17:03:56,530 [Thread-943] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: receive appendEntries(s0, 2, (t:2, i:7), 8, true, commits:[s0:c8, s1:c7, s2:c6], cId:2149, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-08-26 17:03:56,530 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: succeeded to handle AppendEntries. Reply: s0<-s2#2149:OK-t2,SUCCESS,nextIndex=9,followerCommit=8,matchIndex=8
2022-08-26 17:03:56,957 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-248439477E5B-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-248439477E5B-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:56,957 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s1@group-248439477E5B: receive client request(RaftClientRequest:client-D66109D31510->s1@group-248439477E5B, cid=2192, seq=0, RW, message)
2022-08-26 17:03:56,958 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-D66109D31510: suggested new leader: s0. Failed RaftClientRequest:client-D66109D31510->s1@group-248439477E5B, cid=2192, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-248439477E5B is not the leader s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:722)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:687)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:826)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:809)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:809)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:56,958 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-D66109D31510: oldLeader=s1,  curLeader=s1, newLeader=s0
2022-08-26 17:03:56,958 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-248439477E5B client-D66109D31510: client change Leader from s1 to s0 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-08-26 17:03:57,059 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s0@group-248439477E5B: receive client request(RaftClientRequest:client-D66109D31510->s0@group-248439477E5B, cid=2192, seq=0, RW, message)
2022-08-26 17:03:57,059 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-248439477E5B-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D66109D31510->s0@group-248439477E5B, cid=2192, seq=0, RW, message, entry=(t:2, i:9), STATEMACHINELOGENTRY, 2192@client-D66109D31510
2022-08-26 17:03:57,060 [Thread-937] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-248439477E5B: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:2208, entries: [(t:2, i:9), STATEMACHINELOGENTRY, 2192@client-D66109D31510]
2022-08-26 17:03:57,060 [Thread-942] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:2207, entries: [(t:2, i:9), STATEMACHINELOGENTRY, 2192@client-D66109D31510]
2022-08-26 17:03:57,061 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-248439477E5B: succeeded to handle AppendEntries. Reply: s0<-s1#2208:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-08-26 17:03:57,061 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: succeeded to handle AppendEntries. Reply: s0<-s2#2207:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-08-26 17:03:57,062 [Thread-943] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:2209, entries: [(t:2, i:10), METADATAENTRY(c:9)]
2022-08-26 17:03:57,062 [Thread-935] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-248439477E5B: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:2210, entries: [(t:2, i:10), METADATAENTRY(c:9)]
2022-08-26 17:03:57,062 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-248439477E5B: succeeded to handle AppendEntries. Reply: s0<-s2#2209:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-08-26 17:03:57,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:57,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:57,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:57,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:57,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:57,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-248439477E5B-SegmentedRaftLog:OPENED:c10, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-248439477E5B-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:OPENED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:57,064 [java.util.concurrent.ThreadPoolExecutor$Worker@323970ff[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:03:57,064 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-248439477E5B: succeeded to handle AppendEntries. Reply: s0<-s1#2210:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-08-26 17:03:57,064 [java.util.concurrent.ThreadPoolExecutor$Worker@797e60b0[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:03:57,066 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-248439477E5B: shutdown
2022-08-26 17:03:57,066 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-248439477E5B: shutdown
2022-08-26 17:03:57,066 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-248439477E5B,id=s1
2022-08-26 17:03:57,066 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-248439477E5B-FollowerState
2022-08-26 17:03:57,066 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-248439477E5B-StateMachineUpdater: set stopIndex = 9
2022-08-26 17:03:57,066 [Thread-932] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,066 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-248439477E5B: applyIndex: 9
2022-08-26 17:03:57,067 [s1@group-248439477E5B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-248439477E5B-FollowerState was interrupted
2022-08-26 17:03:57,067 [Thread-938] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,067 [Thread-940] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,067 [Thread-939] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,068 [s1@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-248439477E5B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:57,068 [Thread-933] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,066 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-248439477E5B,id=s0
2022-08-26 17:03:57,068 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-248439477E5B-LeaderStateImpl
2022-08-26 17:03:57,068 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-248439477E5B-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:57,066 [Thread-931] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,069 [Thread-928] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,069 [s0@group-248439477E5B->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-248439477E5B->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:57,069 [s0@group-248439477E5B->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-248439477E5B->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:57,069 [Thread-929] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,069 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-248439477E5B-StateMachineUpdater: set stopIndex = 10
2022-08-26 17:03:57,069 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-248439477E5B: applyIndex: 10
2022-08-26 17:03:57,069 [s0@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-248439477E5B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:57,069 [Thread-930] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,070 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@2a90ac9c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:03:57,071 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-248439477E5B-SegmentedRaftLogWorker close()
2022-08-26 17:03:57,071 [Thread-936] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,071 [Thread-937] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,071 [Thread-935] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,071 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-248439477E5B-SegmentedRaftLogWorker close()
2022-08-26 17:03:57,071 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@542210f2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:03:57,071 [java.util.concurrent.ThreadPoolExecutor$Worker@f58b867[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:03:57,072 [Thread-945] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,072 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-248439477E5B: shutdown
2022-08-26 17:03:57,072 [Thread-946] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,072 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-248439477E5B,id=s2
2022-08-26 17:03:57,072 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-248439477E5B-FollowerState
2022-08-26 17:03:57,072 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-248439477E5B-StateMachineUpdater: set stopIndex = 9
2022-08-26 17:03:57,072 [Thread-947] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,072 [s2@group-248439477E5B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-248439477E5B-FollowerState was interrupted
2022-08-26 17:03:57,073 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-248439477E5B: applyIndex: 9
2022-08-26 17:03:57,073 [Thread-943] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,073 [s2@group-248439477E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-248439477E5B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:57,073 [Thread-944] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,073 [Thread-942] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:57,074 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-248439477E5B-SegmentedRaftLogWorker close()
2022-08-26 17:03:57,074 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@14f4699d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:03:57,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:57,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:57,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:57,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:57,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:57,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:57,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-248439477E5B-SegmentedRaftLog:CLOSED:c10, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-248439477E5B-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-248439477E5B:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-248439477E5B-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-08-26 17:03:57,079 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:57,080 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:57,080 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:57,080 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:57,080 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:57,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-08-26 17:03:57,081 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:03:57,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-41199B91AF07:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:57,082 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:57,082 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:57,082 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:57,082 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:57,082 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:57,082 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:57,082 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-41199B91AF07:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:57,082 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0
2022-08-26 17:03:57,082 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0 does not exist.
2022-08-26 17:03:57,082 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0
2022-08-26 17:03:57,082 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:57,083 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:57,083 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:57,083 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:57,083 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:57,083 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:57,083 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0] (custom)
2022-08-26 17:03:57,083 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-41199B91AF07:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER] returns group-41199B91AF07:java.util.concurrent.CompletableFuture@912abaf[Not completed]
2022-08-26 17:03:57,083 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-41199B91AF07:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:57,083 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1
2022-08-26 17:03:57,083 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1 does not exist.
2022-08-26 17:03:57,083 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1
2022-08-26 17:03:57,084 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:57,084 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:57,084 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:57,084 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:57,084 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:57,084 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:57,084 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1] (custom)
2022-08-26 17:03:57,084 [pool-37-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-41199B91AF07:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:57,084 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:57,084 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:57,084 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:57,084 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-41199B91AF07: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:57,085 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:57,091 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-41199B91AF07:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER] returns group-41199B91AF07:java.util.concurrent.CompletableFuture@75eec621[Not completed]
2022-08-26 17:03:57,091 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-41199B91AF07:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:57,091 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2
2022-08-26 17:03:57,091 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2 does not exist.
2022-08-26 17:03:57,091 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2
2022-08-26 17:03:57,091 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:57,091 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:57,091 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:57,091 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:57,091 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:57,091 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:57,091 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2] (custom)
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-41199B91AF07:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-41199B91AF07: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:57,092 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:57,093 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:57,093 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:57,093 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:57,093 [pool-38-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:57,093 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-41199B91AF07:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER] returns group-41199B91AF07:java.util.concurrent.CompletableFuture@6d36164c[Not completed]
2022-08-26 17:03:57,093 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:57,093 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:57,093 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0] (custom)
2022-08-26 17:03:57,093 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07 does not exist. Creating ...
2022-08-26 17:03:57,094 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07
2022-08-26 17:03:57,094 [pool-39-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-41199B91AF07:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:57,094 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:57,094 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:57,094 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:57,094 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:57,095 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:57,095 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:57,095 [pool-39-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-41199B91AF07: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:57,095 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:57,095 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07/current
2022-08-26 17:03:57,095 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07/sm
2022-08-26 17:03:57,096 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:57,096 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:57,096 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:57,096 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07 has been successfully formatted.
2022-08-26 17:03:57,096 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:57,096 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:57,096 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:57,096 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:57,096 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:57,096 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-41199B91AF07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-41199B91AF07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:57,097 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-41199B91AF07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:57,098 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:57,098 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:57,098 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:57,098 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:57,098 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:57,098 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-41199B91AF07: start as a follower, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,098 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-41199B91AF07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:57,098 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,098 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-41199B91AF07,id=s0
2022-08-26 17:03:57,098 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:57,098 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:57,099 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:57,099 [s0@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:57,099 [s0@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:57,099 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:57,100 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:57,100 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:57,100 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1] (custom)
2022-08-26 17:03:57,100 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07 does not exist. Creating ...
2022-08-26 17:03:57,100 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07
2022-08-26 17:03:57,101 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@6eea0a05] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:57,101 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:57,101 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07/current
2022-08-26 17:03:57,101 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07/sm
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07 has been successfully formatted.
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-41199B91AF07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:57,102 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:57,103 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:57,103 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:57,103 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:57,103 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:57,103 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:57,103 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:57,103 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:57,103 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:57,103 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-41199B91AF07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:57,103 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-41199B91AF07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:57,106 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-41199B91AF07: start as a follower, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,107 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-41199B91AF07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:57,107 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,107 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-41199B91AF07,id=s1
2022-08-26 17:03:57,107 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:57,107 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:57,107 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:57,107 [s1@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:57,107 [s1@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:57,107 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:57,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:57,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:57,108 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2] (custom)
2022-08-26 17:03:57,109 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07 does not exist. Creating ...
2022-08-26 17:03:57,109 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07
2022-08-26 17:03:57,109 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@6d73c96c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:57,109 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:57,109 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07/current
2022-08-26 17:03:57,110 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07/sm
2022-08-26 17:03:57,110 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07 has been successfully formatted.
2022-08-26 17:03:57,110 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:57,110 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:57,110 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-41199B91AF07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-41199B91AF07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:57,111 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-41199B91AF07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:57,114 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-41199B91AF07: start as a follower, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,114 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-41199B91AF07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:57,114 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,115 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-41199B91AF07,id=s2
2022-08-26 17:03:57,115 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:57,115 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:57,115 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:57,115 [s2@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:57,115 [s2@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:57,115 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:57,116 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@7a13b011] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:57,116 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:57,117 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s0@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s1@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s2@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:57,117 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s0@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s1@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s2@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s0@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s1@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s2@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:506)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:501)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:57,302 [s1@group-41199B91AF07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-41199B91AF07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194991595ns, electionTimeout:194ms
2022-08-26 17:03:57,302 [s1@group-41199B91AF07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,302 [s1@group-41199B91AF07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-41199B91AF07: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:57,302 [s1@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:57,302 [s1@group-41199B91AF07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-41199B91AF07-LeaderElection65
2022-08-26 17:03:57,303 [s1@group-41199B91AF07-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-41199B91AF07-LeaderElection65 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,303 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:57,303 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:57,304 [Thread-993] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-41199B91AF07: receive requestVote(PRE_VOTE, s1, group-41199B91AF07, 0, (t:0, i:0))
2022-08-26 17:03:57,304 [Thread-993] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-41199B91AF07-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:57,304 [Thread-993] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-41199B91AF07 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s0@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,304 [s1@group-41199B91AF07-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-41199B91AF07-LeaderElection65: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:57,304 [s1@group-41199B91AF07-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-26 17:03:57,304 [s1@group-41199B91AF07-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-41199B91AF07-LeaderElection65 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:57,304 [Thread-1007] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-41199B91AF07: receive requestVote(PRE_VOTE, s1, group-41199B91AF07, 0, (t:0, i:0))
2022-08-26 17:03:57,305 [Thread-1007] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-41199B91AF07-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:57,305 [Thread-1007] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-41199B91AF07 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-41199B91AF07:t0, leader=null, voted=, raftlog=Memoized:s2@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,305 [s1@group-41199B91AF07-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-41199B91AF07-LeaderElection65 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,305 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:57,306 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:57,306 [Thread-994] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-41199B91AF07: receive requestVote(ELECTION, s1, group-41199B91AF07, 1, (t:0, i:0))
2022-08-26 17:03:57,307 [Thread-994] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-41199B91AF07-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:57,307 [Thread-994] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-41199B91AF07: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-26 17:03:57,307 [Thread-994] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,307 [Thread-994] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,307 [s0@group-41199B91AF07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-41199B91AF07-FollowerState was interrupted
2022-08-26 17:03:57,307 [Thread-1008] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-41199B91AF07: receive requestVote(ELECTION, s1, group-41199B91AF07, 1, (t:0, i:0))
2022-08-26 17:03:57,307 [Thread-1008] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-41199B91AF07-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:57,307 [Thread-1008] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-41199B91AF07: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-26 17:03:57,307 [Thread-1008] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,307 [Thread-1008] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,307 [s0@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:57,308 [s0@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:57,308 [s2@group-41199B91AF07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-41199B91AF07-FollowerState was interrupted
2022-08-26 17:03:57,308 [Thread-994] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-41199B91AF07 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-41199B91AF07:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,308 [s1@group-41199B91AF07-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-41199B91AF07-LeaderElection65: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:57,308 [s1@group-41199B91AF07-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-26 17:03:57,308 [s1@group-41199B91AF07-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-41199B91AF07-LeaderElection65 ELECTION round 0: result PASSED
2022-08-26 17:03:57,308 [s1@group-41199B91AF07-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-41199B91AF07-LeaderElection65
2022-08-26 17:03:57,308 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-41199B91AF07: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:57,308 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-41199B91AF07: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 216ms
2022-08-26 17:03:57,308 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:57,309 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:57,309 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:57,309 [s2@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:57,309 [s2@group-41199B91AF07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:57,309 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:57,309 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:57,309 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:57,309 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:57,309 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:57,309 [Thread-1008] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-41199B91AF07 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-41199B91AF07:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-41199B91AF07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,309 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:57,309 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:57,309 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:57,310 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:57,310 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:57,310 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:57,310 [s1@group-41199B91AF07-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-41199B91AF07-LeaderStateImpl
2022-08-26 17:03:57,310 [s1@group-41199B91AF07-LeaderElection65] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-41199B91AF07-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:57,318 [s1@group-41199B91AF07-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-41199B91AF07: set configuration 0: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,318 [Thread-995] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-41199B91AF07: change Leader from null to s1 at term 1 for appendEntries, leader elected after 233ms
2022-08-26 17:03:57,319 [Thread-1009] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-41199B91AF07: change Leader from null to s1 at term 1 for appendEntries, leader elected after 223ms
2022-08-26 17:03:57,319 [Thread-1007] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2230, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34457"
dataStreamAddress: "localhost:36719"
clientAddress: "localhost:45261"
adminAddress: "localhost:33573"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42229"
dataStreamAddress: "localhost:41123"
clientAddress: "localhost:44927"
adminAddress: "localhost:37493"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:41353"
dataStreamAddress: "localhost:35295"
clientAddress: "localhost:44001"
adminAddress: "localhost:36481"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:57,320 [Thread-1007] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-41199B91AF07: set configuration 0: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,320 [Thread-1007] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-41199B91AF07-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:57,325 [s1@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-41199B91AF07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_0
2022-08-26 17:03:57,325 [Thread-993] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2229, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:34457"
dataStreamAddress: "localhost:36719"
clientAddress: "localhost:45261"
adminAddress: "localhost:33573"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42229"
dataStreamAddress: "localhost:41123"
clientAddress: "localhost:44927"
adminAddress: "localhost:37493"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:41353"
dataStreamAddress: "localhost:35295"
clientAddress: "localhost:44001"
adminAddress: "localhost:36481"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:57,326 [Thread-993] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-41199B91AF07: set configuration 0: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,327 [Thread-993] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-41199B91AF07-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:57,336 [s2@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-41199B91AF07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_0
2022-08-26 17:03:57,337 [s0@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-41199B91AF07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_0
2022-08-26 17:03:57,337 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s2#2230:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:57,337 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s0#2229:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:57,567 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-41199B91AF07:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-41199B91AF07-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-41199B91AF07:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-41199B91AF07-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-41199B91AF07:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-41199B91AF07-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:57,568 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:57,570 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1071)) - s0@group-41199B91AF07 receive leaderElectionManagement request LeaderElectionManagementRequest:client-9667EAFEAC30->s0@group-41199B91AF07, cid=2257, seq=0, RO, null, Pause:
2022-08-26 17:03:57,571 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s0@group-41199B91AF07: receive client request(RaftClientRequest:client-9667EAFEAC30->s0@group-41199B91AF07, cid=2258, seq=0, RW, message)
2022-08-26 17:03:57,571 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-9667EAFEAC30: suggested new leader: s1. Failed RaftClientRequest:client-9667EAFEAC30->s0@group-41199B91AF07, cid=2258, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-41199B91AF07 is not the leader s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:722)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:687)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:826)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:809)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:809)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:57,572 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-9667EAFEAC30: oldLeader=s0,  curLeader=s0, newLeader=s1
2022-08-26 17:03:57,572 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-41199B91AF07 client-9667EAFEAC30: client change Leader from s0 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-08-26 17:03:57,672 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s1@group-41199B91AF07: receive client request(RaftClientRequest:client-9667EAFEAC30->s1@group-41199B91AF07, cid=2258, seq=0, RW, message)
2022-08-26 17:03:57,673 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s1@group-41199B91AF07-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-9667EAFEAC30->s1@group-41199B91AF07, cid=2258, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2258@client-9667EAFEAC30
2022-08-26 17:03:57,674 [Thread-995] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2267, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2258@client-9667EAFEAC30]
2022-08-26 17:03:57,674 [Thread-1009] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2268, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2258@client-9667EAFEAC30]
2022-08-26 17:03:57,674 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s0#2267:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:57,674 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s2#2268:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:57,675 [Thread-993] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2269, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:57,676 [Thread-1007] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2270, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:57,676 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s0#2269:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:57,676 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s2#2270:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:57,677 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1106)) - s1@group-41199B91AF07: receive setConfiguration SetConfigurationRequest:client-9667EAFEAC30->s1@group-41199B91AF07, cid=2271, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-08-26 17:03:57,677 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s1@group-41199B91AF07-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-9667EAFEAC30->s1@group-41199B91AF07, cid=2271, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-08-26 17:03:57,677 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-41199B91AF07: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:57,678 [Thread-994] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:2273, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:34457"
dataStreamAddress: "localhost:36719"
clientAddress: "localhost:45261"
adminAddress: "localhost:33573"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42229"
dataStreamAddress: "localhost:41123"
clientAddress: "localhost:44927"
adminAddress: "localhost:37493"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:41353"
dataStreamAddress: "localhost:35295"
clientAddress: "localhost:44001"
adminAddress: "localhost:36481"
startupRole: FOLLOWER
)]
2022-08-26 17:03:57,678 [Thread-994] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-41199B91AF07: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:57,679 [Thread-1008] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:2272, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:34457"
dataStreamAddress: "localhost:36719"
clientAddress: "localhost:45261"
adminAddress: "localhost:33573"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42229"
dataStreamAddress: "localhost:41123"
clientAddress: "localhost:44927"
adminAddress: "localhost:37493"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:41353"
dataStreamAddress: "localhost:35295"
clientAddress: "localhost:44001"
adminAddress: "localhost:36481"
startupRole: FOLLOWER
)]
2022-08-26 17:03:57,679 [Thread-1008] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-41199B91AF07: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:34457|admin:localhost:33573|client:localhost:45261|dataStream:localhost:36719|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42229|admin:localhost:37493|client:localhost:44927|dataStream:localhost:41123|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41353|admin:localhost:36481|client:localhost:44001|dataStream:localhost:35295|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-08-26 17:03:57,679 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s0#2273:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:57,679 [s1@group-41199B91AF07-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-41199B91AF07: set configuration 5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,680 [Thread-995] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c1], cId:2274, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:57,680 [Thread-995] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-41199B91AF07: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,683 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s2#2272:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:57,683 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s0#2274:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:57,683 [Thread-1009] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c3, s2:c2], cId:2277, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:57,684 [Thread-1009] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-41199B91AF07: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,684 [Thread-993] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c2], cId:2278, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:57,684 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s2#2277:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:57,685 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s0#2278:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:57,685 [Thread-1007] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c5, s2:c3], cId:2279, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:57,686 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s1<-s2#2279:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:57,687 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1071)) - s0@group-41199B91AF07 receive leaderElectionManagement request LeaderElectionManagementRequest:client-9667EAFEAC30->s0@group-41199B91AF07, cid=2280, seq=0, RO, null, Resume:
2022-08-26 17:03:57,688 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #1/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:525)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:525)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:501)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:57,788 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #2/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:525)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:525)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:501)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:57,889 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #3/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:525)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:525)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:501)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:57,986 [s1@group-41199B91AF07-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(977)) - s1@group-41199B91AF07-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-08-26 17:03:57,987 [Thread-994] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1555)) - s0@group-41199B91AF07: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2022-08-26 17:03:57,987 [Thread-994] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,987 [Thread-994] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-41199B91AF07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:57,987 [Thread-994] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-41199B91AF07-LeaderElection66
2022-08-26 17:03:57,987 [s0@group-41199B91AF07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-41199B91AF07-FollowerState was interrupted
2022-08-26 17:03:57,988 [Thread-1044] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(593)) - s1@group-41199B91AF07-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-08-26 17:03:57,988 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-41199B91AF07: change Leader from s1 to null at term 1 for ELECTION
2022-08-26 17:03:57,990 [s0@group-41199B91AF07-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-41199B91AF07-LeaderElection66 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,990 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #4/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:525)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:525)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:501)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:57,990 [Thread-1000] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-41199B91AF07: receive requestVote(ELECTION, s0, group-41199B91AF07, 2, (t:1, i:6))
2022-08-26 17:03:57,990 [Thread-1000] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-41199B91AF07-LEADER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-08-26 17:03:57,990 [Thread-1000] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-41199B91AF07: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-26 17:03:57,990 [Thread-1000] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-41199B91AF07: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-08-26 17:03:57,990 [Thread-1000] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-41199B91AF07-LeaderStateImpl
2022-08-26 17:03:57,990 [s1@group-41199B91AF07->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-41199B91AF07->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:57,990 [s1@group-41199B91AF07->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-41199B91AF07->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:57,990 [Thread-1009] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-41199B91AF07: receive requestVote(ELECTION, s0, group-41199B91AF07, 2, (t:1, i:6))
2022-08-26 17:03:57,991 [Thread-1009] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-41199B91AF07-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-08-26 17:03:57,991 [Thread-1009] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-41199B91AF07: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-26 17:03:57,991 [Thread-1009] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-41199B91AF07: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-08-26 17:03:57,991 [Thread-1009] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,991 [Thread-1009] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,991 [s2@group-41199B91AF07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-41199B91AF07-FollowerState was interrupted
2022-08-26 17:03:57,990 [Thread-1000] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-41199B91AF07-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:57,992 [Thread-1009] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-41199B91AF07 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-41199B91AF07:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-41199B91AF07-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:57,993 [Thread-1000] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-41199B91AF07-FollowerState
2022-08-26 17:03:57,993 [s0@group-41199B91AF07-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-41199B91AF07-LeaderElection66: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:57,993 [s0@group-41199B91AF07-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-41199B91AF07-LeaderElection66 ELECTION round 0: result PASSED
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-41199B91AF07-LeaderElection66
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-41199B91AF07: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-41199B91AF07: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 5ms
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:57,994 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:57,995 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:57,995 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:57,995 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:57,995 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:57,995 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:57,995 [s0@group-41199B91AF07-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-41199B91AF07-LeaderStateImpl
2022-08-26 17:03:57,995 [s0@group-41199B91AF07-LeaderElection66] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-41199B91AF07-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-08-26 17:03:57,996 [s0@group-41199B91AF07-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07/current/log_0-6
2022-08-26 17:03:57,996 [s0@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-41199B91AF07-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07/current/log_0-6
2022-08-26 17:03:57,999 [Thread-1000] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-41199B91AF07 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-41199B91AF07:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-41199B91AF07-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,000 [Thread-1001] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-41199B91AF07: change Leader from null to s0 at term 2 for appendEntries, leader elected after 10ms
2022-08-26 17:03:58,000 [s0@group-41199B91AF07-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-41199B91AF07: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,001 [Thread-1007] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-41199B91AF07: change Leader from null to s0 at term 2 for appendEntries, leader elected after 10ms
2022-08-26 17:03:58,001 [Thread-1002] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-41199B91AF07: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2315, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:58,001 [Thread-1002] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-41199B91AF07: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,001 [Thread-1008] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:2318, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:58,001 [Thread-1008] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-41199B91AF07: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,002 [Thread-1008] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-41199B91AF07-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-08-26 17:03:58,001 [Thread-1002] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-41199B91AF07-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-08-26 17:03:58,002 [s2@group-41199B91AF07-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07/current/log_0-6
2022-08-26 17:03:58,002 [s2@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-41199B91AF07-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07/current/log_0-6
2022-08-26 17:03:58,012 [s1@group-41199B91AF07-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07/current/log_0-6
2022-08-26 17:03:58,012 [s1@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-41199B91AF07-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07/current/log_0-6
2022-08-26 17:03:58,012 [s0@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-41199B91AF07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s0/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_7
2022-08-26 17:03:58,013 [s2@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-41199B91AF07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s2/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_7
2022-08-26 17:03:58,013 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s0<-s2#2318:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-08-26 17:03:58,014 [Thread-1009] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:2319, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-08-26 17:03:58,015 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s0<-s2#2319:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-08-26 17:03:58,024 [s1@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-41199B91AF07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpc1d736aad/s1/114df48c-b514-470e-8688-41199b91af07/current/log_inprogress_7
2022-08-26 17:03:58,024 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s0<-s1#2315:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-08-26 17:03:58,024 [Thread-1000] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-41199B91AF07: receive appendEntries(s0, 2, (t:2, i:7), 8, true, commits:[s0:c8, s1:c6, s2:c7], cId:2322, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2022-08-26 17:03:58,025 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-41199B91AF07: succeeded to handle AppendEntries. Reply: s0<-s1#2322:OK-t2,SUCCESS,nextIndex=9,followerCommit=8,matchIndex=8
2022-08-26 17:03:58,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:03:58,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:03:58,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:58,091 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:03:58,091 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:03:58,091 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-41199B91AF07:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-41199B91AF07-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-41199B91AF07:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-41199B91AF07-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-41199B91AF07:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-41199B91AF07-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,091 [java.util.concurrent.ThreadPoolExecutor$Worker@5d1623dd[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:03:58,093 [Thread-996] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,093 [Thread-998] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,094 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-41199B91AF07: shutdown
2022-08-26 17:03:58,094 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-41199B91AF07,id=s0
2022-08-26 17:03:58,094 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-41199B91AF07-LeaderStateImpl
2022-08-26 17:03:58,094 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-41199B91AF07-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:58,094 [s0@group-41199B91AF07->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-41199B91AF07->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:58,094 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-41199B91AF07-StateMachineUpdater: set stopIndex = 8
2022-08-26 17:03:58,094 [Thread-997] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,094 [Thread-994] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,095 [s0@group-41199B91AF07->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-41199B91AF07->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:03:58,095 [Thread-993] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,095 [Thread-995] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,095 [java.util.concurrent.ThreadPoolExecutor$Worker@634f30a7[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:03:58,095 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@6eea0a05] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:03:58,095 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-41199B91AF07: applyIndex: 8
2022-08-26 17:03:58,096 [s0@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-41199B91AF07-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:58,096 [Thread-1003] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,097 [Thread-1004] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,097 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-41199B91AF07-SegmentedRaftLogWorker close()
2022-08-26 17:03:58,097 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-41199B91AF07: shutdown
2022-08-26 17:03:58,097 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-41199B91AF07,id=s1
2022-08-26 17:03:58,097 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-41199B91AF07-FollowerState
2022-08-26 17:03:58,097 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-41199B91AF07-StateMachineUpdater: set stopIndex = 8
2022-08-26 17:03:58,097 [s1@group-41199B91AF07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-41199B91AF07-FollowerState was interrupted
2022-08-26 17:03:58,097 [Thread-1005] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,098 [Thread-1000] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,098 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-41199B91AF07: applyIndex: 8
2022-08-26 17:03:58,098 [Thread-1002] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,098 [s1@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-41199B91AF07-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:58,098 [Thread-1001] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,101 [java.util.concurrent.ThreadPoolExecutor$Worker@694184d6[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:03:58,103 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-41199B91AF07-SegmentedRaftLogWorker close()
2022-08-26 17:03:58,103 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-41199B91AF07: shutdown
2022-08-26 17:03:58,103 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-41199B91AF07,id=s2
2022-08-26 17:03:58,103 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-41199B91AF07-FollowerState
2022-08-26 17:03:58,103 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-41199B91AF07-StateMachineUpdater: set stopIndex = 8
2022-08-26 17:03:58,103 [s2@group-41199B91AF07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-41199B91AF07-FollowerState was interrupted
2022-08-26 17:03:58,103 [Thread-1010] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,104 [Thread-1012] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,104 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-41199B91AF07: applyIndex: 8
2022-08-26 17:03:58,104 [Thread-1011] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,104 [s2@group-41199B91AF07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-41199B91AF07-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:03:58,104 [Thread-1007] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,104 [Thread-1008] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,104 [Thread-1009] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:03:58,105 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@7a13b011] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:03:58,107 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@6d73c96c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:03:58,108 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-41199B91AF07-SegmentedRaftLogWorker close()
2022-08-26 17:03:58,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:03:58,111 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:03:58,111 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:03:58,111 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:03:58,111 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:03:58,115 [Time-limited test] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2022-08-26 17:03:58,115 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testChangeLeader(100)) - Running testChangeLeader
2022-08-26 17:03:58,115 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:03:58,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-E429BD9145A9:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]
2022-08-26 17:03:58,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:03:58,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:03:58,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:03:58,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:03:58,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:03:58,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:03:58,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-E429BD9145A9:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:58,116 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0
2022-08-26 17:03:58,116 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0 does not exist.
2022-08-26 17:03:58,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0
2022-08-26 17:03:58,117 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:58,117 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:58,117 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:58,117 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:58,117 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:58,117 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:58,117 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0] (custom)
2022-08-26 17:03:58,117 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-E429BD9145A9:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER] returns group-E429BD9145A9:java.util.concurrent.CompletableFuture@30a77981[Not completed]
2022-08-26 17:03:58,118 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-E429BD9145A9:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:58,118 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1
2022-08-26 17:03:58,118 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1 does not exist.
2022-08-26 17:03:58,118 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1
2022-08-26 17:03:58,118 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:58,118 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:58,118 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:58,118 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:58,118 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:58,118 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:58,118 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1] (custom)
2022-08-26 17:03:58,118 [pool-40-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-E429BD9145A9:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-E429BD9145A9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:58,119 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:58,120 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-E429BD9145A9:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER] returns group-E429BD9145A9:java.util.concurrent.CompletableFuture@5be88743[Not completed]
2022-08-26 17:03:58,120 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-E429BD9145A9:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:03:58,120 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2
2022-08-26 17:03:58,120 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2 does not exist.
2022-08-26 17:03:58,120 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2
2022-08-26 17:03:58,120 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:03:58,120 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:03:58,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:03:58,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:03:58,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:58,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:58,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2] (custom)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-E429BD9145A9:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-E429BD9145A9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:58,121 [pool-41-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:58,122 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-E429BD9145A9:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER] returns group-E429BD9145A9:java.util.concurrent.CompletableFuture@5fa12cf2[Not completed]
2022-08-26 17:03:58,122 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:58,122 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:58,122 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0] (custom)
2022-08-26 17:03:58,122 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9 does not exist. Creating ...
2022-08-26 17:03:58,122 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-E429BD9145A9:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-E429BD9145A9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:03:58,123 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:03:58,124 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:58,124 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current
2022-08-26 17:03:58,124 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/sm
2022-08-26 17:03:58,125 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9 has been successfully formatted.
2022-08-26 17:03:58,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:58,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:58,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:58,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:58,125 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-E429BD9145A9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:58,126 [s0-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(234)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-08-26 17:03:58,127 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:58,127 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:58,131 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-E429BD9145A9: start as a follower, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,131 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:58,131 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,134 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E429BD9145A9,id=s0
2022-08-26 17:03:58,135 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:58,135 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:58,135 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:58,135 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:58,135 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:03:58,135 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:58,136 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@40ec6ada] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:03:58,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:58,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:58,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1] (custom)
2022-08-26 17:03:58,137 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9 does not exist. Creating ...
2022-08-26 17:03:58,137 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9
2022-08-26 17:03:58,138 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:58,138 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current
2022-08-26 17:03:58,138 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/sm
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9 has been successfully formatted.
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-E429BD9145A9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9
2022-08-26 17:03:58,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:58,140 [s1-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(234)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:58,140 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:58,142 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-E429BD9145A9: start as a follower, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,142 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:58,142 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,143 [s1@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:58,143 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E429BD9145A9,id=s1
2022-08-26 17:03:58,143 [s1@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:58,143 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:58,143 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:58,143 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:58,143 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:03:58,144 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:03:58,144 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:03:58,144 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2] (custom)
2022-08-26 17:03:58,144 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9 does not exist. Creating ...
2022-08-26 17:03:58,144 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9
2022-08-26 17:03:58,145 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@54c63aff] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:03:58,145 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:03:58,145 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current
2022-08-26 17:03:58,145 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/sm
2022-08-26 17:03:58,146 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9 has been successfully formatted.
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-E429BD9145A9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:03:58,147 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:03:58,148 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:03:58,148 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:03:58,148 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:03:58,148 [s2-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(234)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-08-26 17:03:58,148 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:58,148 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:03:58,148 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-E429BD9145A9: start as a follower, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,148 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:03:58,148 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,148 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:58,148 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:58,149 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E429BD9145A9,id=s2
2022-08-26 17:03:58,149 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:03:58,149 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:03:58,149 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:03:58,149 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:03:58,150 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@39d57a7b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:03:58,150 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:58,150 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,150 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:58,297 [s1@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:154563397ns, electionTimeout:154ms
2022-08-26 17:03:58,297 [s1@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,297 [s1@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:03:58,298 [s1@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:58,298 [s1@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-LeaderElection67
2022-08-26 17:03:58,298 [s1@group-E429BD9145A9-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E429BD9145A9-LeaderElection67 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,298 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:58,299 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(PRE_VOTE, s1, group-E429BD9145A9, 0, (t:0, i:0))
2022-08-26 17:03:58,299 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:58,299 [Thread-1056] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:58,299 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,299 [s1@group-E429BD9145A9-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E429BD9145A9-LeaderElection67: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:58,299 [s1@group-E429BD9145A9-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-26 17:03:58,299 [s1@group-E429BD9145A9-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E429BD9145A9-LeaderElection67 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:58,300 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(PRE_VOTE, s1, group-E429BD9145A9, 0, (t:0, i:0))
2022-08-26 17:03:58,300 [Thread-1070] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:58,300 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-E429BD9145A9:t0, leader=null, voted=, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,300 [s1@group-E429BD9145A9-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E429BD9145A9-LeaderElection67 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,301 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:58,301 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:58,301 [Thread-1057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(ELECTION, s1, group-E429BD9145A9, 1, (t:0, i:0))
2022-08-26 17:03:58,301 [Thread-1057] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:58,301 [Thread-1057] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-26 17:03:58,301 [Thread-1057] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,301 [Thread-1057] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,301 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:03:58,301 [Thread-1071] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(ELECTION, s1, group-E429BD9145A9, 1, (t:0, i:0))
2022-08-26 17:03:58,301 [Thread-1071] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:03:58,301 [Thread-1071] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-26 17:03:58,301 [Thread-1071] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,301 [Thread-1071] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,302 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:03:58,302 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:58,302 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:58,302 [Thread-1057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-E429BD9145A9:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,302 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:03:58,302 [s1@group-E429BD9145A9-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E429BD9145A9-LeaderElection67: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:58,302 [s1@group-E429BD9145A9-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-26 17:03:58,302 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:03:58,302 [s1@group-E429BD9145A9-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E429BD9145A9-LeaderElection67 ELECTION round 0: result PASSED
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E429BD9145A9-LeaderElection67
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 181ms
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:58,303 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:58,304 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:58,304 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:58,304 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:58,304 [s1@group-E429BD9145A9-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:03:58,304 [s1@group-E429BD9145A9-LeaderElection67] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:58,304 [s1@group-E429BD9145A9-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-08-26 17:03:58,307 [Thread-1071] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-E429BD9145A9:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,307 [s1@group-E429BD9145A9-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:58,308 [Thread-1058] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s1 at term 1 for appendEntries, leader elected after 189ms
2022-08-26 17:03:58,308 [s1@group-E429BD9145A9-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,309 [Thread-1072] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s1 at term 1 for appendEntries, leader elected after 185ms
2022-08-26 17:03:58,309 [Thread-1056] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2344, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:58,309 [Thread-1070] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2343, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:58,310 [Thread-1056] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,310 [Thread-1070] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,310 [Thread-1056] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:58,310 [Thread-1056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-08-26 17:03:58,310 [Thread-1070] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:03:58,310 [Thread-1070] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-08-26 17:03:58,310 [Thread-1056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:58,310 [Thread-1070] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:58,320 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0
2022-08-26 17:03:58,320 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0)
2022-08-26 17:03:58,326 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-08-26 17:03:58,326 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0
2022-08-26 17:03:58,327 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0)
2022-08-26 17:03:58,326 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0
2022-08-26 17:03:58,327 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-08-26 17:03:58,327 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0)
2022-08-26 17:03:58,327 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-08-26 17:03:58,328 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s1<-s0#2344:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:58,328 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s1<-s2#2343:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:03:58,601 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,602 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:58,602 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,602 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,602 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:58,703 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:58,703 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,703 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,703 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:58,804 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:58,804 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,804 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,805 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:58,822 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:267366761ns, electionTimeout:250ms
2022-08-26 17:03:58,822 [s0@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,822 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-08-26 17:03:58,822 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:58,822 [s0@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-LeaderElection68
2022-08-26 17:03:58,823 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from s1 to null at term 1 for PRE_VOTE
2022-08-26 17:03:58,823 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E429BD9145A9-LeaderElection68 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,823 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(PRE_VOTE, s0, group-E429BD9145A9, 1, (t:1, i:0))
2022-08-26 17:03:58,823 [Thread-1063] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-08-26 17:03:58,824 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,824 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(PRE_VOTE, s0, group-E429BD9145A9, 1, (t:1, i:0))
2022-08-26 17:03:58,824 [Thread-1072] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:58,824 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-E429BD9145A9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,824 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E429BD9145A9-LeaderElection68: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-08-26 17:03:58,824 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-08-26 17:03:58,824 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t1
2022-08-26 17:03:58,824 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E429BD9145A9-LeaderElection68 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:58,826 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E429BD9145A9-LeaderElection68 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,826 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(ELECTION, s0, group-E429BD9145A9, 2, (t:1, i:0))
2022-08-26 17:03:58,826 [Thread-1064] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:58,826 [Thread-1064] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-26 17:03:58,826 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-08-26 17:03:58,826 [Thread-1064] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:03:58,826 [s1@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:58,826 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(ELECTION, s0, group-E429BD9145A9, 2, (t:1, i:0))
2022-08-26 17:03:58,826 [Thread-1070] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:58,826 [Thread-1070] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-08-26 17:03:58,826 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-08-26 17:03:58,827 [Thread-1070] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,827 [Thread-1070] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,827 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:03:58,826 [s1@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:58,826 [Thread-1064] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:58,828 [Thread-1064] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-FollowerState
2022-08-26 17:03:58,828 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-E429BD9145A9:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,828 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E429BD9145A9-LeaderElection68: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:58,828 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-08-26 17:03:58,828 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E429BD9145A9-LeaderElection68 ELECTION round 0: result PASSED
2022-08-26 17:03:58,828 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E429BD9145A9-LeaderElection68
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 5ms
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:58,829 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:58,830 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:58,830 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:58,830 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:58,830 [s0@group-E429BD9145A9-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:03:58,830 [s0@group-E429BD9145A9-LeaderElection68] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-08-26 17:03:58,830 [s0@group-E429BD9145A9-LeaderElection68] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-08-26 17:03:58,830 [s0@group-E429BD9145A9-LeaderElection68] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-08-26 17:03:58,830 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-E429BD9145A9:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,830 [s0@group-E429BD9145A9-LeaderElection68] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:58,831 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_0-0
2022-08-26 17:03:58,831 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_0-0
2022-08-26 17:03:58,831 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-08-26 17:03:58,832 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-08-26 17:03:58,836 [s0@group-E429BD9145A9-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,836 [Thread-1065] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s0 at term 2 for appendEntries, leader elected after 9ms
2022-08-26 17:03:58,836 [Thread-1071] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s0 at term 2 for appendEntries, leader elected after 9ms
2022-08-26 17:03:58,837 [Thread-1072] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:2393, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:58,837 [Thread-1063] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:2394, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:58,837 [Thread-1072] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,837 [Thread-1063] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:58,837 [Thread-1072] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-08-26 17:03:58,837 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-08-26 17:03:58,837 [Thread-1063] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-08-26 17:03:58,837 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-08-26 17:03:58,837 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-08-26 17:03:58,837 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-08-26 17:03:58,837 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:58,837 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:58,838 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_0-0
2022-08-26 17:03:58,838 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_0-0
2022-08-26 17:03:58,838 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-08-26 17:03:58,838 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-08-26 17:03:58,843 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_0-0
2022-08-26 17:03:58,843 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_0-0
2022-08-26 17:03:58,843 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-08-26 17:03:58,843 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-08-26 17:03:58,847 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1
2022-08-26 17:03:58,848 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1)
2022-08-26 17:03:58,853 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-08-26 17:03:58,853 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1
2022-08-26 17:03:58,853 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1)
2022-08-26 17:03:58,853 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1
2022-08-26 17:03:58,853 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1)
2022-08-26 17:03:58,854 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-08-26 17:03:58,854 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-08-26 17:03:58,854 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s2#2393:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:58,854 [s0@group-E429BD9145A9-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-08-26 17:03:58,855 [Thread-1070] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2397, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:58,855 [Thread-1070] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-08-26 17:03:58,855 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1)
2022-08-26 17:03:58,855 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-08-26 17:03:58,857 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1)
2022-08-26 17:03:58,857 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s1#2394:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:03:58,857 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-08-26 17:03:58,857 [Thread-1064] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2398, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2022-08-26 17:03:58,857 [Thread-1064] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-08-26 17:03:58,857 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s2#2397:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:58,858 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1)
2022-08-26 17:03:58,858 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-08-26 17:03:58,858 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s1#2398:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:03:58,905 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:58,905 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,905 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,906 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-08-26 17:03:58,906 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:58,906 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,906 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:58,906 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:59,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,007 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,007 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,007 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:59,107 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,108 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,108 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,108 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:59,208 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,209 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,209 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,209 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:59,272 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:415115873ns, electionTimeout:223ms
2022-08-26 17:03:59,272 [s2@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,272 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-08-26 17:03:59,273 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:59,273 [s2@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-LeaderElection69
2022-08-26 17:03:59,273 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from s0 to null at term 2 for PRE_VOTE
2022-08-26 17:03:59,273 [s2@group-E429BD9145A9-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E429BD9145A9-LeaderElection69 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,273 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(PRE_VOTE, s2, group-E429BD9145A9, 2, (t:2, i:2))
2022-08-26 17:03:59,274 [Thread-1058] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s0@group-E429BD9145A9-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 445ms. Conf: 1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,274 [Thread-1058] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-E429BD9145A9->s1(c1,m2,n3, attendVote=true, lastRpcSendTime=340, lastRpcResponseTime=415)
2022-08-26 17:03:59,274 [Thread-1058] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-E429BD9145A9->s2(c1,m2,n3, attendVote=true, lastRpcSendTime=340, lastRpcResponseTime=416)
2022-08-26 17:03:59,274 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-26 17:03:59,274 [Thread-1058] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:03:59,274 [Thread-1058] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:59,274 [s0@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:59,274 [s0@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:59,274 [Thread-1058] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,274 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(PRE_VOTE, s2, group-E429BD9145A9, 2, (t:2, i:2))
2022-08-26 17:03:59,274 [Thread-1063] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:59,275 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to PRE_VOTE vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,275 [s2@group-E429BD9145A9-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E429BD9145A9-LeaderElection69: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:59,275 [s2@group-E429BD9145A9-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t2
2022-08-26 17:03:59,275 [s2@group-E429BD9145A9-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E429BD9145A9-LeaderElection69 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:59,276 [s2@group-E429BD9145A9-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E429BD9145A9-LeaderElection69 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,276 [Thread-1058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-08-26 17:03:59,276 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-E429BD9145A9:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,277 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(ELECTION, s2, group-E429BD9145A9, 3, (t:2, i:2))
2022-08-26 17:03:59,277 [Thread-1056] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:59,277 [Thread-1056] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from s0 to null at term 3 for updateCurrentTerm
2022-08-26 17:03:59,277 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-08-26 17:03:59,277 [Thread-1056] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,277 [Thread-1056] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,277 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:03:59,277 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(ELECTION, s2, group-E429BD9145A9, 3, (t:2, i:2))
2022-08-26 17:03:59,277 [Thread-1064] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:03:59,277 [Thread-1064] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from s0 to null at term 3 for updateCurrentTerm
2022-08-26 17:03:59,277 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-08-26 17:03:59,277 [Thread-1064] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,277 [Thread-1064] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,277 [s1@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:03:59,279 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to ELECTION vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-E429BD9145A9:t3, leader=null, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,279 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to ELECTION vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-E429BD9145A9:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,279 [s2@group-E429BD9145A9-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E429BD9145A9-LeaderElection69: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:59,279 [s2@group-E429BD9145A9-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-08-26 17:03:59,279 [s2@group-E429BD9145A9-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E429BD9145A9-LeaderElection69 ELECTION round 0: result PASSED
2022-08-26 17:03:59,279 [s2@group-E429BD9145A9-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E429BD9145A9-LeaderElection69
2022-08-26 17:03:59,279 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-08-26 17:03:59,279 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s2 at term 3 for becomeLeader, leader elected after 6ms
2022-08-26 17:03:59,279 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:59,280 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:59,280 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:59,280 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:59,280 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:59,280 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:59,280 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:59,280 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:59,280 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:59,280 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:59,280 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:59,281 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:59,281 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:59,281 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:59,281 [s2@group-E429BD9145A9-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:03:59,281 [s2@group-E429BD9145A9-LeaderElection69] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-08-26 17:03:59,281 [s2@group-E429BD9145A9-LeaderElection69] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-08-26 17:03:59,281 [s2@group-E429BD9145A9-LeaderElection69] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-08-26 17:03:59,281 [s2@group-E429BD9145A9-LeaderElection69] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:59,282 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_1-2
2022-08-26 17:03:59,282 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_1-2
2022-08-26 17:03:59,282 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-08-26 17:03:59,282 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-08-26 17:03:59,286 [Thread-1057] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s2 at term 3 for appendEntries, leader elected after 9ms
2022-08-26 17:03:59,287 [Thread-1058] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s2, 3, (t:2, i:2), 1, true, commits:[s2:c1, s0:c2, s1:c0], cId:2427, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:59,287 [Thread-1058] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,287 [Thread-1058] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-08-26 17:03:59,287 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-08-26 17:03:59,287 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-08-26 17:03:59,288 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:59,288 [s2@group-E429BD9145A9-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,288 [Thread-1065] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s2 at term 3 for appendEntries, leader elected after 10ms
2022-08-26 17:03:59,288 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_1-2
2022-08-26 17:03:59,288 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_1-2
2022-08-26 17:03:59,288 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-08-26 17:03:59,288 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-08-26 17:03:59,292 [Thread-1063] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s2, 3, (t:2, i:2), 1, true, commits:[s2:c1, s0:c2, s1:c1], cId:2430, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:59,292 [Thread-1063] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,292 [Thread-1063] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-08-26 17:03:59,292 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-08-26 17:03:59,292 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-08-26 17:03:59,293 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:59,296 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_1-2
2022-08-26 17:03:59,296 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_1-2
2022-08-26 17:03:59,296 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-08-26 17:03:59,296 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-08-26 17:03:59,297 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3
2022-08-26 17:03:59,297 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3)
2022-08-26 17:03:59,298 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-08-26 17:03:59,308 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3
2022-08-26 17:03:59,308 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3)
2022-08-26 17:03:59,308 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-08-26 17:03:59,308 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s0#2427:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:03:59,308 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3
2022-08-26 17:03:59,309 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3)
2022-08-26 17:03:59,309 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-08-26 17:03:59,309 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s1#2430:OK-t3,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-08-26 17:03:59,309 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,309 [s2@group-E429BD9145A9-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-08-26 17:03:59,310 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,310 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,310 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-08-26 17:03:59,310 [Thread-1056] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s2, 3, (t:3, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c1], cId:2433, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2022-08-26 17:03:59,310 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3)
2022-08-26 17:03:59,310 [Thread-1056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-08-26 17:03:59,310 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-08-26 17:03:59,310 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3)
2022-08-26 17:03:59,310 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-08-26 17:03:59,311 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s0#2433:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-08-26 17:03:59,310 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,311 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,311 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,311 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:59,411 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,412 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,412 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,412 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:59,512 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,513 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,513 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,513 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:59,613 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,614 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,614 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,614 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:59,624 [s2@group-E429BD9145A9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s2@group-E429BD9145A9-LeaderStateImpl: Lost leadership on term: 3. Election timeout: 300ms. In charge for: 344ms. Conf: 3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,624 [s2@group-E429BD9145A9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-E429BD9145A9->s0(c3,m4,n5, attendVote=true, lastRpcSendTime=238, lastRpcResponseTime=313)
2022-08-26 17:03:59,624 [s2@group-E429BD9145A9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-E429BD9145A9->s1(c1,m3,n4, attendVote=true, lastRpcSendTime=313, lastRpcResponseTime=315)
2022-08-26 17:03:59,625 [s2@group-E429BD9145A9-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from    LEADER to FOLLOWER at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-26 17:03:59,625 [s2@group-E429BD9145A9-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:03:59,625 [s2@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:59,625 [s2@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:03:59,625 [s2@group-E429BD9145A9-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:03:59,625 [s2@group-E429BD9145A9-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,672 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:361690523ns, electionTimeout:176ms
2022-08-26 17:03:59,672 [s0@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,672 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-08-26 17:03:59,672 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:03:59,672 [s0@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-LeaderElection70
2022-08-26 17:03:59,673 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from s2 to null at term 3 for PRE_VOTE
2022-08-26 17:03:59,673 [s0@group-E429BD9145A9-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E429BD9145A9-LeaderElection70 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,673 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(PRE_VOTE, s0, group-E429BD9145A9, 3, (t:3, i:4))
2022-08-26 17:03:59,673 [Thread-1065] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s0: our last entry (t:3, i:3) < candidate's last entry (t:3, i:4)
2022-08-26 17:03:59,673 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(PRE_VOTE, s0, group-E429BD9145A9, 3, (t:3, i:4))
2022-08-26 17:03:59,673 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,674 [Thread-1072] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:03:59,674 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t3. Peer's state: s2@group-E429BD9145A9:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,674 [s0@group-E429BD9145A9-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E429BD9145A9-LeaderElection70: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:59,674 [s0@group-E429BD9145A9-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t3
2022-08-26 17:03:59,674 [s0@group-E429BD9145A9-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E429BD9145A9-LeaderElection70 PRE_VOTE round 0: result PASSED
2022-08-26 17:03:59,675 [s0@group-E429BD9145A9-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E429BD9145A9-LeaderElection70 ELECTION round 0: submit vote requests at term 4 for 3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,675 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(ELECTION, s0, group-E429BD9145A9, 4, (t:3, i:4))
2022-08-26 17:03:59,676 [Thread-1063] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept ELECTION from s0: our last entry (t:3, i:3) < candidate's last entry (t:3, i:4)
2022-08-26 17:03:59,676 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(ELECTION, s0, group-E429BD9145A9, 4, (t:3, i:4))
2022-08-26 17:03:59,676 [Thread-1070] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:03:59,676 [Thread-1070] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from s2 to null at term 4 for updateCurrentTerm
2022-08-26 17:03:59,676 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s0
2022-08-26 17:03:59,676 [Thread-1070] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,676 [Thread-1070] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,676 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:03:59,676 [Thread-1063] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from s2 to null at term 4 for updateCurrentTerm
2022-08-26 17:03:59,676 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s0
2022-08-26 17:03:59,676 [Thread-1063] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,676 [Thread-1063] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-FollowerState
2022-08-26 17:03:59,676 [s1@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:03:59,677 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to ELECTION vote request: s0<-s2#0:OK-t4. Peer's state: s2@group-E429BD9145A9:t4, leader=null, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,677 [s0@group-E429BD9145A9-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E429BD9145A9-LeaderElection70: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:03:59,677 [s0@group-E429BD9145A9-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t4
2022-08-26 17:03:59,677 [s0@group-E429BD9145A9-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E429BD9145A9-LeaderElection70 ELECTION round 0: result PASSED
2022-08-26 17:03:59,677 [s0@group-E429BD9145A9-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E429BD9145A9-LeaderElection70
2022-08-26 17:03:59,677 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2022-08-26 17:03:59,677 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s0 at term 4 for becomeLeader, leader elected after 4ms
2022-08-26 17:03:59,677 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:03:59,678 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:59,678 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:03:59,678 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:03:59,678 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:03:59,678 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:03:59,678 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:03:59,678 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:03:59,678 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:59,678 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:59,678 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:59,679 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:03:59,679 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:03:59,679 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:03:59,679 [s0@group-E429BD9145A9-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:03:59,679 [s0@group-E429BD9145A9-LeaderElection70] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-08-26 17:03:59,679 [s0@group-E429BD9145A9-LeaderElection70] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-08-26 17:03:59,679 [s0@group-E429BD9145A9-LeaderElection70] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-08-26 17:03:59,679 [s0@group-E429BD9145A9-LeaderElection70] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:59,680 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_3-4
2022-08-26 17:03:59,680 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_3-4
2022-08-26 17:03:59,680 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-08-26 17:03:59,680 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-08-26 17:03:59,682 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to ELECTION vote request: s0<-s1#0:OK-t4. Peer's state: s1@group-E429BD9145A9:t4, leader=null, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,684 [s0@group-E429BD9145A9-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,685 [Thread-1064] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s0 at term 4 for appendEntries, leader elected after 9ms
2022-08-26 17:03:59,685 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1499)) - s1@group-E429BD9145A9: Failed appendEntries as previous log entry ((t:3, i:4)) is not found
2022-08-26 17:03:59,685 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1469)) - s1@group-E429BD9145A9: inconsistency entries. Reply:s0<-s1#2458:FAIL-t4,INCONSISTENCY,nextIndex=4,followerCommit=1,matchIndex=-1
2022-08-26 17:03:59,685 [Thread-1071] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s0 at term 4 for appendEntries, leader elected after 9ms
2022-08-26 17:03:59,686 [s0@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-E429BD9145A9->s1: nextIndex: updateUnconditionally 5 -> 4
2022-08-26 17:03:59,687 [Thread-1072] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s0, 4, (t:3, i:4), 3, true, commits:[s0:c3, s1:c1, s2:c4], cId:2461, entries: [(t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:59,687 [Thread-1072] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,687 [Thread-1072] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-08-26 17:03:59,687 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-08-26 17:03:59,687 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-08-26 17:03:59,687 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:59,688 [Thread-1065] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s0, 4, (t:3, i:3), 3, true, commits:[s0:c3, s1:c1, s2:c4], cId:2462, entries: [(t:3, i:4), METADATAENTRY(c:3), (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:03:59,688 [Thread-1065] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:03:59,688 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-08-26 17:03:59,688 [Thread-1065] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-08-26 17:03:59,688 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-08-26 17:03:59,688 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-08-26 17:03:59,688 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:03:59,689 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_3-4
2022-08-26 17:03:59,689 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_3-4
2022-08-26 17:03:59,689 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-08-26 17:03:59,689 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-08-26 17:03:59,691 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5
2022-08-26 17:03:59,691 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5)
2022-08-26 17:03:59,691 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_3-4
2022-08-26 17:03:59,691 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_3-4
2022-08-26 17:03:59,691 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-08-26 17:03:59,691 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-08-26 17:03:59,692 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-08-26 17:03:59,706 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5
2022-08-26 17:03:59,707 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5)
2022-08-26 17:03:59,707 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5
2022-08-26 17:03:59,707 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-08-26 17:03:59,707 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5)
2022-08-26 17:03:59,707 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-08-26 17:03:59,707 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s2#2461:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-08-26 17:03:59,707 [s0@group-E429BD9145A9-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-08-26 17:03:59,708 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5)
2022-08-26 17:03:59,709 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s1#2462:OK-t4,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:03:59,710 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-08-26 17:03:59,710 [Thread-1063] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s0, 4, (t:4, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c4], cId:2464, entries: [(t:4, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:59,710 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-08-26 17:03:59,710 [Thread-1070] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s0, 4, (t:4, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c4], cId:2463, entries: [(t:4, i:6), METADATAENTRY(c:5)]
2022-08-26 17:03:59,710 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5)
2022-08-26 17:03:59,710 [Thread-1070] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-08-26 17:03:59,711 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5)
2022-08-26 17:03:59,711 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-08-26 17:03:59,711 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s2#2463:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:59,711 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-08-26 17:03:59,711 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s1#2464:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:03:59,714 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,715 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,715 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,715 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-08-26 17:03:59,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,715 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,715 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,715 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:59,815 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,816 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,816 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,816 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:03:59,917 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:03:59,917 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,917 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:03:59,917 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:00,013 [s0@group-E429BD9145A9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s0@group-E429BD9145A9-LeaderStateImpl: Lost leadership on term: 4. Election timeout: 300ms. In charge for: 335ms. Conf: 5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,013 [s0@group-E429BD9145A9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-E429BD9145A9->s1(c5,m6,n7, attendVote=true, lastRpcSendTime=226, lastRpcResponseTime=301)
2022-08-26 17:04:00,013 [s0@group-E429BD9145A9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-E429BD9145A9->s2(c5,m6,n7, attendVote=true, lastRpcSendTime=226, lastRpcResponseTime=302)
2022-08-26 17:04:00,013 [s0@group-E429BD9145A9-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from    LEADER to FOLLOWER at term 4 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-26 17:04:00,013 [s0@group-E429BD9145A9-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:00,014 [s0@group-E429BD9145A9-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:04:00,014 [s0@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:00,014 [s0@group-E429BD9145A9-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,014 [s0@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:00,018 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:00,019 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,019 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:00,173 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:461800847ns, electionTimeout:252ms
2022-08-26 17:04:00,173 [s2@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,173 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2022-08-26 17:04:00,173 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:00,173 [s2@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-LeaderElection71
2022-08-26 17:04:00,173 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from s0 to null at term 4 for PRE_VOTE
2022-08-26 17:04:00,173 [s2@group-E429BD9145A9-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E429BD9145A9-LeaderElection71 PRE_VOTE round 0: submit vote requests at term 4 for 5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,174 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(PRE_VOTE, s2, group-E429BD9145A9, 4, (t:4, i:6))
2022-08-26 17:04:00,174 [Thread-1058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:04:00,174 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(PRE_VOTE, s2, group-E429BD9145A9, 4, (t:4, i:6))
2022-08-26 17:04:00,174 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to PRE_VOTE vote request: s2<-s0#0:OK-t4. Peer's state: s0@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,174 [Thread-1065] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:04:00,174 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to PRE_VOTE vote request: s2<-s1#0:OK-t4. Peer's state: s1@group-E429BD9145A9:t4, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,174 [s2@group-E429BD9145A9-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E429BD9145A9-LeaderElection71: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:00,174 [s2@group-E429BD9145A9-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t4
2022-08-26 17:04:00,174 [s2@group-E429BD9145A9-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E429BD9145A9-LeaderElection71 PRE_VOTE round 0: result PASSED
2022-08-26 17:04:00,176 [s2@group-E429BD9145A9-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E429BD9145A9-LeaderElection71 ELECTION round 0: submit vote requests at term 5 for 5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,176 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(ELECTION, s2, group-E429BD9145A9, 5, (t:4, i:6))
2022-08-26 17:04:00,176 [Thread-1056] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:04:00,176 [Thread-1056] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from s0 to null at term 5 for updateCurrentTerm
2022-08-26 17:04:00,176 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s2
2022-08-26 17:04:00,176 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(ELECTION, s2, group-E429BD9145A9, 5, (t:4, i:6))
2022-08-26 17:04:00,176 [Thread-1063] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:04:00,176 [Thread-1063] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from s0 to null at term 5 for updateCurrentTerm
2022-08-26 17:04:00,176 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s2
2022-08-26 17:04:00,176 [Thread-1063] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,176 [Thread-1056] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,176 [Thread-1056] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,176 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:00,176 [Thread-1063] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,176 [s1@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:00,177 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to ELECTION vote request: s2<-s0#0:OK-t5. Peer's state: s0@group-E429BD9145A9:t5, leader=null, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,177 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to ELECTION vote request: s2<-s1#0:OK-t5. Peer's state: s1@group-E429BD9145A9:t5, leader=null, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E429BD9145A9-LeaderElection71: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t5
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E429BD9145A9-LeaderElection71 ELECTION round 0: result PASSED
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E429BD9145A9-LeaderElection71
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s2 at term 5 for becomeLeader, leader elected after 4ms
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:04:00,178 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:00,179 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:00,179 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:00,179 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:00,179 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:00,179 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:00,179 [s2@group-E429BD9145A9-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:00,179 [s2@group-E429BD9145A9-LeaderElection71] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-08-26 17:04:00,179 [s2@group-E429BD9145A9-LeaderElection71] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-08-26 17:04:00,179 [s2@group-E429BD9145A9-LeaderElection71] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-08-26 17:04:00,180 [s2@group-E429BD9145A9-LeaderElection71] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:00,180 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_5-6
2022-08-26 17:04:00,180 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_5-6
2022-08-26 17:04:00,180 [s2@group-E429BD9145A9-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,180 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-08-26 17:04:00,180 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-08-26 17:04:00,180 [Thread-1064] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s2 at term 5 for appendEntries, leader elected after 4ms
2022-08-26 17:04:00,181 [Thread-1065] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s2, 5, (t:4, i:6), 5, true, commits:[s2:c5, s0:c5, s1:c5], cId:2499, entries: [(t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:00,181 [Thread-1065] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,181 [Thread-1065] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-08-26 17:04:00,181 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-08-26 17:04:00,181 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-08-26 17:04:00,181 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:00,181 [Thread-1057] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s2 at term 5 for appendEntries, leader elected after 5ms
2022-08-26 17:04:00,182 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_5-6
2022-08-26 17:04:00,182 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_5-6
2022-08-26 17:04:00,182 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-08-26 17:04:00,182 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-08-26 17:04:00,186 [Thread-1058] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s2, 5, (t:4, i:6), 5, true, commits:[s2:c5, s0:c6, s1:c5], cId:2500, entries: [(t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:00,187 [Thread-1058] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,187 [Thread-1058] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-08-26 17:04:00,187 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-08-26 17:04:00,187 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-08-26 17:04:00,187 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:00,187 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_5-6
2022-08-26 17:04:00,187 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_5-6
2022-08-26 17:04:00,188 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-08-26 17:04:00,188 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-08-26 17:04:00,200 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7
2022-08-26 17:04:00,200 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7)
2022-08-26 17:04:00,203 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7
2022-08-26 17:04:00,203 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7)
2022-08-26 17:04:00,203 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-08-26 17:04:00,203 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7
2022-08-26 17:04:00,203 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7)
2022-08-26 17:04:00,203 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-08-26 17:04:00,203 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-08-26 17:04:00,203 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s1#2499:OK-t5,SUCCESS,nextIndex=8,followerCommit=5,matchIndex=7
2022-08-26 17:04:00,203 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s0#2500:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-08-26 17:04:00,204 [s2@group-E429BD9145A9-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-08-26 17:04:00,204 [Thread-1063] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s2, 5, (t:5, i:7), 7, true, commits:[s2:c7, s0:c6, s1:c5], cId:2501, entries: [(t:5, i:8), METADATAENTRY(c:7)]
2022-08-26 17:04:00,204 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-08-26 17:04:00,205 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7)
2022-08-26 17:04:00,205 [Thread-1056] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s2, 5, (t:5, i:7), 7, true, commits:[s2:c7, s0:c6, s1:c5], cId:2502, entries: [(t:5, i:8), METADATAENTRY(c:7)]
2022-08-26 17:04:00,205 [Thread-1056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-08-26 17:04:00,205 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7)
2022-08-26 17:04:00,205 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7)
2022-08-26 17:04:00,205 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-08-26 17:04:00,206 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s0#2502:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-08-26 17:04:00,206 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-08-26 17:04:00,206 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s1#2501:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-08-26 17:04:00,206 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-08-26 17:04:00,469 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,469 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-08-26 17:04:00,470 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:00,470 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,470 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,470 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:00,570 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:00,570 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,571 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,571 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:00,671 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:00,671 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,672 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,672 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:00,772 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:00,772 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,772 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,773 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:00,807 [s2@group-E429BD9145A9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s2@group-E429BD9145A9-LeaderStateImpl: Lost leadership on term: 5. Election timeout: 300ms. In charge for: 629ms. Conf: 7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,807 [s2@group-E429BD9145A9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-E429BD9145A9->s0(c8,m8,n9, attendVote=true, lastRpcSendTime=299, lastRpcResponseTime=374)
2022-08-26 17:04:00,807 [s2@group-E429BD9145A9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-E429BD9145A9->s1(c8,m8,n9, attendVote=true, lastRpcSendTime=298, lastRpcResponseTime=373)
2022-08-26 17:04:00,807 [s2@group-E429BD9145A9-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from    LEADER to FOLLOWER at term 5 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-26 17:04:00,807 [s2@group-E429BD9145A9-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:00,807 [s2@group-E429BD9145A9-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:04:00,807 [s2@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:00,808 [s2@group-E429BD9145A9-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,808 [s2@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:00,838 [s1@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:405113454ns, electionTimeout:261ms
2022-08-26 17:04:00,838 [s1@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,838 [s1@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2022-08-26 17:04:00,839 [s1@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:00,839 [s1@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-LeaderElection72
2022-08-26 17:04:00,839 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from s2 to null at term 5 for PRE_VOTE
2022-08-26 17:04:00,839 [s1@group-E429BD9145A9-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E429BD9145A9-LeaderElection72 PRE_VOTE round 0: submit vote requests at term 5 for 7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,840 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(PRE_VOTE, s1, group-E429BD9145A9, 5, (t:5, i:8))
2022-08-26 17:04:00,840 [Thread-1058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:04:00,840 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(PRE_VOTE, s1, group-E429BD9145A9, 5, (t:5, i:8))
2022-08-26 17:04:00,840 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to PRE_VOTE vote request: s1<-s0#0:OK-t5. Peer's state: s0@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,840 [Thread-1072] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-08-26 17:04:00,840 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t5. Peer's state: s2@group-E429BD9145A9:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,840 [s1@group-E429BD9145A9-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E429BD9145A9-LeaderElection72: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:00,840 [s1@group-E429BD9145A9-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t5
2022-08-26 17:04:00,840 [s1@group-E429BD9145A9-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E429BD9145A9-LeaderElection72 PRE_VOTE round 0: result PASSED
2022-08-26 17:04:00,841 [s1@group-E429BD9145A9-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E429BD9145A9-LeaderElection72 ELECTION round 0: submit vote requests at term 6 for 7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,842 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(ELECTION, s1, group-E429BD9145A9, 6, (t:5, i:8))
2022-08-26 17:04:00,842 [Thread-1056] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:04:00,842 [Thread-1056] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from s2 to null at term 6 for updateCurrentTerm
2022-08-26 17:04:00,842 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s1
2022-08-26 17:04:00,842 [Thread-1056] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,842 [Thread-1056] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,842 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:00,842 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(ELECTION, s1, group-E429BD9145A9, 6, (t:5, i:8))
2022-08-26 17:04:00,842 [Thread-1070] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:04:00,842 [Thread-1070] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from s2 to null at term 6 for updateCurrentTerm
2022-08-26 17:04:00,842 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s1
2022-08-26 17:04:00,842 [Thread-1070] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,842 [Thread-1070] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:00,842 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:00,844 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to ELECTION vote request: s1<-s0#0:OK-t6. Peer's state: s0@group-E429BD9145A9:t6, leader=null, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,844 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to ELECTION vote request: s1<-s2#0:OK-t6. Peer's state: s2@group-E429BD9145A9:t6, leader=null, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E429BD9145A9-LeaderElection72: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t6
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E429BD9145A9-LeaderElection72 ELECTION round 0: result PASSED
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E429BD9145A9-LeaderElection72
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s1 at term 6 for becomeLeader, leader elected after 5ms
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:00,844 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:04:00,845 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:00,845 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:00,845 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:00,845 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:00,845 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:00,845 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:00,845 [s1@group-E429BD9145A9-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:00,845 [s1@group-E429BD9145A9-LeaderElection72] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-08-26 17:04:00,845 [s1@group-E429BD9145A9-LeaderElection72] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-08-26 17:04:00,846 [s1@group-E429BD9145A9-LeaderElection72] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-08-26 17:04:00,846 [s1@group-E429BD9145A9-LeaderElection72] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:00,846 [Thread-1057] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s1 at term 6 for appendEntries, leader elected after 4ms
2022-08-26 17:04:00,846 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_7-8
2022-08-26 17:04:00,846 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_7-8
2022-08-26 17:04:00,846 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-08-26 17:04:00,846 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-08-26 17:04:00,850 [s1@group-E429BD9145A9-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,851 [Thread-1058] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s1, 6, (t:5, i:8), 8, true, commits:[s1:c8, s0:c8, s2:c8], cId:2555, entries: [(t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:00,851 [Thread-1058] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,851 [Thread-1058] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-08-26 17:04:00,851 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-08-26 17:04:00,851 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-08-26 17:04:00,851 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:00,852 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_7-8
2022-08-26 17:04:00,852 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_7-8
2022-08-26 17:04:00,852 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-08-26 17:04:00,852 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-08-26 17:04:00,858 [Thread-1071] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s1 at term 6 for appendEntries, leader elected after 16ms
2022-08-26 17:04:00,859 [Thread-1072] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s1, 6, (t:5, i:8), 8, true, commits:[s1:c8, s0:c8, s2:c8], cId:2560, entries: [(t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:00,859 [Thread-1072] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:00,859 [Thread-1072] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-08-26 17:04:00,859 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-08-26 17:04:00,859 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-08-26 17:04:00,859 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:00,863 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_7-8
2022-08-26 17:04:00,863 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_7-8
2022-08-26 17:04:00,863 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-08-26 17:04:00,863 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-08-26 17:04:00,866 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9
2022-08-26 17:04:00,867 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9)
2022-08-26 17:04:00,867 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9
2022-08-26 17:04:00,867 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9)
2022-08-26 17:04:00,869 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-08-26 17:04:00,869 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-08-26 17:04:00,869 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s1<-s0#2555:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-08-26 17:04:00,870 [s1@group-E429BD9145A9-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-08-26 17:04:00,870 [Thread-1056] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s1, 6, (t:6, i:9), 9, true, commits:[s1:c9, s0:c8, s2:c8], cId:2561, entries: [(t:6, i:10), METADATAENTRY(c:9)]
2022-08-26 17:04:00,870 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9)
2022-08-26 17:04:00,870 [Thread-1056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-08-26 17:04:00,870 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9)
2022-08-26 17:04:00,873 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-08-26 17:04:00,873 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:00,873 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,873 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,873 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-08-26 17:04:00,873 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:00,873 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,874 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,874 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:00,874 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-08-26 17:04:00,874 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s1<-s0#2561:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-08-26 17:04:00,875 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9
2022-08-26 17:04:00,875 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9)
2022-08-26 17:04:00,875 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-08-26 17:04:00,875 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s1<-s2#2560:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-08-26 17:04:00,974 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:00,974 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,974 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:00,975 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:01,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,075 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,075 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,076 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:01,176 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,176 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,177 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,177 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:01,277 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,277 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,278 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,278 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:01,302 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:426484332ns, electionTimeout:269ms
2022-08-26 17:04:01,302 [s2@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,302 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2022-08-26 17:04:01,302 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:01,302 [s2@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-LeaderElection73
2022-08-26 17:04:01,303 [s2@group-E429BD9145A9-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from s1 to null at term 6 for PRE_VOTE
2022-08-26 17:04:01,303 [s2@group-E429BD9145A9-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E429BD9145A9-LeaderElection73 PRE_VOTE round 0: submit vote requests at term 6 for 9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,303 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(PRE_VOTE, s2, group-E429BD9145A9, 6, (t:6, i:9))
2022-08-26 17:04:01,303 [Thread-1058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: reject PRE_VOTE from s2: our last entry (t:6, i:10) > candidate's last entry (t:6, i:9)
2022-08-26 17:04:01,303 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(PRE_VOTE, s2, group-E429BD9145A9, 6, (t:6, i:9))
2022-08-26 17:04:01,303 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t6. Peer's state: s0@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,303 [Thread-1065] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s1@group-E429BD9145A9-LeaderStateImpl: Lost leadership on term: 6. Election timeout: 300ms. In charge for: 459ms. Conf: 9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,303 [Thread-1065] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s1@group-E429BD9145A9->s0(c9,m10,n11, attendVote=true, lastRpcSendTime=353, lastRpcResponseTime=429)
2022-08-26 17:04:01,304 [Thread-1065] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s1@group-E429BD9145A9->s2(c8,m9,n10, attendVote=true, lastRpcSendTime=427, lastRpcResponseTime=427)
2022-08-26 17:04:01,304 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from    LEADER to FOLLOWER at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-26 17:04:01,304 [Thread-1065] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:01,304 [s1@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:01,304 [s1@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:01,304 [Thread-1065] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:04:01,304 [Thread-1065] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,304 [Thread-1065] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2022-08-26 17:04:01,304 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t6. Peer's state: s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,305 [s2@group-E429BD9145A9-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E429BD9145A9-LeaderElection73: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-08-26 17:04:01,305 [s2@group-E429BD9145A9-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:FAIL-t6
2022-08-26 17:04:01,305 [s2@group-E429BD9145A9-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:FAIL-t6
2022-08-26 17:04:01,305 [s2@group-E429BD9145A9-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E429BD9145A9-LeaderElection73 PRE_VOTE round 0: result REJECTED
2022-08-26 17:04:01,305 [s2@group-E429BD9145A9-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from CANDIDATE to FOLLOWER at term 6 for REJECTED
2022-08-26 17:04:01,305 [s2@group-E429BD9145A9-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E429BD9145A9-LeaderElection73
2022-08-26 17:04:01,305 [s2@group-E429BD9145A9-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,342 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:467663832ns, electionTimeout:210ms
2022-08-26 17:04:01,342 [s0@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,342 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2022-08-26 17:04:01,342 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:01,342 [s0@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-LeaderElection74
2022-08-26 17:04:01,342 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from s1 to null at term 6 for PRE_VOTE
2022-08-26 17:04:01,342 [s0@group-E429BD9145A9-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E429BD9145A9-LeaderElection74 PRE_VOTE round 0: submit vote requests at term 6 for 9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,343 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(PRE_VOTE, s0, group-E429BD9145A9, 6, (t:6, i:10))
2022-08-26 17:04:01,343 [Thread-1063] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-08-26 17:04:01,343 [Thread-1071] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(PRE_VOTE, s0, group-E429BD9145A9, 6, (t:6, i:10))
2022-08-26 17:04:01,343 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t6. Peer's state: s1@group-E429BD9145A9:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,343 [Thread-1071] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s0: our last entry (t:6, i:9) < candidate's last entry (t:6, i:10)
2022-08-26 17:04:01,343 [Thread-1071] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to PRE_VOTE vote request: s0<-s2#0:OK-t6. Peer's state: s2@group-E429BD9145A9:t6, leader=null, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,343 [s0@group-E429BD9145A9-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E429BD9145A9-LeaderElection74: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:01,343 [s0@group-E429BD9145A9-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t6
2022-08-26 17:04:01,343 [s0@group-E429BD9145A9-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E429BD9145A9-LeaderElection74 PRE_VOTE round 0: result PASSED
2022-08-26 17:04:01,344 [s0@group-E429BD9145A9-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E429BD9145A9-LeaderElection74 ELECTION round 0: submit vote requests at term 7 for 9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,345 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(ELECTION, s0, group-E429BD9145A9, 7, (t:6, i:10))
2022-08-26 17:04:01,345 [Thread-1064] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:04:01,345 [Thread-1064] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from s1 to null at term 7 for updateCurrentTerm
2022-08-26 17:04:01,345 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s0
2022-08-26 17:04:01,345 [Thread-1064] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,345 [Thread-1064] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,345 [s1@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:01,345 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(ELECTION, s0, group-E429BD9145A9, 7, (t:6, i:10))
2022-08-26 17:04:01,345 [Thread-1072] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: accept ELECTION from s0: our last entry (t:6, i:9) < candidate's last entry (t:6, i:10)
2022-08-26 17:04:01,345 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s0
2022-08-26 17:04:01,345 [Thread-1072] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,345 [Thread-1072] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,345 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:01,347 [Thread-1064] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to ELECTION vote request: s0<-s1#0:OK-t7. Peer's state: s1@group-E429BD9145A9:t7, leader=null, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,347 [s0@group-E429BD9145A9-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E429BD9145A9-LeaderElection74: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:01,347 [s0@group-E429BD9145A9-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t7
2022-08-26 17:04:01,347 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to ELECTION vote request: s0<-s2#0:OK-t7. Peer's state: s2@group-E429BD9145A9:t7, leader=null, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,347 [s0@group-E429BD9145A9-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E429BD9145A9-LeaderElection74 ELECTION round 0: result PASSED
2022-08-26 17:04:01,347 [s0@group-E429BD9145A9-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E429BD9145A9-LeaderElection74
2022-08-26 17:04:01,347 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2022-08-26 17:04:01,347 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s0 at term 7 for becomeLeader, leader elected after 5ms
2022-08-26 17:04:01,347 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:04:01,347 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:01,347 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:01,348 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:01,349 [s0@group-E429BD9145A9-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:01,349 [s0@group-E429BD9145A9-LeaderElection74] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-08-26 17:04:01,349 [s0@group-E429BD9145A9-LeaderElection74] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-08-26 17:04:01,349 [s0@group-E429BD9145A9-LeaderElection74] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-08-26 17:04:01,349 [s0@group-E429BD9145A9-LeaderElection74] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:01,350 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_9-10
2022-08-26 17:04:01,350 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_9-10
2022-08-26 17:04:01,350 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-08-26 17:04:01,350 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-08-26 17:04:01,354 [s0@group-E429BD9145A9-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,355 [Thread-1065] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s0 at term 7 for appendEntries, leader elected after 9ms
2022-08-26 17:04:01,355 [Thread-1070] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s0 at term 7 for appendEntries, leader elected after 51ms
2022-08-26 17:04:01,355 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1499)) - s2@group-E429BD9145A9: Failed appendEntries as previous log entry ((t:6, i:10)) is not found
2022-08-26 17:04:01,355 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1469)) - s2@group-E429BD9145A9: inconsistency entries. Reply:s0<-s2#2594:FAIL-t7,INCONSISTENCY,nextIndex=10,followerCommit=8,matchIndex=-1
2022-08-26 17:04:01,355 [Thread-1063] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s0, 7, (t:6, i:10), 9, true, commits:[s0:c9, s1:c10, s2:c8], cId:2595, entries: [(t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:01,355 [Thread-1063] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,355 [Thread-1063] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-08-26 17:04:01,355 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-08-26 17:04:01,355 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-08-26 17:04:01,356 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:01,356 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_9-10
2022-08-26 17:04:01,356 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_9-10
2022-08-26 17:04:01,356 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-08-26 17:04:01,356 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-08-26 17:04:01,360 [s0@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-E429BD9145A9->s2: nextIndex: updateUnconditionally 11 -> 10
2022-08-26 17:04:01,361 [Thread-1071] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s0, 7, (t:6, i:9), 9, true, commits:[s0:c9, s1:c10, s2:c8], cId:2596, entries: [(t:6, i:10), METADATAENTRY(c:9), (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:01,361 [Thread-1071] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,361 [Thread-1071] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-08-26 17:04:01,361 [Thread-1071] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-08-26 17:04:01,361 [Thread-1071] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-08-26 17:04:01,361 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9)
2022-08-26 17:04:01,361 [Thread-1071] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-08-26 17:04:01,362 [Thread-1071] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:01,366 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-08-26 17:04:01,366 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11
2022-08-26 17:04:01,366 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11)
2022-08-26 17:04:01,366 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-08-26 17:04:01,366 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_9-10
2022-08-26 17:04:01,367 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_9-10
2022-08-26 17:04:01,367 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-08-26 17:04:01,367 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-08-26 17:04:01,370 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11
2022-08-26 17:04:01,370 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11)
2022-08-26 17:04:01,375 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-08-26 17:04:01,376 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s1#2595:OK-t7,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2022-08-26 17:04:01,377 [s0@group-E429BD9145A9-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-08-26 17:04:01,377 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11
2022-08-26 17:04:01,377 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11)
2022-08-26 17:04:01,377 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-08-26 17:04:01,378 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,378 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,378 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,378 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-08-26 17:04:01,378 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,378 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,379 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c8, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,379 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:01,379 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s2#2596:OK-t7,SUCCESS,nextIndex=12,followerCommit=9,matchIndex=11
2022-08-26 17:04:01,380 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11)
2022-08-26 17:04:01,380 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-08-26 17:04:01,479 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,479 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,479 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,479 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:01,580 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,580 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,580 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,580 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:01,681 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,681 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,681 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,681 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:01,782 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,782 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,782 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c9, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,782 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:01,798 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:418293833ns, electionTimeout:248ms
2022-08-26 17:04:01,798 [s2@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,798 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2022-08-26 17:04:01,798 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:01,798 [s2@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-LeaderElection75
2022-08-26 17:04:01,798 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from s0 to null at term 7 for PRE_VOTE
2022-08-26 17:04:01,798 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E429BD9145A9-LeaderElection75 PRE_VOTE round 0: submit vote requests at term 7 for 11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,799 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(PRE_VOTE, s2, group-E429BD9145A9, 7, (t:7, i:11))
2022-08-26 17:04:01,799 [Thread-1065] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:04:01,799 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to PRE_VOTE vote request: s2<-s1#0:OK-t7. Peer's state: s1@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,799 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E429BD9145A9-LeaderElection75: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:01,799 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t7
2022-08-26 17:04:01,799 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E429BD9145A9-LeaderElection75 PRE_VOTE round 0: result PASSED
2022-08-26 17:04:01,800 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(PRE_VOTE, s2, group-E429BD9145A9, 7, (t:7, i:11))
2022-08-26 17:04:01,800 [Thread-1056] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s0@group-E429BD9145A9-LeaderStateImpl: Lost leadership on term: 7. Election timeout: 300ms. In charge for: 452ms. Conf: 11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,800 [Thread-1056] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-E429BD9145A9->s1(c10,m11,n12, attendVote=true, lastRpcSendTime=420, lastRpcResponseTime=423)
2022-08-26 17:04:01,800 [Thread-1056] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-E429BD9145A9->s2(c9,m11,n12, attendVote=true, lastRpcSendTime=420, lastRpcResponseTime=420)
2022-08-26 17:04:01,800 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from    LEADER to FOLLOWER at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-26 17:04:01,800 [Thread-1056] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:01,800 [Thread-1056] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:04:01,800 [s0@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:01,801 [Thread-1056] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,801 [s0@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:01,802 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E429BD9145A9-LeaderElection75 ELECTION round 0: submit vote requests at term 8 for 11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,802 [Thread-1056] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-08-26 17:04:01,802 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t7. Peer's state: s0@group-E429BD9145A9:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,802 [Thread-1057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(ELECTION, s2, group-E429BD9145A9, 8, (t:7, i:11))
2022-08-26 17:04:01,803 [Thread-1057] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: reject ELECTION from s2: our last entry (t:7, i:12) > candidate's last entry (t:7, i:11)
2022-08-26 17:04:01,803 [Thread-1057] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from s0 to null at term 8 for updateCurrentTerm
2022-08-26 17:04:01,803 [Thread-1057] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s2
2022-08-26 17:04:01,803 [Thread-1057] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,803 [Thread-1057] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,803 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:01,803 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(ELECTION, s2, group-E429BD9145A9, 8, (t:7, i:11))
2022-08-26 17:04:01,803 [Thread-1063] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:04:01,803 [Thread-1063] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from s0 to null at term 8 for updateCurrentTerm
2022-08-26 17:04:01,803 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s2
2022-08-26 17:04:01,803 [Thread-1063] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,803 [Thread-1063] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:01,803 [s1@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:01,804 [Thread-1057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to ELECTION vote request: s2<-s0#0:FAIL-t8. Peer's state: s0@group-E429BD9145A9:t8, leader=null, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,805 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to ELECTION vote request: s2<-s1#0:OK-t8. Peer's state: s1@group-E429BD9145A9:t8, leader=null, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,805 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E429BD9145A9-LeaderElection75: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-08-26 17:04:01,805 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:FAIL-t8
2022-08-26 17:04:01,805 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:OK-t8
2022-08-26 17:04:01,805 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E429BD9145A9-LeaderElection75 ELECTION round 0: result PASSED
2022-08-26 17:04:01,805 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E429BD9145A9-LeaderElection75
2022-08-26 17:04:01,805 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2022-08-26 17:04:01,805 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s2 at term 8 for becomeLeader, leader elected after 7ms
2022-08-26 17:04:01,805 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:04:01,806 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:01,806 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:01,806 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:04:01,806 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:04:01,806 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:04:01,806 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:01,806 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:04:01,806 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:01,806 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:01,806 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:01,807 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:01,807 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:01,807 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:01,807 [s2@group-E429BD9145A9-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:01,807 [s2@group-E429BD9145A9-LeaderElection75] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-11_11 to index:11
2022-08-26 17:04:01,807 [s2@group-E429BD9145A9-LeaderElection75] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:11: startIndex=11 endIndex=11
2022-08-26 17:04:01,807 [s2@group-E429BD9145A9-LeaderElection75] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:12
2022-08-26 17:04:01,808 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_11-11
2022-08-26 17:04:01,808 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_11-11
2022-08-26 17:04:01,808 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 11
2022-08-26 17:04:01,808 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=11, updated? true
2022-08-26 17:04:01,810 [s2@group-E429BD9145A9-LeaderElection75] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:8, i:12), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:01,810 [Thread-1058] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s2 at term 8 for appendEntries, leader elected after 7ms
2022-08-26 17:04:01,811 [s2@group-E429BD9145A9-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,812 [Thread-1064] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s2 at term 8 for appendEntries, leader elected after 8ms
2022-08-26 17:04:01,812 [Thread-1065] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s2, 8, (t:7, i:11), 9, true, commits:[s2:c9, s0:c11, s1:c10], cId:2627, entries: [(t:8, i:12), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:01,812 [Thread-1065] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,812 [Thread-1065] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-11_11 to index:11
2022-08-26 17:04:01,812 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:11: startIndex=11 endIndex=11
2022-08-26 17:04:01,813 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:12
2022-08-26 17:04:01,813 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:8, i:12), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:01,813 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_11-11
2022-08-26 17:04:01,813 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_11-11
2022-08-26 17:04:01,813 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 11
2022-08-26 17:04:01,813 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=11, updated? true
2022-08-26 17:04:01,824 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12
2022-08-26 17:04:01,825 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12
2022-08-26 17:04:01,825 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12)
2022-08-26 17:04:01,825 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12)
2022-08-26 17:04:01,825 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-08-26 17:04:01,825 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-08-26 17:04:01,825 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s1#2627:OK-t8,SUCCESS,nextIndex=13,followerCommit=10,matchIndex=12
2022-08-26 17:04:01,825 [s2@group-E429BD9145A9-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), METADATAENTRY(c:12)
2022-08-26 17:04:01,826 [Thread-1063] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s2, 8, (t:8, i:12), 12, true, commits:[s2:c12, s0:c11, s1:c10], cId:2628, entries: [(t:8, i:13), METADATAENTRY(c:12)]
2022-08-26 17:04:01,826 [Thread-1056] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s2, 8, (t:8, i:12), 12, true, commits:[s2:c12, s0:c11, s1:c10], cId:2629, entries: [(t:8, i:13), METADATAENTRY(c:12)]
2022-08-26 17:04:01,826 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1499)) - s0@group-E429BD9145A9: Failed appendEntries as previous log entry ((t:8, i:12)) is not found
2022-08-26 17:04:01,826 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1469)) - s0@group-E429BD9145A9: inconsistency entries. Reply:s2<-s0#2629:FAIL-t8,INCONSISTENCY,nextIndex=12,followerCommit=11,matchIndex=-1
2022-08-26 17:04:01,826 [s2@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-E429BD9145A9->s0: nextIndex: updateUnconditionally 13 -> 12
2022-08-26 17:04:01,826 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12)
2022-08-26 17:04:01,827 [Thread-1057] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s2, 8, (t:7, i:11), 12, true, commits:[s2:c12, s0:c11, s1:c10], cId:2630, entries: [(t:8, i:12), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:), (t:8, i:13), METADATAENTRY(c:12)]
2022-08-26 17:04:01,827 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-08-26 17:04:01,827 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), METADATAENTRY(c:12)
2022-08-26 17:04:01,827 [Thread-1057] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:01,828 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12)
2022-08-26 17:04:01,828 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-08-26 17:04:01,828 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s1#2628:OK-t8,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2022-08-26 17:04:01,829 [Thread-1057] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(468)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Truncating segments toTruncate: (11, 12) isOpen? true, length=249, newEndIndex=11
  toDelete: [], start index 12
2022-08-26 17:04:01,829 [Thread-1057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task TruncateLog:11: toTruncate: (11, 12) isOpen? true, length=249, newEndIndex=11
  toDelete: []
2022-08-26 17:04:01,831 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran FileOutputStream.getChannel().truncate /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11 length: 262 -> 249
2022-08-26 17:04:01,831 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_11-11
2022-08-26 17:04:01,831 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(696)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Truncated log file /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_11 to length 249 and moved it to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_11-11
2022-08-26 17:04:01,831 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 12 -> 11
2022-08-26 17:04:01,831 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 10 -> 11
2022-08-26 17:04:01,831 [Thread-1057] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Starting segment from index:12
2022-08-26 17:04:01,831 [Thread-1057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:12
2022-08-26 17:04:01,831 [Thread-1057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:8, i:12), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:01,831 [Thread-1057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), METADATAENTRY(c:12)
2022-08-26 17:04:01,842 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12
2022-08-26 17:04:01,842 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12)
2022-08-26 17:04:01,842 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 13
2022-08-26 17:04:01,842 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s0#2630:OK-t8,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2022-08-26 17:04:01,883 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,883 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,883 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,883 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-08-26 17:04:01,883 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,884 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,884 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,884 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:01,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:01,984 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,985 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:01,985 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:02,085 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:02,086 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,086 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,086 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:02,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:02,187 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,187 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,187 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:02,254 [s1@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:426038415ns, electionTimeout:241ms
2022-08-26 17:04:02,255 [s1@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:02,255 [s1@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2022-08-26 17:04:02,255 [s1@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:02,255 [s1@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-LeaderElection76
2022-08-26 17:04:02,255 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from s2 to null at term 8 for PRE_VOTE
2022-08-26 17:04:02,255 [s1@group-E429BD9145A9-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E429BD9145A9-LeaderElection76 PRE_VOTE round 0: submit vote requests at term 8 for 12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,256 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(PRE_VOTE, s1, group-E429BD9145A9, 8, (t:8, i:13))
2022-08-26 17:04:02,256 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(PRE_VOTE, s1, group-E429BD9145A9, 8, (t:8, i:13))
2022-08-26 17:04:02,256 [Thread-1056] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:04:02,256 [Thread-1070] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s2@group-E429BD9145A9-LeaderStateImpl: Lost leadership on term: 8. Election timeout: 300ms. In charge for: 450ms. Conf: 12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,256 [Thread-1070] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-E429BD9145A9->s0(c12,m13,n14, attendVote=true, lastRpcSendTime=338, lastRpcResponseTime=413)
2022-08-26 17:04:02,256 [Thread-1070] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-E429BD9145A9->s1(c12,m13,n14, attendVote=true, lastRpcSendTime=351, lastRpcResponseTime=427)
2022-08-26 17:04:02,256 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to PRE_VOTE vote request: s1<-s0#0:OK-t8. Peer's state: s0@group-E429BD9145A9:t8, leader=s2, voted=null, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,256 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from    LEADER to FOLLOWER at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-26 17:04:02,256 [Thread-1070] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:02,256 [s2@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:02,257 [s1@group-E429BD9145A9-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E429BD9145A9-LeaderElection76: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:02,257 [s1@group-E429BD9145A9-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t8
2022-08-26 17:04:02,257 [s1@group-E429BD9145A9-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E429BD9145A9-LeaderElection76 PRE_VOTE round 0: result PASSED
2022-08-26 17:04:02,256 [Thread-1070] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:04:02,257 [Thread-1070] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:02,257 [Thread-1070] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-08-26 17:04:02,257 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t8. Peer's state: s2@group-E429BD9145A9:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,257 [s2@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:02,259 [s1@group-E429BD9145A9-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E429BD9145A9-LeaderElection76 ELECTION round 0: submit vote requests at term 9 for 12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,259 [Thread-1057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(ELECTION, s1, group-E429BD9145A9, 9, (t:8, i:13))
2022-08-26 17:04:02,259 [Thread-1057] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:04:02,259 [Thread-1057] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from s2 to null at term 9 for updateCurrentTerm
2022-08-26 17:04:02,259 [Thread-1057] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s1
2022-08-26 17:04:02,259 [Thread-1057] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:02,259 [Thread-1057] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:02,259 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:02,260 [Thread-1071] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(ELECTION, s1, group-E429BD9145A9, 9, (t:8, i:13))
2022-08-26 17:04:02,260 [Thread-1071] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:04:02,260 [Thread-1071] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from s2 to null at term 9 for updateCurrentTerm
2022-08-26 17:04:02,260 [Thread-1071] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s1
2022-08-26 17:04:02,260 [Thread-1071] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:02,260 [Thread-1071] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:02,260 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:02,261 [Thread-1057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to ELECTION vote request: s1<-s0#0:OK-t9. Peer's state: s0@group-E429BD9145A9:t9, leader=null, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E429BD9145A9-LeaderElection76: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t9
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E429BD9145A9-LeaderElection76 ELECTION round 0: result PASSED
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E429BD9145A9-LeaderElection76
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s1 at term 9 for becomeLeader, leader elected after 5ms
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:04:02,261 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:04:02,262 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:02,262 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:04:02,262 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:02,262 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:02,262 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:02,262 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:02,262 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:02,262 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:02,262 [s1@group-E429BD9145A9-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:02,262 [Thread-1071] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to ELECTION vote request: s1<-s2#0:OK-t9. Peer's state: s2@group-E429BD9145A9:t9, leader=null, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=12: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,263 [s1@group-E429BD9145A9-LeaderElection76] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-12_13 to index:13
2022-08-26 17:04:02,263 [s1@group-E429BD9145A9-LeaderElection76] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:13: startIndex=12 endIndex=13
2022-08-26 17:04:02,263 [s1@group-E429BD9145A9-LeaderElection76] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:14
2022-08-26 17:04:02,263 [s1@group-E429BD9145A9-LeaderElection76] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:9, i:14), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:02,264 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_12-13
2022-08-26 17:04:02,264 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_12-13
2022-08-26 17:04:02,264 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 13
2022-08-26 17:04:02,264 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=11, new=13, updated? true
2022-08-26 17:04:02,268 [s1@group-E429BD9145A9-LeaderElection76] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,269 [Thread-1072] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s1 at term 9 for appendEntries, leader elected after 8ms
2022-08-26 17:04:02,269 [Thread-1058] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s1 at term 9 for appendEntries, leader elected after 9ms
2022-08-26 17:04:02,269 [Thread-1070] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s1, 9, (t:8, i:13), 12, true, commits:[s1:c12, s0:c11, s2:c13], cId:2662, entries: [(t:9, i:14), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:02,269 [Thread-1056] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s1, 9, (t:8, i:13), 12, true, commits:[s1:c12, s0:c12, s2:c13], cId:2664, entries: [(t:9, i:14), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:02,270 [Thread-1056] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,270 [Thread-1056] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-12_13 to index:13
2022-08-26 17:04:02,270 [Thread-1056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:13: startIndex=12 endIndex=13
2022-08-26 17:04:02,270 [Thread-1056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:14
2022-08-26 17:04:02,270 [Thread-1056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:9, i:14), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:02,272 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_12-13
2022-08-26 17:04:02,272 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_12-13
2022-08-26 17:04:02,272 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 13
2022-08-26 17:04:02,272 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=11, new=13, updated? true
2022-08-26 17:04:02,269 [Thread-1070] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,274 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14
2022-08-26 17:04:02,275 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14)
2022-08-26 17:04:02,275 [Thread-1070] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-12_13 to index:13
2022-08-26 17:04:02,275 [Thread-1070] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:13: startIndex=12 endIndex=13
2022-08-26 17:04:02,275 [Thread-1070] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:14
2022-08-26 17:04:02,275 [Thread-1070] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:9, i:14), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:02,276 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_12-13
2022-08-26 17:04:02,276 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_12-13
2022-08-26 17:04:02,276 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 13
2022-08-26 17:04:02,276 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=11, new=13, updated? true
2022-08-26 17:04:02,278 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-08-26 17:04:02,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:02,287 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c12, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c13, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,288 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-E429BD9145A9 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-E429BD9145A9 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:02,294 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14
2022-08-26 17:04:02,294 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14
2022-08-26 17:04:02,294 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14)
2022-08-26 17:04:02,295 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14)
2022-08-26 17:04:02,295 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-08-26 17:04:02,295 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s1<-s2#2662:OK-t9,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2022-08-26 17:04:02,295 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-08-26 17:04:02,296 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s1<-s0#2664:OK-t9,SUCCESS,nextIndex=15,followerCommit=12,matchIndex=14
2022-08-26 17:04:02,295 [s1@group-E429BD9145A9-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), METADATAENTRY(c:14)
2022-08-26 17:04:02,296 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14)
2022-08-26 17:04:02,296 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-08-26 17:04:02,296 [Thread-1071] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s1, 9, (t:9, i:14), 14, true, commits:[s1:c14, s0:c12, s2:c13], cId:2667, entries: [(t:9, i:15), METADATAENTRY(c:14)]
2022-08-26 17:04:02,296 [Thread-1057] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s1, 9, (t:9, i:14), 14, true, commits:[s1:c14, s0:c12, s2:c13], cId:2668, entries: [(t:9, i:15), METADATAENTRY(c:14)]
2022-08-26 17:04:02,296 [Thread-1071] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), METADATAENTRY(c:14)
2022-08-26 17:04:02,297 [Thread-1057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), METADATAENTRY(c:14)
2022-08-26 17:04:02,297 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14)
2022-08-26 17:04:02,297 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14)
2022-08-26 17:04:02,297 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-08-26 17:04:02,297 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-08-26 17:04:02,298 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s1<-s0#2668:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2022-08-26 17:04:02,298 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s1<-s2#2667:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2022-08-26 17:04:02,738 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,739 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-08-26 17:04:02,739 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:02,739 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,739 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,739 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:02,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:02,840 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,840 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,840 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:02,858 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:182315839ns, electionTimeout:159ms
2022-08-26 17:04:02,858 [s2@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:02,858 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2022-08-26 17:04:02,858 [s2@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:02,858 [s2@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-LeaderElection77
2022-08-26 17:04:02,859 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from s1 to null at term 9 for PRE_VOTE
2022-08-26 17:04:02,859 [s2@group-E429BD9145A9-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E429BD9145A9-LeaderElection77 PRE_VOTE round 0: submit vote requests at term 9 for 14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,859 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(PRE_VOTE, s2, group-E429BD9145A9, 9, (t:9, i:15))
2022-08-26 17:04:02,859 [Thread-1058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:04:02,859 [Thread-1058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to PRE_VOTE vote request: s2<-s0#0:OK-t9. Peer's state: s0@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,860 [s2@group-E429BD9145A9-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E429BD9145A9-LeaderElection77: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:02,860 [s2@group-E429BD9145A9-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t9
2022-08-26 17:04:02,860 [s2@group-E429BD9145A9-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E429BD9145A9-LeaderElection77 PRE_VOTE round 0: result PASSED
2022-08-26 17:04:02,860 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(PRE_VOTE, s2, group-E429BD9145A9, 9, (t:9, i:15))
2022-08-26 17:04:02,860 [Thread-1065] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-08-26 17:04:02,860 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t9. Peer's state: s1@group-E429BD9145A9:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,861 [s2@group-E429BD9145A9-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E429BD9145A9-LeaderElection77 ELECTION round 0: submit vote requests at term 10 for 14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,862 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-E429BD9145A9: receive requestVote(ELECTION, s2, group-E429BD9145A9, 10, (t:9, i:15))
2022-08-26 17:04:02,862 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(ELECTION, s2, group-E429BD9145A9, 10, (t:9, i:15))
2022-08-26 17:04:02,862 [Thread-1063] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-LEADER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:04:02,862 [Thread-1063] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from s1 to null at term 10 for updateCurrentTerm
2022-08-26 17:04:02,862 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from    LEADER to FOLLOWER at term 10 for candidate:s2
2022-08-26 17:04:02,862 [Thread-1063] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:02,862 [Thread-1056] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E429BD9145A9-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-08-26 17:04:02,862 [Thread-1056] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from s1 to null at term 10 for updateCurrentTerm
2022-08-26 17:04:02,862 [Thread-1063] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:04:02,862 [s1@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:02,862 [Thread-1063] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:02,862 [s1@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:02,862 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s2
2022-08-26 17:04:02,863 [Thread-1056] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:02,863 [Thread-1056] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:02,863 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:02,864 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to ELECTION vote request: s2<-s1#0:OK-t10. Peer's state: s1@group-E429BD9145A9:t10, leader=null, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E429BD9145A9-LeaderElection77: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t10
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E429BD9145A9-LeaderElection77 ELECTION round 0: result PASSED
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E429BD9145A9-LeaderElection77
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s2 at term 10 for becomeLeader, leader elected after 6ms
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:04:02,865 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:02,866 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:02,866 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:02,866 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:02,866 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:02,866 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:02,866 [s2@group-E429BD9145A9-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:02,866 [s2@group-E429BD9145A9-LeaderElection77] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-14_15 to index:15
2022-08-26 17:04:02,866 [s2@group-E429BD9145A9-LeaderElection77] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:15: startIndex=14 endIndex=15
2022-08-26 17:04:02,866 [s2@group-E429BD9145A9-LeaderElection77] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:16
2022-08-26 17:04:02,866 [s2@group-E429BD9145A9-LeaderElection77] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:10, i:16), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:02,867 [Thread-1056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-E429BD9145A9 replies to ELECTION vote request: s2<-s0#0:OK-t10. Peer's state: s0@group-E429BD9145A9:t10, leader=null, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c15, conf=14: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,868 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_14-15
2022-08-26 17:04:02,868 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_14-15
2022-08-26 17:04:02,868 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 15
2022-08-26 17:04:02,868 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=13, new=15, updated? true
2022-08-26 17:04:02,872 [Thread-1057] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s2 at term 10 for appendEntries, leader elected after 9ms
2022-08-26 17:04:02,872 [s2@group-E429BD9145A9-LeaderElection77] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,872 [Thread-1064] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s2 at term 10 for appendEntries, leader elected after 10ms
2022-08-26 17:04:02,872 [Thread-1058] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s2, 10, (t:9, i:15), 15, true, commits:[s2:c15, s0:c15, s1:c15], cId:2725, entries: [(t:10, i:16), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:02,872 [Thread-1058] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,873 [Thread-1058] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-14_15 to index:15
2022-08-26 17:04:02,873 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:15: startIndex=14 endIndex=15
2022-08-26 17:04:02,873 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:16
2022-08-26 17:04:02,873 [Thread-1058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:10, i:16), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:02,875 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_14-15
2022-08-26 17:04:02,875 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_14-15
2022-08-26 17:04:02,875 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 15
2022-08-26 17:04:02,875 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=13, new=15, updated? true
2022-08-26 17:04:02,879 [Thread-1065] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s2, 10, (t:9, i:15), 15, true, commits:[s2:c15, s0:c15, s1:c15], cId:2728, entries: [(t:10, i:16), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:02,879 [Thread-1065] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:02,879 [Thread-1065] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-14_15 to index:15
2022-08-26 17:04:02,879 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:15: startIndex=14 endIndex=15
2022-08-26 17:04:02,879 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:16
2022-08-26 17:04:02,879 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:10, i:16), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:02,881 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_14-15
2022-08-26 17:04:02,881 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_14-15
2022-08-26 17:04:02,881 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 15
2022-08-26 17:04:02,881 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=13, new=15, updated? true
2022-08-26 17:04:02,886 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16
2022-08-26 17:04:02,886 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16)
2022-08-26 17:04:02,889 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-08-26 17:04:02,898 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16
2022-08-26 17:04:02,898 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16
2022-08-26 17:04:02,898 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16)
2022-08-26 17:04:02,898 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16)
2022-08-26 17:04:02,898 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-08-26 17:04:02,898 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s0#2725:OK-t10,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2022-08-26 17:04:02,898 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-08-26 17:04:02,899 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s1#2728:OK-t10,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2022-08-26 17:04:02,900 [s2@group-E429BD9145A9-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), METADATAENTRY(c:16)
2022-08-26 17:04:02,901 [Thread-1056] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: receive appendEntries(s2, 10, (t:10, i:16), 16, true, commits:[s2:c16, s0:c15, s1:c15], cId:2731, entries: [(t:10, i:17), METADATAENTRY(c:16)]
2022-08-26 17:04:02,901 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16)
2022-08-26 17:04:02,901 [Thread-1063] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s2, 10, (t:10, i:16), 16, true, commits:[s2:c16, s0:c15, s1:c15], cId:2732, entries: [(t:10, i:17), METADATAENTRY(c:16)]
2022-08-26 17:04:02,901 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-08-26 17:04:02,901 [Thread-1056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), METADATAENTRY(c:16)
2022-08-26 17:04:02,901 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16)
2022-08-26 17:04:02,901 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), METADATAENTRY(c:16)
2022-08-26 17:04:02,902 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16)
2022-08-26 17:04:02,902 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-08-26 17:04:02,902 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s0#2731:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2022-08-26 17:04:02,902 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-08-26 17:04:02,902 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s2<-s1#2732:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2022-08-26 17:04:02,940 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:02,940 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,940 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,941 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-08-26 17:04:02,941 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:02,941 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,941 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:02,941 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:03,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:03,041 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,042 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,042 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:03,142 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:03,142 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,143 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,143 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:03,243 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:03,243 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,244 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,244 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:03,344 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:03,344 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,345 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,345 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:03,389 [s0@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E429BD9145A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:486779800ns, electionTimeout:259ms
2022-08-26 17:04:03,389 [s0@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E429BD9145A9-FollowerState
2022-08-26 17:04:03,389 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2022-08-26 17:04:03,389 [s0@group-E429BD9145A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:03,389 [s0@group-E429BD9145A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-LeaderElection78
2022-08-26 17:04:03,389 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from s2 to null at term 10 for PRE_VOTE
2022-08-26 17:04:03,389 [s0@group-E429BD9145A9-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E429BD9145A9-LeaderElection78 PRE_VOTE round 0: submit vote requests at term 10 for 16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,390 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(PRE_VOTE, s0, group-E429BD9145A9, 10, (t:10, i:17))
2022-08-26 17:04:03,390 [Thread-1065] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:04:03,390 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(PRE_VOTE, s0, group-E429BD9145A9, 10, (t:10, i:17))
2022-08-26 17:04:03,390 [Thread-1065] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to PRE_VOTE vote request: s0<-s1#0:OK-t10. Peer's state: s1@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,390 [Thread-1072] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s2@group-E429BD9145A9-LeaderStateImpl: Lost leadership on term: 10. Election timeout: 300ms. In charge for: 525ms. Conf: 16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,390 [Thread-1072] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-E429BD9145A9->s0(c16,m17,n18, attendVote=true, lastRpcSendTime=412, lastRpcResponseTime=487)
2022-08-26 17:04:03,390 [Thread-1072] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-E429BD9145A9->s1(c16,m17,n18, attendVote=true, lastRpcSendTime=412, lastRpcResponseTime=487)
2022-08-26 17:04:03,390 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from    LEADER to FOLLOWER at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-08-26 17:04:03,390 [Thread-1072] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:03,390 [Thread-1072] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:04:03,390 [s2@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:03,391 [Thread-1072] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:03,390 [s0@group-E429BD9145A9-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E429BD9145A9-LeaderElection78: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:03,391 [s0@group-E429BD9145A9-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t10
2022-08-26 17:04:03,391 [s0@group-E429BD9145A9-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E429BD9145A9-LeaderElection78 PRE_VOTE round 0: result PASSED
2022-08-26 17:04:03,390 [s2@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-E429BD9145A9->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-08-26 17:04:03,392 [Thread-1072] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-08-26 17:04:03,392 [Thread-1072] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t10. Peer's state: s2@group-E429BD9145A9:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,392 [s0@group-E429BD9145A9-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E429BD9145A9-LeaderElection78 ELECTION round 0: submit vote requests at term 11 for 16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,393 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-E429BD9145A9: receive requestVote(ELECTION, s0, group-E429BD9145A9, 11, (t:10, i:17))
2022-08-26 17:04:03,393 [Thread-1063] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E429BD9145A9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:04:03,393 [Thread-1063] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from s2 to null at term 11 for updateCurrentTerm
2022-08-26 17:04:03,393 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2022-08-26 17:04:03,393 [Thread-1063] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:03,393 [Thread-1063] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:03,393 [s1@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:03,393 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-E429BD9145A9: receive requestVote(ELECTION, s0, group-E429BD9145A9, 11, (t:10, i:17))
2022-08-26 17:04:03,393 [Thread-1070] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E429BD9145A9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:04:03,393 [Thread-1070] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from s2 to null at term 11 for updateCurrentTerm
2022-08-26 17:04:03,393 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-E429BD9145A9: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2022-08-26 17:04:03,393 [Thread-1070] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:03,393 [Thread-1070] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:03,394 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:03,395 [Thread-1063] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-E429BD9145A9 replies to ELECTION vote request: s0<-s1#0:OK-t11. Peer's state: s1@group-E429BD9145A9:t11, leader=null, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c16, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,395 [Thread-1070] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-E429BD9145A9 replies to ELECTION vote request: s0<-s2#0:OK-t11. Peer's state: s2@group-E429BD9145A9:t11, leader=null, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c17, conf=16: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,395 [s0@group-E429BD9145A9-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E429BD9145A9-LeaderElection78: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:03,395 [s0@group-E429BD9145A9-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t11
2022-08-26 17:04:03,395 [s0@group-E429BD9145A9-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E429BD9145A9-LeaderElection78 ELECTION round 0: result PASSED
2022-08-26 17:04:03,395 [s0@group-E429BD9145A9-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E429BD9145A9-LeaderElection78
2022-08-26 17:04:03,395 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-E429BD9145A9: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2022-08-26 17:04:03,395 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-E429BD9145A9: change Leader from null to s0 at term 11 for becomeLeader, leader elected after 6ms
2022-08-26 17:04:03,395 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:04:03,395 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:03,396 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:03,397 [s0@group-E429BD9145A9-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:03,397 [s0@group-E429BD9145A9-LeaderElection78] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-16_17 to index:17
2022-08-26 17:04:03,397 [s0@group-E429BD9145A9-LeaderElection78] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:17: startIndex=16 endIndex=17
2022-08-26 17:04:03,397 [s0@group-E429BD9145A9-LeaderElection78] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:18
2022-08-26 17:04:03,397 [s0@group-E429BD9145A9-LeaderElection78] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:11, i:18), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:03,398 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_16-17
2022-08-26 17:04:03,398 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_16-17
2022-08-26 17:04:03,398 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 17
2022-08-26 17:04:03,398 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=15, new=17, updated? true
2022-08-26 17:04:03,402 [s0@group-E429BD9145A9-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-E429BD9145A9: set configuration 18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,402 [Thread-1071] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-E429BD9145A9: change Leader from null to s0 at term 11 for appendEntries, leader elected after 8ms
2022-08-26 17:04:03,402 [Thread-1064] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-E429BD9145A9: change Leader from null to s0 at term 11 for appendEntries, leader elected after 9ms
2022-08-26 17:04:03,403 [Thread-1072] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s0, 11, (t:10, i:17), 16, true, commits:[s0:c16, s1:c16, s2:c17], cId:2767, entries: [(t:11, i:18), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:03,403 [Thread-1072] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-E429BD9145A9: set configuration 18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,403 [Thread-1072] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-16_17 to index:17
2022-08-26 17:04:03,403 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:17: startIndex=16 endIndex=17
2022-08-26 17:04:03,403 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:18
2022-08-26 17:04:03,403 [Thread-1072] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:11, i:18), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:03,406 [Thread-1065] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s0, 11, (t:10, i:17), 16, true, commits:[s0:c16, s1:c16, s2:c17], cId:2768, entries: [(t:11, i:18), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:03,407 [Thread-1065] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-E429BD9145A9: set configuration 18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,407 [Thread-1065] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(457)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolling segment log-16_17 to index:17
2022-08-26 17:04:03,407 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:17: startIndex=16 endIndex=17
2022-08-26 17:04:03,407 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task StartLogSegment:18
2022-08-26 17:04:03,407 [Thread-1065] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:11, i:18), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37599"
dataStreamAddress: "localhost:38899"
clientAddress: "localhost:33081"
adminAddress: "localhost:45729"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37119"
dataStreamAddress: "localhost:39763"
clientAddress: "localhost:34105"
adminAddress: "localhost:40737"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36433"
dataStreamAddress: "localhost:41537"
clientAddress: "localhost:35205"
adminAddress: "localhost:34873"
startupRole: FOLLOWER
, old:)
2022-08-26 17:04:03,407 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_16-17
2022-08-26 17:04:03,407 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_16-17
2022-08-26 17:04:03,407 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 17
2022-08-26 17:04:03,407 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=15, new=17, updated? true
2022-08-26 17:04:03,408 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_18
2022-08-26 17:04:03,411 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_16-17
2022-08-26 17:04:03,411 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(613)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_16-17
2022-08-26 17:04:03,411 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 17
2022-08-26 17:04:03,411 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=15, new=17, updated? true
2022-08-26 17:04:03,416 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_18)
2022-08-26 17:04:03,422 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-08-26 17:04:03,423 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_18
2022-08-26 17:04:03,423 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_18
2022-08-26 17:04:03,423 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_18)
2022-08-26 17:04:03,423 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_18)
2022-08-26 17:04:03,423 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-08-26 17:04:03,423 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-08-26 17:04:03,424 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s2#2767:OK-t11,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2022-08-26 17:04:03,424 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s1#2768:OK-t11,SUCCESS,nextIndex=19,followerCommit=16,matchIndex=18
2022-08-26 17:04:03,425 [s0@group-E429BD9145A9-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), METADATAENTRY(c:18)
2022-08-26 17:04:03,425 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s0/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_18)
2022-08-26 17:04:03,425 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-08-26 17:04:03,427 [Thread-1070] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: receive appendEntries(s0, 11, (t:11, i:18), 18, true, commits:[s0:c18, s1:c16, s2:c17], cId:2771, entries: [(t:11, i:19), METADATAENTRY(c:18)]
2022-08-26 17:04:03,427 [Thread-1070] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), METADATAENTRY(c:18)
2022-08-26 17:04:03,427 [Thread-1063] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: receive appendEntries(s0, 11, (t:11, i:18), 18, true, commits:[s0:c18, s1:c16, s2:c17], cId:2772, entries: [(t:11, i:19), METADATAENTRY(c:18)]
2022-08-26 17:04:03,428 [Thread-1063] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(279)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), METADATAENTRY(c:18)
2022-08-26 17:04:03,428 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s2/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_18)
2022-08-26 17:04:03,428 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(374)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcbcf101f4/s1/7c83f6c4-162c-41d8-a3c7-e429bd9145a9/current/log_inprogress_18)
2022-08-26 17:04:03,428 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-08-26 17:04:03,428 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(137)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-08-26 17:04:03,428 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s1#2772:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2022-08-26 17:04:03,428 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-E429BD9145A9: succeeded to handle AppendEntries. Reply: s0<-s2#2771:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2022-08-26 17:04:03,445 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:03,445 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c19, conf=18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c18, conf=18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c18, conf=18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,446 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c19, conf=18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c18, conf=18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c18, conf=18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,446 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-08-26 17:04:03,446 [Time-limited test] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2022-08-26 17:04:03,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:04:03,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:04:03,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:04:03,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:04:03,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:04:03,446 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E429BD9145A9:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-E429BD9145A9-SegmentedRaftLog:OPENED:c19, conf=18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E429BD9145A9:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-E429BD9145A9-SegmentedRaftLog:OPENED:c18, conf=18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E429BD9145A9:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-E429BD9145A9-SegmentedRaftLog:OPENED:c18, conf=18: peers:[s0|rpc:localhost:37599|admin:localhost:45729|client:localhost:33081|dataStream:localhost:38899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37119|admin:localhost:40737|client:localhost:34105|dataStream:localhost:39763|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36433|admin:localhost:34873|client:localhost:35205|dataStream:localhost:41537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,446 [java.util.concurrent.ThreadPoolExecutor$Worker@29f91667[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:04:03,447 [java.util.concurrent.ThreadPoolExecutor$Worker@18d8f848[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:04:03,450 [Thread-1068] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,450 [Thread-1066] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,450 [Thread-1067] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,450 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-E429BD9145A9: shutdown
2022-08-26 17:04:03,453 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E429BD9145A9,id=s1
2022-08-26 17:04:03,453 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E429BD9145A9-FollowerState
2022-08-26 17:04:03,453 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-E429BD9145A9-StateMachineUpdater: set stopIndex = 18
2022-08-26 17:04:03,453 [s1@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:03,453 [Thread-1064] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,453 [Thread-1065] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,453 [java.util.concurrent.ThreadPoolExecutor$Worker@66d7a600[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:04:03,453 [Thread-1063] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,454 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@54c63aff] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:04:03,453 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-E429BD9145A9: shutdown
2022-08-26 17:04:03,454 [Thread-1059] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,455 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E429BD9145A9,id=s0
2022-08-26 17:04:03,455 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E429BD9145A9-LeaderStateImpl
2022-08-26 17:04:03,455 [Thread-1060] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,455 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E429BD9145A9-PendingRequests: sendNotLeaderResponses
2022-08-26 17:04:03,455 [s0@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-E429BD9145A9->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:04:03,455 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-E429BD9145A9-StateMachineUpdater: set stopIndex = 19
2022-08-26 17:04:03,455 [Thread-1061] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,455 [s0@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-E429BD9145A9->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:04:03,455 [Thread-1056] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,455 [Thread-1057] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,455 [Thread-1058] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,455 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-E429BD9145A9: applyIndex: 18
2022-08-26 17:04:03,455 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@40ec6ada] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:04:03,455 [Thread-1073] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,455 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-E429BD9145A9: shutdown
2022-08-26 17:04:03,456 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E429BD9145A9,id=s2
2022-08-26 17:04:03,456 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E429BD9145A9-FollowerState
2022-08-26 17:04:03,456 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-E429BD9145A9-StateMachineUpdater: set stopIndex = 18
2022-08-26 17:04:03,456 [Thread-1074] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,456 [s2@group-E429BD9145A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E429BD9145A9-FollowerState was interrupted
2022-08-26 17:04:03,455 [s1@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:04:03,456 [Thread-1075] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,456 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-E429BD9145A9: applyIndex: 18
2022-08-26 17:04:03,456 [s2@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:04:03,456 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-E429BD9145A9: applyIndex: 19
2022-08-26 17:04:03,458 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-E429BD9145A9-SegmentedRaftLogWorker close()
2022-08-26 17:04:03,458 [Thread-1070] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,458 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-E429BD9145A9-SegmentedRaftLogWorker close()
2022-08-26 17:04:03,458 [s0@group-E429BD9145A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:04:03,459 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-E429BD9145A9-SegmentedRaftLogWorker close()
2022-08-26 17:04:03,460 [Thread-1071] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,460 [Thread-1072] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,461 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@39d57a7b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:04:03,461 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:04:03,461 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:04:03,461 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:04:03,461 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:04:03,461 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:04:03,462 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:04:03,462 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-6BD9486269B0:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER]
2022-08-26 17:04:03,462 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:04:03,463 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:04:03,463 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:04:03,463 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:04:03,463 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:04:03,463 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:04:03,463 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-6BD9486269B0:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], format? true
2022-08-26 17:04:03,463 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0
2022-08-26 17:04:03,463 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0 does not exist.
2022-08-26 17:04:03,463 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0
2022-08-26 17:04:03,463 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:04:03,463 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:04:03,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:04:03,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:04:03,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:03,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:03,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0] (custom)
2022-08-26 17:04:03,464 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-6BD9486269B0:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER] returns group-6BD9486269B0:java.util.concurrent.CompletableFuture@4279a4f1[Not completed]
2022-08-26 17:04:03,464 [pool-43-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-6BD9486269B0:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2022-08-26 17:04:03,464 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-6BD9486269B0:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], format? true
2022-08-26 17:04:03,465 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1
2022-08-26 17:04:03,465 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1 does not exist.
2022-08-26 17:04:03,465 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1
2022-08-26 17:04:03,465 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:04:03,465 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:04:03,465 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:04:03,465 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:04:03,465 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:03,465 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:03,465 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1] (custom)
2022-08-26 17:04:03,465 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:04:03,465 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-6BD9486269B0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:04:03,466 [pool-43-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:04:03,467 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-6BD9486269B0:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER] returns group-6BD9486269B0:java.util.concurrent.CompletableFuture@36b6b19a[Not completed]
2022-08-26 17:04:03,467 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-6BD9486269B0:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], format? true
2022-08-26 17:04:03,467 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2
2022-08-26 17:04:03,467 [pool-44-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-6BD9486269B0:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2022-08-26 17:04:03,467 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2 does not exist.
2022-08-26 17:04:03,467 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2
2022-08-26 17:04:03,467 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:04:03,467 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:03,467 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:04:03,467 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:04:03,467 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:03,467 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:03,467 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:04:03,467 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:04:03,467 [pool-44-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-6BD9486269B0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-08-26 17:04:03,467 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:04:03,467 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:04:03,468 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:04:03,468 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:04:03,468 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:03,468 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:04:03,468 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:03,468 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2] (custom)
2022-08-26 17:04:03,468 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:04:03,468 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:04:03,469 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:04:03,469 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:04:03,469 [pool-44-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:04:03,469 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-6BD9486269B0:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER] returns group-6BD9486269B0:java.util.concurrent.CompletableFuture@2696428c[Not completed]
2022-08-26 17:04:03,469 [pool-45-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-6BD9486269B0:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2022-08-26 17:04:03,469 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:04:03,469 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:04:03,469 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0] (custom)
2022-08-26 17:04:03,469 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0/a67b42f1-012f-4e21-a116-6bd9486269b0 does not exist. Creating ...
2022-08-26 17:04:03,470 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0/a67b42f1-012f-4e21-a116-6bd9486269b0
2022-08-26 17:04:03,470 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:04:03,470 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:03,470 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:04:03,470 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:03,470 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:03,470 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:04:03,470 [pool-45-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-6BD9486269B0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2022-08-26 17:04:03,470 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:04:03,470 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:04:03,470 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:04:03,471 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0/a67b42f1-012f-4e21-a116-6bd9486269b0/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:04:03,471 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0/a67b42f1-012f-4e21-a116-6bd9486269b0/current
2022-08-26 17:04:03,471 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0/a67b42f1-012f-4e21-a116-6bd9486269b0/sm
2022-08-26 17:04:03,471 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:04:03,471 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:04:03,472 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:04:03,472 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:04:03,472 [pool-45-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0/a67b42f1-012f-4e21-a116-6bd9486269b0 has been successfully formatted.
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-6BD9486269B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0/a67b42f1-012f-4e21-a116-6bd9486269b0
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:04:03,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-6BD9486269B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-6BD9486269B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-6BD9486269B0: start as a follower, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6BD9486269B0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:04:03,473 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6BD9486269B0-FollowerState
2022-08-26 17:04:03,474 [s0@group-6BD9486269B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:03,474 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6BD9486269B0,id=s0
2022-08-26 17:04:03,474 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:04:03,474 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:04:03,474 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:04:03,474 [s0@group-6BD9486269B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:03,474 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:04:03,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:04:03,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:04:03,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1] (custom)
2022-08-26 17:04:03,478 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1/a67b42f1-012f-4e21-a116-6bd9486269b0 does not exist. Creating ...
2022-08-26 17:04:03,479 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1/a67b42f1-012f-4e21-a116-6bd9486269b0
2022-08-26 17:04:03,479 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@252f0da5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:04:03,479 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1/a67b42f1-012f-4e21-a116-6bd9486269b0/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:04:03,480 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1/a67b42f1-012f-4e21-a116-6bd9486269b0/current
2022-08-26 17:04:03,480 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1/a67b42f1-012f-4e21-a116-6bd9486269b0/sm
2022-08-26 17:04:03,480 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1/a67b42f1-012f-4e21-a116-6bd9486269b0 has been successfully formatted.
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-6BD9486269B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1/a67b42f1-012f-4e21-a116-6bd9486269b0
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:04:03,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:04:03,482 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-6BD9486269B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:03,482 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-6BD9486269B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:03,482 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-6BD9486269B0: start as a follower, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:04:03,482 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6BD9486269B0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:04:03,482 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6BD9486269B0-FollowerState
2022-08-26 17:04:03,483 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6BD9486269B0,id=s1
2022-08-26 17:04:03,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:04:03,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:04:03,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:04:03,483 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:04:03,483 [s1@group-6BD9486269B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:03,483 [s1@group-6BD9486269B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:03,484 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:04:03,484 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:04:03,484 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2] (custom)
2022-08-26 17:04:03,484 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2/a67b42f1-012f-4e21-a116-6bd9486269b0 does not exist. Creating ...
2022-08-26 17:04:03,484 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2/a67b42f1-012f-4e21-a116-6bd9486269b0
2022-08-26 17:04:03,485 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@22e38fdc] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:04:03,485 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2/a67b42f1-012f-4e21-a116-6bd9486269b0/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:04:03,485 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2/a67b42f1-012f-4e21-a116-6bd9486269b0/current
2022-08-26 17:04:03,485 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2/a67b42f1-012f-4e21-a116-6bd9486269b0/sm
2022-08-26 17:04:03,486 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2/a67b42f1-012f-4e21-a116-6bd9486269b0 has been successfully formatted.
2022-08-26 17:04:03,486 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:04:03,486 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:04:03,486 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:03,486 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:04:03,486 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:04:03,486 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-6BD9486269B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2/a67b42f1-012f-4e21-a116-6bd9486269b0
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-6BD9486269B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:03,487 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-6BD9486269B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:03,488 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(331)) - s2@group-6BD9486269B0: start as a listener, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:04:03,488 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-6BD9486269B0: changes role from      null to LISTENER at term 0 for startAsListener
2022-08-26 17:04:03,488 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-6BD9486269B0-FollowerState
2022-08-26 17:04:03,488 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6BD9486269B0,id=s2
2022-08-26 17:04:03,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:04:03,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:04:03,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:04:03,488 [s2@group-6BD9486269B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:03,488 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:04:03,488 [s2@group-6BD9486269B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:03,489 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@631ad670] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:04:03,489 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:03,489 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6BD9486269B0:t0, leader=null, voted=, raftlog=Memoized:s0@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6BD9486269B0:t0, leader=null, voted=, raftlog=Memoized:s1@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-6BD9486269B0:t0, leader=null, voted=, raftlog=Memoized:s2@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
2022-08-26 17:04:03,489 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6BD9486269B0:t0, leader=null, voted=, raftlog=Memoized:s0@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6BD9486269B0:t0, leader=null, voted=, raftlog=Memoized:s1@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-6BD9486269B0:t0, leader=null, voted=, raftlog=Memoized:s2@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6BD9486269B0:t0, leader=null, voted=, raftlog=Memoized:s0@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6BD9486269B0:t0, leader=null, voted=, raftlog=Memoized:s1@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-6BD9486269B0:t0, leader=null, voted=, raftlog=Memoized:s2@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeListenerToFollower(LeaderElectionTests.java:388)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:03,678 [s1@group-6BD9486269B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-6BD9486269B0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:195994381ns, electionTimeout:195ms
2022-08-26 17:04:03,679 [s1@group-6BD9486269B0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-6BD9486269B0-FollowerState
2022-08-26 17:04:03,679 [s1@group-6BD9486269B0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6BD9486269B0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:04:03,679 [s1@group-6BD9486269B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:03,679 [s1@group-6BD9486269B0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6BD9486269B0-LeaderElection79
2022-08-26 17:04:03,679 [s1@group-6BD9486269B0-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-6BD9486269B0-LeaderElection79 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:04:03,680 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:03,680 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:03,680 [Thread-1215] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6BD9486269B0: receive requestVote(PRE_VOTE, s1, group-6BD9486269B0, 0, (t:0, i:0))
2022-08-26 17:04:03,680 [Thread-1215] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6BD9486269B0-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:04:03,680 [Thread-1215] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6BD9486269B0 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-6BD9486269B0:t0, leader=null, voted=, raftlog=Memoized:s0@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:04:03,680 [s1@group-6BD9486269B0-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-6BD9486269B0-LeaderElection79: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:03,680 [s1@group-6BD9486269B0-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-08-26 17:04:03,680 [s1@group-6BD9486269B0-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-6BD9486269B0-LeaderElection79 PRE_VOTE round 0: result PASSED
2022-08-26 17:04:03,681 [s1@group-6BD9486269B0-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-6BD9486269B0-LeaderElection79 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:04:03,682 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:03,682 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:03,682 [Thread-1217] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s0@group-6BD9486269B0: receive requestVote(ELECTION, s1, group-6BD9486269B0, 1, (t:0, i:0))
2022-08-26 17:04:03,682 [Thread-1217] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-6BD9486269B0-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-08-26 17:04:03,682 [Thread-1217] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-6BD9486269B0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-08-26 17:04:03,682 [Thread-1217] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6BD9486269B0-FollowerState
2022-08-26 17:04:03,682 [Thread-1217] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6BD9486269B0-FollowerState
2022-08-26 17:04:03,682 [s0@group-6BD9486269B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-6BD9486269B0-FollowerState was interrupted
2022-08-26 17:04:03,682 [s0@group-6BD9486269B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:03,682 [s0@group-6BD9486269B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:03,683 [Thread-1217] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s0@group-6BD9486269B0 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-6BD9486269B0:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-6BD9486269B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:04:03,683 [s1@group-6BD9486269B0-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-6BD9486269B0-LeaderElection79: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:03,683 [s1@group-6BD9486269B0-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-08-26 17:04:03,683 [s1@group-6BD9486269B0-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-6BD9486269B0-LeaderElection79 ELECTION round 0: result PASSED
2022-08-26 17:04:03,683 [s1@group-6BD9486269B0-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-6BD9486269B0-LeaderElection79
2022-08-26 17:04:03,683 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-6BD9486269B0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:04:03,683 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-6BD9486269B0: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 216ms
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:03,684 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:03,685 [s1@group-6BD9486269B0-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-6BD9486269B0-LeaderStateImpl
2022-08-26 17:04:03,685 [s1@group-6BD9486269B0-LeaderElection79] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-6BD9486269B0-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:04:03,689 [s1@group-6BD9486269B0-LeaderElection79] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-6BD9486269B0: set configuration 0: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:04:03,689 [Thread-1216] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-6BD9486269B0: change Leader from null to s1 at term 1 for appendEntries, leader elected after 223ms
2022-08-26 17:04:03,690 [Thread-1215] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2791, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39317"
dataStreamAddress: "localhost:38565"
clientAddress: "localhost:42681"
adminAddress: "localhost:41235"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43651"
dataStreamAddress: "localhost:36865"
clientAddress: "localhost:33105"
adminAddress: "localhost:34655"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:03,690 [Thread-1215] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-6BD9486269B0: set configuration 0: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:04:03,690 [Thread-1215] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-6BD9486269B0-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:04:03,700 [s1@group-6BD9486269B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-6BD9486269B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s1/a67b42f1-012f-4e21-a116-6bd9486269b0/current/log_inprogress_0
2022-08-26 17:04:03,700 [Thread-1229] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-6BD9486269B0: change Leader from null to s1 at term 1 for appendEntries, leader elected after 229ms
2022-08-26 17:04:03,700 [s0@group-6BD9486269B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-6BD9486269B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s0/a67b42f1-012f-4e21-a116-6bd9486269b0/current/log_inprogress_0
2022-08-26 17:04:03,701 [Thread-1230] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2792, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39317"
dataStreamAddress: "localhost:38565"
clientAddress: "localhost:42681"
adminAddress: "localhost:41235"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43651"
dataStreamAddress: "localhost:36865"
clientAddress: "localhost:33105"
adminAddress: "localhost:34655"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:03,701 [Thread-1230] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-6BD9486269B0: set configuration 0: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null
2022-08-26 17:04:03,701 [Thread-1230] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-6BD9486269B0-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:04:03,702 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s0#2791:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:04:03,711 [s2@group-6BD9486269B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-6BD9486269B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcdd1d59e0/s2/a67b42f1-012f-4e21-a116-6bd9486269b0/current/log_inprogress_0
2022-08-26 17:04:03,711 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s2#2792:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:04:03,940 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6BD9486269B0:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-6BD9486269B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-6BD9486269B0:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-6BD9486269B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-6BD9486269B0:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-6BD9486269B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER], old=null RUNNING
2022-08-26 17:04:03,940 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:04:03,941 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(817)) - s1@group-6BD9486269B0: receive client request(RaftClientRequest:client-544511FAD8A3->s1@group-6BD9486269B0, cid=2817, seq=0, RW, message)
2022-08-26 17:04:03,941 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s1@group-6BD9486269B0-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-544511FAD8A3->s1@group-6BD9486269B0, cid=2817, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2817@client-544511FAD8A3
2022-08-26 17:04:03,942 [Thread-1217] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2818, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2817@client-544511FAD8A3]
2022-08-26 17:04:03,942 [Thread-1231] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0], cId:2819, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2817@client-544511FAD8A3]
2022-08-26 17:04:03,943 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s0#2818:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:04:03,944 [Thread-1216] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2820, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:04:03,944 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s2#2819:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-08-26 17:04:03,945 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s0#2820:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:04:03,945 [Thread-1229] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0], cId:2822, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2022-08-26 17:04:03,945 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1106)) - s1@group-6BD9486269B0: receive setConfiguration SetConfigurationRequest:client-544511FAD8A3->s1@group-6BD9486269B0, cid=2821, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2022-08-26 17:04:03,946 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s2#2822:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-08-26 17:04:03,946 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s1@group-6BD9486269B0-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-544511FAD8A3->s1@group-6BD9486269B0, cid=2821, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2022-08-26 17:04:03,946 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-6BD9486269B0: set configuration 3: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER]
2022-08-26 17:04:03,947 [Thread-1215] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:2823, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:39317"
dataStreamAddress: "localhost:38565"
clientAddress: "localhost:42681"
adminAddress: "localhost:41235"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43651"
dataStreamAddress: "localhost:36865"
clientAddress: "localhost:33105"
adminAddress: "localhost:34655"
startupRole: FOLLOWER
)]
2022-08-26 17:04:03,947 [Thread-1215] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-6BD9486269B0: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER]
2022-08-26 17:04:03,948 [Thread-1230] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c1, s2:c1], cId:2824, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:39317"
dataStreamAddress: "localhost:38565"
clientAddress: "localhost:42681"
adminAddress: "localhost:41235"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43651"
dataStreamAddress: "localhost:36865"
clientAddress: "localhost:33105"
adminAddress: "localhost:34655"
startupRole: FOLLOWER
)]
2022-08-26 17:04:03,948 [Thread-1230] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-6BD9486269B0: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:39317|admin:localhost:41235|client:localhost:42681|dataStream:localhost:38565|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43651|admin:localhost:34655|client:localhost:33105|dataStream:localhost:36865|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37521|admin:localhost:42099|client:localhost:34681|dataStream:localhost:43503|priority:0|startupRole:LISTENER]
2022-08-26 17:04:03,948 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s0#2823:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:04:03,950 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s2#2824:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-08-26 17:04:03,950 [s1@group-6BD9486269B0-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-6BD9486269B0: set configuration 5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,951 [Thread-1217] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:2827, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:03,951 [Thread-1217] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-6BD9486269B0: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,951 [Thread-1231] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits:[s1:c3, s0:c2, s2:c2], cId:2828, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:03,951 [Thread-1231] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-6BD9486269B0: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:03,951 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s0#2827:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:04:03,952 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s2#2828:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-08-26 17:04:03,952 [Thread-1216] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c2], cId:2829, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:04:03,952 [Thread-1229] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: receive appendEntries(s1, 1, (t:1, i:5), 5, false, commits:[s1:c5, s0:c3, s2:c3], cId:2830, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2022-08-26 17:04:03,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:04:03,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:04:03,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:04:03,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:04:03,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:04:03,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6BD9486269B0:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-6BD9486269B0-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-6BD9486269B0:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-6BD9486269B0-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-6BD9486269B0:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-6BD9486269B0-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:03,953 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s0@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s0#2829:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:04:03,953 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-6BD9486269B0: succeeded to handle AppendEntries. Reply: s1<-s2#2830:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-08-26 17:04:03,954 [java.util.concurrent.ThreadPoolExecutor$Worker@35e15687[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-08-26 17:04:03,958 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s0@group-6BD9486269B0: shutdown
2022-08-26 17:04:03,958 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6BD9486269B0,id=s0
2022-08-26 17:04:03,958 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6BD9486269B0-FollowerState
2022-08-26 17:04:03,958 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-6BD9486269B0-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:04:03,958 [s0@group-6BD9486269B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-6BD9486269B0-FollowerState was interrupted
2022-08-26 17:04:03,958 [Thread-1218] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,958 [Thread-1219] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,958 [Thread-1220] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,959 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s0@group-6BD9486269B0: applyIndex: 5
2022-08-26 17:04:03,959 [Thread-1216] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,959 [Thread-1215] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,959 [java.util.concurrent.ThreadPoolExecutor$Worker@7de2e84[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-08-26 17:04:03,959 [s0@group-6BD9486269B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s0@group-6BD9486269B0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:04:03,959 [Thread-1217] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,959 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@252f0da5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-08-26 17:04:03,961 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s0@group-6BD9486269B0-SegmentedRaftLogWorker close()
2022-08-26 17:04:03,962 [Thread-1225] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,962 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s1@group-6BD9486269B0: shutdown
2022-08-26 17:04:03,962 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6BD9486269B0,id=s1
2022-08-26 17:04:03,962 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-6BD9486269B0-LeaderStateImpl
2022-08-26 17:04:03,962 [Thread-1227] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,962 [s1@group-6BD9486269B0->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-6BD9486269B0->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:04:03,962 [Thread-1226] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,962 [s1@group-6BD9486269B0->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-6BD9486269B0->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-08-26 17:04:03,962 [Thread-1224] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,962 [Thread-1222] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,962 [java.util.concurrent.ThreadPoolExecutor$Worker@145c23ce[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-08-26 17:04:03,962 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-6BD9486269B0-PendingRequests: sendNotLeaderResponses
2022-08-26 17:04:03,963 [Thread-1223] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,963 [Thread-1234] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,963 [Thread-1232] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,963 [Thread-1233] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,963 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(452)) - s2@group-6BD9486269B0: shutdown
2022-08-26 17:04:03,964 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6BD9486269B0,id=s2
2022-08-26 17:04:03,964 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-6BD9486269B0-FollowerState
2022-08-26 17:04:03,964 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-6BD9486269B0-StateMachineUpdater: set stopIndex = 5
2022-08-26 17:04:03,964 [s2@group-6BD9486269B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-6BD9486269B0-FollowerState was interrupted
2022-08-26 17:04:03,964 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s2@group-6BD9486269B0: applyIndex: 5
2022-08-26 17:04:03,964 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-6BD9486269B0-StateMachineUpdater: set stopIndex = 6
2022-08-26 17:04:03,965 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(408)) - s1@group-6BD9486269B0: applyIndex: 6
2022-08-26 17:04:03,965 [s2@group-6BD9486269B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s2@group-6BD9486269B0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:04:03,965 [s1@group-6BD9486269B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(345)) - s1@group-6BD9486269B0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-08-26 17:04:03,965 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s2@group-6BD9486269B0-SegmentedRaftLogWorker close()
2022-08-26 17:04:03,966 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(255)) - s1@group-6BD9486269B0-SegmentedRaftLogWorker close()
2022-08-26 17:04:03,970 [Thread-1229] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,970 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@22e38fdc] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-08-26 17:04:03,970 [Thread-1230] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,971 [Thread-1231] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-08-26 17:04:03,971 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@631ad670] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-08-26 17:04:03,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:04:03,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-08-26 17:04:03,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-08-26 17:04:03,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-08-26 17:04:03,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-08-26 17:04:03,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-08-26 17:04:03,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-6BD9486269B0:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-6BD9486269B0-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-6BD9486269B0:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-6BD9486269B0-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  LISTENER s2@group-6BD9486269B0:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-6BD9486269B0-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-08-26 17:04:03,975 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-08-26 17:04:03,976 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:04:03,976 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:04:03,976 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:04:03,976 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:04:05,577 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:05,577 [Time-limited test] INFO  impl.LeaderElection (LeaderElection.java:startIfNew(214)) - any@group-00E4881C165F-LeaderElection80: skip starting since this is already CLOSED
2022-08-26 17:04:05,579 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:04:05,579 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:04:05,579 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:04:05,579 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:04:05,583 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:05,585 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-08-26 17:04:05,585 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-08-26 17:04:05,585 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-08-26 17:04:05,585 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-08-26 17:04:05,586 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-08-26 17:04:05,587 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithSimulatedRpc with group-29F47BBF2BF3:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]
2022-08-26 17:04:05,587 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-08-26 17:04:05,587 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-08-26 17:04:05,587 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-08-26 17:04:05,587 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-08-26 17:04:05,587 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-08-26 17:04:05,588 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-08-26 17:04:05,588 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-29F47BBF2BF3:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:04:05,588 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0
2022-08-26 17:04:05,588 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0 does not exist.
2022-08-26 17:04:05,588 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0
2022-08-26 17:04:05,589 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:04:05,590 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:04:05,590 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:04:05,590 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:04:05,591 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:05,591 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:05,592 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0] (custom)
2022-08-26 17:04:05,594 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-29F47BBF2BF3:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER] returns group-29F47BBF2BF3:java.util.concurrent.CompletableFuture@723b0626[Not completed]
2022-08-26 17:04:05,595 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-29F47BBF2BF3:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:04:05,595 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1
2022-08-26 17:04:05,595 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1 does not exist.
2022-08-26 17:04:05,595 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1
2022-08-26 17:04:05,595 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:04:05,596 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:04:05,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:04:05,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:04:05,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:05,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:05,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1] (custom)
2022-08-26 17:04:05,597 [pool-46-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s0: new RaftServerImpl for group-29F47BBF2BF3:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:04:05,598 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:04:05,598 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:05,598 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:04:05,598 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:05,599 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:05,599 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:04:05,599 [pool-46-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s0@group-29F47BBF2BF3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:04:05,599 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:04:05,599 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:04:05,600 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:04:05,602 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:04:05,603 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:04:05,603 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:04:05,603 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:04:05,603 [pool-46-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:04:05,612 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-29F47BBF2BF3:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER] returns group-29F47BBF2BF3:java.util.concurrent.CompletableFuture@1bf30644[Not completed]
2022-08-26 17:04:05,613 [pool-47-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s1: new RaftServerImpl for group-29F47BBF2BF3:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:04:05,613 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-29F47BBF2BF3:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER], format? true
2022-08-26 17:04:05,613 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:04:05,613 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2
2022-08-26 17:04:05,614 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2 does not exist.
2022-08-26 17:04:05,614 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2
2022-08-26 17:04:05,613 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:05,614 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-08-26 17:04:05,614 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:04:05,615 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:05,615 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-08-26 17:04:05,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-08-26 17:04:05,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-08-26 17:04:05,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:05,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:05,615 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:05,616 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:04:05,616 [pool-47-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s1@group-29F47BBF2BF3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:04:05,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2] (custom)
2022-08-26 17:04:05,616 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:04:05,617 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:04:05,617 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:04:05,618 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:04:05,618 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:04:05,618 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:04:05,619 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:04:05,619 [pool-47-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:04:05,627 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-29F47BBF2BF3:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER] returns group-29F47BBF2BF3:java.util.concurrent.CompletableFuture@1e1187fa[Not completed]
2022-08-26 17:04:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:04:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:04:05,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0] (custom)
2022-08-26 17:04:05,629 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3 does not exist. Creating ...
2022-08-26 17:04:05,629 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3
2022-08-26 17:04:05,630 [pool-48-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(195)) - s2: new RaftServerImpl for group-29F47BBF2BF3:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-08-26 17:04:05,631 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-08-26 17:04:05,631 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:05,631 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:04:05,631 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/current
2022-08-26 17:04:05,632 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/sm
2022-08-26 17:04:05,633 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3 has been successfully formatted.
2022-08-26 17:04:05,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:04:05,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:04:05,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:05,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:04:05,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:04:05,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:05,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:04:05,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:04:05,635 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s0@group-29F47BBF2BF3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3
2022-08-26 17:04:05,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:05,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:04:05,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:05,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:04:05,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:04:05,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:04:05,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:04:05,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:04:05,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:04:05,631 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-08-26 17:04:05,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:04:05,639 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-08-26 17:04:05,639 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-08-26 17:04:05,639 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:04:05,639 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-08-26 17:04:05,641 [pool-48-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(111)) - s2@group-29F47BBF2BF3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-08-26 17:04:05,642 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-08-26 17:04:05,642 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-08-26 17:04:05,642 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-08-26 17:04:05,643 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-08-26 17:04:05,643 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-08-26 17:04:05,643 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-08-26 17:04:05,644 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-08-26 17:04:05,644 [pool-48-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-08-26 17:04:05,644 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:04:05,644 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-29F47BBF2BF3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:05,644 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s0@group-29F47BBF2BF3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:05,650 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s0@group-29F47BBF2BF3: start as a follower, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,651 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-29F47BBF2BF3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:04:05,651 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29F47BBF2BF3-FollowerState
2022-08-26 17:04:05,655 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-29F47BBF2BF3,id=s0
2022-08-26 17:04:05,655 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:04:05,656 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:04:05,656 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:04:05,656 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-08-26 17:04:05,656 [s0@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:05,660 [s0@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:05,665 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:04:05,666 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:04:05,666 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1] (custom)
2022-08-26 17:04:05,666 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3 does not exist. Creating ...
2022-08-26 17:04:05,667 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3
2022-08-26 17:04:05,667 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@477b635f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-08-26 17:04:05,668 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:04:05,668 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/current
2022-08-26 17:04:05,668 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/sm
2022-08-26 17:04:05,669 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3 has been successfully formatted.
2022-08-26 17:04:05,669 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:04:05,669 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:04:05,669 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:05,670 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:04:05,670 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:04:05,670 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:05,670 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:04:05,670 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:04:05,671 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s1@group-29F47BBF2BF3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3
2022-08-26 17:04:05,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:05,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:04:05,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:05,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:04:05,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:04:05,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:04:05,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:04:05,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:04:05,673 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:04:05,673 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:04:05,673 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:04:05,673 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:04:05,673 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-29F47BBF2BF3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:05,674 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s1@group-29F47BBF2BF3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:05,681 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s1@group-29F47BBF2BF3: start as a follower, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,681 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-29F47BBF2BF3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:04:05,681 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29F47BBF2BF3-FollowerState
2022-08-26 17:04:05,691 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-29F47BBF2BF3,id=s1
2022-08-26 17:04:05,691 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:04:05,691 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:04:05,691 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:04:05,692 [s1@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:05,692 [s1@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:05,697 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-08-26 17:04:05,699 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-08-26 17:04:05,699 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-08-26 17:04:05,699 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2] (custom)
2022-08-26 17:04:05,699 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3 does not exist. Creating ...
2022-08-26 17:04:05,700 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3
2022-08-26 17:04:05,700 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@7a3896ed] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-08-26 17:04:05,701 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/in_use.lock acquired by nodename 7316@fv-az180-188
2022-08-26 17:04:05,701 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/current
2022-08-26 17:04:05,701 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/sm
2022-08-26 17:04:05,702 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3 has been successfully formatted.
2022-08-26 17:04:05,702 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-08-26 17:04:05,702 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-08-26 17:04:05,702 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:05,702 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-08-26 17:04:05,703 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-08-26 17:04:05,703 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:05,703 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-08-26 17:04:05,703 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-08-26 17:04:05,703 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(191)) - new s2@group-29F47BBF2BF3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3
2022-08-26 17:04:05,703 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:05,703 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-08-26 17:04:05,703 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-08-26 17:04:05,704 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-08-26 17:04:05,704 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-08-26 17:04:05,704 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-08-26 17:04:05,704 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-08-26 17:04:05,704 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-08-26 17:04:05,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-08-26 17:04:05,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-08-26 17:04:05,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-08-26 17:04:05,705 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-08-26 17:04:05,705 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-29F47BBF2BF3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:05,705 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(136)) - s2@group-29F47BBF2BF3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-08-26 17:04:05,705 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(328)) - s2@group-29F47BBF2BF3: start as a follower, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,706 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-29F47BBF2BF3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-08-26 17:04:05,706 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29F47BBF2BF3-FollowerState
2022-08-26 17:04:05,707 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-29F47BBF2BF3,id=s2
2022-08-26 17:04:05,707 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-08-26 17:04:05,707 [s2@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:05,707 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-08-26 17:04:05,707 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-08-26 17:04:05,707 [s2@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:05,714 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-08-26 17:04:05,729 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$310/0x0000000100238440@74a26ea3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-08-26 17:04:05,730 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-08-26 17:04:05,731 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s0@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s1@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s2@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-08-26 17:04:05,731 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s0@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s1@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s2@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s0@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s1@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s2@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:408)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-26 17:04:05,824 [s0@group-29F47BBF2BF3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-29F47BBF2BF3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:172720454ns, electionTimeout:163ms
2022-08-26 17:04:05,824 [s0@group-29F47BBF2BF3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29F47BBF2BF3-FollowerState
2022-08-26 17:04:05,824 [s0@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-29F47BBF2BF3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-08-26 17:04:05,824 [s0@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-08-26 17:04:05,825 [s0@group-29F47BBF2BF3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29F47BBF2BF3-LeaderElection82
2022-08-26 17:04:05,828 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-29F47BBF2BF3-LeaderElection82 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,835 [Thread-1274] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-29F47BBF2BF3: receive requestVote(PRE_VOTE, s0, group-29F47BBF2BF3, 0, (t:0, i:0))
2022-08-26 17:04:05,835 [Thread-1274] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29F47BBF2BF3-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:04:05,836 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:05,836 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:05,836 [Thread-1274] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-29F47BBF2BF3 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s1@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,836 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-29F47BBF2BF3-LeaderElection82: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:05,836 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-08-26 17:04:05,836 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-29F47BBF2BF3-LeaderElection82 PRE_VOTE round 0: result PASSED
2022-08-26 17:04:05,837 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-29F47BBF2BF3-LeaderElection82 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,838 [Thread-1281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-29F47BBF2BF3: receive requestVote(PRE_VOTE, s0, group-29F47BBF2BF3, 0, (t:0, i:0))
2022-08-26 17:04:05,838 [Thread-1281] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29F47BBF2BF3-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:04:05,838 [Thread-1281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-29F47BBF2BF3 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-29F47BBF2BF3:t0, leader=null, voted=, raftlog=Memoized:s2@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,839 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:05,839 [Thread-1275] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s1@group-29F47BBF2BF3: receive requestVote(ELECTION, s0, group-29F47BBF2BF3, 1, (t:0, i:0))
2022-08-26 17:04:05,839 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:05,839 [Thread-1275] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29F47BBF2BF3-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:04:05,839 [Thread-1275] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s1@group-29F47BBF2BF3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:04:05,839 [Thread-1275] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29F47BBF2BF3-FollowerState
2022-08-26 17:04:05,839 [Thread-1275] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29F47BBF2BF3-FollowerState
2022-08-26 17:04:05,840 [s1@group-29F47BBF2BF3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-29F47BBF2BF3-FollowerState was interrupted
2022-08-26 17:04:05,840 [Thread-1282] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1212)) - s2@group-29F47BBF2BF3: receive requestVote(ELECTION, s0, group-29F47BBF2BF3, 1, (t:0, i:0))
2022-08-26 17:04:05,840 [Thread-1282] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29F47BBF2BF3-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-08-26 17:04:05,840 [Thread-1282] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s2@group-29F47BBF2BF3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-08-26 17:04:05,840 [Thread-1282] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29F47BBF2BF3-FollowerState
2022-08-26 17:04:05,840 [Thread-1282] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29F47BBF2BF3-FollowerState
2022-08-26 17:04:05,840 [s2@group-29F47BBF2BF3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-29F47BBF2BF3-FollowerState was interrupted
2022-08-26 17:04:05,841 [s1@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:05,841 [s1@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:05,841 [Thread-1275] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s1@group-29F47BBF2BF3 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-29F47BBF2BF3:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,841 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-29F47BBF2BF3-LeaderElection82: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-08-26 17:04:05,842 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-08-26 17:04:05,842 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-29F47BBF2BF3-LeaderElection82 ELECTION round 0: result PASSED
2022-08-26 17:04:05,842 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-29F47BBF2BF3-LeaderElection82
2022-08-26 17:04:05,842 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(315)) - s0@group-29F47BBF2BF3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-08-26 17:04:05,842 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s0@group-29F47BBF2BF3: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 242ms
2022-08-26 17:04:05,842 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-08-26 17:04:05,842 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:05,842 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-08-26 17:04:05,842 [Thread-1282] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1245)) - s2@group-29F47BBF2BF3 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-29F47BBF2BF3:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,842 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-08-26 17:04:05,842 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-08-26 17:04:05,843 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-08-26 17:04:05,843 [s2@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-08-26 17:04:05,843 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-08-26 17:04:05,843 [s2@group-29F47BBF2BF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-08-26 17:04:05,843 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-08-26 17:04:05,843 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:05,843 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:05,843 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:05,844 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-08-26 17:04:05,844 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-08-26 17:04:05,844 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-08-26 17:04:05,844 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29F47BBF2BF3-LeaderStateImpl
2022-08-26 17:04:05,844 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s0@group-29F47BBF2BF3-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:04:05,851 [Thread-1276] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s1@group-29F47BBF2BF3: change Leader from null to s0 at term 1 for appendEntries, leader elected after 233ms
2022-08-26 17:04:05,851 [s0@group-29F47BBF2BF3-LeaderElection82] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s0@group-29F47BBF2BF3: set configuration 0: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,852 [Thread-1283] INFO  server.RaftServer$Division (ServerState.java:setLeader(255)) - s2@group-29F47BBF2BF3: change Leader from null to s0 at term 1 for appendEntries, leader elected after 210ms
2022-08-26 17:04:05,853 [Thread-1274] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-29F47BBF2BF3: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2929, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35197"
dataStreamAddress: "localhost:37807"
clientAddress: "localhost:36207"
adminAddress: "localhost:45835"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36571"
dataStreamAddress: "localhost:43703"
clientAddress: "localhost:39579"
adminAddress: "localhost:45695"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38685"
dataStreamAddress: "localhost:36685"
clientAddress: "localhost:38581"
adminAddress: "localhost:45461"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:05,853 [Thread-1274] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s1@group-29F47BBF2BF3: set configuration 0: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,853 [Thread-1274] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s1@group-29F47BBF2BF3-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:04:05,854 [s0@group-29F47BBF2BF3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s0@group-29F47BBF2BF3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s0/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/current/log_inprogress_0
2022-08-26 17:04:05,859 [Thread-1281] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-29F47BBF2BF3: receive appendEntries(s0, 1, null, 0, true, commits:[s0:c0, s1:c-1, s2:c-1], cId:2930, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35197"
dataStreamAddress: "localhost:37807"
clientAddress: "localhost:36207"
adminAddress: "localhost:45835"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36571"
dataStreamAddress: "localhost:43703"
clientAddress: "localhost:39579"
adminAddress: "localhost:45695"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38685"
dataStreamAddress: "localhost:36685"
clientAddress: "localhost:38581"
adminAddress: "localhost:45461"
startupRole: FOLLOWER
, old:)]
2022-08-26 17:04:05,860 [Thread-1281] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(372)) - s2@group-29F47BBF2BF3: set configuration 0: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-08-26 17:04:05,860 [Thread-1281] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(452)) - s2@group-29F47BBF2BF3-SegmentedRaftLogWorker: Starting segment from index:0
2022-08-26 17:04:05,870 [s1@group-29F47BBF2BF3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s1@group-29F47BBF2BF3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s1/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/current/log_inprogress_0
2022-08-26 17:04:05,871 [s2@group-29F47BBF2BF3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(656)) - s2@group-29F47BBF2BF3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/52ed935e/MiniRaftClusterWithSimulatedRpcf83616e3/s2/e8ddbb92-e699-4e25-ab56-29f47bbf2bf3/current/log_inprogress_0
2022-08-26 17:04:05,872 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s1@group-29F47BBF2BF3: succeeded to handle AppendEntries. Reply: s0<-s1#2929:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-08-26 17:04:05,873 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1318)) - s2@group-29F47BBF2BF3: succeeded to handle AppendEntries. Reply: s0<-s2#2930:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-08-26 17:04:06,182 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29F47BBF2BF3:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29F47BBF2BF3:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29F47BBF2BF3:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-29F47BBF2BF3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35197|admin:localhost:45835|client:localhost:36207|dataStream:localhost:37807|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36571|admin:localhost:45695|client:localhost:39579|dataStream:localhost:43703|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38685|admin:localhost:45461|client:localhost:38581|dataStream:localhost:36685|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
