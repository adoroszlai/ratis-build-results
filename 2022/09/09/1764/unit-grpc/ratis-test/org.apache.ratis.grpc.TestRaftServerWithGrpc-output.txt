SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-log4j12/1.7.29/slf4j-log4j12-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-simple/1.7.29/slf4j-simple-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2022-09-09 09:09:32,169 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-09-09 09:09:32,175 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-09-09 09:09:32,184 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-09-09 09:09:32,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-09-09 09:09:32,259 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-12E2BDAA93BD:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]
2022-09-09 09:09:32,260 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-09-09 09:09:32,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-09-09 09:09:32,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-09-09 09:09:32,262 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-09-09 09:09:32,262 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-09-09 09:09:32,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-09-09 09:09:32,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-12E2BDAA93BD:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:32,269 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0
2022-09-09 09:09:32,270 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0 does not exist.
2022-09-09 09:09:32,271 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0
2022-09-09 09:09:32,317 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:32,391 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:32,394 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43495 (custom)
2022-09-09 09:09:32,394 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:32,395 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46459 (custom)
2022-09-09 09:09:32,395 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:32,395 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39219 (custom)
2022-09-09 09:09:32,396 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:32,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:32,400 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:32,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:32,418 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:32,423 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:32,427 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:32,665 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:32,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:32,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:32,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:32,669 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:32,672 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0] (custom)
2022-09-09 09:09:32,680 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-12E2BDAA93BD:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER] returns group-12E2BDAA93BD:java.util.concurrent.CompletableFuture@354269a8[Not completed]
2022-09-09 09:09:32,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-12E2BDAA93BD:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:32,681 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1
2022-09-09 09:09:32,681 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1 does not exist.
2022-09-09 09:09:32,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1
2022-09-09 09:09:32,682 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:32,683 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:32,683 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39215 (custom)
2022-09-09 09:09:32,683 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:32,685 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45655 (custom)
2022-09-09 09:09:32,685 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:32,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40809 (custom)
2022-09-09 09:09:32,687 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:32,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:32,688 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:32,689 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:32,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:32,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:32,692 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:32,699 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:32,704 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:32,704 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:32,705 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:32,705 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:32,706 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1] (custom)
2022-09-09 09:09:32,712 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-12E2BDAA93BD:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER] returns group-12E2BDAA93BD:java.util.concurrent.CompletableFuture@7817a2c5[Not completed]
2022-09-09 09:09:32,713 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-12E2BDAA93BD:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:32,713 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2
2022-09-09 09:09:32,713 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2 does not exist.
2022-09-09 09:09:32,713 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2
2022-09-09 09:09:32,714 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:32,714 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:32,714 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40805 (custom)
2022-09-09 09:09:32,714 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:32,714 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36207 (custom)
2022-09-09 09:09:32,715 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:32,715 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42237 (custom)
2022-09-09 09:09:32,718 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:32,718 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:32,719 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:32,719 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:32,719 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:32,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:32,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:32,723 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:32,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:32,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:32,724 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:32,724 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:32,724 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2] (custom)
2022-09-09 09:09:32,726 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:32,726 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:32,727 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:32,727 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:32,728 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:32,728 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:32,728 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-12E2BDAA93BD:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER] returns group-12E2BDAA93BD:java.util.concurrent.CompletableFuture@785d175a[Not completed]
2022-09-09 09:09:32,731 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:32,732 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:32,732 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:32,732 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s1: new RaftServerImpl for group-12E2BDAA93BD:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:32,736 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s2: new RaftServerImpl for group-12E2BDAA93BD:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:32,732 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-12E2BDAA93BD:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:32,739 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:32,739 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:32,739 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:32,739 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:32,740 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:32,740 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:32,746 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:32,746 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:32,746 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:32,747 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:32,747 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:32,747 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:32,746 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:32,747 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:32,748 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:32,748 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:32,748 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:32,748 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:32,751 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-12E2BDAA93BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:32,751 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-12E2BDAA93BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:32,763 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:32,767 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:32,767 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-12E2BDAA93BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:32,770 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:32,772 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:32,773 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:32,773 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:32,789 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:32,789 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:32,788 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:32,793 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:32,785 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:32,793 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:32,811 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:32,811 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:32,811 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:32,819 [pool-2-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-09-09 09:09:32,976 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:32,976 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:32,977 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:32,977 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:32,978 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:32,978 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:32,978 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:32,978 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:32,979 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:32,979 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:32,979 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:32,979 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:32,979 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:32,979 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:32,980 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:32,981 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:32,982 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:32,982 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0] (custom)
2022-09-09 09:09:32,991 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd does not exist. Creating ...
2022-09-09 09:09:32,993 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd
2022-09-09 09:09:32,997 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:32,997 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/current
2022-09-09 09:09:32,998 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/sm
2022-09-09 09:09:33,012 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd has been successfully formatted.
2022-09-09 09:09:33,013 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:33,014 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:33,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:33,021 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:33,022 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:33,023 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:33,024 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:33,031 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:33,036 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:33,036 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:33,039 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s0@group-12E2BDAA93BD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd
2022-09-09 09:09:33,040 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:33,040 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:33,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:33,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:33,042 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:33,043 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:33,043 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:33,044 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:33,046 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:33,046 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:33,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:33,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:33,056 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-12E2BDAA93BD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:33,056 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-12E2BDAA93BD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:33,058 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s0@group-12E2BDAA93BD: start as a follower, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,058 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-12E2BDAA93BD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:33,059 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-12E2BDAA93BD-FollowerState
2022-09-09 09:09:33,071 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-12E2BDAA93BD,id=s0
2022-09-09 09:09:33,074 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:33,074 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:33,075 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:33,078 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-09-09 09:09:33,079 [s0@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,087 [s0@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,119 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 46459
2022-09-09 09:09:33,121 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39219
2022-09-09 09:09:33,122 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 43495
2022-09-09 09:09:33,127 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:33,127 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@7764f709] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-09-09 09:09:33,127 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:33,128 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1] (custom)
2022-09-09 09:09:33,128 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd does not exist. Creating ...
2022-09-09 09:09:33,136 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd
2022-09-09 09:09:33,138 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:33,138 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/current
2022-09-09 09:09:33,138 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/sm
2022-09-09 09:09:33,140 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd has been successfully formatted.
2022-09-09 09:09:33,141 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:33,141 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:33,141 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:33,141 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:33,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:33,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:33,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:33,143 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:33,144 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:33,144 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:33,144 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s1@group-12E2BDAA93BD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd
2022-09-09 09:09:33,144 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:33,145 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:33,145 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:33,145 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:33,145 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:33,145 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:33,145 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:33,146 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:33,146 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:33,146 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:33,147 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:33,147 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:33,147 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-12E2BDAA93BD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:33,147 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-12E2BDAA93BD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:33,147 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s1@group-12E2BDAA93BD: start as a follower, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,148 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-12E2BDAA93BD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:33,148 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-12E2BDAA93BD-FollowerState
2022-09-09 09:09:33,151 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-12E2BDAA93BD,id=s1
2022-09-09 09:09:33,154 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:33,154 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:33,155 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:33,155 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-09-09 09:09:33,158 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 45655
2022-09-09 09:09:33,158 [s1@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,158 [s1@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,159 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 40809
2022-09-09 09:09:33,163 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 39215
2022-09-09 09:09:33,167 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:33,167 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:33,168 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2] (custom)
2022-09-09 09:09:33,168 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd does not exist. Creating ...
2022-09-09 09:09:33,168 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd
2022-09-09 09:09:33,169 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@561bee25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-09-09 09:09:33,170 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:33,171 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/current
2022-09-09 09:09:33,171 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/sm
2022-09-09 09:09:33,172 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd has been successfully formatted.
2022-09-09 09:09:33,173 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:33,173 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:33,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:33,174 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:33,174 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:33,174 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:33,174 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:33,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:33,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:33,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:33,176 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s2@group-12E2BDAA93BD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd
2022-09-09 09:09:33,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:33,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:33,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:33,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:33,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:33,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:33,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:33,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:33,178 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:33,178 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:33,178 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:33,178 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:33,179 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-12E2BDAA93BD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:33,179 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-12E2BDAA93BD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:33,184 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s2@group-12E2BDAA93BD: start as a follower, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,185 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-12E2BDAA93BD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:33,185 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-12E2BDAA93BD-FollowerState
2022-09-09 09:09:33,185 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-12E2BDAA93BD,id=s2
2022-09-09 09:09:33,186 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:33,186 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:33,186 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:33,189 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-09-09 09:09:33,193 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 36207
2022-09-09 09:09:33,193 [s2@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,194 [s2@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,194 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 42237
2022-09-09 09:09:33,196 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40805
2022-09-09 09:09:33,197 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@6978750] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-09-09 09:09:33,200 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:33,202 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:33,211 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:303)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:214)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:33,366 [s0@group-12E2BDAA93BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-12E2BDAA93BD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:306722599ns, electionTimeout:278ms
2022-09-09 09:09:33,367 [s0@group-12E2BDAA93BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-12E2BDAA93BD-FollowerState
2022-09-09 09:09:33,367 [s0@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-12E2BDAA93BD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:33,367 [s1@group-12E2BDAA93BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-12E2BDAA93BD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:219786056ns, electionTimeout:206ms
2022-09-09 09:09:33,368 [s1@group-12E2BDAA93BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-12E2BDAA93BD-FollowerState
2022-09-09 09:09:33,368 [s1@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-12E2BDAA93BD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:33,370 [s0@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:33,370 [s0@group-12E2BDAA93BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-12E2BDAA93BD-LeaderElection1
2022-09-09 09:09:33,370 [s1@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:33,370 [s1@group-12E2BDAA93BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-12E2BDAA93BD-LeaderElection2
2022-09-09 09:09:33,390 [s2@group-12E2BDAA93BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-12E2BDAA93BD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205225265ns, electionTimeout:191ms
2022-09-09 09:09:33,390 [s2@group-12E2BDAA93BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-12E2BDAA93BD-FollowerState
2022-09-09 09:09:33,390 [s2@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-12E2BDAA93BD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:33,395 [s2@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:33,395 [s2@group-12E2BDAA93BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-12E2BDAA93BD-LeaderElection3
2022-09-09 09:09:33,398 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-12E2BDAA93BD-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,401 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-12E2BDAA93BD-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,408 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s2@group-12E2BDAA93BD-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,428 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,429 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,432 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,436 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,436 [s2@group-12E2BDAA93BD-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-09-09 09:09:33,433 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,439 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,437 [s2@group-12E2BDAA93BD-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-09-09 09:09:33,447 [s0@group-12E2BDAA93BD-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-09-09 09:09:33,447 [s0@group-12E2BDAA93BD-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-09-09 09:09:33,447 [s1@group-12E2BDAA93BD-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-09-09 09:09:33,463 [s1@group-12E2BDAA93BD-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-09-09 09:09:33,585 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-12E2BDAA93BD-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-09-09 09:09:33,585 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-12E2BDAA93BD-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2022-09-09 09:09:33,586 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-12E2BDAA93BD-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,588 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,588 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,593 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-12E2BDAA93BD-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-09-09 09:09:33,593 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-12E2BDAA93BD-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2022-09-09 09:09:33,593 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s2@group-12E2BDAA93BD-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,615 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,615 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,625 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-12E2BDAA93BD-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-09-09 09:09:33,625 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-12E2BDAA93BD-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2022-09-09 09:09:33,625 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-12E2BDAA93BD-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,633 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,633 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,666 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:303)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:214)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:33,764 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-12E2BDAA93BD-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-09-09 09:09:33,764 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-12E2BDAA93BD-LeaderElection1 PRE_VOTE round 1: result TIMEOUT
2022-09-09 09:09:33,764 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-12E2BDAA93BD-LeaderElection1 PRE_VOTE round 2: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,776 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,776 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,837 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-12E2BDAA93BD-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-09-09 09:09:33,841 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-12E2BDAA93BD-LeaderElection3 PRE_VOTE round 1: result TIMEOUT
2022-09-09 09:09:33,841 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s2@group-12E2BDAA93BD-LeaderElection3 PRE_VOTE round 2: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,851 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,851 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,861 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s1, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,881 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,879 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s0, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,889 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s2, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,889 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s0, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,891 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s1, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,879 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s0, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,879 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s1, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,879 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s0, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,879 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s0, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,865 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s1, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,891 [grpc-default-executor-12] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s2, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,889 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s2, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,887 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-12E2BDAA93BD replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,884 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-12E2BDAA93BD-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-09-09 09:09:33,896 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-12E2BDAA93BD-LeaderElection2 PRE_VOTE round 1: result TIMEOUT
2022-09-09 09:09:33,884 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s0, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,891 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,902 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-12E2BDAA93BD replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,888 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,903 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-12E2BDAA93BD replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,896 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,911 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-12E2BDAA93BD replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,911 [grpc-default-executor-12] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,913 [grpc-default-executor-12] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-12E2BDAA93BD replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,913 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,916 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-12E2BDAA93BD replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,916 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,917 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-12E2BDAA93BD replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,906 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-12E2BDAA93BD-LeaderElection2 PRE_VOTE round 2: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,903 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,903 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,930 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-12E2BDAA93BD replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,930 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,930 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-12E2BDAA93BD replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,926 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-12E2BDAA93BD replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,922 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,934 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,915 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s2, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,934 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,934 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-12E2BDAA93BD replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,914 [grpc-default-executor-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s2, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,935 [grpc-default-executor-14] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,935 [grpc-default-executor-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-12E2BDAA93BD replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,913 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s2, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:33,936 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,936 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-12E2BDAA93BD replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,932 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,936 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-12E2BDAA93BD replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,937 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,937 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-12E2BDAA93BD replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,938 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:33,938 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-12E2BDAA93BD replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-12E2BDAA93BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,962 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-12E2BDAA93BD-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:33,971 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2022-09-09 09:09:33,971 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-12E2BDAA93BD-LeaderElection1 PRE_VOTE round 2: result PASSED
2022-09-09 09:09:33,973 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-12E2BDAA93BD-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:33,977 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:33,977 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:33,995 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-12E2BDAA93BD: receive requestVote(ELECTION, s0, group-12E2BDAA93BD, 1, (t:0, i:0))
2022-09-09 09:09:34,000 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-12E2BDAA93BD-CANDIDATE: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:34,001 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-12E2BDAA93BD: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s0
2022-09-09 09:09:34,002 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-12E2BDAA93BD-LeaderElection2
2022-09-09 09:09:34,002 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-12E2BDAA93BD-FollowerState
2022-09-09 09:09:34,008 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-12E2BDAA93BD-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:34,008 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2022-09-09 09:09:34,008 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-12E2BDAA93BD-LeaderElection3 PRE_VOTE round 2: result PASSED
2022-09-09 09:09:34,009 [s1@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:34,009 [s1@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:34,011 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s2@group-12E2BDAA93BD-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,011 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-12E2BDAA93BD: receive requestVote(ELECTION, s0, group-12E2BDAA93BD, 1, (t:0, i:0))
2022-09-09 09:09:34,021 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-12E2BDAA93BD-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2022-09-09 09:09:34,021 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-12E2BDAA93BD replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-12E2BDAA93BD:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,015 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:34,024 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:34,013 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-12E2BDAA93BD replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-12E2BDAA93BD:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,035 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s1, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:34,035 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-12E2BDAA93BD: receive requestVote(PRE_VOTE, s1, group-12E2BDAA93BD, 0, (t:0, i:0))
2022-09-09 09:09:34,037 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:34,037 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-12E2BDAA93BD replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-12E2BDAA93BD:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,037 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-12E2BDAA93BD: receive requestVote(ELECTION, s2, group-12E2BDAA93BD, 1, (t:0, i:0))
2022-09-09 09:09:34,037 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-12E2BDAA93BD-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2022-09-09 09:09:34,037 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-12E2BDAA93BD replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-12E2BDAA93BD:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,042 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-12E2BDAA93BD-LeaderElection1: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-09-09 09:09:34,042 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-09-09 09:09:34,042 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-09-09 09:09:34,042 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-12E2BDAA93BD-LeaderElection1 ELECTION round 0: result PASSED
2022-09-09 09:09:34,043 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-12E2BDAA93BD-LeaderElection1
2022-09-09 09:09:34,043 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-12E2BDAA93BD: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-09-09 09:09:34,043 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-12E2BDAA93BD: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 1272ms
2022-09-09 09:09:34,043 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-12E2BDAA93BD-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:34,043 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-12E2BDAA93BD replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-12E2BDAA93BD:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,045 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-12E2BDAA93BD-LeaderElection2: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-09-09 09:09:34,045 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-09-09 09:09:34,045 [s1@group-12E2BDAA93BD-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-12E2BDAA93BD-LeaderElection2 PRE_VOTE round 2: result DISCOVERED_A_NEW_TERM (term=1)
2022-09-09 09:09:34,049 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:34,051 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-12E2BDAA93BD: receive requestVote(ELECTION, s2, group-12E2BDAA93BD, 1, (t:0, i:0))
2022-09-09 09:09:34,051 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-12E2BDAA93BD-FOLLOWER: reject ELECTION from s2: already has voted for s0 at current term 1
2022-09-09 09:09:34,052 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-12E2BDAA93BD replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-12E2BDAA93BD:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,056 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-12E2BDAA93BD-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-09-09 09:09:34,056 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t1
2022-09-09 09:09:34,056 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t1
2022-09-09 09:09:34,056 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-12E2BDAA93BD-LeaderElection3 ELECTION round 0: result REJECTED
2022-09-09 09:09:34,056 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-12E2BDAA93BD: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-09-09 09:09:34,056 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-12E2BDAA93BD-LeaderElection3
2022-09-09 09:09:34,057 [s2@group-12E2BDAA93BD-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-12E2BDAA93BD-FollowerState
2022-09-09 09:09:34,061 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:34,063 [s2@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:34,063 [s2@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:34,064 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:34,070 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:34,071 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:34,073 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:34,081 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:34,084 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:34,107 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:34,107 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:34,107 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:34,111 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:34,111 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:34,111 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:34,111 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:34,116 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:34,116 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:34,116 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:34,116 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:34,116 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:34,116 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:34,117 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:34,118 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #3/100: java.lang.IllegalStateException: Leader: s0@group-12E2BDAA93BD not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-12E2BDAA93BD not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:303)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:214)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:34,119 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-12E2BDAA93BD-LeaderStateImpl
2022-09-09 09:09:34,134 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-12E2BDAA93BD-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:34,164 [s1@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:34,164 [s1@group-12E2BDAA93BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:34,187 [s0@group-12E2BDAA93BD-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-12E2BDAA93BD: set configuration 0: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,230 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-12E2BDAA93BD: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1466ms
2022-09-09 09:09:34,243 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-12E2BDAA93BD: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1481ms
2022-09-09 09:09:34,271 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-12E2BDAA93BD: set configuration 0: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,272 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-12E2BDAA93BD-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:34,280 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-12E2BDAA93BD: set configuration 0: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,280 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-12E2BDAA93BD-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:34,316 [s2@group-12E2BDAA93BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-12E2BDAA93BD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s2/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/current/log_inprogress_0
2022-09-09 09:09:34,318 [s1@group-12E2BDAA93BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-12E2BDAA93BD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s1/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/current/log_inprogress_0
2022-09-09 09:09:34,330 [s0@group-12E2BDAA93BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-12E2BDAA93BD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc631d171c/s0/bfdf6a81-94c2-4d7f-ad33-12e2bdaa93bd/current/log_inprogress_0
2022-09-09 09:09:34,569 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-12E2BDAA93BD:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-12E2BDAA93BD:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-12E2BDAA93BD:t1, leader=s0, voted=s2, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:34,599 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:34,600 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:34,666 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9EE93F43F8F9->s0: receive RaftClientReply:client-9EE93F43F8F9->s0@group-12E2BDAA93BD, cid=0, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-09-09 09:09:34,698 [s0@group-12E2BDAA93BD-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-9EE93F43F8F9
2022-09-09 09:09:34,703 [grpc-default-executor-14] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-9EE93F43F8F9->s0: receive RaftClientReply:client-9EE93F43F8F9->s0@group-12E2BDAA93BD, cid=1, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-09-09 09:09:34,706 [s1@group-12E2BDAA93BD-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-9EE93F43F8F9
2022-09-09 09:09:34,714 [s2@group-12E2BDAA93BD-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-9EE93F43F8F9
2022-09-09 09:09:34,732 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-09-09 09:09:34,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-09-09 09:09:34,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-09-09 09:09:34,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-09-09 09:09:34,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-09-09 09:09:34,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-12E2BDAA93BD:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-12E2BDAA93BD:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-12E2BDAA93BD:t1, leader=s0, voted=s2, raftlog=Memoized:s2@group-12E2BDAA93BD-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:39219|admin:localhost:43495|client:localhost:46459|dataStream:localhost:43469|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40809|admin:localhost:39215|client:localhost:45655|dataStream:localhost:34475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42237|admin:localhost:40805|client:localhost:36207|dataStream:localhost:44357|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:34,736 [java.util.concurrent.ThreadPoolExecutor$Worker@7179ccb6[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-09-09 09:09:34,740 [java.util.concurrent.ThreadPoolExecutor$Worker@614da371[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-09-09 09:09:34,746 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s0@group-12E2BDAA93BD: shutdown
2022-09-09 09:09:34,749 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-12E2BDAA93BD,id=s0
2022-09-09 09:09:34,749 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-12E2BDAA93BD-LeaderStateImpl
2022-09-09 09:09:34,749 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-12E2BDAA93BD-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:34,749 [s0@group-12E2BDAA93BD->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-12E2BDAA93BD->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:34,751 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#16-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-09-09 09:09:34,747 [java.util.concurrent.ThreadPoolExecutor$Worker@1dad42c9[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-09-09 09:09:34,754 [java.util.concurrent.ThreadPoolExecutor$Worker@614da371[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:34,759 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-12E2BDAA93BD-StateMachineUpdater: set stopIndex = 2
2022-09-09 09:09:34,754 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s2@group-12E2BDAA93BD: shutdown
2022-09-09 09:09:34,759 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-12E2BDAA93BD,id=s2
2022-09-09 09:09:34,759 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-12E2BDAA93BD-FollowerState
2022-09-09 09:09:34,754 [grpc-default-executor-14] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s0@group-12E2BDAA93BD->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:34,761 [grpc-default-executor-14] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-12E2BDAA93BD->s1: nextIndex: updateUnconditionally 3 -> 2
2022-09-09 09:09:34,762 [s2@group-12E2BDAA93BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-12E2BDAA93BD-FollowerState was interrupted
2022-09-09 09:09:34,750 [s0@group-12E2BDAA93BD->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-12E2BDAA93BD->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:34,746 [java.util.concurrent.ThreadPoolExecutor$Worker@7179ccb6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:34,763 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-12E2BDAA93BD: applyIndex: 2
2022-09-09 09:09:34,764 [s0@group-12E2BDAA93BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s0@group-12E2BDAA93BD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:34,759 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-12E2BDAA93BD-StateMachineUpdater: set stopIndex = 1
2022-09-09 09:09:34,764 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-12E2BDAA93BD: applyIndex: 1
2022-09-09 09:09:34,764 [s2@group-12E2BDAA93BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s2@group-12E2BDAA93BD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:34,763 [grpc-default-executor-14] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#16-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-09-09 09:09:34,766 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s0@group-12E2BDAA93BD->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:34,767 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s1@group-12E2BDAA93BD: shutdown
2022-09-09 09:09:34,767 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-12E2BDAA93BD,id=s1
2022-09-09 09:09:34,767 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-12E2BDAA93BD-FollowerState
2022-09-09 09:09:34,767 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-12E2BDAA93BD-StateMachineUpdater: set stopIndex = 1
2022-09-09 09:09:34,767 [s1@group-12E2BDAA93BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-12E2BDAA93BD-FollowerState was interrupted
2022-09-09 09:09:34,768 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-12E2BDAA93BD: applyIndex: 1
2022-09-09 09:09:34,768 [s1@group-12E2BDAA93BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s1@group-12E2BDAA93BD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:34,769 [java.util.concurrent.ThreadPoolExecutor$Worker@1dad42c9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:34,768 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-12E2BDAA93BD->s2: nextIndex: updateUnconditionally 3 -> 2
2022-09-09 09:09:34,770 [java.util.concurrent.ThreadPoolExecutor$Worker@7179ccb6[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-09-09 09:09:34,769 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-12E2BDAA93BD-SegmentedRaftLogWorker close()
2022-09-09 09:09:34,770 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-09-09 09:09:34,773 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-12E2BDAA93BD-SegmentedRaftLogWorker close()
2022-09-09 09:09:34,773 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-12E2BDAA93BD-SegmentedRaftLogWorker close()
2022-09-09 09:09:34,775 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-09-09 09:09:34,774 [java.util.concurrent.ThreadPoolExecutor$Worker@1dad42c9[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-09-09 09:09:34,776 [java.util.concurrent.ThreadPoolExecutor$Worker@7179ccb6[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-09-09 09:09:34,777 [java.util.concurrent.ThreadPoolExecutor$Worker@614da371[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:34,777 [java.util.concurrent.ThreadPoolExecutor$Worker@614da371[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:34,783 [java.util.concurrent.ThreadPoolExecutor$Worker@7179ccb6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:34,783 [java.util.concurrent.ThreadPoolExecutor$Worker@7179ccb6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:34,783 [java.util.concurrent.ThreadPoolExecutor$Worker@614da371[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:34,783 [java.util.concurrent.ThreadPoolExecutor$Worker@1dad42c9[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-09-09 09:09:34,783 [java.util.concurrent.ThreadPoolExecutor$Worker@614da371[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:34,784 [java.util.concurrent.ThreadPoolExecutor$Worker@614da371[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:34,784 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@6978750] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-09-09 09:09:34,785 [java.util.concurrent.ThreadPoolExecutor$Worker@1dad42c9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:34,785 [java.util.concurrent.ThreadPoolExecutor$Worker@1dad42c9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:34,785 [java.util.concurrent.ThreadPoolExecutor$Worker@1dad42c9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:34,785 [java.util.concurrent.ThreadPoolExecutor$Worker@1dad42c9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:34,786 [java.util.concurrent.ThreadPoolExecutor$Worker@7179ccb6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:34,786 [java.util.concurrent.ThreadPoolExecutor$Worker@7179ccb6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:34,786 [java.util.concurrent.ThreadPoolExecutor$Worker@1dad42c9[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:34,786 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@561bee25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-09-09 09:09:34,787 [java.util.concurrent.ThreadPoolExecutor$Worker@7179ccb6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:34,790 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@7764f709] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-09-09 09:09:34,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-09-09 09:09:34,799 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-09-09 09:09:34,799 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-09-09 09:09:34,799 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-09-09 09:09:34,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-09-09 09:09:34,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-64D26C71FF03:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]
2022-09-09 09:09:34,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-09-09 09:09:34,802 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-09-09 09:09:34,803 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-09-09 09:09:34,803 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-09-09 09:09:34,803 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-09-09 09:09:34,803 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-09-09 09:09:34,803 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-64D26C71FF03:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:34,803 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0
2022-09-09 09:09:34,803 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0 does not exist.
2022-09-09 09:09:34,803 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0
2022-09-09 09:09:34,804 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:34,804 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:34,804 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41863 (custom)
2022-09-09 09:09:34,804 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:34,804 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34407 (custom)
2022-09-09 09:09:34,804 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:34,805 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45857 (custom)
2022-09-09 09:09:34,805 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:34,805 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:34,805 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:34,805 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:34,805 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:34,805 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:34,805 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:34,807 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:34,807 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:34,807 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:34,807 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:34,807 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:34,808 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0] (custom)
2022-09-09 09:09:34,808 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-64D26C71FF03:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER] returns group-64D26C71FF03:java.util.concurrent.CompletableFuture@15973861[Not completed]
2022-09-09 09:09:34,808 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-64D26C71FF03:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:34,808 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1
2022-09-09 09:09:34,808 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1 does not exist.
2022-09-09 09:09:34,809 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1
2022-09-09 09:09:34,809 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:34,809 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:34,809 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33049 (custom)
2022-09-09 09:09:34,809 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:34,809 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41775 (custom)
2022-09-09 09:09:34,809 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:34,810 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40637 (custom)
2022-09-09 09:09:34,810 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:34,810 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:34,810 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:34,810 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:34,810 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:34,810 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:34,810 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:34,811 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:34,812 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:34,812 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:34,812 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:34,812 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:34,812 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1] (custom)
2022-09-09 09:09:34,813 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:34,813 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:34,813 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:34,813 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-64D26C71FF03:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:34,813 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:34,813 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:34,813 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:34,813 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:34,814 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:34,814 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:34,814 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-64D26C71FF03: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:34,814 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:34,814 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:34,814 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:34,814 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:34,814 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:34,816 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:34,816 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:34,817 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:34,817 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:34,817 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:34,823 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-64D26C71FF03:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER] returns group-64D26C71FF03:java.util.concurrent.CompletableFuture@3d2122a2[Not completed]
2022-09-09 09:09:34,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-64D26C71FF03:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:34,823 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2
2022-09-09 09:09:34,823 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2 does not exist.
2022-09-09 09:09:34,824 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2
2022-09-09 09:09:34,824 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:34,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:34,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38105 (custom)
2022-09-09 09:09:34,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:34,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38741 (custom)
2022-09-09 09:09:34,825 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:34,825 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40505 (custom)
2022-09-09 09:09:34,825 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:34,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:34,825 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:34,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:34,825 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:34,825 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:34,826 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:34,827 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:34,827 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:34,827 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:34,827 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s1: new RaftServerImpl for group-64D26C71FF03:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:34,827 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:34,827 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:34,828 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:34,828 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:34,828 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:34,828 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:34,828 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-64D26C71FF03: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:34,828 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:34,828 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:34,829 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:34,829 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:34,829 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:34,829 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:34,830 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:34,835 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:34,835 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:34,835 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:34,835 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:34,835 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:34,836 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:34,836 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:34,836 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:34,836 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2] (custom)
2022-09-09 09:09:34,839 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-64D26C71FF03:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER] returns group-64D26C71FF03:java.util.concurrent.CompletableFuture@5dcb6aea[Not completed]
2022-09-09 09:09:34,839 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:34,839 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:34,839 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:34,839 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0] (custom)
2022-09-09 09:09:34,839 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0/3e400b1d-9e6b-4d48-a908-64d26c71ff03 does not exist. Creating ...
2022-09-09 09:09:34,840 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0/3e400b1d-9e6b-4d48-a908-64d26c71ff03
2022-09-09 09:09:34,840 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:34,840 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:34,841 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s2: new RaftServerImpl for group-64D26C71FF03:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:34,841 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:34,841 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:34,841 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:34,841 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:34,841 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:34,841 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:34,842 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-64D26C71FF03: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:34,842 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0/3e400b1d-9e6b-4d48-a908-64d26c71ff03/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:34,842 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0/3e400b1d-9e6b-4d48-a908-64d26c71ff03/current
2022-09-09 09:09:34,842 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0/3e400b1d-9e6b-4d48-a908-64d26c71ff03/sm
2022-09-09 09:09:34,843 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:34,843 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:34,843 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:34,843 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:34,844 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:34,844 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0/3e400b1d-9e6b-4d48-a908-64d26c71ff03 has been successfully formatted.
2022-09-09 09:09:34,844 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:34,844 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:34,844 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:34,845 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:34,845 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:34,845 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:34,845 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:34,846 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:34,846 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:34,846 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:34,847 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s0@group-64D26C71FF03-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0/3e400b1d-9e6b-4d48-a908-64d26c71ff03
2022-09-09 09:09:34,847 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:34,847 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:34,847 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:34,847 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:34,847 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:34,847 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:34,847 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:34,847 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:34,848 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:34,848 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:34,848 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:34,848 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:34,848 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-64D26C71FF03-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:34,848 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-64D26C71FF03-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:34,850 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s0@group-64D26C71FF03: start as a follower, conf=-1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,850 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-64D26C71FF03: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:34,850 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-64D26C71FF03-FollowerState
2022-09-09 09:09:34,851 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:34,851 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:34,851 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:34,851 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:34,851 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:34,852 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-64D26C71FF03,id=s0
2022-09-09 09:09:34,852 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:34,852 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:34,852 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:34,852 [s0@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:34,853 [s0@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:34,853 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-09-09 09:09:34,854 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 34407
2022-09-09 09:09:34,856 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45857
2022-09-09 09:09:34,857 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 41863
2022-09-09 09:09:34,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:34,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:34,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1] (custom)
2022-09-09 09:09:34,864 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1/3e400b1d-9e6b-4d48-a908-64d26c71ff03 does not exist. Creating ...
2022-09-09 09:09:34,864 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1/3e400b1d-9e6b-4d48-a908-64d26c71ff03
2022-09-09 09:09:34,864 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@69cb67c3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-09-09 09:09:34,869 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1/3e400b1d-9e6b-4d48-a908-64d26c71ff03/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:34,869 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1/3e400b1d-9e6b-4d48-a908-64d26c71ff03/current
2022-09-09 09:09:34,869 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1/3e400b1d-9e6b-4d48-a908-64d26c71ff03/sm
2022-09-09 09:09:34,871 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1/3e400b1d-9e6b-4d48-a908-64d26c71ff03 has been successfully formatted.
2022-09-09 09:09:34,871 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:34,871 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:34,871 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:34,871 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:34,872 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:34,872 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:34,872 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:34,873 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:34,873 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:34,873 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:34,873 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s1@group-64D26C71FF03-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1/3e400b1d-9e6b-4d48-a908-64d26c71ff03
2022-09-09 09:09:34,873 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:34,873 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:34,874 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:34,874 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:34,874 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:34,874 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:34,874 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:34,874 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:34,874 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:34,874 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:34,874 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:34,874 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:34,875 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-64D26C71FF03-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:34,875 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-64D26C71FF03-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:34,879 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s1@group-64D26C71FF03: start as a follower, conf=-1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,879 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-64D26C71FF03: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:34,879 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-64D26C71FF03-FollowerState
2022-09-09 09:09:34,880 [s1@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:34,880 [s1@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:34,881 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-64D26C71FF03,id=s1
2022-09-09 09:09:34,881 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:34,881 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:34,881 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:34,883 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-09-09 09:09:34,884 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 41775
2022-09-09 09:09:34,885 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 40637
2022-09-09 09:09:34,885 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 33049
2022-09-09 09:09:34,886 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:34,886 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:34,886 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2] (custom)
2022-09-09 09:09:34,886 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2/3e400b1d-9e6b-4d48-a908-64d26c71ff03 does not exist. Creating ...
2022-09-09 09:09:34,887 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2/3e400b1d-9e6b-4d48-a908-64d26c71ff03
2022-09-09 09:09:34,887 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@32434054] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-09-09 09:09:34,888 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2/3e400b1d-9e6b-4d48-a908-64d26c71ff03/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:34,888 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2/3e400b1d-9e6b-4d48-a908-64d26c71ff03/current
2022-09-09 09:09:34,888 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2/3e400b1d-9e6b-4d48-a908-64d26c71ff03/sm
2022-09-09 09:09:34,890 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2/3e400b1d-9e6b-4d48-a908-64d26c71ff03 has been successfully formatted.
2022-09-09 09:09:34,890 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:34,890 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:34,890 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:34,890 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:34,890 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:34,891 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:34,891 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:34,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:34,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:34,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:34,892 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s2@group-64D26C71FF03-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2/3e400b1d-9e6b-4d48-a908-64d26c71ff03
2022-09-09 09:09:34,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:34,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:34,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:34,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:34,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:34,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:34,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:34,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:34,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:34,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:34,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:34,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:34,894 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-64D26C71FF03-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:34,894 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-64D26C71FF03-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:34,899 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s2@group-64D26C71FF03: start as a follower, conf=-1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:34,899 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-64D26C71FF03: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:34,899 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-64D26C71FF03-FollowerState
2022-09-09 09:09:34,902 [s2@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:34,902 [s2@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:34,902 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-64D26C71FF03,id=s2
2022-09-09 09:09:34,902 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:34,902 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:34,902 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:34,903 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-09-09 09:09:34,904 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 38741
2022-09-09 09:09:34,905 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40505
2022-09-09 09:09:34,906 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 38105
2022-09-09 09:09:34,907 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@7485e37b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-09-09 09:09:34,909 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:34,909 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:34,925 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1FFC573B401F->s0: receive RaftClientReply:client-1FFC573B401F->s0@group-64D26C71FF03, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-64D26C71FF03 is not the leader, logIndex=0, commits[s0:c-1]
2022-09-09 09:09:35,035 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,035 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,050 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1FFC573B401F->s2: receive RaftClientReply:client-1FFC573B401F->s2@group-64D26C71FF03, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-64D26C71FF03 is not the leader, logIndex=0, commits[s2:c-1]
2022-09-09 09:09:35,093 [s2@group-64D26C71FF03-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-64D26C71FF03-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194226073ns, electionTimeout:191ms
2022-09-09 09:09:35,093 [s2@group-64D26C71FF03-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-64D26C71FF03-FollowerState
2022-09-09 09:09:35,094 [s2@group-64D26C71FF03-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-64D26C71FF03: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:35,094 [s2@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:35,094 [s2@group-64D26C71FF03-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-64D26C71FF03-LeaderElection4
2022-09-09 09:09:35,096 [s2@group-64D26C71FF03-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s2@group-64D26C71FF03-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:35,096 [s2@group-64D26C71FF03-LeaderElection4-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-09-09 09:09:35,096 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:35,096 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:35,098 [s2@group-64D26C71FF03-LeaderElection4-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-09-09 09:09:35,107 [grpc-default-executor-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-64D26C71FF03: receive requestVote(PRE_VOTE, s2, group-64D26C71FF03, 0, (t:0, i:0))
2022-09-09 09:09:35,108 [grpc-default-executor-14] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-64D26C71FF03-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:35,108 [grpc-default-executor-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-64D26C71FF03 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-64D26C71FF03:t0, leader=null, voted=, raftlog=Memoized:s1@group-64D26C71FF03-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:35,109 [s2@group-64D26C71FF03-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-64D26C71FF03-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:35,110 [s2@group-64D26C71FF03-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2022-09-09 09:09:35,110 [s2@group-64D26C71FF03-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-64D26C71FF03-LeaderElection4 PRE_VOTE round 0: result PASSED
2022-09-09 09:09:35,114 [s2@group-64D26C71FF03-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s2@group-64D26C71FF03-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:35,117 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:35,117 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:35,122 [grpc-default-executor-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-64D26C71FF03: receive requestVote(PRE_VOTE, s2, group-64D26C71FF03, 0, (t:0, i:0))
2022-09-09 09:09:35,122 [grpc-default-executor-14] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-64D26C71FF03-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:35,122 [grpc-default-executor-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-64D26C71FF03 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-64D26C71FF03:t0, leader=null, voted=, raftlog=Memoized:s0@group-64D26C71FF03-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:35,123 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-64D26C71FF03: receive requestVote(ELECTION, s2, group-64D26C71FF03, 1, (t:0, i:0))
2022-09-09 09:09:35,123 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-64D26C71FF03-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:35,124 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-64D26C71FF03: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-09-09 09:09:35,124 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-64D26C71FF03-FollowerState
2022-09-09 09:09:35,124 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-64D26C71FF03-FollowerState
2022-09-09 09:09:35,124 [s0@group-64D26C71FF03-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-64D26C71FF03-FollowerState was interrupted
2022-09-09 09:09:35,128 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-64D26C71FF03 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-64D26C71FF03:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-64D26C71FF03-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:35,131 [s0@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:35,131 [s0@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:35,131 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-64D26C71FF03: receive requestVote(ELECTION, s2, group-64D26C71FF03, 1, (t:0, i:0))
2022-09-09 09:09:35,132 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-64D26C71FF03-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:35,132 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-64D26C71FF03: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-09-09 09:09:35,132 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-64D26C71FF03-FollowerState
2022-09-09 09:09:35,132 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-64D26C71FF03-FollowerState
2022-09-09 09:09:35,132 [s1@group-64D26C71FF03-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-64D26C71FF03-FollowerState was interrupted
2022-09-09 09:09:35,134 [s2@group-64D26C71FF03-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-64D26C71FF03-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:35,134 [s2@group-64D26C71FF03-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-09-09 09:09:35,134 [s1@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:35,135 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-64D26C71FF03 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-64D26C71FF03:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-64D26C71FF03-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:35,136 [s1@group-64D26C71FF03-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:35,134 [s2@group-64D26C71FF03-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-64D26C71FF03-LeaderElection4 ELECTION round 0: result PASSED
2022-09-09 09:09:35,137 [s2@group-64D26C71FF03-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-64D26C71FF03-LeaderElection4
2022-09-09 09:09:35,137 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-64D26C71FF03: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-09-09 09:09:35,137 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-64D26C71FF03: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 295ms
2022-09-09 09:09:35,137 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:35,137 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-09-09 09:09:35,137 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-09-09 09:09:35,138 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:35,138 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:35,138 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:35,138 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-09-09 09:09:35,138 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:35,139 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:35,139 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:35,139 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:35,139 [s2@group-64D26C71FF03-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:35,139 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:35,139 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:35,139 [s2@group-64D26C71FF03-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:35,140 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:35,141 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:35,141 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:35,141 [s2@group-64D26C71FF03-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:35,141 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:35,141 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:35,141 [s2@group-64D26C71FF03-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:35,141 [s2@group-64D26C71FF03-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-64D26C71FF03-LeaderStateImpl
2022-09-09 09:09:35,141 [s2@group-64D26C71FF03-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-64D26C71FF03-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:35,155 [s2@group-64D26C71FF03-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-64D26C71FF03: set configuration 0: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:35,156 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,156 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,158 [s2@group-64D26C71FF03-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-64D26C71FF03-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s2/3e400b1d-9e6b-4d48-a908-64d26c71ff03/current/log_inprogress_0
2022-09-09 09:09:35,164 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-64D26C71FF03: change Leader from null to s2 at term 1 for appendEntries, leader elected after 350ms
2022-09-09 09:09:35,171 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-64D26C71FF03: set configuration 0: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:35,172 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-64D26C71FF03-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:35,184 [s0@group-64D26C71FF03-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-64D26C71FF03-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s0/3e400b1d-9e6b-4d48-a908-64d26c71ff03/current/log_inprogress_0
2022-09-09 09:09:35,188 [grpc-default-executor-14] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1FFC573B401F->s0: receive RaftClientReply:client-1FFC573B401F->s0@group-64D26C71FF03, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-64D26C71FF03 is not the leader s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2022-09-09 09:09:35,195 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-64D26C71FF03: change Leader from null to s2 at term 1 for appendEntries, leader elected after 367ms
2022-09-09 09:09:35,203 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,203 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,203 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-64D26C71FF03: set configuration 0: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:35,204 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-64D26C71FF03-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:35,219 [s1@group-64D26C71FF03-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-64D26C71FF03-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc7d5b3f19/s1/3e400b1d-9e6b-4d48-a908-64d26c71ff03/current/log_inprogress_0
2022-09-09 09:09:35,221 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1FFC573B401F->s2: receive RaftClientReply:client-1FFC573B401F->s2@group-64D26C71FF03, cid=2, SUCCESS, logIndex=0, commits[s2:c0, s0:c-1, s1:c-1]
2022-09-09 09:09:35,230 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-1FFC573B401F
2022-09-09 09:09:35,233 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1FFC573B401F->s2: receive RaftClientReply:client-1FFC573B401F->s2@group-64D26C71FF03, cid=3, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2022-09-09 09:09:35,233 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-1FFC573B401F
2022-09-09 09:09:35,238 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-09-09 09:09:35,239 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,239 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,241 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,241 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,246 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,246 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,248 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,248 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,251 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-1FFC573B401F
2022-09-09 09:09:35,253 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,253 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,264 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,264 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,266 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,266 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,275 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,276 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,282 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,285 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-15B9FED0D789->s2: receive RaftClientReply:client-15B9FED0D789->s2@group-64D26C71FF03, cid=6, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c1]
2022-09-09 09:09:35,292 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,300 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,301 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,304 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,305 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1F39F65A2E31->s2: receive RaftClientReply:client-1F39F65A2E31->s2@group-64D26C71FF03, cid=12, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c1]
2022-09-09 09:09:35,306 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,307 [grpc-default-executor-14] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-6B912A04B6A0->s2: receive RaftClientReply:client-6B912A04B6A0->s2@group-64D26C71FF03, cid=14, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c1]
2022-09-09 09:09:35,324 [grpc-default-executor-14] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-CF17621BCEC2->s2: receive RaftClientReply:client-CF17621BCEC2->s2@group-64D26C71FF03, cid=16, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c1]
2022-09-09 09:09:35,328 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A71621BCA9C9->s2: receive RaftClientReply:client-A71621BCA9C9->s2@group-64D26C71FF03, cid=10, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c1]
2022-09-09 09:09:35,333 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-93DD0EECB1FD->s2: receive RaftClientReply:client-93DD0EECB1FD->s2@group-64D26C71FF03, cid=4, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c1]
2022-09-09 09:09:35,344 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-295664802DAF->s2: receive RaftClientReply:client-295664802DAF->s2@group-64D26C71FF03, cid=8, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c2]
2022-09-09 09:09:35,351 [grpc-default-executor-14] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-3ADBE6515EF7->s2: receive RaftClientReply:client-3ADBE6515EF7->s2@group-64D26C71FF03, cid=18, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c2]
2022-09-09 09:09:35,353 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-878758DD6D99->s2: receive RaftClientReply:client-878758DD6D99->s2@group-64D26C71FF03, cid=20, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c2]
2022-09-09 09:09:35,382 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-04F67E52CE3E->s2: receive RaftClientReply:client-04F67E52CE3E->s2@group-64D26C71FF03, cid=22, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-09-09 09:09:35,393 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2889C80322ED->s2: receive RaftClientReply:client-2889C80322ED->s2@group-64D26C71FF03, cid=24, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-09-09 09:09:35,435 [grpc-default-executor-14] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s2@group-64D26C71FF03: Failed to acquire a pending write request for RaftClientRequest:client-2889C80322ED->s2@group-64D26C71FF03, cid=25, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s2@group-64D26C71FF03: Failed to acquire a pending write request for RaftClientRequest:client-2889C80322ED->s2@group-64D26C71FF03, cid=25, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:762)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:875)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:811)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:811)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:883)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
		... 7 more
2022-09-09 09:09:35,613 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-09-09 09:09:35,615 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 7@client-15B9FED0D789
2022-09-09 09:09:35,617 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-15B9FED0D789->s2: receive RaftClientReply:client-15B9FED0D789->s2@group-64D26C71FF03, cid=7, SUCCESS, logIndex=3, commits[s2:c3, s0:c2, s1:c2]
2022-09-09 09:09:35,620 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 4 -> (t:1, i:4), STATEMACHINELOGENTRY, 15@client-6B912A04B6A0
2022-09-09 09:09:35,620 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, 13@client-1F39F65A2E31
2022-09-09 09:09:35,621 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 5 -> (t:1, i:6), STATEMACHINELOGENTRY, 17@client-CF17621BCEC2
2022-09-09 09:09:35,621 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, 2nd Messag... -> (t:1, i:7), STATEMACHINELOGENTRY, 5@client-93DD0EECB1FD
2022-09-09 09:09:35,621 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 11@client-A71621BCA9C9
2022-09-09 09:09:35,622 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 1 -> (t:1, i:9), STATEMACHINELOGENTRY, 9@client-295664802DAF
2022-09-09 09:09:35,622 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-3ADBE6515EF7
2022-09-09 09:09:35,622 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-878758DD6D99
2022-09-09 09:09:35,623 [s2@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-04F67E52CE3E
2022-09-09 09:09:35,624 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 7@client-15B9FED0D789
2022-09-09 09:09:35,624 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 4 -> (t:1, i:4), STATEMACHINELOGENTRY, 15@client-6B912A04B6A0
2022-09-09 09:09:35,624 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, 13@client-1F39F65A2E31
2022-09-09 09:09:35,625 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 5 -> (t:1, i:6), STATEMACHINELOGENTRY, 17@client-CF17621BCEC2
2022-09-09 09:09:35,625 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, 2nd Messag... -> (t:1, i:7), STATEMACHINELOGENTRY, 5@client-93DD0EECB1FD
2022-09-09 09:09:35,625 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 11@client-A71621BCA9C9
2022-09-09 09:09:35,626 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 1 -> (t:1, i:9), STATEMACHINELOGENTRY, 9@client-295664802DAF
2022-09-09 09:09:35,626 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-3ADBE6515EF7
2022-09-09 09:09:35,626 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A71621BCA9C9->s2: receive RaftClientReply:client-A71621BCA9C9->s2@group-64D26C71FF03, cid=11, SUCCESS, logIndex=8, commits[s2:c12, s0:c2, s1:c2]
2022-09-09 09:09:35,627 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-93DD0EECB1FD->s2: receive RaftClientReply:client-93DD0EECB1FD->s2@group-64D26C71FF03, cid=5, SUCCESS, logIndex=7, commits[s2:c12, s0:c2, s1:c2]
2022-09-09 09:09:35,627 [grpc-default-executor-14] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-CF17621BCEC2->s2: receive RaftClientReply:client-CF17621BCEC2->s2@group-64D26C71FF03, cid=17, SUCCESS, logIndex=6, commits[s2:c12, s0:c2, s1:c2]
2022-09-09 09:09:35,626 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-878758DD6D99
2022-09-09 09:09:35,627 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 7@client-15B9FED0D789
2022-09-09 09:09:35,628 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 4 -> (t:1, i:4), STATEMACHINELOGENTRY, 15@client-6B912A04B6A0
2022-09-09 09:09:35,628 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, 13@client-1F39F65A2E31
2022-09-09 09:09:35,629 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 5 -> (t:1, i:6), STATEMACHINELOGENTRY, 17@client-CF17621BCEC2
2022-09-09 09:09:35,629 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, 2nd Messag... -> (t:1, i:7), STATEMACHINELOGENTRY, 5@client-93DD0EECB1FD
2022-09-09 09:09:35,629 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 11@client-A71621BCA9C9
2022-09-09 09:09:35,630 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 1 -> (t:1, i:9), STATEMACHINELOGENTRY, 9@client-295664802DAF
2022-09-09 09:09:35,630 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-6B912A04B6A0->s2: receive RaftClientReply:client-6B912A04B6A0->s2@group-64D26C71FF03, cid=15, SUCCESS, logIndex=4, commits[s2:c12, s0:c2, s1:c2]
2022-09-09 09:09:35,630 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 19@client-3ADBE6515EF7
2022-09-09 09:09:35,630 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-878758DD6D99->s2: receive RaftClientReply:client-878758DD6D99->s2@group-64D26C71FF03, cid=21, SUCCESS, logIndex=11, commits[s2:c12, s0:c2, s1:c2]
2022-09-09 09:09:35,630 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-878758DD6D99
2022-09-09 09:09:35,631 [s1@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-04F67E52CE3E
2022-09-09 09:09:35,631 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-3ADBE6515EF7->s2: receive RaftClientReply:client-3ADBE6515EF7->s2@group-64D26C71FF03, cid=19, SUCCESS, logIndex=10, commits[s2:c12, s0:c2, s1:c2]
2022-09-09 09:09:35,631 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-04F67E52CE3E->s2: receive RaftClientReply:client-04F67E52CE3E->s2@group-64D26C71FF03, cid=23, SUCCESS, logIndex=12, commits[s2:c12, s0:c2, s1:c2]
2022-09-09 09:09:35,632 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-295664802DAF->s2: receive RaftClientReply:client-295664802DAF->s2@group-64D26C71FF03, cid=9, SUCCESS, logIndex=9, commits[s2:c12, s0:c2, s1:c2]
2022-09-09 09:09:35,632 [grpc-default-executor-14] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1F39F65A2E31->s2: receive RaftClientReply:client-1F39F65A2E31->s2@group-64D26C71FF03, cid=13, SUCCESS, logIndex=5, commits[s2:c12, s0:c2, s1:c2]
2022-09-09 09:09:35,632 [s0@group-64D26C71FF03-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-04F67E52CE3E
2022-09-09 09:09:35,649 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:35,649 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:35,657 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-EC90DD9E46BC->s2: receive RaftClientReply:client-EC90DD9E46BC->s2@group-64D26C71FF03, cid=26, SUCCESS, logIndex=14, commits[s2:c14, s0:c12, s1:c12]
2022-09-09 09:09:35,683 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s2@group-64D26C71FF03: Failed to acquire a pending write request for RaftClientRequest:client-EC90DD9E46BC->s2@group-64D26C71FF03, cid=27, seq=2, RW, Message:da56a13a5f2902059cbc...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s2@group-64D26C71FF03: Failed to acquire a pending write request for RaftClientRequest:client-EC90DD9E46BC->s2@group-64D26C71FF03, cid=27, seq=2, RW, Message:da56a13a5f2902059cbc...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:762)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:875)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:811)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:811)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:883)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
		... 7 more
2022-09-09 09:09:35,987 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-09-09 09:09:35,987 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-09-09 09:09:35,987 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-09-09 09:09:35,988 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-09-09 09:09:35,988 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-09-09 09:09:35,988 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64D26C71FF03:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-64D26C71FF03-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-64D26C71FF03:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-64D26C71FF03-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-64D26C71FF03:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-64D26C71FF03-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:45857|admin:localhost:41863|client:localhost:34407|dataStream:localhost:44085|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40637|admin:localhost:33049|client:localhost:41775|dataStream:localhost:43509|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40505|admin:localhost:38105|client:localhost:38741|dataStream:localhost:44619|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:35,991 [java.util.concurrent.ThreadPoolExecutor$Worker@2da50069[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-09-09 09:09:35,995 [java.util.concurrent.ThreadPoolExecutor$Worker@2da50069[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:35,995 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s0@group-64D26C71FF03: shutdown
2022-09-09 09:09:35,998 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-64D26C71FF03,id=s0
2022-09-09 09:09:35,998 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-64D26C71FF03-FollowerState
2022-09-09 09:09:35,998 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-64D26C71FF03-StateMachineUpdater: set stopIndex = 14
2022-09-09 09:09:35,998 [s0@group-64D26C71FF03-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-64D26C71FF03-FollowerState was interrupted
2022-09-09 09:09:35,998 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-64D26C71FF03: applyIndex: 14
2022-09-09 09:09:35,999 [java.util.concurrent.ThreadPoolExecutor$Worker@1095c129[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-09-09 09:09:35,999 [s0@group-64D26C71FF03-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s0@group-64D26C71FF03-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:35,997 [java.util.concurrent.ThreadPoolExecutor$Worker@3bc78ebd[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-09-09 09:09:36,003 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-64D26C71FF03-SegmentedRaftLogWorker close()
2022-09-09 09:09:36,002 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s2@group-64D26C71FF03: shutdown
2022-09-09 09:09:36,004 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-64D26C71FF03,id=s2
2022-09-09 09:09:36,004 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-64D26C71FF03-LeaderStateImpl
2022-09-09 09:09:36,002 [java.util.concurrent.ThreadPoolExecutor$Worker@1095c129[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:35,999 [java.util.concurrent.ThreadPoolExecutor$Worker@2da50069[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:36,010 [java.util.concurrent.ThreadPoolExecutor$Worker@2da50069[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:36,005 [java.util.concurrent.ThreadPoolExecutor$Worker@3bc78ebd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:36,004 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-64D26C71FF03-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:36,005 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s1@group-64D26C71FF03: shutdown
2022-09-09 09:09:36,010 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-64D26C71FF03,id=s1
2022-09-09 09:09:36,011 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-64D26C71FF03-FollowerState
2022-09-09 09:09:36,011 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-64D26C71FF03-StateMachineUpdater: set stopIndex = 14
2022-09-09 09:09:36,005 [s2@group-64D26C71FF03->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s2@group-64D26C71FF03->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:36,004 [s2@group-64D26C71FF03->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s2@group-64D26C71FF03->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:36,011 [s1@group-64D26C71FF03-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-64D26C71FF03-FollowerState was interrupted
2022-09-09 09:09:36,011 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-64D26C71FF03: applyIndex: 14
2022-09-09 09:09:36,011 [s1@group-64D26C71FF03-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s1@group-64D26C71FF03-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:36,012 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#35-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2022-09-09 09:09:36,012 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#29-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2022-09-09 09:09:36,013 [java.util.concurrent.ThreadPoolExecutor$Worker@3bc78ebd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:36,013 [java.util.concurrent.ThreadPoolExecutor$Worker@3bc78ebd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:36,013 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-09-09 09:09:36,015 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s2@group-64D26C71FF03->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:36,015 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s2@group-64D26C71FF03->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:107)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:112)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:56)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:404)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:36,015 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-64D26C71FF03-StateMachineUpdater: set stopIndex = 14
2022-09-09 09:09:36,016 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-64D26C71FF03: applyIndex: 14
2022-09-09 09:09:36,016 [s2@group-64D26C71FF03-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s2@group-64D26C71FF03-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:36,017 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-64D26C71FF03-SegmentedRaftLogWorker close()
2022-09-09 09:09:36,017 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-09-09 09:09:36,018 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s2@group-64D26C71FF03->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:36,018 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s2@group-64D26C71FF03->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:107)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:112)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:56)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:404)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:36,018 [java.util.concurrent.ThreadPoolExecutor$Worker@3bc78ebd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:36,018 [java.util.concurrent.ThreadPoolExecutor$Worker@3bc78ebd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:36,019 [java.util.concurrent.ThreadPoolExecutor$Worker@3bc78ebd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:36,019 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-64D26C71FF03-SegmentedRaftLogWorker close()
2022-09-09 09:09:36,024 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@32434054] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-09-09 09:09:36,026 [java.util.concurrent.ThreadPoolExecutor$Worker@1095c129[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:36,026 [java.util.concurrent.ThreadPoolExecutor$Worker@1095c129[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:36,027 [java.util.concurrent.ThreadPoolExecutor$Worker@2da50069[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:36,027 [java.util.concurrent.ThreadPoolExecutor$Worker@2da50069[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:36,027 [java.util.concurrent.ThreadPoolExecutor$Worker@1095c129[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:36,028 [java.util.concurrent.ThreadPoolExecutor$Worker@1095c129[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:36,028 [java.util.concurrent.ThreadPoolExecutor$Worker@2da50069[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:36,029 [java.util.concurrent.ThreadPoolExecutor$Worker@1095c129[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:36,030 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@69cb67c3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-09-09 09:09:36,031 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@7485e37b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-09-09 09:09:36,031 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-09-09 09:09:36,032 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-09-09 09:09:36,032 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-09-09 09:09:36,032 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-09-09 09:09:36,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-09-09 09:09:36,038 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-33AA6A5B7630:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]
2022-09-09 09:09:36,038 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-09-09 09:09:36,038 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-09-09 09:09:36,038 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-09-09 09:09:36,039 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-09-09 09:09:36,039 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-09-09 09:09:36,039 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-09-09 09:09:36,039 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-33AA6A5B7630:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:36,039 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0
2022-09-09 09:09:36,039 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0 does not exist.
2022-09-09 09:09:36,039 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0
2022-09-09 09:09:36,040 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:36,040 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:36,040 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43669 (custom)
2022-09-09 09:09:36,041 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:36,041 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39681 (custom)
2022-09-09 09:09:36,041 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:36,041 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43937 (custom)
2022-09-09 09:09:36,041 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:36,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:36,041 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:36,042 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:36,042 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:36,042 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:36,042 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:36,043 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:36,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:36,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:36,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:36,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:36,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0] (custom)
2022-09-09 09:09:36,045 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-33AA6A5B7630:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER] returns group-33AA6A5B7630:java.util.concurrent.CompletableFuture@4b5b915e[Not completed]
2022-09-09 09:09:36,045 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:36,045 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:36,046 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:36,046 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-33AA6A5B7630:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:36,046 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:36,046 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:36,046 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:36,046 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:36,046 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:36,046 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:36,046 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-33AA6A5B7630: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:36,047 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:36,047 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:36,047 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:36,047 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:36,047 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:36,048 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:36,048 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:36,048 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:36,048 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:36,049 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:36,049 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:36,049 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:36,049 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0] (custom)
2022-09-09 09:09:36,049 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0/0125a648-fe87-48e9-be74-33aa6a5b7630 does not exist. Creating ...
2022-09-09 09:09:36,050 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0/0125a648-fe87-48e9-be74-33aa6a5b7630
2022-09-09 09:09:36,051 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0/0125a648-fe87-48e9-be74-33aa6a5b7630/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:36,051 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0/0125a648-fe87-48e9-be74-33aa6a5b7630/current
2022-09-09 09:09:36,052 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0/0125a648-fe87-48e9-be74-33aa6a5b7630/sm
2022-09-09 09:09:36,053 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0/0125a648-fe87-48e9-be74-33aa6a5b7630 has been successfully formatted.
2022-09-09 09:09:36,053 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:36,055 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:36,055 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:36,055 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:36,055 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:36,055 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:36,055 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:36,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:36,061 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:36,061 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:36,065 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s0@group-33AA6A5B7630-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0/0125a648-fe87-48e9-be74-33aa6a5b7630
2022-09-09 09:09:36,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:36,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:36,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:36,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:36,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:36,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:36,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:36,065 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:36,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:36,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:36,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:36,066 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:36,067 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-33AA6A5B7630-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:36,067 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-33AA6A5B7630-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:36,067 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s0@group-33AA6A5B7630: start as a follower, conf=-1: peers:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:36,067 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-33AA6A5B7630: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:36,067 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-33AA6A5B7630-FollowerState
2022-09-09 09:09:36,071 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-33AA6A5B7630,id=s0
2022-09-09 09:09:36,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:36,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:36,072 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:36,072 [s0@group-33AA6A5B7630-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:36,072 [s0@group-33AA6A5B7630-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:36,072 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-09-09 09:09:36,074 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39681
2022-09-09 09:09:36,075 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 43937
2022-09-09 09:09:36,076 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 43669
2022-09-09 09:09:36,077 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@44d9e8c9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-09-09 09:09:36,082 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:36,082 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-33AA6A5B7630:t0, leader=null, voted=, raftlog=Memoized:s0@group-33AA6A5B7630-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:36,082 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-33AA6A5B7630:t0, leader=null, voted=, raftlog=Memoized:s0@group-33AA6A5B7630-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-33AA6A5B7630:t0, leader=null, voted=, raftlog=Memoized:s0@group-33AA6A5B7630-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:150)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:146)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:36,347 [s0@group-33AA6A5B7630-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-33AA6A5B7630-FollowerState: change to CANDIDATE, lastRpcElapsedTime:280189417ns, electionTimeout:275ms
2022-09-09 09:09:36,348 [s0@group-33AA6A5B7630-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-33AA6A5B7630-FollowerState
2022-09-09 09:09:36,348 [s0@group-33AA6A5B7630-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-33AA6A5B7630: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:36,348 [s0@group-33AA6A5B7630-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:36,348 [s0@group-33AA6A5B7630-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-33AA6A5B7630-LeaderElection5
2022-09-09 09:09:36,352 [s0@group-33AA6A5B7630-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-33AA6A5B7630-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:36,352 [s0@group-33AA6A5B7630-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-33AA6A5B7630-LeaderElection5 PRE_VOTE round 0: result PASSED (term=0)
2022-09-09 09:09:36,354 [s0@group-33AA6A5B7630-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-33AA6A5B7630-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:36,354 [s0@group-33AA6A5B7630-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-33AA6A5B7630-LeaderElection5 ELECTION round 0: result PASSED (term=1)
2022-09-09 09:09:36,354 [s0@group-33AA6A5B7630-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-33AA6A5B7630-LeaderElection5
2022-09-09 09:09:36,354 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-33AA6A5B7630: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-09-09 09:09:36,354 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-33AA6A5B7630: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 307ms
2022-09-09 09:09:36,354 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:36,355 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:36,355 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-09-09 09:09:36,355 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:36,355 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:36,355 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:36,355 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:36,355 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:36,355 [s0@group-33AA6A5B7630-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-33AA6A5B7630-LeaderStateImpl
2022-09-09 09:09:36,356 [s0@group-33AA6A5B7630-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-33AA6A5B7630-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:36,360 [s0@group-33AA6A5B7630-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-33AA6A5B7630: set configuration 0: peers:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:36,370 [s0@group-33AA6A5B7630-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-33AA6A5B7630-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc88488894/s0/0125a648-fe87-48e9-be74-33aa6a5b7630/current/log_inprogress_0
2022-09-09 09:09:36,533 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-33AA6A5B7630:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-33AA6A5B7630-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:36,533 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:36,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43669 (custom)
2022-09-09 09:09:36,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:36,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39681 (custom)
2022-09-09 09:09:36,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:36,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43937 (custom)
2022-09-09 09:09:36,534 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:36,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:36,534 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:36,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:36,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:36,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:36,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:36,536 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-09-09 09:09:36,536 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:318)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:153)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:146)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:36,537 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-09-09 09:09:36,537 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:324)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:157)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:146)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:36,538 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-09-09 09:09:36,538 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-09-09 09:09:36,538 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-09-09 09:09:36,538 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-09-09 09:09:36,538 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-09-09 09:09:36,538 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-33AA6A5B7630:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-33AA6A5B7630-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43937|admin:localhost:43669|client:localhost:39681|dataStream:localhost:39263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:36,539 [java.util.concurrent.ThreadPoolExecutor$Worker@273657cd[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-09-09 09:09:36,539 [java.util.concurrent.ThreadPoolExecutor$Worker@273657cd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:36,539 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s0@group-33AA6A5B7630: shutdown
2022-09-09 09:09:36,539 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-33AA6A5B7630,id=s0
2022-09-09 09:09:36,539 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-33AA6A5B7630-LeaderStateImpl
2022-09-09 09:09:36,539 [java.util.concurrent.ThreadPoolExecutor$Worker@273657cd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:36,540 [java.util.concurrent.ThreadPoolExecutor$Worker@273657cd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:36,539 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-33AA6A5B7630-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:36,541 [java.util.concurrent.ThreadPoolExecutor$Worker@273657cd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:36,541 [java.util.concurrent.ThreadPoolExecutor$Worker@273657cd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:36,541 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-33AA6A5B7630-StateMachineUpdater: set stopIndex = 0
2022-09-09 09:09:36,541 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-33AA6A5B7630: applyIndex: 0
2022-09-09 09:09:36,541 [java.util.concurrent.ThreadPoolExecutor$Worker@273657cd[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:36,544 [s0@group-33AA6A5B7630-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s0@group-33AA6A5B7630-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:36,545 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-33AA6A5B7630-SegmentedRaftLogWorker close()
2022-09-09 09:09:36,547 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@44d9e8c9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-09-09 09:09:36,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-09-09 09:09:36,548 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-09-09 09:09:36,548 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-09-09 09:09:36,548 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-09-09 09:09:36,549 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-09-09 09:09:36,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-27A2ED4418F8:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]
2022-09-09 09:09:36,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-09-09 09:09:36,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-09-09 09:09:36,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-09-09 09:09:36,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-09-09 09:09:36,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-09-09 09:09:36,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-09-09 09:09:36,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-27A2ED4418F8:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:36,550 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0
2022-09-09 09:09:36,551 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0 does not exist.
2022-09-09 09:09:36,551 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0
2022-09-09 09:09:36,551 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:36,551 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:36,551 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40127 (custom)
2022-09-09 09:09:36,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:36,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35007 (custom)
2022-09-09 09:09:36,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:36,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43621 (custom)
2022-09-09 09:09:36,552 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:36,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:36,552 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:36,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:36,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:36,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:36,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:36,554 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:36,554 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:36,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:36,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:36,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:36,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0] (custom)
2022-09-09 09:09:36,556 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-27A2ED4418F8:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER] returns group-27A2ED4418F8:java.util.concurrent.CompletableFuture@4b680139[Not completed]
2022-09-09 09:09:36,556 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:36,556 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:36,556 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:36,556 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-27A2ED4418F8:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:36,556 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:36,556 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:36,556 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:36,556 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:36,557 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:36,557 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:36,557 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-27A2ED4418F8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:36,557 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:36,557 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:36,557 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:36,557 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:36,557 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:36,558 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:36,558 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:36,558 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:36,558 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:36,558 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:36,559 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:36,559 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:36,559 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0] (custom)
2022-09-09 09:09:36,559 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8 does not exist. Creating ...
2022-09-09 09:09:36,560 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8
2022-09-09 09:09:36,561 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:36,561 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8/current
2022-09-09 09:09:36,561 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8/sm
2022-09-09 09:09:36,563 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8 has been successfully formatted.
2022-09-09 09:09:36,563 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:36,563 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:36,563 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:36,564 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:36,564 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:36,564 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:36,564 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:36,564 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s0@group-27A2ED4418F8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:36,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:36,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:36,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:36,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:36,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:36,566 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-27A2ED4418F8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:36,566 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-27A2ED4418F8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:36,571 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s0@group-27A2ED4418F8: start as a follower, conf=-1: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:36,571 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-27A2ED4418F8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:36,571 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-27A2ED4418F8-FollowerState
2022-09-09 09:09:36,571 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-27A2ED4418F8,id=s0
2022-09-09 09:09:36,572 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:36,572 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:36,572 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:36,572 [s0@group-27A2ED4418F8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:36,572 [s0@group-27A2ED4418F8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:36,573 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-09-09 09:09:36,573 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 35007
2022-09-09 09:09:36,574 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 43621
2022-09-09 09:09:36,575 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 40127
2022-09-09 09:09:36,579 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@58c65051] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-09-09 09:09:36,580 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:36,580 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-27A2ED4418F8:t0, leader=null, voted=, raftlog=Memoized:s0@group-27A2ED4418F8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:36,581 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-27A2ED4418F8:t0, leader=null, voted=, raftlog=Memoized:s0@group-27A2ED4418F8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-27A2ED4418F8:t0, leader=null, voted=, raftlog=Memoized:s0@group-27A2ED4418F8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:116)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:99)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:36,769 [s0@group-27A2ED4418F8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-27A2ED4418F8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197687670ns, electionTimeout:196ms
2022-09-09 09:09:36,769 [s0@group-27A2ED4418F8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-27A2ED4418F8-FollowerState
2022-09-09 09:09:36,769 [s0@group-27A2ED4418F8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-27A2ED4418F8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:36,769 [s0@group-27A2ED4418F8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:36,770 [s0@group-27A2ED4418F8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-27A2ED4418F8-LeaderElection6
2022-09-09 09:09:36,773 [s0@group-27A2ED4418F8-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-27A2ED4418F8-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:36,773 [s0@group-27A2ED4418F8-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-27A2ED4418F8-LeaderElection6 PRE_VOTE round 0: result PASSED (term=0)
2022-09-09 09:09:36,774 [s0@group-27A2ED4418F8-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-27A2ED4418F8-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:36,775 [s0@group-27A2ED4418F8-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-27A2ED4418F8-LeaderElection6 ELECTION round 0: result PASSED (term=1)
2022-09-09 09:09:36,775 [s0@group-27A2ED4418F8-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-27A2ED4418F8-LeaderElection6
2022-09-09 09:09:36,775 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-27A2ED4418F8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-09-09 09:09:36,775 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-27A2ED4418F8: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 218ms
2022-09-09 09:09:36,775 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:36,775 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:36,775 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-09-09 09:09:36,775 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:36,776 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:36,776 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:36,776 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:36,776 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:36,776 [s0@group-27A2ED4418F8-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-27A2ED4418F8-LeaderStateImpl
2022-09-09 09:09:36,777 [s0@group-27A2ED4418F8-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-27A2ED4418F8-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:36,779 [s0@group-27A2ED4418F8-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-27A2ED4418F8: set configuration 0: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:36,792 [s0@group-27A2ED4418F8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-27A2ED4418F8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8/current/log_inprogress_0
2022-09-09 09:09:37,031 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-27A2ED4418F8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-27A2ED4418F8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:37,034 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:37,034 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:37,035 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40127 (custom)
2022-09-09 09:09:37,035 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:37,035 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35007 (custom)
2022-09-09 09:09:37,035 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:37,035 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43621 (custom)
2022-09-09 09:09:37,035 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:37,035 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:37,035 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:37,035 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:37,035 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:37,035 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:37,035 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:37,037 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:37,037 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:37,037 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:37,037 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:37,037 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:37,037 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0] (custom)
2022-09-09 09:09:37,038 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8
2022-09-09 09:09:37,038 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-27A2ED4418F8:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER] returns group-27A2ED4418F8:java.util.concurrent.CompletableFuture@2f092198[Not completed]
2022-09-09 09:09:37,038 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:37,039 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-27A2ED4418F8:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-27A2ED4418F8
2022-09-09 09:09:37,039 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:37,039 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:37,039 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:37,039 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:37,039 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:37,039 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:37,039 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:37,039 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:37,040 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-27A2ED4418F8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:37,040 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:37,040 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:37,040 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:37,040 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:37,040 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:37,040 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:37,040 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:37,040 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:37,040 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:37,041 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:37,041 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-09-09 09:09:37,041 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:37,041 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:37,041 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:37,041 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:37,041 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:37,041 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40127 (custom)
2022-09-09 09:09:37,041 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:37,042 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35007 (custom)
2022-09-09 09:09:37,042 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:37,042 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43621 (custom)
2022-09-09 09:09:37,042 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:37,042 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:37,042 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:37,042 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:37,042 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:37,042 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:37,042 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:37,044 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:37,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:37,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:37,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:37,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:37,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0] (custom)
2022-09-09 09:09:37,045 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8
2022-09-09 09:09:37,045 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-27A2ED4418F8:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER] returns group-27A2ED4418F8:java.util.concurrent.CompletableFuture@12f831da[Not completed]
2022-09-09 09:09:37,045 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-27A2ED4418F8:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-27A2ED4418F8
2022-09-09 09:09:37,045 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:37,045 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:37,045 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:37,045 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:37,045 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-27A2ED4418F8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:37,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:37,047 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:37,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:37,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:37,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0] (custom)
2022-09-09 09:09:37,048 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:37,048 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-09-09 09:09:38,049 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:38,049 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-09-09 09:09:39,050 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:39,050 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-09-09 09:09:40,051 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:40,053 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-09-09 09:09:41,053 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:41,054 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpce0e54422/s0/1ad75b7e-1b44-4102-b5d7-27a2ed4418f8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-09-09 09:09:41,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:41,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40127 (custom)
2022-09-09 09:09:41,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:41,056 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35007 (custom)
2022-09-09 09:09:41,056 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:41,056 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43621 (custom)
2022-09-09 09:09:41,056 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:41,056 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,056 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:41,056 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:41,056 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:41,056 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:41,056 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:41,058 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-09-09 09:09:41,058 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-09-09 09:09:41,058 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-09-09 09:09:41,058 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-09-09 09:09:41,058 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-09-09 09:09:41,058 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-27A2ED4418F8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-27A2ED4418F8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43621|admin:localhost:40127|client:localhost:35007|dataStream:localhost:42711|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:41,059 [java.util.concurrent.ThreadPoolExecutor$Worker@75ac51bb[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-09-09 09:09:41,059 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s0@group-27A2ED4418F8: shutdown
2022-09-09 09:09:41,060 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-27A2ED4418F8,id=s0
2022-09-09 09:09:41,060 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-27A2ED4418F8-LeaderStateImpl
2022-09-09 09:09:41,060 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-27A2ED4418F8-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:41,060 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-27A2ED4418F8-StateMachineUpdater: set stopIndex = 0
2022-09-09 09:09:41,060 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-27A2ED4418F8: applyIndex: 0
2022-09-09 09:09:41,061 [s0@group-27A2ED4418F8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s0@group-27A2ED4418F8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:41,062 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-27A2ED4418F8-SegmentedRaftLogWorker close()
2022-09-09 09:09:41,063 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@58c65051] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-09-09 09:09:41,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-09-09 09:09:41,064 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-09-09 09:09:41,064 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-09-09 09:09:41,064 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-09-09 09:09:41,068 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-09-09 09:09:41,069 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-9493E5D181A1:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]
2022-09-09 09:09:41,069 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-09-09 09:09:41,069 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-09-09 09:09:41,069 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-09-09 09:09:41,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-09-09 09:09:41,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-09-09 09:09:41,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-09-09 09:09:41,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-9493E5D181A1:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:41,070 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0
2022-09-09 09:09:41,070 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0 does not exist.
2022-09-09 09:09:41,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0
2022-09-09 09:09:41,071 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:41,071 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:41,071 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42051 (custom)
2022-09-09 09:09:41,071 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:41,071 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46531 (custom)
2022-09-09 09:09:41,071 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:41,071 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35797 (custom)
2022-09-09 09:09:41,071 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:41,071 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,072 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:41,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:41,072 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:41,072 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:41,072 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:41,073 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:41,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:41,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:41,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:41,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:41,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0] (custom)
2022-09-09 09:09:41,075 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-9493E5D181A1:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER] returns group-9493E5D181A1:java.util.concurrent.CompletableFuture@462825ea[Not completed]
2022-09-09 09:09:41,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-9493E5D181A1:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:41,075 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1
2022-09-09 09:09:41,075 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1 does not exist.
2022-09-09 09:09:41,075 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1
2022-09-09 09:09:41,076 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:41,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:41,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38863 (custom)
2022-09-09 09:09:41,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:41,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38941 (custom)
2022-09-09 09:09:41,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:41,076 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36607 (custom)
2022-09-09 09:09:41,076 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:41,077 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,077 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:41,077 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:41,077 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:41,077 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:41,077 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:41,078 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:41,078 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:41,079 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:41,079 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:41,079 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-9493E5D181A1:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:41,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:41,079 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:41,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:41,079 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:41,080 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:41,080 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:41,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:41,080 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:41,080 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:41,080 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:41,081 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-9493E5D181A1: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:41,081 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1] (custom)
2022-09-09 09:09:41,081 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:41,081 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:41,081 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:41,081 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:41,081 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-9493E5D181A1:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER] returns group-9493E5D181A1:java.util.concurrent.CompletableFuture@2107bc1a[Not completed]
2022-09-09 09:09:41,082 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:41,084 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:41,084 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:41,084 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:41,084 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:41,084 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:41,082 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:41,082 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-9493E5D181A1:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:41,085 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2
2022-09-09 09:09:41,085 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2 does not exist.
2022-09-09 09:09:41,085 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2
2022-09-09 09:09:41,085 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:41,085 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:41,085 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46689 (custom)
2022-09-09 09:09:41,085 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:41,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 32913 (custom)
2022-09-09 09:09:41,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:41,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39179 (custom)
2022-09-09 09:09:41,086 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:41,086 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,086 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:41,086 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:41,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:41,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:41,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:41,087 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:41,087 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:41,087 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:41,088 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:41,088 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:41,088 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2] (custom)
2022-09-09 09:09:41,088 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:41,088 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:41,088 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s1: new RaftServerImpl for group-9493E5D181A1:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:41,088 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:41,089 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:41,089 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:41,089 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:41,089 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:41,089 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:41,089 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-9493E5D181A1: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:41,089 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:41,089 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:41,089 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:41,089 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:41,090 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:41,091 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:41,091 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:41,091 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:41,091 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:41,091 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:41,099 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-9493E5D181A1:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER] returns group-9493E5D181A1:java.util.concurrent.CompletableFuture@2678b8ad[Not completed]
2022-09-09 09:09:41,100 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:41,100 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:41,100 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:41,100 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:41,100 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:41,101 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0] (custom)
2022-09-09 09:09:41,101 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s2: new RaftServerImpl for group-9493E5D181A1:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:41,101 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1 does not exist. Creating ...
2022-09-09 09:09:41,101 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1
2022-09-09 09:09:41,101 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:41,102 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:41,102 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:41,102 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:41,102 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:41,102 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:41,103 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-9493E5D181A1: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:41,103 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:41,103 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1/current
2022-09-09 09:09:41,103 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1/sm
2022-09-09 09:09:41,105 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:41,105 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:41,105 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:41,105 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:41,105 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:41,106 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:41,106 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:41,106 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:41,106 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:41,106 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:41,107 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1 has been successfully formatted.
2022-09-09 09:09:41,107 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:41,107 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:41,107 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:41,107 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:41,107 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,107 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:41,107 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:41,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:41,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:41,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:41,108 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s0@group-9493E5D181A1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1
2022-09-09 09:09:41,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:41,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:41,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:41,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:41,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:41,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:41,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:41,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:41,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:41,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:41,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:41,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:41,109 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-9493E5D181A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:41,109 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-9493E5D181A1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:41,110 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s0@group-9493E5D181A1: start as a follower, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,110 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-9493E5D181A1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:41,110 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,110 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9493E5D181A1,id=s0
2022-09-09 09:09:41,111 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:41,111 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:41,111 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:41,111 [s0@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:41,111 [s0@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:41,111 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-09-09 09:09:41,113 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 46531
2022-09-09 09:09:41,114 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 35797
2022-09-09 09:09:41,114 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42051
2022-09-09 09:09:41,115 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:41,115 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:41,115 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1] (custom)
2022-09-09 09:09:41,116 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1 does not exist. Creating ...
2022-09-09 09:09:41,116 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1
2022-09-09 09:09:41,117 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@3a033714] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-09-09 09:09:41,117 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:41,118 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1/current
2022-09-09 09:09:41,118 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1/sm
2022-09-09 09:09:41,119 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1 has been successfully formatted.
2022-09-09 09:09:41,119 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:41,120 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:41,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:41,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:41,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:41,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s1@group-9493E5D181A1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:41,121 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:41,122 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:41,122 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:41,122 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:41,122 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:41,122 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-9493E5D181A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:41,122 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-9493E5D181A1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:41,127 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s1@group-9493E5D181A1: start as a follower, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,127 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-9493E5D181A1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:41,127 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,128 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9493E5D181A1,id=s1
2022-09-09 09:09:41,128 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:41,128 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:41,128 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:41,128 [s1@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:41,128 [s1@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:41,129 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-09-09 09:09:41,133 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 38941
2022-09-09 09:09:41,135 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 36607
2022-09-09 09:09:41,136 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 38863
2022-09-09 09:09:41,136 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:41,136 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:41,136 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2] (custom)
2022-09-09 09:09:41,136 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1 does not exist. Creating ...
2022-09-09 09:09:41,137 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1
2022-09-09 09:09:41,137 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@22490003] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-09-09 09:09:41,138 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:41,138 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1/current
2022-09-09 09:09:41,138 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1/sm
2022-09-09 09:09:41,140 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1 has been successfully formatted.
2022-09-09 09:09:41,140 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:41,140 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:41,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:41,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:41,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:41,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:41,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:41,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:41,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:41,141 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s2@group-9493E5D181A1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1
2022-09-09 09:09:41,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:41,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:41,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:41,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:41,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:41,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:41,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:41,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:41,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:41,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:41,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:41,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:41,143 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-9493E5D181A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:41,143 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-9493E5D181A1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:41,145 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s2@group-9493E5D181A1: start as a follower, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,145 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-9493E5D181A1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:41,145 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,145 [s2@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:41,145 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9493E5D181A1,id=s2
2022-09-09 09:09:41,145 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:41,145 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:41,145 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:41,145 [s2@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:41,146 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-09-09 09:09:41,146 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 32913
2022-09-09 09:09:41,147 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 39179
2022-09-09 09:09:41,147 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 46689
2022-09-09 09:09:41,148 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@3ff3c2e1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-09-09 09:09:41,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:41,148 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:41,149 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:168)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:41,347 [s2@group-9493E5D181A1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-9493E5D181A1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:202198263ns, electionTimeout:201ms
2022-09-09 09:09:41,347 [s2@group-9493E5D181A1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,347 [s2@group-9493E5D181A1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-9493E5D181A1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:41,347 [s2@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:41,348 [s2@group-9493E5D181A1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9493E5D181A1-LeaderElection7
2022-09-09 09:09:41,348 [s2@group-9493E5D181A1-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s2@group-9493E5D181A1-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,349 [s2@group-9493E5D181A1-LeaderElection7-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-09-09 09:09:41,349 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:41,349 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:41,349 [s2@group-9493E5D181A1-LeaderElection7-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-09-09 09:09:41,369 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-9493E5D181A1: receive requestVote(PRE_VOTE, s2, group-9493E5D181A1, 0, (t:0, i:0))
2022-09-09 09:09:41,374 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9493E5D181A1-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:41,374 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-9493E5D181A1 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,375 [s2@group-9493E5D181A1-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-9493E5D181A1-LeaderElection7: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:41,376 [s2@group-9493E5D181A1-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2022-09-09 09:09:41,376 [s2@group-9493E5D181A1-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-9493E5D181A1-LeaderElection7 PRE_VOTE round 0: result PASSED
2022-09-09 09:09:41,377 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-9493E5D181A1: receive requestVote(PRE_VOTE, s2, group-9493E5D181A1, 0, (t:0, i:0))
2022-09-09 09:09:41,377 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9493E5D181A1-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:41,377 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-9493E5D181A1 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-9493E5D181A1:t0, leader=null, voted=, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,377 [s2@group-9493E5D181A1-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s2@group-9493E5D181A1-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,381 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:41,381 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:41,383 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-9493E5D181A1: receive requestVote(ELECTION, s2, group-9493E5D181A1, 1, (t:0, i:0))
2022-09-09 09:09:41,383 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9493E5D181A1-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:41,383 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-9493E5D181A1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-09-09 09:09:41,383 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,383 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,383 [s0@group-9493E5D181A1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9493E5D181A1-FollowerState was interrupted
2022-09-09 09:09:41,388 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-9493E5D181A1: receive requestVote(ELECTION, s2, group-9493E5D181A1, 1, (t:0, i:0))
2022-09-09 09:09:41,388 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9493E5D181A1-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:41,388 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-9493E5D181A1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-09-09 09:09:41,388 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,388 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,388 [s1@group-9493E5D181A1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-9493E5D181A1-FollowerState was interrupted
2022-09-09 09:09:41,388 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-9493E5D181A1 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-9493E5D181A1:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,394 [s0@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:41,394 [s1@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:41,394 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-9493E5D181A1 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-9493E5D181A1:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,394 [s2@group-9493E5D181A1-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-9493E5D181A1-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:41,395 [s2@group-9493E5D181A1-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-09-09 09:09:41,395 [s2@group-9493E5D181A1-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-9493E5D181A1-LeaderElection7 ELECTION round 0: result PASSED
2022-09-09 09:09:41,395 [s2@group-9493E5D181A1-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-9493E5D181A1-LeaderElection7
2022-09-09 09:09:41,395 [s1@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:41,395 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-9493E5D181A1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-09-09 09:09:41,396 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-9493E5D181A1: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 291ms
2022-09-09 09:09:41,396 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:41,396 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:41,396 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-09-09 09:09:41,396 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:41,396 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:41,396 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:41,396 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:41,397 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:41,397 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:41,397 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,397 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:41,397 [s2@group-9493E5D181A1-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:41,397 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:41,397 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:41,398 [s2@group-9493E5D181A1-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:41,398 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:41,398 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,398 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:41,399 [s2@group-9493E5D181A1-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:41,399 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:41,399 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:41,399 [s2@group-9493E5D181A1-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:41,403 [s2@group-9493E5D181A1-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9493E5D181A1-LeaderStateImpl
2022-09-09 09:09:41,404 [s0@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:41,404 [s2@group-9493E5D181A1-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-9493E5D181A1-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:41,420 [s2@group-9493E5D181A1-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-9493E5D181A1: set configuration 0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,421 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-9493E5D181A1: change Leader from null to s2 at term 1 for appendEntries, leader elected after 332ms
2022-09-09 09:09:41,421 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-9493E5D181A1: change Leader from null to s2 at term 1 for appendEntries, leader elected after 340ms
2022-09-09 09:09:41,422 [s2@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-9493E5D181A1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_0
2022-09-09 09:09:41,428 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-9493E5D181A1: set configuration 0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,428 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-9493E5D181A1-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:41,433 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-9493E5D181A1: set configuration 0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,433 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-9493E5D181A1-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:41,446 [s0@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-9493E5D181A1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_0
2022-09-09 09:09:41,446 [s1@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-9493E5D181A1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_0
2022-09-09 09:09:41,599 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:41,600 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:41,600 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:41,612 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-CBF4331A3EB8->s0: receive RaftClientReply:client-CBF4331A3EB8->s0@group-9493E5D181A1, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-9493E5D181A1 is not the leader s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-09-09 09:09:41,615 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:41,616 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:41,625 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-CBF4331A3EB8->s2: receive RaftClientReply:client-CBF4331A3EB8->s2@group-9493E5D181A1, cid=28, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2022-09-09 09:09:41,631 [s2@group-9493E5D181A1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-CBF4331A3EB8
2022-09-09 09:09:41,634 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-CBF4331A3EB8->s2: receive RaftClientReply:client-CBF4331A3EB8->s2@group-9493E5D181A1, cid=29, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2022-09-09 09:09:41,636 [s0@group-9493E5D181A1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-CBF4331A3EB8
2022-09-09 09:09:41,646 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:41,646 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:41,648 [s1@group-9493E5D181A1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-CBF4331A3EB8
2022-09-09 09:09:41,662 [s2@group-9493E5D181A1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-0A4E9EA3542B
2022-09-09 09:09:41,672 [s1@group-9493E5D181A1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-0A4E9EA3542B
2022-09-09 09:09:41,673 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0A4E9EA3542B->s2: receive RaftClientReply:client-0A4E9EA3542B->s2@group-9493E5D181A1, cid=1, SUCCESS, logIndex=3, commits[s2:c3, s0:c1, s1:c2]
2022-09-09 09:09:41,673 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-09-09 09:09:41,675 [s0@group-9493E5D181A1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-0A4E9EA3542B
2022-09-09 09:09:41,677 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s2
2022-09-09 09:09:41,677 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:41,678 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:41,678 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:41,688 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:194)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:41,752 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s2
2022-09-09 09:09:41,762 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-09-09 09:09:41,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:41,789 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:41,789 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:41,789 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:194)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:41,889 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:41,890 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:41,890 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:41,890 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:194)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:41,930 [s1@group-9493E5D181A1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-9493E5D181A1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:257809926ns, electionTimeout:151ms
2022-09-09 09:09:41,930 [s1@group-9493E5D181A1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,930 [s1@group-9493E5D181A1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-9493E5D181A1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-09-09 09:09:41,930 [s1@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:41,930 [s1@group-9493E5D181A1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9493E5D181A1-LeaderElection8
2022-09-09 09:09:41,932 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-9493E5D181A1: change Leader from s2 to null at term 1 for PRE_VOTE
2022-09-09 09:09:41,933 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-9493E5D181A1-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,933 [s1@group-9493E5D181A1-LeaderElection8-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-09-09 09:09:41,934 [s1@group-9493E5D181A1-LeaderElection8-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-09-09 09:09:41,941 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-9493E5D181A1: receive requestVote(PRE_VOTE, s1, group-9493E5D181A1, 1, (t:1, i:4))
2022-09-09 09:09:41,941 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-9493E5D181A1-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-09-09 09:09:41,941 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-9493E5D181A1 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,948 [s0@group-9493E5D181A1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-9493E5D181A1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:273313815ns, electionTimeout:156ms
2022-09-09 09:09:41,948 [s0@group-9493E5D181A1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,948 [s0@group-9493E5D181A1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-9493E5D181A1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-09-09 09:09:41,949 [s0@group-9493E5D181A1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:41,949 [s0@group-9493E5D181A1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9493E5D181A1-LeaderElection9
2022-09-09 09:09:41,952 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-9493E5D181A1: receive requestVote(PRE_VOTE, s1, group-9493E5D181A1, 1, (t:1, i:4))
2022-09-09 09:09:41,952 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9493E5D181A1-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:41,952 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-9493E5D181A1 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,952 [s0@group-9493E5D181A1-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-9493E5D181A1: change Leader from s2 to null at term 1 for PRE_VOTE
2022-09-09 09:09:41,952 [s0@group-9493E5D181A1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-9493E5D181A1-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,961 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9493E5D181A1-LeaderElection8: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-09-09 09:09:41,961 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-09-09 09:09:41,961 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2022-09-09 09:09:41,961 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-9493E5D181A1-LeaderElection8 PRE_VOTE round 0: result PASSED
2022-09-09 09:09:41,962 [s0@group-9493E5D181A1-LeaderElection9-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-09-09 09:09:41,963 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-9493E5D181A1-LeaderElection8 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,968 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-9493E5D181A1: receive requestVote(PRE_VOTE, s0, group-9493E5D181A1, 1, (t:1, i:4))
2022-09-09 09:09:41,968 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-9493E5D181A1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-09-09 09:09:41,968 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-9493E5D181A1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-9493E5D181A1:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,971 [s0@group-9493E5D181A1-LeaderElection9-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-09-09 09:09:41,972 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-9493E5D181A1: receive requestVote(ELECTION, s1, group-9493E5D181A1, 2, (t:1, i:4))
2022-09-09 09:09:41,972 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9493E5D181A1-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:41,972 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-9493E5D181A1: changes role from CANDIDATE to FOLLOWER at term 2 for candidate:s1
2022-09-09 09:09:41,972 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-9493E5D181A1-LeaderElection9
2022-09-09 09:09:41,972 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,974 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-9493E5D181A1: receive requestVote(ELECTION, s1, group-9493E5D181A1, 2, (t:1, i:4))
2022-09-09 09:09:41,974 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-9493E5D181A1-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:41,974 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-9493E5D181A1: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-09-09 09:09:41,974 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-9493E5D181A1: changes role from    LEADER to FOLLOWER at term 2 for candidate:s1
2022-09-09 09:09:41,974 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-9493E5D181A1-LeaderStateImpl
2022-09-09 09:09:41,974 [s2@group-9493E5D181A1->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s2@group-9493E5D181A1->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:41,974 [s2@group-9493E5D181A1->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s2@group-9493E5D181A1->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:41,974 [grpc-default-executor-5] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-9493E5D181A1-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:41,983 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-9493E5D181A1 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-9493E5D181A1:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,985 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9493E5D181A1-FollowerState
2022-09-09 09:09:41,986 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-9493E5D181A1 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-9493E5D181A1:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:41,987 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9493E5D181A1-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:41,987 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2022-09-09 09:09:41,987 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-9493E5D181A1-LeaderElection8 ELECTION round 0: result PASSED
2022-09-09 09:09:41,987 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-9493E5D181A1-LeaderElection8
2022-09-09 09:09:41,987 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-9493E5D181A1: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-09-09 09:09:41,987 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-9493E5D181A1: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 55ms
2022-09-09 09:09:41,988 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:41,988 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:41,988 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-09-09 09:09:41,988 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-9493E5D181A1: receive requestVote(PRE_VOTE, s0, group-9493E5D181A1, 1, (t:1, i:4))
2022-09-09 09:09:41,988 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:41,988 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:41,988 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:41,988 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:41,989 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:41,989 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:41,989 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,989 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:41,989 [s1@group-9493E5D181A1-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:41,989 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:41,989 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:41,990 [s1@group-9493E5D181A1-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:41,990 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:41,990 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:41,990 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:41,990 [s1@group-9493E5D181A1-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:41,990 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:41,991 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:41,996 [s1@group-9493E5D181A1-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-09-09 09:09:41,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:41,997 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-9493E5D181A1:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9493E5D181A1:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:41,997 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-9493E5D181A1 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-9493E5D181A1 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:194)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:41,997 [s1@group-9493E5D181A1-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9493E5D181A1-LeaderStateImpl
2022-09-09 09:09:41,998 [s1@group-9493E5D181A1-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-9493E5D181A1-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-09-09 09:09:42,001 [s1@group-9493E5D181A1-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_0-4
2022-09-09 09:09:42,001 [s1@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-9493E5D181A1-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_0-4
2022-09-09 09:09:42,006 [s1@group-9493E5D181A1-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-9493E5D181A1: set configuration 5: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:42,007 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-9493E5D181A1: change Leader from null to s1 at term 2 for appendEntries, leader elected after 54ms
2022-09-09 09:09:42,007 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9493E5D181A1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-09-09 09:09:42,007 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-9493E5D181A1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-9493E5D181A1:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:42,009 [s0@group-9493E5D181A1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-9493E5D181A1-LeaderElection9: PRE_VOTE DISCOVERED_A_NEW_TERM (term=2) received 2 response(s) and 0 exception(s):
2022-09-09 09:09:42,009 [s0@group-9493E5D181A1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t2
2022-09-09 09:09:42,009 [s0@group-9493E5D181A1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-09-09 09:09:42,009 [s0@group-9493E5D181A1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-9493E5D181A1-LeaderElection9 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=2)
2022-09-09 09:09:42,016 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-9493E5D181A1: change Leader from null to s1 at term 2 for appendEntries, leader elected after 42ms
2022-09-09 09:09:42,016 [s1@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-9493E5D181A1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s1/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_5
2022-09-09 09:09:42,018 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-9493E5D181A1: set configuration 5: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:42,018 [s0-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-9493E5D181A1-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-09-09 09:09:42,018 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-9493E5D181A1: set configuration 5: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:42,018 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-9493E5D181A1-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-09-09 09:09:42,020 [s2@group-9493E5D181A1-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_0-4
2022-09-09 09:09:42,020 [s2@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-9493E5D181A1-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_0-4
2022-09-09 09:09:42,023 [s0@group-9493E5D181A1-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_0-4
2022-09-09 09:09:42,023 [s0@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-9493E5D181A1-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_0-4
2022-09-09 09:09:42,039 [s2@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-9493E5D181A1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s2/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_5
2022-09-09 09:09:42,039 [s0@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-9493E5D181A1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpc854c45bc/s0/02699c69-bfe1-4723-ae45-9493e5d181a1/current/log_inprogress_5
2022-09-09 09:09:42,447 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-9493E5D181A1:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9493E5D181A1:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:42,448 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-09-09 09:09:42,448 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s2
2022-09-09 09:09:42,448 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-09-09 09:09:42,449 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-0A4E9EA3542B->s2: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:198)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-0A4E9EA3542B->s2: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:406)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:346)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-09-09 09:09:42,449 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-09-09 09:09:42,450 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:42,451 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:42,453 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-09-09 09:09:42,654 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s2
2022-09-09 09:09:42,660 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#22-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-09-09 09:09:42,661 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s2@group-9493E5D181A1->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:42,662 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-9493E5D181A1->s1: nextIndex: updateUnconditionally 5 -> 4
2022-09-09 09:09:42,663 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-09-09 09:09:42,666 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#21-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-09-09 09:09:42,667 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s2@group-9493E5D181A1->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:42,667 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-9493E5D181A1->s0: nextIndex: updateUnconditionally 5 -> 4
2022-09-09 09:09:43,453 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-0A4E9EA3542B->s2 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:206)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-0A4E9EA3542B->s2 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:388)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-09-09 09:09:43,465 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0A4E9EA3542B->s2: receive RaftClientReply:client-0A4E9EA3542B->s2@group-9493E5D181A1, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-09-09 09:09:46,454 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=334, target=localhost:32913}}. 
2022-09-09 09:09:46,459 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-09-09 09:09:46,459 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-09-09 09:09:46,459 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-09-09 09:09:46,459 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-09-09 09:09:46,459 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-09-09 09:09:46,460 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9493E5D181A1:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-9493E5D181A1-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-9493E5D181A1:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-9493E5D181A1-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9493E5D181A1:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-9493E5D181A1-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:35797|admin:localhost:42051|client:localhost:46531|dataStream:localhost:46317|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36607|admin:localhost:38863|client:localhost:38941|dataStream:localhost:34399|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39179|admin:localhost:46689|client:localhost:32913|dataStream:localhost:36641|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:46,461 [java.util.concurrent.ThreadPoolExecutor$Worker@7ec2b3b6[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-09-09 09:09:46,464 [java.util.concurrent.ThreadPoolExecutor$Worker@7ec2b3b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:46,465 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s0@group-9493E5D181A1: shutdown
2022-09-09 09:09:46,465 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9493E5D181A1,id=s0
2022-09-09 09:09:46,465 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9493E5D181A1-FollowerState
2022-09-09 09:09:46,465 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-9493E5D181A1-StateMachineUpdater: set stopIndex = 6
2022-09-09 09:09:46,465 [s0@group-9493E5D181A1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9493E5D181A1-FollowerState was interrupted
2022-09-09 09:09:46,466 [java.util.concurrent.ThreadPoolExecutor$Worker@7ec2b3b6[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-09-09 09:09:46,466 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-9493E5D181A1: applyIndex: 6
2022-09-09 09:09:46,466 [s0@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s0@group-9493E5D181A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:46,469 [java.util.concurrent.ThreadPoolExecutor$Worker@1690b12f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-09-09 09:09:46,469 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-9493E5D181A1-SegmentedRaftLogWorker close()
2022-09-09 09:09:46,470 [java.util.concurrent.ThreadPoolExecutor$Worker@7ec2b3b6[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-09-09 09:09:46,472 [java.util.concurrent.ThreadPoolExecutor$Worker@7ec2b3b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:46,472 [java.util.concurrent.ThreadPoolExecutor$Worker@7ec2b3b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:46,472 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s1@group-9493E5D181A1: shutdown
2022-09-09 09:09:46,473 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9493E5D181A1,id=s1
2022-09-09 09:09:46,473 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-9493E5D181A1-LeaderStateImpl
2022-09-09 09:09:46,474 [s1@group-9493E5D181A1->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s1@group-9493E5D181A1->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:46,474 [java.util.concurrent.ThreadPoolExecutor$Worker@1690b12f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:46,474 [s1@group-9493E5D181A1->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s1@group-9493E5D181A1->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:46,474 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-9493E5D181A1-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:46,474 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-9493E5D181A1-StateMachineUpdater: set stopIndex = 6
2022-09-09 09:09:46,475 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-9493E5D181A1: applyIndex: 6
2022-09-09 09:09:46,475 [s1@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s1@group-9493E5D181A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:46,475 [java.util.concurrent.ThreadPoolExecutor$Worker@1690b12f[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-09-09 09:09:46,475 [java.util.concurrent.ThreadPoolExecutor$Worker@672dd3c6[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-09-09 09:09:46,477 [java.util.concurrent.ThreadPoolExecutor$Worker@7ec2b3b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:46,478 [java.util.concurrent.ThreadPoolExecutor$Worker@7ec2b3b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:46,478 [java.util.concurrent.ThreadPoolExecutor$Worker@7ec2b3b6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:46,478 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#3-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-09-09 09:09:46,478 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(392)) - s1@group-9493E5D181A1->s0-GrpcLogAppender is already stopped
2022-09-09 09:09:46,479 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@3a033714] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-09-09 09:09:46,479 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: s1->s0#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-09-09 09:09:46,479 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s2@group-9493E5D181A1: shutdown
2022-09-09 09:09:46,479 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9493E5D181A1,id=s2
2022-09-09 09:09:46,480 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9493E5D181A1-FollowerState
2022-09-09 09:09:46,480 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-9493E5D181A1-SegmentedRaftLogWorker close()
2022-09-09 09:09:46,480 [s2@group-9493E5D181A1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-9493E5D181A1-FollowerState was interrupted
2022-09-09 09:09:46,480 [java.util.concurrent.ThreadPoolExecutor$Worker@672dd3c6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:46,480 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-9493E5D181A1-StateMachineUpdater: set stopIndex = 6
2022-09-09 09:09:46,480 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-9493E5D181A1: applyIndex: 6
2022-09-09 09:09:46,481 [s2@group-9493E5D181A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s2@group-9493E5D181A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:46,482 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-9493E5D181A1->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:46,482 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-9493E5D181A1->s2: nextIndex: updateUnconditionally 7 -> 6
2022-09-09 09:09:46,482 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-09-09 09:09:46,483 [java.util.concurrent.ThreadPoolExecutor$Worker@1690b12f[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-09-09 09:09:46,483 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-09-09 09:09:46,484 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-9493E5D181A1-SegmentedRaftLogWorker close()
2022-09-09 09:09:46,484 [java.util.concurrent.ThreadPoolExecutor$Worker@672dd3c6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:46,484 [java.util.concurrent.ThreadPoolExecutor$Worker@672dd3c6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:46,486 [java.util.concurrent.ThreadPoolExecutor$Worker@1690b12f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:46,486 [java.util.concurrent.ThreadPoolExecutor$Worker@1690b12f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:46,486 [java.util.concurrent.ThreadPoolExecutor$Worker@672dd3c6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:46,486 [java.util.concurrent.ThreadPoolExecutor$Worker@672dd3c6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:46,487 [java.util.concurrent.ThreadPoolExecutor$Worker@1690b12f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:46,487 [java.util.concurrent.ThreadPoolExecutor$Worker@1690b12f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:46,487 [java.util.concurrent.ThreadPoolExecutor$Worker@672dd3c6[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:46,487 [java.util.concurrent.ThreadPoolExecutor$Worker@1690b12f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:46,488 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@3ff3c2e1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-09-09 09:09:46,488 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@22490003] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-09-09 09:09:46,488 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-09-09 09:09:46,489 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-09-09 09:09:46,489 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-09-09 09:09:46,489 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-09-09 09:09:46,490 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-09-09 09:09:46,491 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-9A01E14BFFAE:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]
2022-09-09 09:09:46,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-09-09 09:09:46,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-09-09 09:09:46,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-09-09 09:09:46,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-09-09 09:09:46,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-09-09 09:09:46,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-09-09 09:09:46,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-9A01E14BFFAE:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:46,492 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0
2022-09-09 09:09:46,492 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0 does not exist.
2022-09-09 09:09:46,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0
2022-09-09 09:09:46,493 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:46,493 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:46,493 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46083 (custom)
2022-09-09 09:09:46,493 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:46,493 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45623 (custom)
2022-09-09 09:09:46,493 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:46,494 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37307 (custom)
2022-09-09 09:09:46,494 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:46,494 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:46,495 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:46,495 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:46,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:46,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:46,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:46,497 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:46,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:46,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:46,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:46,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:46,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0] (custom)
2022-09-09 09:09:46,502 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-9A01E14BFFAE:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER] returns group-9A01E14BFFAE:java.util.concurrent.CompletableFuture@5a7ce707[Not completed]
2022-09-09 09:09:46,503 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-9A01E14BFFAE:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:46,503 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1
2022-09-09 09:09:46,503 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:46,503 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1 does not exist.
2022-09-09 09:09:46,503 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1
2022-09-09 09:09:46,503 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:46,503 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:46,503 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:46,503 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-9A01E14BFFAE:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:46,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:46,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38961 (custom)
2022-09-09 09:09:46,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:46,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34009 (custom)
2022-09-09 09:09:46,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:46,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35745 (custom)
2022-09-09 09:09:46,504 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:46,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:46,504 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:46,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:46,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:46,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:46,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:46,505 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:46,505 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:46,505 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:46,505 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:46,505 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:46,505 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:46,505 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-9A01E14BFFAE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:46,505 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:46,505 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:46,505 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:46,505 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:46,506 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:46,506 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:46,506 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:46,506 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:46,506 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:46,506 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:46,506 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1] (custom)
2022-09-09 09:09:46,508 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:46,508 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:46,508 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:46,509 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:46,509 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:46,509 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-9A01E14BFFAE:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER] returns group-9A01E14BFFAE:java.util.concurrent.CompletableFuture@2eabec2a[Not completed]
2022-09-09 09:09:46,509 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-9A01E14BFFAE:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:46,509 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2
2022-09-09 09:09:46,509 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2 does not exist.
2022-09-09 09:09:46,509 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2
2022-09-09 09:09:46,509 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:46,510 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:46,510 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34951 (custom)
2022-09-09 09:09:46,510 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:46,510 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42709 (custom)
2022-09-09 09:09:46,510 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:46,510 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34535 (custom)
2022-09-09 09:09:46,510 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:46,510 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:46,510 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:46,510 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:46,510 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:46,510 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:46,511 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:46,512 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:46,512 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:46,512 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:46,512 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:46,512 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:46,513 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2] (custom)
2022-09-09 09:09:46,513 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:46,514 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:46,514 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:46,514 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s1: new RaftServerImpl for group-9A01E14BFFAE:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:46,514 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:46,514 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:46,514 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:46,515 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:46,515 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:46,515 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:46,515 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-9A01E14BFFAE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:46,515 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:46,515 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:46,515 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:46,515 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:46,515 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:46,517 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:46,518 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:46,518 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:46,518 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:46,518 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:46,518 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-9A01E14BFFAE:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER] returns group-9A01E14BFFAE:java.util.concurrent.CompletableFuture@8d63877[Not completed]
2022-09-09 09:09:46,519 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:46,519 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:46,519 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0] (custom)
2022-09-09 09:09:46,519 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0/187ab2ed-518b-4a80-8552-9a01e14bffae does not exist. Creating ...
2022-09-09 09:09:46,519 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0/187ab2ed-518b-4a80-8552-9a01e14bffae
2022-09-09 09:09:46,520 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:46,520 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:46,521 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:46,522 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s2: new RaftServerImpl for group-9A01E14BFFAE:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:46,522 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0/187ab2ed-518b-4a80-8552-9a01e14bffae/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:46,522 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0/187ab2ed-518b-4a80-8552-9a01e14bffae/current
2022-09-09 09:09:46,522 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0/187ab2ed-518b-4a80-8552-9a01e14bffae/sm
2022-09-09 09:09:46,523 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:46,523 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:46,524 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:46,524 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:46,524 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:46,524 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:46,524 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-9A01E14BFFAE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:46,524 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0/187ab2ed-518b-4a80-8552-9a01e14bffae has been successfully formatted.
2022-09-09 09:09:46,524 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:46,524 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:46,525 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:46,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:46,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:46,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:46,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:46,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:46,526 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:46,526 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:46,526 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:46,526 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s0@group-9A01E14BFFAE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0/187ab2ed-518b-4a80-8552-9a01e14bffae
2022-09-09 09:09:46,526 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:46,527 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:46,527 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:46,527 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:46,527 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:46,527 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:46,527 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:46,527 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:46,528 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:46,529 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:46,529 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:46,529 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:46,529 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-9A01E14BFFAE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:46,529 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-9A01E14BFFAE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:46,524 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:46,532 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:46,532 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:46,532 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:46,533 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:46,533 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:46,533 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:46,533 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:46,533 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:46,534 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s0@group-9A01E14BFFAE: start as a follower, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,534 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-9A01E14BFFAE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:46,534 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9A01E14BFFAE-FollowerState
2022-09-09 09:09:46,535 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9A01E14BFFAE,id=s0
2022-09-09 09:09:46,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:46,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:46,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:46,536 [s0@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:46,536 [s0@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:46,539 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-09-09 09:09:46,540 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45623
2022-09-09 09:09:46,543 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 37307
2022-09-09 09:09:46,550 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 46083
2022-09-09 09:09:46,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:46,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:46,554 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1] (custom)
2022-09-09 09:09:46,554 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@7b1f969b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-09-09 09:09:46,555 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1/187ab2ed-518b-4a80-8552-9a01e14bffae does not exist. Creating ...
2022-09-09 09:09:46,555 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1/187ab2ed-518b-4a80-8552-9a01e14bffae
2022-09-09 09:09:46,557 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1/187ab2ed-518b-4a80-8552-9a01e14bffae/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:46,557 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1/187ab2ed-518b-4a80-8552-9a01e14bffae/current
2022-09-09 09:09:46,557 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1/187ab2ed-518b-4a80-8552-9a01e14bffae/sm
2022-09-09 09:09:46,558 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1/187ab2ed-518b-4a80-8552-9a01e14bffae has been successfully formatted.
2022-09-09 09:09:46,558 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:46,559 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:46,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:46,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:46,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:46,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:46,559 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:46,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:46,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:46,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:46,560 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s1@group-9A01E14BFFAE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1/187ab2ed-518b-4a80-8552-9a01e14bffae
2022-09-09 09:09:46,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:46,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:46,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:46,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:46,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:46,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:46,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:46,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:46,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:46,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:46,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:46,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:46,561 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-9A01E14BFFAE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:46,561 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-9A01E14BFFAE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:46,562 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s1@group-9A01E14BFFAE: start as a follower, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,562 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-9A01E14BFFAE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:46,562 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9A01E14BFFAE-FollowerState
2022-09-09 09:09:46,562 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9A01E14BFFAE,id=s1
2022-09-09 09:09:46,562 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:46,562 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:46,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:46,563 [s1@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:46,563 [s1@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:46,566 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-09-09 09:09:46,567 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 34009
2022-09-09 09:09:46,567 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 35745
2022-09-09 09:09:46,568 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 38961
2022-09-09 09:09:46,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:46,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:46,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2] (custom)
2022-09-09 09:09:46,569 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2/187ab2ed-518b-4a80-8552-9a01e14bffae does not exist. Creating ...
2022-09-09 09:09:46,569 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2/187ab2ed-518b-4a80-8552-9a01e14bffae
2022-09-09 09:09:46,570 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@7077fbd2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-09-09 09:09:46,571 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2/187ab2ed-518b-4a80-8552-9a01e14bffae/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:46,571 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2/187ab2ed-518b-4a80-8552-9a01e14bffae/current
2022-09-09 09:09:46,571 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2/187ab2ed-518b-4a80-8552-9a01e14bffae/sm
2022-09-09 09:09:46,572 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2/187ab2ed-518b-4a80-8552-9a01e14bffae has been successfully formatted.
2022-09-09 09:09:46,573 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:46,573 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:46,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:46,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:46,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:46,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:46,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s2@group-9A01E14BFFAE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2/187ab2ed-518b-4a80-8552-9a01e14bffae
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:46,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:46,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:46,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:46,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:46,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:46,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:46,575 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-9A01E14BFFAE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:46,575 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-9A01E14BFFAE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:46,575 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s2@group-9A01E14BFFAE: start as a follower, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,576 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-9A01E14BFFAE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:46,576 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9A01E14BFFAE-FollowerState
2022-09-09 09:09:46,576 [s2@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:46,576 [s2@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:46,576 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9A01E14BFFAE,id=s2
2022-09-09 09:09:46,576 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:46,576 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:46,576 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:46,577 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-09-09 09:09:46,578 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 42709
2022-09-09 09:09:46,579 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 34535
2022-09-09 09:09:46,579 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 34951
2022-09-09 09:09:46,581 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@51430024] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-09-09 09:09:46,581 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:46,581 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s0@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s1@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s2@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:46,581 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s0@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s1@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s2@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s0@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s1@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s2@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:303)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:214)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:46,746 [s1@group-9A01E14BFFAE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-9A01E14BFFAE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:184342762ns, electionTimeout:183ms
2022-09-09 09:09:46,747 [s1@group-9A01E14BFFAE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9A01E14BFFAE-FollowerState
2022-09-09 09:09:46,747 [s1@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-9A01E14BFFAE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:46,747 [s1@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:46,747 [s1@group-9A01E14BFFAE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9A01E14BFFAE-LeaderElection10
2022-09-09 09:09:46,752 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-9A01E14BFFAE-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,752 [s1@group-9A01E14BFFAE-LeaderElection10-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-09-09 09:09:46,752 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:46,753 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:46,753 [s1@group-9A01E14BFFAE-LeaderElection10-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-09-09 09:09:46,762 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-9A01E14BFFAE: receive requestVote(PRE_VOTE, s1, group-9A01E14BFFAE, 0, (t:0, i:0))
2022-09-09 09:09:46,762 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-9A01E14BFFAE-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:46,762 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-9A01E14BFFAE replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s2@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,764 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9A01E14BFFAE-LeaderElection10: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:46,764 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2022-09-09 09:09:46,764 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-9A01E14BFFAE-LeaderElection10 PRE_VOTE round 0: result PASSED
2022-09-09 09:09:46,765 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-9A01E14BFFAE: receive requestVote(PRE_VOTE, s1, group-9A01E14BFFAE, 0, (t:0, i:0))
2022-09-09 09:09:46,766 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9A01E14BFFAE-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:46,766 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-9A01E14BFFAE replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-9A01E14BFFAE:t0, leader=null, voted=, raftlog=Memoized:s0@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,767 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-9A01E14BFFAE-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,768 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:46,768 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:46,773 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-9A01E14BFFAE: receive requestVote(ELECTION, s1, group-9A01E14BFFAE, 1, (t:0, i:0))
2022-09-09 09:09:46,773 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9A01E14BFFAE-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:46,773 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-9A01E14BFFAE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-09-09 09:09:46,773 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9A01E14BFFAE-FollowerState
2022-09-09 09:09:46,773 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9A01E14BFFAE-FollowerState
2022-09-09 09:09:46,773 [s0@group-9A01E14BFFAE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9A01E14BFFAE-FollowerState was interrupted
2022-09-09 09:09:46,774 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-9A01E14BFFAE: receive requestVote(ELECTION, s1, group-9A01E14BFFAE, 1, (t:0, i:0))
2022-09-09 09:09:46,778 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-9A01E14BFFAE-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:46,778 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-9A01E14BFFAE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-09-09 09:09:46,778 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9A01E14BFFAE-FollowerState
2022-09-09 09:09:46,778 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9A01E14BFFAE-FollowerState
2022-09-09 09:09:46,778 [s2@group-9A01E14BFFAE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-9A01E14BFFAE-FollowerState was interrupted
2022-09-09 09:09:46,779 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-9A01E14BFFAE replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-9A01E14BFFAE:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,780 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9A01E14BFFAE-LeaderElection10: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:46,780 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-09-09 09:09:46,780 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-9A01E14BFFAE-LeaderElection10 ELECTION round 0: result PASSED
2022-09-09 09:09:46,780 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-9A01E14BFFAE-LeaderElection10
2022-09-09 09:09:46,780 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-9A01E14BFFAE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-09-09 09:09:46,780 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-9A01E14BFFAE: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 265ms
2022-09-09 09:09:46,780 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:46,781 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:46,781 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-09-09 09:09:46,781 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:46,781 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:46,781 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:46,781 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:46,781 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:46,781 [s0@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:46,781 [s0@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:46,782 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:46,782 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:46,782 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:46,782 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:46,782 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-9A01E14BFFAE replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-9A01E14BFFAE:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,782 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:46,782 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:46,783 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:46,783 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:46,783 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:46,783 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:46,784 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:46,784 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:46,784 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:46,784 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:46,784 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9A01E14BFFAE-LeaderStateImpl
2022-09-09 09:09:46,785 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-9A01E14BFFAE-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:46,792 [s2@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:46,792 [s2@group-9A01E14BFFAE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:46,798 [s1@group-9A01E14BFFAE-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-9A01E14BFFAE: set configuration 0: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,803 [s1@group-9A01E14BFFAE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-9A01E14BFFAE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s1/187ab2ed-518b-4a80-8552-9a01e14bffae/current/log_inprogress_0
2022-09-09 09:09:46,807 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-9A01E14BFFAE: change Leader from null to s1 at term 1 for appendEntries, leader elected after 301ms
2022-09-09 09:09:46,810 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-9A01E14BFFAE: set configuration 0: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,811 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-9A01E14BFFAE-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:46,811 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-9A01E14BFFAE: change Leader from null to s1 at term 1 for appendEntries, leader elected after 286ms
2022-09-09 09:09:46,818 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-9A01E14BFFAE: set configuration 0: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:46,818 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-9A01E14BFFAE-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:46,831 [s0@group-9A01E14BFFAE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-9A01E14BFFAE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s0/187ab2ed-518b-4a80-8552-9a01e14bffae/current/log_inprogress_0
2022-09-09 09:09:46,832 [s2@group-9A01E14BFFAE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-9A01E14BFFAE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcfb6b782a/s2/187ab2ed-518b-4a80-8552-9a01e14bffae/current/log_inprogress_0
2022-09-09 09:09:47,032 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9A01E14BFFAE:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-9A01E14BFFAE:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9A01E14BFFAE:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:47,033 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:47,033 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:47,041 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0CE42B096B14->s0: receive RaftClientReply:client-0CE42B096B14->s0@group-9A01E14BFFAE, cid=30, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-9A01E14BFFAE is not the leader s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-09-09 09:09:47,044 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:47,044 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:47,055 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0CE42B096B14->s1: receive RaftClientReply:client-0CE42B096B14->s1@group-9A01E14BFFAE, cid=30, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-09-09 09:09:47,061 [s1@group-9A01E14BFFAE-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-0CE42B096B14
2022-09-09 09:09:47,062 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0CE42B096B14->s1: receive RaftClientReply:client-0CE42B096B14->s1@group-9A01E14BFFAE, cid=31, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-09-09 09:09:47,063 [s1-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-09-09 09:09:47,064 [s2@group-9A01E14BFFAE-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-0CE42B096B14
2022-09-09 09:09:47,065 [s0@group-9A01E14BFFAE-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-0CE42B096B14
2022-09-09 09:09:47,066 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0CE42B096B14->s1: receive RaftClientReply:client-0CE42B096B14->s1@group-9A01E14BFFAE, cid=32, SUCCESS, logIndex=0, commits[s1:c1, s0:c0, s2:c0]
2022-09-09 09:09:49,466 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(301)) - s1@group-9493E5D181A1->s0-GrpcLogAppender: HEARTBEAT appendEntries Timeout, request=AppendEntriesRequest:cid=68,entriesCount=0,lastEntry=null
2022-09-09 09:09:51,069 [timer2] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=395, target=localhost:34009}}. 
2022-09-09 09:09:51,171 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,171 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,176 [s1-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-09-09 09:09:51,177 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0CE42B096B14->s1: receive RaftClientReply:client-0CE42B096B14->s1@group-9A01E14BFFAE, cid=33, SUCCESS, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2022-09-09 09:09:51,179 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,179 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,187 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-0CE42B096B14->s0@group-9A01E14BFFAE, cid=34, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-0CE42B096B14->s0@group-9A01E14BFFAE, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-9A01E14BFFAE is not the leader s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-09-09 09:09:51,188 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0CE42B096B14->s0: receive RaftClientReply:client-0CE42B096B14->s0@group-9A01E14BFFAE, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-9A01E14BFFAE is not the leader s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-09-09 09:09:51,193 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0CE42B096B14->s1: receive RaftClientReply:client-0CE42B096B14->s1@group-9A01E14BFFAE, cid=34, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-09-09 09:09:51,196 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0CE42B096B14->s1: receive RaftClientReply:client-0CE42B096B14->s1@group-9A01E14BFFAE, cid=35, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-09-09 09:09:51,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-09-09 09:09:51,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-09-09 09:09:51,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-09-09 09:09:51,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-09-09 09:09:51,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-09-09 09:09:51,202 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9A01E14BFFAE:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-9A01E14BFFAE:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9A01E14BFFAE:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-9A01E14BFFAE-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37307|admin:localhost:46083|client:localhost:45623|dataStream:localhost:35535|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35745|admin:localhost:38961|client:localhost:34009|dataStream:localhost:43643|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34535|admin:localhost:34951|client:localhost:42709|dataStream:localhost:44559|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:51,202 [java.util.concurrent.ThreadPoolExecutor$Worker@74669159[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-09-09 09:09:51,202 [java.util.concurrent.ThreadPoolExecutor$Worker@abd93b3[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-09-09 09:09:51,207 [java.util.concurrent.ThreadPoolExecutor$Worker@abd93b3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:51,207 [java.util.concurrent.ThreadPoolExecutor$Worker@74669159[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:51,207 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s0@group-9A01E14BFFAE: shutdown
2022-09-09 09:09:51,207 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9A01E14BFFAE,id=s0
2022-09-09 09:09:51,209 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9A01E14BFFAE-FollowerState
2022-09-09 09:09:51,209 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-9A01E14BFFAE-StateMachineUpdater: set stopIndex = 2
2022-09-09 09:09:51,209 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-9A01E14BFFAE: applyIndex: 2
2022-09-09 09:09:51,209 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-09-09 09:09:51,210 [s0@group-9A01E14BFFAE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s0@group-9A01E14BFFAE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:51,207 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s1@group-9A01E14BFFAE: shutdown
2022-09-09 09:09:51,210 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9A01E14BFFAE,id=s1
2022-09-09 09:09:51,209 [s0@group-9A01E14BFFAE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9A01E14BFFAE-FollowerState was interrupted
2022-09-09 09:09:51,210 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-9A01E14BFFAE-LeaderStateImpl
2022-09-09 09:09:51,210 [s1@group-9A01E14BFFAE->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s1@group-9A01E14BFFAE->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:51,210 [s1@group-9A01E14BFFAE->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s1@group-9A01E14BFFAE->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:51,210 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-9A01E14BFFAE-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:51,211 [java.util.concurrent.ThreadPoolExecutor$Worker@6ea58100[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-09-09 09:09:51,212 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-09-09 09:09:51,213 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#16-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-09-09 09:09:51,213 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#15-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-09-09 09:09:51,213 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-09-09 09:09:51,215 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s2@group-9A01E14BFFAE: shutdown
2022-09-09 09:09:51,215 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9A01E14BFFAE,id=s2
2022-09-09 09:09:51,215 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9A01E14BFFAE-FollowerState
2022-09-09 09:09:51,215 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-9A01E14BFFAE-StateMachineUpdater: set stopIndex = 2
2022-09-09 09:09:51,215 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-9A01E14BFFAE-SegmentedRaftLogWorker close()
2022-09-09 09:09:51,216 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-9A01E14BFFAE->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:51,217 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s1@group-9A01E14BFFAE->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:107)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:112)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:56)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:404)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:51,216 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-9A01E14BFFAE->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:51,217 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s1@group-9A01E14BFFAE->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:107)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:112)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:56)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:404)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:51,216 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-9A01E14BFFAE->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:51,218 [java.util.concurrent.ThreadPoolExecutor$Worker@74669159[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:51,218 [java.util.concurrent.ThreadPoolExecutor$Worker@74669159[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:51,218 [java.util.concurrent.ThreadPoolExecutor$Worker@6ea58100[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:51,218 [s2@group-9A01E14BFFAE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-9A01E14BFFAE-FollowerState was interrupted
2022-09-09 09:09:51,217 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-9A01E14BFFAE: applyIndex: 2
2022-09-09 09:09:51,218 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-9A01E14BFFAE->s2: nextIndex: updateUnconditionally 3 -> 2
2022-09-09 09:09:51,219 [s2@group-9A01E14BFFAE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s2@group-9A01E14BFFAE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:51,219 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-9A01E14BFFAE-StateMachineUpdater: set stopIndex = 2
2022-09-09 09:09:51,220 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-9A01E14BFFAE: applyIndex: 2
2022-09-09 09:09:51,220 [s1@group-9A01E14BFFAE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s1@group-9A01E14BFFAE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:51,219 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-9A01E14BFFAE->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:51,220 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-9A01E14BFFAE->s2: nextIndex: updateUnconditionally 2 -> 1
2022-09-09 09:09:51,222 [java.util.concurrent.ThreadPoolExecutor$Worker@74669159[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:51,222 [java.util.concurrent.ThreadPoolExecutor$Worker@74669159[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:51,223 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-09-09 09:09:51,225 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-9A01E14BFFAE-SegmentedRaftLogWorker close()
2022-09-09 09:09:51,225 [java.util.concurrent.ThreadPoolExecutor$Worker@74669159[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:51,226 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@7b1f969b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-09-09 09:09:51,226 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-9A01E14BFFAE-SegmentedRaftLogWorker close()
2022-09-09 09:09:51,227 [java.util.concurrent.ThreadPoolExecutor$Worker@abd93b3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:51,227 [java.util.concurrent.ThreadPoolExecutor$Worker@abd93b3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:51,228 [java.util.concurrent.ThreadPoolExecutor$Worker@abd93b3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:51,228 [java.util.concurrent.ThreadPoolExecutor$Worker@abd93b3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:51,228 [java.util.concurrent.ThreadPoolExecutor$Worker@abd93b3[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:51,229 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@7077fbd2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-09-09 09:09:51,231 [java.util.concurrent.ThreadPoolExecutor$Worker@6ea58100[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:51,231 [java.util.concurrent.ThreadPoolExecutor$Worker@6ea58100[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:51,232 [java.util.concurrent.ThreadPoolExecutor$Worker@6ea58100[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:51,232 [java.util.concurrent.ThreadPoolExecutor$Worker@6ea58100[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:51,232 [java.util.concurrent.ThreadPoolExecutor$Worker@6ea58100[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:51,233 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@51430024] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-09-09 09:09:51,233 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-09-09 09:09:51,234 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-09-09 09:09:51,234 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-09-09 09:09:51,234 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-09-09 09:09:51,235 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-09-09 09:09:51,235 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-42CDE87EB844:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]
2022-09-09 09:09:51,235 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-09-09 09:09:51,235 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-09-09 09:09:51,236 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-09-09 09:09:51,236 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-09-09 09:09:51,236 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-09-09 09:09:51,236 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-09-09 09:09:51,236 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-42CDE87EB844:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:51,236 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0
2022-09-09 09:09:51,236 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0 does not exist.
2022-09-09 09:09:51,236 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0
2022-09-09 09:09:51,237 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:51,237 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:51,237 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42157 (custom)
2022-09-09 09:09:51,239 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:51,239 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36163 (custom)
2022-09-09 09:09:51,239 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:51,239 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46295 (custom)
2022-09-09 09:09:51,240 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:51,240 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:51,240 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:51,240 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:51,240 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:51,242 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:51,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:51,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:51,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:51,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:51,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0] (custom)
2022-09-09 09:09:51,243 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-42CDE87EB844:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER] returns group-42CDE87EB844:java.util.concurrent.CompletableFuture@53b3ba72[Not completed]
2022-09-09 09:09:51,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-42CDE87EB844:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:51,244 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1
2022-09-09 09:09:51,244 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:51,244 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:51,244 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:51,244 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1 does not exist.
2022-09-09 09:09:51,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1
2022-09-09 09:09:51,244 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-42CDE87EB844:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:51,244 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:51,245 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:51,245 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:51,245 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:51,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:51,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43367 (custom)
2022-09-09 09:09:51,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:51,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45621 (custom)
2022-09-09 09:09:51,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:51,245 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41709 (custom)
2022-09-09 09:09:51,245 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:51,246 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,246 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:51,246 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:51,246 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:51,246 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:51,246 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:51,246 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-42CDE87EB844: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:51,246 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:51,246 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:51,246 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:51,247 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:51,247 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:51,247 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:51,247 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:51,247 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:51,247 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:51,248 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:51,248 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:51,248 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:51,252 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:51,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:51,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:51,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:51,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:51,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1] (custom)
2022-09-09 09:09:51,254 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-42CDE87EB844:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER] returns group-42CDE87EB844:java.util.concurrent.CompletableFuture@27edeefc[Not completed]
2022-09-09 09:09:51,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-42CDE87EB844:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:51,254 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s1: new RaftServerImpl for group-42CDE87EB844:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-42CDE87EB844: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:51,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:51,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:51,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:51,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:51,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:51,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:51,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:51,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:51,259 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2 does not exist.
2022-09-09 09:09:51,259 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2
2022-09-09 09:09:51,260 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:51,260 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:51,260 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45817 (custom)
2022-09-09 09:09:51,260 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:51,260 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40551 (custom)
2022-09-09 09:09:51,260 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:51,260 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37357 (custom)
2022-09-09 09:09:51,260 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,261 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:51,261 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,261 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:51,261 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:51,261 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:51,261 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:51,263 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:51,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:51,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:51,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:51,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:51,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2] (custom)
2022-09-09 09:09:51,264 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-42CDE87EB844:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER] returns group-42CDE87EB844:java.util.concurrent.CompletableFuture@4ea04f1f[Not completed]
2022-09-09 09:09:51,264 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:51,264 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:51,264 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0] (custom)
2022-09-09 09:09:51,265 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0/9067dd2e-67cb-453b-b24f-42cde87eb844 does not exist. Creating ...
2022-09-09 09:09:51,265 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0/9067dd2e-67cb-453b-b24f-42cde87eb844
2022-09-09 09:09:51,266 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:51,266 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:51,266 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:51,266 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s2: new RaftServerImpl for group-42CDE87EB844:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:51,266 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:51,266 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:51,266 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:51,266 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:51,267 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:51,267 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:51,267 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-42CDE87EB844: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:51,267 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:51,267 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:51,267 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:51,267 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:51,267 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:51,267 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0/9067dd2e-67cb-453b-b24f-42cde87eb844/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:51,268 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0/9067dd2e-67cb-453b-b24f-42cde87eb844/current
2022-09-09 09:09:51,268 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:51,268 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:51,268 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:51,268 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0/9067dd2e-67cb-453b-b24f-42cde87eb844/sm
2022-09-09 09:09:51,268 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:51,269 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:51,272 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0/9067dd2e-67cb-453b-b24f-42cde87eb844 has been successfully formatted.
2022-09-09 09:09:51,272 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:51,272 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:51,272 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:51,272 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:51,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:51,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:51,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:51,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:51,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s0@group-42CDE87EB844-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0/9067dd2e-67cb-453b-b24f-42cde87eb844
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:51,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:51,275 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:51,275 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:51,275 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:51,275 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-42CDE87EB844-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:51,275 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-42CDE87EB844-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:51,275 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s0@group-42CDE87EB844: start as a follower, conf=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,275 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-42CDE87EB844: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:51,275 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-42CDE87EB844-FollowerState
2022-09-09 09:09:51,276 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-42CDE87EB844,id=s0
2022-09-09 09:09:51,276 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:51,276 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:51,276 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:51,276 [s0@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:51,277 [s0@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:51,277 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-09-09 09:09:51,277 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 36163
2022-09-09 09:09:51,278 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 46295
2022-09-09 09:09:51,278 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42157
2022-09-09 09:09:51,283 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:51,283 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:51,283 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1] (custom)
2022-09-09 09:09:51,284 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1/9067dd2e-67cb-453b-b24f-42cde87eb844 does not exist. Creating ...
2022-09-09 09:09:51,284 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1/9067dd2e-67cb-453b-b24f-42cde87eb844
2022-09-09 09:09:51,288 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@6f2c239] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-09-09 09:09:51,289 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1/9067dd2e-67cb-453b-b24f-42cde87eb844/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:51,289 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1/9067dd2e-67cb-453b-b24f-42cde87eb844/current
2022-09-09 09:09:51,289 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1/9067dd2e-67cb-453b-b24f-42cde87eb844/sm
2022-09-09 09:09:51,298 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1/9067dd2e-67cb-453b-b24f-42cde87eb844 has been successfully formatted.
2022-09-09 09:09:51,298 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:51,298 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:51,298 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:51,298 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:51,298 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:51,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:51,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:51,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:51,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s1@group-42CDE87EB844-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1/9067dd2e-67cb-453b-b24f-42cde87eb844
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:51,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:51,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:51,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:51,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:51,301 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-42CDE87EB844-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:51,301 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-42CDE87EB844-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:51,302 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s1@group-42CDE87EB844: start as a follower, conf=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,303 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-42CDE87EB844: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:51,307 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-42CDE87EB844-FollowerState
2022-09-09 09:09:51,307 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-42CDE87EB844,id=s1
2022-09-09 09:09:51,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:51,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:51,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:51,308 [s1@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:51,308 [s1@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:51,308 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-09-09 09:09:51,309 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 45621
2022-09-09 09:09:51,309 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 41709
2022-09-09 09:09:51,310 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 43367
2022-09-09 09:09:51,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:51,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:51,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2] (custom)
2022-09-09 09:09:51,311 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2/9067dd2e-67cb-453b-b24f-42cde87eb844 does not exist. Creating ...
2022-09-09 09:09:51,311 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2/9067dd2e-67cb-453b-b24f-42cde87eb844
2022-09-09 09:09:51,311 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@72477bc6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-09-09 09:09:51,312 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2/9067dd2e-67cb-453b-b24f-42cde87eb844/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:51,312 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2/9067dd2e-67cb-453b-b24f-42cde87eb844/current
2022-09-09 09:09:51,313 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2/9067dd2e-67cb-453b-b24f-42cde87eb844/sm
2022-09-09 09:09:51,314 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2/9067dd2e-67cb-453b-b24f-42cde87eb844 has been successfully formatted.
2022-09-09 09:09:51,314 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:51,314 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:51,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:51,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:51,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:51,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:51,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:51,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:51,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s2@group-42CDE87EB844-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2/9067dd2e-67cb-453b-b24f-42cde87eb844
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:51,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:51,317 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:51,317 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:51,317 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-42CDE87EB844-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:51,317 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-42CDE87EB844-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:51,319 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s2@group-42CDE87EB844: start as a follower, conf=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,319 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-42CDE87EB844: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:51,319 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-42CDE87EB844-FollowerState
2022-09-09 09:09:51,320 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-42CDE87EB844,id=s2
2022-09-09 09:09:51,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:51,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:51,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:51,320 [s2@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:51,320 [s2@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:51,321 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-09-09 09:09:51,321 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 40551
2022-09-09 09:09:51,321 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 37357
2022-09-09 09:09:51,322 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 45817
2022-09-09 09:09:51,323 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@72d05b18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-09-09 09:09:51,328 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,328 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,336 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-40304470DDB5->s0: receive RaftClientReply:client-40304470DDB5->s0@group-42CDE87EB844, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-42CDE87EB844 is not the leader, logIndex=0, commits[s0:c-1]
2022-09-09 09:09:51,439 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,440 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,447 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-40304470DDB5->s1: receive RaftClientReply:client-40304470DDB5->s1@group-42CDE87EB844, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-42CDE87EB844 is not the leader, logIndex=0, commits[s1:c-1]
2022-09-09 09:09:51,494 [s1@group-42CDE87EB844-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-42CDE87EB844-FollowerState: change to CANDIDATE, lastRpcElapsedTime:187317759ns, electionTimeout:186ms
2022-09-09 09:09:51,495 [s1@group-42CDE87EB844-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-42CDE87EB844-FollowerState
2022-09-09 09:09:51,495 [s1@group-42CDE87EB844-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-42CDE87EB844: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:51,495 [s1@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:51,495 [s1@group-42CDE87EB844-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-42CDE87EB844-LeaderElection11
2022-09-09 09:09:51,499 [s1@group-42CDE87EB844-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-42CDE87EB844-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,499 [s1@group-42CDE87EB844-LeaderElection11-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-09-09 09:09:51,499 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:51,500 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:51,500 [s1@group-42CDE87EB844-LeaderElection11-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-09-09 09:09:51,505 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-42CDE87EB844: receive requestVote(PRE_VOTE, s1, group-42CDE87EB844, 0, (t:0, i:0))
2022-09-09 09:09:51,505 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-42CDE87EB844-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:51,505 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-42CDE87EB844 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-42CDE87EB844:t0, leader=null, voted=, raftlog=Memoized:s0@group-42CDE87EB844-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,508 [s2@group-42CDE87EB844-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-42CDE87EB844-FollowerState: change to CANDIDATE, lastRpcElapsedTime:188225859ns, electionTimeout:187ms
2022-09-09 09:09:51,508 [s2@group-42CDE87EB844-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-42CDE87EB844-FollowerState
2022-09-09 09:09:51,508 [s2@group-42CDE87EB844-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-42CDE87EB844: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:51,508 [s2@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:51,508 [s2@group-42CDE87EB844-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-42CDE87EB844-LeaderElection12
2022-09-09 09:09:51,510 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-42CDE87EB844: receive requestVote(PRE_VOTE, s1, group-42CDE87EB844, 0, (t:0, i:0))
2022-09-09 09:09:51,514 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-42CDE87EB844-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:51,514 [s1@group-42CDE87EB844-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-42CDE87EB844-LeaderElection11: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:51,514 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-42CDE87EB844 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-42CDE87EB844:t0, leader=null, voted=, raftlog=Memoized:s2@group-42CDE87EB844-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,514 [s1@group-42CDE87EB844-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-09-09 09:09:51,514 [s1@group-42CDE87EB844-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-42CDE87EB844-LeaderElection11 PRE_VOTE round 0: result PASSED
2022-09-09 09:09:51,516 [s1@group-42CDE87EB844-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-42CDE87EB844-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,517 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-42CDE87EB844: receive requestVote(ELECTION, s1, group-42CDE87EB844, 1, (t:0, i:0))
2022-09-09 09:09:51,518 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-42CDE87EB844-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:51,518 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-42CDE87EB844: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-09-09 09:09:51,518 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-42CDE87EB844-FollowerState
2022-09-09 09:09:51,518 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-42CDE87EB844-FollowerState
2022-09-09 09:09:51,518 [s0@group-42CDE87EB844-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-42CDE87EB844-FollowerState was interrupted
2022-09-09 09:09:51,518 [s2@group-42CDE87EB844-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s2@group-42CDE87EB844-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,518 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:51,518 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:51,519 [s2@group-42CDE87EB844-LeaderElection12-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-09-09 09:09:51,519 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-42CDE87EB844: receive requestVote(ELECTION, s1, group-42CDE87EB844, 1, (t:0, i:0))
2022-09-09 09:09:51,520 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-42CDE87EB844-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:51,520 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-42CDE87EB844: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s1
2022-09-09 09:09:51,520 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-42CDE87EB844-LeaderElection12
2022-09-09 09:09:51,520 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-42CDE87EB844-FollowerState
2022-09-09 09:09:51,524 [s0@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:51,524 [s0@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:51,524 [s2@group-42CDE87EB844-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:51,524 [s2@group-42CDE87EB844-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:51,524 [s2@group-42CDE87EB844-LeaderElection12-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-09-09 09:09:51,524 [s2@group-42CDE87EB844-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-42CDE87EB844-LeaderElection12: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-09-09 09:09:51,524 [s2@group-42CDE87EB844-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-42CDE87EB844-LeaderElection12 PRE_VOTE round 0: result REJECTED
2022-09-09 09:09:51,526 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-42CDE87EB844 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-42CDE87EB844:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-42CDE87EB844-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,528 [s1@group-42CDE87EB844-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-42CDE87EB844-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:51,528 [s1@group-42CDE87EB844-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-42CDE87EB844-LeaderElection11 ELECTION round 0: result PASSED
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-42CDE87EB844-LeaderElection11
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-42CDE87EB844: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-42CDE87EB844: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 273ms
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:51,529 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-09-09 09:09:51,530 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:51,530 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:51,530 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:51,530 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:51,530 [s1@group-42CDE87EB844-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:51,530 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:51,530 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:51,530 [s1@group-42CDE87EB844-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:51,531 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:51,531 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:51,533 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:51,533 [s1@group-42CDE87EB844-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:51,533 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:51,533 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:51,533 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-42CDE87EB844: receive requestVote(PRE_VOTE, s2, group-42CDE87EB844, 0, (t:0, i:0))
2022-09-09 09:09:51,534 [s1@group-42CDE87EB844-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:51,534 [s1@group-42CDE87EB844-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-42CDE87EB844-LeaderStateImpl
2022-09-09 09:09:51,534 [s1@group-42CDE87EB844-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-42CDE87EB844-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:51,541 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-42CDE87EB844: receive requestVote(PRE_VOTE, s2, group-42CDE87EB844, 0, (t:0, i:0))
2022-09-09 09:09:51,543 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-42CDE87EB844-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-09-09 09:09:51,543 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-42CDE87EB844 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-42CDE87EB844:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-42CDE87EB844-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,549 [s1@group-42CDE87EB844-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-42CDE87EB844: set configuration 0: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,549 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-42CDE87EB844-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-09-09 09:09:51,550 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-42CDE87EB844 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-42CDE87EB844:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-42CDE87EB844-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,549 [s2@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:51,550 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,550 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,554 [s2@group-42CDE87EB844-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:51,559 [s1@group-42CDE87EB844-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-42CDE87EB844-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s1/9067dd2e-67cb-453b-b24f-42cde87eb844/current/log_inprogress_0
2022-09-09 09:09:51,560 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-42CDE87EB844 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-42CDE87EB844:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-42CDE87EB844-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,569 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-40304470DDB5->s2: receive RaftClientReply:client-40304470DDB5->s2@group-42CDE87EB844, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-42CDE87EB844 is not the leader, logIndex=0, commits[s2:c-1]
2022-09-09 09:09:51,577 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-42CDE87EB844: change Leader from null to s1 at term 1 for appendEntries, leader elected after 330ms
2022-09-09 09:09:51,580 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-42CDE87EB844: set configuration 0: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,580 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-42CDE87EB844-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:51,581 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-42CDE87EB844: change Leader from null to s1 at term 1 for appendEntries, leader elected after 314ms
2022-09-09 09:09:51,590 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-42CDE87EB844: set configuration 0: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:51,590 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-42CDE87EB844-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:51,596 [s0@group-42CDE87EB844-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-42CDE87EB844-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s0/9067dd2e-67cb-453b-b24f-42cde87eb844/current/log_inprogress_0
2022-09-09 09:09:51,606 [s2@group-42CDE87EB844-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-42CDE87EB844-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcf217c2e9/s2/9067dd2e-67cb-453b-b24f-42cde87eb844/current/log_inprogress_0
2022-09-09 09:09:51,690 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,691 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,700 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-40304470DDB5->s1: receive RaftClientReply:client-40304470DDB5->s1@group-42CDE87EB844, cid=36, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-09-09 09:09:51,705 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-40304470DDB5
2022-09-09 09:09:51,707 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-40304470DDB5
2022-09-09 09:09:51,710 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-40304470DDB5
2022-09-09 09:09:51,711 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-40304470DDB5->s1: receive RaftClientReply:client-40304470DDB5->s1@group-42CDE87EB844, cid=37, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-09-09 09:09:51,713 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-09-09 09:09:51,714 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,714 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,716 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,716 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,718 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,719 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,723 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B5BC816B3284->s1: receive RaftClientReply:client-B5BC816B3284->s1@group-42CDE87EB844, cid=38, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-09-09 09:09:51,724 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,724 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,733 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E536A464A6B5->s1: receive RaftClientReply:client-E536A464A6B5->s1@group-42CDE87EB844, cid=40, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-09-09 09:09:51,734 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-133788CAFACB->s1: receive RaftClientReply:client-133788CAFACB->s1@group-42CDE87EB844, cid=42, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-09-09 09:09:51,738 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,738 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,744 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-01B3DEDA915C->s1: receive RaftClientReply:client-01B3DEDA915C->s1@group-42CDE87EB844, cid=44, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-09-09 09:09:51,746 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,746 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,756 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-FFECE0337DF5->s1: receive RaftClientReply:client-FFECE0337DF5->s1@group-42CDE87EB844, cid=46, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-09-09 09:09:51,758 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,758 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,763 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,763 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,764 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,765 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,766 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,766 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,769 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A18FDA2FE586->s1: receive RaftClientReply:client-A18FDA2FE586->s1@group-42CDE87EB844, cid=48, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-09-09 09:09:51,780 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-99ACD5163135->s1: receive RaftClientReply:client-99ACD5163135->s1@group-42CDE87EB844, cid=52, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-09-09 09:09:51,782 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-21EC449A9B6A->s1: receive RaftClientReply:client-21EC449A9B6A->s1@group-42CDE87EB844, cid=50, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-09-09 09:09:51,788 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A1203B2E3427->s1: receive RaftClientReply:client-A1203B2E3427->s1@group-42CDE87EB844, cid=54, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-09-09 09:09:51,792 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:51,793 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:51,802 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-6B35CBE17D29->s1: receive RaftClientReply:client-6B35CBE17D29->s1@group-42CDE87EB844, cid=56, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-09-09 09:09:51,806 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-5BD520EA7207->s1: receive RaftClientReply:client-5BD520EA7207->s1@group-42CDE87EB844, cid=58, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-09-09 09:09:51,812 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-42CDE87EB844: Failed to acquire a pending write request for RaftClientRequest:client-5BD520EA7207->s1@group-42CDE87EB844, cid=59, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-42CDE87EB844: Failed to acquire a pending write request for RaftClientRequest:client-5BD520EA7207->s1@group-42CDE87EB844, cid=59, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:762)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:875)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:811)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:811)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:883)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
		... 7 more
2022-09-09 09:09:52,095 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-09-09 09:09:52,097 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:52,097 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:52,098 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 39@client-B5BC816B3284
2022-09-09 09:09:52,100 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B5BC816B3284->s1: receive RaftClientReply:client-B5BC816B3284->s1@group-42CDE87EB844, cid=39, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c2]
2022-09-09 09:09:52,101 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 39@client-B5BC816B3284
2022-09-09 09:09:52,103 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-E536A464A6B5
2022-09-09 09:09:52,103 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 43@client-133788CAFACB
2022-09-09 09:09:52,103 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 45@client-01B3DEDA915C
2022-09-09 09:09:52,103 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-FFECE0337DF5
2022-09-09 09:09:52,104 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-A18FDA2FE586
2022-09-09 09:09:52,104 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-99ACD5163135
2022-09-09 09:09:52,104 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-21EC449A9B6A
2022-09-09 09:09:52,104 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 55@client-A1203B2E3427
2022-09-09 09:09:52,104 [s1@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 57@client-6B35CBE17D29
2022-09-09 09:09:52,107 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-99ACD5163135->s1: receive RaftClientReply:client-99ACD5163135->s1@group-42CDE87EB844, cid=53, SUCCESS, logIndex=9, commits[s1:c12, s0:c2, s2:c3]
2022-09-09 09:09:52,108 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A18FDA2FE586->s1: receive RaftClientReply:client-A18FDA2FE586->s1@group-42CDE87EB844, cid=49, SUCCESS, logIndex=8, commits[s1:c12, s0:c2, s2:c3]
2022-09-09 09:09:52,108 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-01B3DEDA915C->s1: receive RaftClientReply:client-01B3DEDA915C->s1@group-42CDE87EB844, cid=45, SUCCESS, logIndex=6, commits[s1:c12, s0:c2, s2:c3]
2022-09-09 09:09:52,109 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E536A464A6B5->s1: receive RaftClientReply:client-E536A464A6B5->s1@group-42CDE87EB844, cid=41, SUCCESS, logIndex=4, commits[s1:c12, s0:c2, s2:c3]
2022-09-09 09:09:52,109 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-6B35CBE17D29->s1: receive RaftClientReply:client-6B35CBE17D29->s1@group-42CDE87EB844, cid=57, SUCCESS, logIndex=12, commits[s1:c12, s0:c2, s2:c3]
2022-09-09 09:09:52,110 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-133788CAFACB->s1: receive RaftClientReply:client-133788CAFACB->s1@group-42CDE87EB844, cid=43, SUCCESS, logIndex=5, commits[s1:c12, s0:c2, s2:c3]
2022-09-09 09:09:52,109 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-FFECE0337DF5->s1: receive RaftClientReply:client-FFECE0337DF5->s1@group-42CDE87EB844, cid=47, SUCCESS, logIndex=7, commits[s1:c12, s0:c2, s2:c3]
2022-09-09 09:09:52,112 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 39@client-B5BC816B3284
2022-09-09 09:09:52,113 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-E536A464A6B5
2022-09-09 09:09:52,113 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 43@client-133788CAFACB
2022-09-09 09:09:52,113 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 45@client-01B3DEDA915C
2022-09-09 09:09:52,113 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-FFECE0337DF5
2022-09-09 09:09:52,113 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A1203B2E3427->s1: receive RaftClientReply:client-A1203B2E3427->s1@group-42CDE87EB844, cid=55, SUCCESS, logIndex=11, commits[s1:c12, s0:c2, s2:c3]
2022-09-09 09:09:52,114 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-A18FDA2FE586
2022-09-09 09:09:52,114 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-21EC449A9B6A->s1: receive RaftClientReply:client-21EC449A9B6A->s1@group-42CDE87EB844, cid=51, SUCCESS, logIndex=10, commits[s1:c12, s0:c2, s2:c3]
2022-09-09 09:09:52,114 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-99ACD5163135
2022-09-09 09:09:52,114 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-21EC449A9B6A
2022-09-09 09:09:52,114 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 55@client-A1203B2E3427
2022-09-09 09:09:52,115 [s2@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 57@client-6B35CBE17D29
2022-09-09 09:09:52,118 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-E536A464A6B5
2022-09-09 09:09:52,118 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 43@client-133788CAFACB
2022-09-09 09:09:52,118 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 45@client-01B3DEDA915C
2022-09-09 09:09:52,118 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-FFECE0337DF5
2022-09-09 09:09:52,119 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-A18FDA2FE586
2022-09-09 09:09:52,119 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-99ACD5163135
2022-09-09 09:09:52,119 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-21EC449A9B6A
2022-09-09 09:09:52,119 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 55@client-A1203B2E3427
2022-09-09 09:09:52,120 [s0@group-42CDE87EB844-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 57@client-6B35CBE17D29
2022-09-09 09:09:52,121 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-3EB921CCE7AF->s1: receive RaftClientReply:client-3EB921CCE7AF->s1@group-42CDE87EB844, cid=60, SUCCESS, logIndex=14, commits[s1:c14, s0:c12, s2:c12]
2022-09-09 09:09:52,142 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-42CDE87EB844: Failed to acquire a pending write request for RaftClientRequest:client-3EB921CCE7AF->s1@group-42CDE87EB844, cid=61, seq=2, RW, Message:12212db919ef76c11639...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-42CDE87EB844: Failed to acquire a pending write request for RaftClientRequest:client-3EB921CCE7AF->s1@group-42CDE87EB844, cid=61, seq=2, RW, Message:12212db919ef76c11639...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:762)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:875)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:811)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:811)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:883)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
		... 7 more
2022-09-09 09:09:52,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-09-09 09:09:52,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-09-09 09:09:52,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-09-09 09:09:52,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-09-09 09:09:52,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-09-09 09:09:52,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-42CDE87EB844:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-42CDE87EB844-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-42CDE87EB844:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-42CDE87EB844-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-42CDE87EB844:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-42CDE87EB844-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:46295|admin:localhost:42157|client:localhost:36163|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41709|admin:localhost:43367|client:localhost:45621|dataStream:localhost:33957|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37357|admin:localhost:45817|client:localhost:40551|dataStream:localhost:34555|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:52,427 [java.util.concurrent.ThreadPoolExecutor$Worker@6cfef529[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-09-09 09:09:52,428 [java.util.concurrent.ThreadPoolExecutor$Worker@691eae11[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-09-09 09:09:52,428 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s0@group-42CDE87EB844: shutdown
2022-09-09 09:09:52,428 [java.util.concurrent.ThreadPoolExecutor$Worker@6cfef529[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:52,428 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-42CDE87EB844,id=s0
2022-09-09 09:09:52,429 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-42CDE87EB844-FollowerState
2022-09-09 09:09:52,429 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-42CDE87EB844-StateMachineUpdater: set stopIndex = 14
2022-09-09 09:09:52,429 [java.util.concurrent.ThreadPoolExecutor$Worker@691eae11[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:52,429 [java.util.concurrent.ThreadPoolExecutor$Worker@3af907db[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-09-09 09:09:52,430 [java.util.concurrent.ThreadPoolExecutor$Worker@6cfef529[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:52,430 [java.util.concurrent.ThreadPoolExecutor$Worker@6cfef529[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:52,430 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-42CDE87EB844: applyIndex: 14
2022-09-09 09:09:52,430 [s0@group-42CDE87EB844-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s0@group-42CDE87EB844-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:52,429 [s0@group-42CDE87EB844-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-42CDE87EB844-FollowerState was interrupted
2022-09-09 09:09:52,429 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s1@group-42CDE87EB844: shutdown
2022-09-09 09:09:52,431 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-42CDE87EB844,id=s1
2022-09-09 09:09:52,431 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-42CDE87EB844-LeaderStateImpl
2022-09-09 09:09:52,431 [s1@group-42CDE87EB844->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s1@group-42CDE87EB844->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:52,431 [s1@group-42CDE87EB844->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s1@group-42CDE87EB844->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:52,431 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-42CDE87EB844-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:52,432 [java.util.concurrent.ThreadPoolExecutor$Worker@691eae11[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-09-09 09:09:52,433 [java.util.concurrent.ThreadPoolExecutor$Worker@3af907db[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:52,433 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s2@group-42CDE87EB844: shutdown
2022-09-09 09:09:52,433 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-42CDE87EB844,id=s2
2022-09-09 09:09:52,433 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-42CDE87EB844-FollowerState
2022-09-09 09:09:52,433 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-42CDE87EB844-StateMachineUpdater: set stopIndex = 14
2022-09-09 09:09:52,434 [s2@group-42CDE87EB844-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-42CDE87EB844-FollowerState was interrupted
2022-09-09 09:09:52,434 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-42CDE87EB844: applyIndex: 14
2022-09-09 09:09:52,434 [java.util.concurrent.ThreadPoolExecutor$Worker@3af907db[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-09-09 09:09:52,435 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-42CDE87EB844-StateMachineUpdater: set stopIndex = 14
2022-09-09 09:09:52,435 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-42CDE87EB844-SegmentedRaftLogWorker close()
2022-09-09 09:09:52,434 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-09-09 09:09:52,434 [s2@group-42CDE87EB844-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s2@group-42CDE87EB844-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:52,435 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-42CDE87EB844: applyIndex: 14
2022-09-09 09:09:52,437 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-42CDE87EB844-SegmentedRaftLogWorker close()
2022-09-09 09:09:52,437 [s1@group-42CDE87EB844-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s1@group-42CDE87EB844-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:52,439 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: s1->s0#24-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-09-09 09:09:52,439 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-42CDE87EB844-SegmentedRaftLogWorker close()
2022-09-09 09:09:52,440 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-09-09 09:09:52,440 [java.util.concurrent.ThreadPoolExecutor$Worker@6cfef529[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:52,440 [java.util.concurrent.ThreadPoolExecutor$Worker@6cfef529[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:52,440 [java.util.concurrent.ThreadPoolExecutor$Worker@6cfef529[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:52,440 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#36-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-09-09 09:09:52,441 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@6f2c239] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-09-09 09:09:52,441 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(392)) - s1@group-42CDE87EB844->s0-GrpcLogAppender is already stopped
2022-09-09 09:09:52,442 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-42CDE87EB844->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:52,442 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-42CDE87EB844->s2: nextIndex: updateUnconditionally 15 -> 14
2022-09-09 09:09:52,442 [java.util.concurrent.ThreadPoolExecutor$Worker@3af907db[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-09-09 09:09:52,444 [java.util.concurrent.ThreadPoolExecutor$Worker@691eae11[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-09-09 09:09:52,443 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(392)) - s1@group-42CDE87EB844->s0-GrpcLogAppender is already stopped
2022-09-09 09:09:52,442 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-42CDE87EB844->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:52,447 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s1@group-42CDE87EB844->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:107)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:112)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:56)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:404)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:52,448 [java.util.concurrent.ThreadPoolExecutor$Worker@691eae11[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:52,448 [java.util.concurrent.ThreadPoolExecutor$Worker@691eae11[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:52,449 [java.util.concurrent.ThreadPoolExecutor$Worker@691eae11[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:52,449 [java.util.concurrent.ThreadPoolExecutor$Worker@691eae11[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:52,449 [java.util.concurrent.ThreadPoolExecutor$Worker@691eae11[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:52,450 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@72477bc6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-09-09 09:09:52,450 [java.util.concurrent.ThreadPoolExecutor$Worker@3af907db[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:52,450 [java.util.concurrent.ThreadPoolExecutor$Worker@3af907db[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:52,450 [java.util.concurrent.ThreadPoolExecutor$Worker@3af907db[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:52,450 [java.util.concurrent.ThreadPoolExecutor$Worker@3af907db[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:52,451 [java.util.concurrent.ThreadPoolExecutor$Worker@3af907db[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:52,452 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@72d05b18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-09-09 09:09:52,452 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-09-09 09:09:52,453 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-09-09 09:09:52,453 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-09-09 09:09:52,453 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-09-09 09:09:52,459 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-09-09 09:09:52,460 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-5B91BC4C4176:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]
2022-09-09 09:09:52,460 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-09-09 09:09:52,460 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-09-09 09:09:52,460 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-09-09 09:09:52,460 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-09-09 09:09:52,460 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-09-09 09:09:52,460 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-09-09 09:09:52,460 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-5B91BC4C4176:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:52,460 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0
2022-09-09 09:09:52,460 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0 does not exist.
2022-09-09 09:09:52,461 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0
2022-09-09 09:09:52,461 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:52,461 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:52,461 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34575 (custom)
2022-09-09 09:09:52,461 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:52,462 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45979 (custom)
2022-09-09 09:09:52,462 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:52,462 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44893 (custom)
2022-09-09 09:09:52,462 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:52,462 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:52,462 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:52,462 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:52,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:52,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:52,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:52,464 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:52,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:52,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:52,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:52,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:52,465 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0] (custom)
2022-09-09 09:09:52,465 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-5B91BC4C4176:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER] returns group-5B91BC4C4176:java.util.concurrent.CompletableFuture@386daa4f[Not completed]
2022-09-09 09:09:52,465 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-5B91BC4C4176:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-5B91BC4C4176: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:52,466 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:52,467 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:52,467 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:52,467 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:52,468 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:52,468 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:52,468 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:52,468 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:52,475 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:52,475 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:52,475 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0] (custom)
2022-09-09 09:09:52,476 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0/2275e97b-a409-4354-a9db-5b91bc4c4176 does not exist. Creating ...
2022-09-09 09:09:52,476 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0/2275e97b-a409-4354-a9db-5b91bc4c4176
2022-09-09 09:09:52,478 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0/2275e97b-a409-4354-a9db-5b91bc4c4176/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:52,478 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0/2275e97b-a409-4354-a9db-5b91bc4c4176/current
2022-09-09 09:09:52,478 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0/2275e97b-a409-4354-a9db-5b91bc4c4176/sm
2022-09-09 09:09:52,479 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0/2275e97b-a409-4354-a9db-5b91bc4c4176 has been successfully formatted.
2022-09-09 09:09:52,479 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:52,480 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:52,480 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:52,480 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:52,480 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:52,480 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:52,480 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:52,481 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s0@group-5B91BC4C4176-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0/2275e97b-a409-4354-a9db-5b91bc4c4176
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:52,482 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:52,483 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:52,483 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:52,483 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:52,483 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:52,483 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-5B91BC4C4176-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:52,483 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-5B91BC4C4176-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:52,484 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s0@group-5B91BC4C4176: start as a follower, conf=-1: peers:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:52,484 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-5B91BC4C4176: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:52,484 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B91BC4C4176-FollowerState
2022-09-09 09:09:52,495 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B91BC4C4176,id=s0
2022-09-09 09:09:52,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:52,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:52,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:52,495 [s0@group-5B91BC4C4176-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:52,495 [s0@group-5B91BC4C4176-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:52,495 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-09-09 09:09:52,496 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45979
2022-09-09 09:09:52,497 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 44893
2022-09-09 09:09:52,497 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 34575
2022-09-09 09:09:52,497 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@7d6f3326] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-09-09 09:09:52,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:52,498 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5B91BC4C4176:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B91BC4C4176-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:52,499 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5B91BC4C4176:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B91BC4C4176-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5B91BC4C4176:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B91BC4C4176-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:150)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:146)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:52,711 [s0@group-5B91BC4C4176-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5B91BC4C4176-FollowerState: change to CANDIDATE, lastRpcElapsedTime:227121430ns, electionTimeout:216ms
2022-09-09 09:09:52,712 [s0@group-5B91BC4C4176-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B91BC4C4176-FollowerState
2022-09-09 09:09:52,712 [s0@group-5B91BC4C4176-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-5B91BC4C4176: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:52,712 [s0@group-5B91BC4C4176-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:52,712 [s0@group-5B91BC4C4176-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B91BC4C4176-LeaderElection13
2022-09-09 09:09:52,717 [s0@group-5B91BC4C4176-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-5B91BC4C4176-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:52,718 [s0@group-5B91BC4C4176-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5B91BC4C4176-LeaderElection13 PRE_VOTE round 0: result PASSED (term=0)
2022-09-09 09:09:52,719 [s0@group-5B91BC4C4176-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-5B91BC4C4176-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:52,719 [s0@group-5B91BC4C4176-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5B91BC4C4176-LeaderElection13 ELECTION round 0: result PASSED (term=1)
2022-09-09 09:09:52,719 [s0@group-5B91BC4C4176-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5B91BC4C4176-LeaderElection13
2022-09-09 09:09:52,719 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-5B91BC4C4176: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-09-09 09:09:52,720 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-5B91BC4C4176: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 253ms
2022-09-09 09:09:52,720 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:52,720 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:52,720 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-09-09 09:09:52,720 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:52,720 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:52,720 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:52,720 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:52,720 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:52,720 [s0@group-5B91BC4C4176-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B91BC4C4176-LeaderStateImpl
2022-09-09 09:09:52,721 [s0@group-5B91BC4C4176-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-5B91BC4C4176-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:52,722 [s0@group-5B91BC4C4176-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-5B91BC4C4176: set configuration 0: peers:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:52,732 [s0@group-5B91BC4C4176-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-5B91BC4C4176-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpced3da0c5/s0/2275e97b-a409-4354-a9db-5b91bc4c4176/current/log_inprogress_0
2022-09-09 09:09:52,949 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5B91BC4C4176:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5B91BC4C4176-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:52,950 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:52,950 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34575 (custom)
2022-09-09 09:09:52,950 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:52,950 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45979 (custom)
2022-09-09 09:09:52,950 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:52,950 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44893 (custom)
2022-09-09 09:09:52,950 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:52,950 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:52,950 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:52,950 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:52,950 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:52,950 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:52,951 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:52,952 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-09-09 09:09:52,952 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:318)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:153)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:146)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:52,952 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-09-09 09:09:52,952 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:324)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:157)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:146)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:52,964 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-09-09 09:09:52,964 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-09-09 09:09:52,964 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-09-09 09:09:52,964 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-09-09 09:09:52,964 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-09-09 09:09:52,964 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5B91BC4C4176:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5B91BC4C4176-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44893|admin:localhost:34575|client:localhost:45979|dataStream:localhost:33927|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:52,965 [java.util.concurrent.ThreadPoolExecutor$Worker@1d40cc69[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-09-09 09:09:52,966 [java.util.concurrent.ThreadPoolExecutor$Worker@1d40cc69[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:52,966 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s0@group-5B91BC4C4176: shutdown
2022-09-09 09:09:52,966 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B91BC4C4176,id=s0
2022-09-09 09:09:52,966 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-5B91BC4C4176-LeaderStateImpl
2022-09-09 09:09:52,966 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-5B91BC4C4176-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:52,966 [java.util.concurrent.ThreadPoolExecutor$Worker@1d40cc69[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:52,967 [java.util.concurrent.ThreadPoolExecutor$Worker@1d40cc69[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:52,967 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-5B91BC4C4176-StateMachineUpdater: set stopIndex = 0
2022-09-09 09:09:52,967 [java.util.concurrent.ThreadPoolExecutor$Worker@1d40cc69[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:52,967 [java.util.concurrent.ThreadPoolExecutor$Worker@1d40cc69[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:52,967 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-5B91BC4C4176: applyIndex: 0
2022-09-09 09:09:52,967 [s0@group-5B91BC4C4176-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s0@group-5B91BC4C4176-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:52,967 [java.util.concurrent.ThreadPoolExecutor$Worker@1d40cc69[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:52,968 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-5B91BC4C4176-SegmentedRaftLogWorker close()
2022-09-09 09:09:52,969 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@7d6f3326] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-09-09 09:09:52,969 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-09-09 09:09:52,969 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-09-09 09:09:52,970 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-09-09 09:09:52,970 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-09-09 09:09:52,970 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-09-09 09:09:52,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-614D089FC4BC:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]
2022-09-09 09:09:52,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-09-09 09:09:52,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-09-09 09:09:52,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-09-09 09:09:52,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-09-09 09:09:52,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-09-09 09:09:52,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-09-09 09:09:52,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-614D089FC4BC:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:52,971 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0
2022-09-09 09:09:52,972 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0 does not exist.
2022-09-09 09:09:52,972 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0
2022-09-09 09:09:52,972 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:52,972 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:52,973 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42705 (custom)
2022-09-09 09:09:52,974 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:52,974 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39853 (custom)
2022-09-09 09:09:52,974 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:52,974 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45639 (custom)
2022-09-09 09:09:52,974 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:52,974 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:52,974 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:52,974 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:52,975 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:52,975 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:52,975 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:52,977 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:52,977 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:52,977 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:52,977 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:52,977 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:52,978 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0] (custom)
2022-09-09 09:09:52,978 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-614D089FC4BC:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER] returns group-614D089FC4BC:java.util.concurrent.CompletableFuture@1e7a61f7[Not completed]
2022-09-09 09:09:52,979 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:52,979 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:52,979 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:52,979 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-614D089FC4BC:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:52,979 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:52,979 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:52,979 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:52,980 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:52,980 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:52,980 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:52,980 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-614D089FC4BC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:52,980 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:52,980 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:52,980 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:52,980 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:52,981 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:52,982 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:52,982 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:52,982 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:52,983 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:52,983 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:52,983 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:52,983 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:52,983 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0] (custom)
2022-09-09 09:09:52,983 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc does not exist. Creating ...
2022-09-09 09:09:52,984 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc
2022-09-09 09:09:52,988 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:52,988 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc/current
2022-09-09 09:09:52,988 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc/sm
2022-09-09 09:09:52,989 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc has been successfully formatted.
2022-09-09 09:09:52,990 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:52,990 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:52,990 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:52,990 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:52,990 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:52,990 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:52,990 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:52,990 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s0@group-614D089FC4BC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:52,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:52,992 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-614D089FC4BC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:52,992 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-614D089FC4BC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:52,995 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s0@group-614D089FC4BC: start as a follower, conf=-1: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:52,995 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-614D089FC4BC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:52,995 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-614D089FC4BC-FollowerState
2022-09-09 09:09:52,996 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-614D089FC4BC,id=s0
2022-09-09 09:09:52,996 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:52,996 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:52,996 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:52,996 [s0@group-614D089FC4BC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:52,996 [s0@group-614D089FC4BC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:52,997 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-09-09 09:09:52,997 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39853
2022-09-09 09:09:52,998 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 45639
2022-09-09 09:09:52,999 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 42705
2022-09-09 09:09:53,000 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@5b78fc5c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-09-09 09:09:53,000 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:53,000 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-614D089FC4BC:t0, leader=null, voted=, raftlog=Memoized:s0@group-614D089FC4BC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:53,001 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-614D089FC4BC:t0, leader=null, voted=, raftlog=Memoized:s0@group-614D089FC4BC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-614D089FC4BC:t0, leader=null, voted=, raftlog=Memoized:s0@group-614D089FC4BC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:116)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:99)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:53,209 [s0@group-614D089FC4BC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-614D089FC4BC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:213380244ns, electionTimeout:212ms
2022-09-09 09:09:53,209 [s0@group-614D089FC4BC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-614D089FC4BC-FollowerState
2022-09-09 09:09:53,209 [s0@group-614D089FC4BC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-614D089FC4BC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:53,209 [s0@group-614D089FC4BC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:53,209 [s0@group-614D089FC4BC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-614D089FC4BC-LeaderElection14
2022-09-09 09:09:53,210 [s0@group-614D089FC4BC-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-614D089FC4BC-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:53,210 [s0@group-614D089FC4BC-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-614D089FC4BC-LeaderElection14 PRE_VOTE round 0: result PASSED (term=0)
2022-09-09 09:09:53,212 [s0@group-614D089FC4BC-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-614D089FC4BC-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:53,212 [s0@group-614D089FC4BC-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-614D089FC4BC-LeaderElection14 ELECTION round 0: result PASSED (term=1)
2022-09-09 09:09:53,212 [s0@group-614D089FC4BC-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-614D089FC4BC-LeaderElection14
2022-09-09 09:09:53,213 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-614D089FC4BC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-09-09 09:09:53,213 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-614D089FC4BC: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 232ms
2022-09-09 09:09:53,213 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:53,213 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:53,213 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-09-09 09:09:53,213 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:53,213 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:53,213 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:53,213 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:53,213 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:53,214 [s0@group-614D089FC4BC-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-614D089FC4BC-LeaderStateImpl
2022-09-09 09:09:53,214 [s0@group-614D089FC4BC-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-614D089FC4BC-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:53,215 [s0@group-614D089FC4BC-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-614D089FC4BC: set configuration 0: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:53,226 [s0@group-614D089FC4BC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-614D089FC4BC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc/current/log_inprogress_0
2022-09-09 09:09:53,451 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-614D089FC4BC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-614D089FC4BC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:53,452 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:53,453 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:53,453 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42705 (custom)
2022-09-09 09:09:53,453 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:53,453 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39853 (custom)
2022-09-09 09:09:53,453 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:53,453 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45639 (custom)
2022-09-09 09:09:53,453 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:53,453 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:53,453 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:53,453 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:53,453 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:53,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:53,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:53,455 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:53,455 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:53,455 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:53,455 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:53,455 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:53,455 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0] (custom)
2022-09-09 09:09:53,456 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc
2022-09-09 09:09:53,456 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-614D089FC4BC:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER] returns group-614D089FC4BC:java.util.concurrent.CompletableFuture@3b570313[Not completed]
2022-09-09 09:09:53,456 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:09:53,457 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:09:53,457 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-09-09 09:09:53,457 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:09:53,457 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:09:53,458 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:09:53,458 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-09-09 09:09:53,458 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:53,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:53,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42705 (custom)
2022-09-09 09:09:53,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:53,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39853 (custom)
2022-09-09 09:09:53,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:53,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45639 (custom)
2022-09-09 09:09:53,459 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:53,459 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:53,459 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:53,459 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:53,459 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:53,459 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:53,459 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:53,460 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:53,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:53,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:53,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:53,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:53,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0] (custom)
2022-09-09 09:09:53,461 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-614D089FC4BC:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-614D089FC4BC
2022-09-09 09:09:53,461 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(250)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc
2022-09-09 09:09:53,461 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:53,461 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:53,461 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:53,461 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-614D089FC4BC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:53,462 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:53,463 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:53,463 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:53,463 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-614D089FC4BC:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER] returns group-614D089FC4BC:java.util.concurrent.CompletableFuture@3cd58fff[Not completed]
2022-09-09 09:09:53,463 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-614D089FC4BC:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-614D089FC4BC
2022-09-09 09:09:53,463 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:53,463 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:53,463 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:53,463 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:53,463 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:53,463 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-614D089FC4BC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:53,464 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:53,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:53,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:53,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0] (custom)
2022-09-09 09:09:53,465 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:53,466 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-09-09 09:09:54,466 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:54,466 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-09-09 09:09:55,467 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:55,467 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-09-09 09:09:56,468 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:56,468 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-09-09 09:09:57,469 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:57,469 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpca32ec867/s0/01bba3be-2ec9-4580-b3d9-614d089fc4bc. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:326)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-09-09 09:09:57,470 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:57,470 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42705 (custom)
2022-09-09 09:09:57,470 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:57,470 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39853 (custom)
2022-09-09 09:09:57,470 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:57,470 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45639 (custom)
2022-09-09 09:09:57,470 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:57,471 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:57,471 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:57,471 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:57,471 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:57,471 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:57,471 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:57,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-09-09 09:09:57,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-09-09 09:09:57,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-09-09 09:09:57,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-09-09 09:09:57,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-09-09 09:09:57,472 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-614D089FC4BC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-614D089FC4BC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45639|admin:localhost:42705|client:localhost:39853|dataStream:localhost:33167|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:57,473 [java.util.concurrent.ThreadPoolExecutor$Worker@7cdbf46f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-09-09 09:09:57,473 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s0@group-614D089FC4BC: shutdown
2022-09-09 09:09:57,473 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-614D089FC4BC,id=s0
2022-09-09 09:09:57,473 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-614D089FC4BC-LeaderStateImpl
2022-09-09 09:09:57,474 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-614D089FC4BC-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:57,474 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-614D089FC4BC-StateMachineUpdater: set stopIndex = 0
2022-09-09 09:09:57,474 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-614D089FC4BC: applyIndex: 0
2022-09-09 09:09:57,474 [s0@group-614D089FC4BC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s0@group-614D089FC4BC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:09:57,475 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-614D089FC4BC-SegmentedRaftLogWorker close()
2022-09-09 09:09:57,476 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@5b78fc5c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-09-09 09:09:57,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
2022-09-09 09:09:57,477 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-09-09 09:09:57,477 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-09-09 09:09:57,477 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-09-09 09:09:57,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(133)) - Running runWithNewCluster
2022-09-09 09:09:57,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(304)) - new MiniRaftClusterWithGrpc with group-7527568B22DD:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]
2022-09-09 09:09:57,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(337)) - .............................................................. 
2022-09-09 09:09:57,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - ... 
2022-09-09 09:09:57,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ...     Starting MiniRaftClusterWithGrpc
2022-09-09 09:09:57,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-09-09 09:09:57,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - .............................................................. 
2022-09-09 09:09:57,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(316)) - servers = {}
2022-09-09 09:09:57,479 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s0, group-7527568B22DD:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:57,479 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0
2022-09-09 09:09:57,479 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0 does not exist.
2022-09-09 09:09:57,479 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0
2022-09-09 09:09:57,479 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:57,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:57,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40155 (custom)
2022-09-09 09:09:57,480 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:57,480 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39083 (custom)
2022-09-09 09:09:57,480 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:57,480 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41707 (custom)
2022-09-09 09:09:57,480 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:57,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:57,480 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:57,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:57,480 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:57,480 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:57,480 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:57,482 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:57,482 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:57,482 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:57,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:57,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:57,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0] (custom)
2022-09-09 09:09:57,487 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s0: addNew group-7527568B22DD:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER] returns group-7527568B22DD:java.util.concurrent.CompletableFuture@35298c8d[Not completed]
2022-09-09 09:09:57,487 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s1, group-7527568B22DD:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:57,487 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1
2022-09-09 09:09:57,487 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1 does not exist.
2022-09-09 09:09:57,487 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1
2022-09-09 09:09:57,488 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:57,488 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:57,488 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44255 (custom)
2022-09-09 09:09:57,488 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:57,488 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40603 (custom)
2022-09-09 09:09:57,488 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:57,488 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34345 (custom)
2022-09-09 09:09:57,488 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:57,488 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:57,488 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:57,489 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:57,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:57,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:57,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:57,490 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:57,490 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:57,490 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:57,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:57,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:57,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1] (custom)
2022-09-09 09:09:57,493 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s1: addNew group-7527568B22DD:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER] returns group-7527568B22DD:java.util.concurrent.CompletableFuture@41113064[Not completed]
2022-09-09 09:09:57,493 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(380)) - newRaftServer: s2, group-7527568B22DD:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER], format? true
2022-09-09 09:09:57,493 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2
2022-09-09 09:09:57,493 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2 does not exist.
2022-09-09 09:09:57,493 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(385)) - Formatted directory target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2
2022-09-09 09:09:57,494 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-09-09 09:09:57,494 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:57,487 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:57,494 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:57,495 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:57,495 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s0: new RaftServerImpl for group-7527568B22DD:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:57,495 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:57,495 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:57,495 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:57,495 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:57,495 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:57,495 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:57,495 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-7527568B22DD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:57,496 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:57,496 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:57,496 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:57,496 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:57,494 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38377 (custom)
2022-09-09 09:09:57,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-09-09 09:09:57,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35593 (custom)
2022-09-09 09:09:57,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-09-09 09:09:57,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39025 (custom)
2022-09-09 09:09:57,496 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:57,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:57,497 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:57,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:57,497 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:57,497 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-09-09 09:09:57,497 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-09-09 09:09:57,498 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-09-09 09:09:57,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-09-09 09:09:57,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-09-09 09:09:57,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:57,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:57,499 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2] (custom)
2022-09-09 09:09:57,494 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:57,496 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:57,500 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:57,500 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:57,500 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:57,500 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:57,500 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:57,500 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(97)) - s2: addNew group-7527568B22DD:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER] returns group-7527568B22DD:java.util.concurrent.CompletableFuture@7f43728b[Not completed]
2022-09-09 09:09:57,500 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:57,501 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:57,501 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:57,501 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0] (custom)
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:57,501 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd does not exist. Creating ...
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s2: new RaftServerImpl for group-7527568B22DD:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-7527568B22DD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:57,501 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:57,502 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:57,502 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:57,501 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd
2022-09-09 09:09:57,502 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:57,502 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:57,503 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:57,503 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:57,503 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:57,503 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:57,503 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:57,503 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:57,504 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:57,504 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd/current
2022-09-09 09:09:57,505 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd/sm
2022-09-09 09:09:57,506 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd has been successfully formatted.
2022-09-09 09:09:57,506 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:57,506 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:57,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:57,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:57,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:57,507 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:57,507 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:57,507 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(196)) - s1: new RaftServerImpl for group-7527568B22DD:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:57,507 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-09-09 09:09:57,507 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:57,507 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-09-09 09:09:57,507 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-09-09 09:09:57,507 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-09-09 09:09:57,508 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-09-09 09:09:57,508 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-7527568B22DD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-09-09 09:09:57,508 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-09-09 09:09:57,508 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-09-09 09:09:57,507 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:57,508 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:57,508 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:57,508 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s0@group-7527568B22DD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:57,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:57,510 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-7527568B22DD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:57,510 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-7527568B22DD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:57,508 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-09-09 09:09:57,510 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-09-09 09:09:57,510 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s0@group-7527568B22DD: start as a follower, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,510 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-7527568B22DD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:57,510 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7527568B22DD-FollowerState
2022-09-09 09:09:57,510 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - .option = DEFAULT (default)
2022-09-09 09:09:57,511 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:57,511 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-09-09 09:09:57,511 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-09-09 09:09:57,511 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-09-09 09:09:57,515 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7527568B22DD,id=s0
2022-09-09 09:09:57,515 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-09-09 09:09:57,515 [s0@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:57,515 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:57,515 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:57,515 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:57,515 [s0@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:57,516 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s0: start RPC server
2022-09-09 09:09:57,517 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 39083
2022-09-09 09:09:57,518 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 41707
2022-09-09 09:09:57,518 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s0: GrpcService started, listening on 40155
2022-09-09 09:09:57,518 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:57,518 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:57,519 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1] (custom)
2022-09-09 09:09:57,519 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd does not exist. Creating ...
2022-09-09 09:09:57,518 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@3799ff17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-09-09 09:09:57,519 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd
2022-09-09 09:09:57,520 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:57,521 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd/current
2022-09-09 09:09:57,521 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd/sm
2022-09-09 09:09:57,522 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd has been successfully formatted.
2022-09-09 09:09:57,522 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:57,522 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:57,522 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:57,523 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:57,523 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:57,523 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:57,523 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:57,523 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:57,523 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:57,523 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s1@group-7527568B22DD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:57,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:57,525 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-7527568B22DD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:57,525 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-7527568B22DD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:57,525 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s1@group-7527568B22DD: start as a follower, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,525 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-7527568B22DD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:57,525 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7527568B22DD-FollowerState
2022-09-09 09:09:57,530 [s1@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:57,530 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7527568B22DD,id=s1
2022-09-09 09:09:57,531 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:57,531 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:57,531 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:57,530 [s1@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:57,531 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s1: start RPC server
2022-09-09 09:09:57,533 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 40603
2022-09-09 09:09:57,533 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 34345
2022-09-09 09:09:57,533 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s1: GrpcService started, listening on 44255
2022-09-09 09:09:57,534 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-09-09 09:09:57,534 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-09-09 09:09:57,534 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2] (custom)
2022-09-09 09:09:57,534 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd does not exist. Creating ...
2022-09-09 09:09:57,535 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd
2022-09-09 09:09:57,535 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@23212c32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-09-09 09:09:57,536 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd/in_use.lock acquired by nodename 9824@fv-az380-135
2022-09-09 09:09:57,536 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd/current
2022-09-09 09:09:57,536 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd/sm
2022-09-09 09:09:57,537 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd has been successfully formatted.
2022-09-09 09:09:57,538 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-09-09 09:09:57,538 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-09-09 09:09:57,538 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-09-09 09:09:57,538 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-09-09 09:09:57,538 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:57,538 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-09-09 09:09:57,538 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(186)) - new s2@group-7527568B22DD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-09-09 09:09:57,539 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-09-09 09:09:57,540 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-09-09 09:09:57,540 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-09-09 09:09:57,540 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-09-09 09:09:57,540 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-09-09 09:09:57,540 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-7527568B22DD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:57,540 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-7527568B22DD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-09-09 09:09:57,540 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(330)) - s2@group-7527568B22DD: start as a follower, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,540 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-7527568B22DD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-09-09 09:09:57,540 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7527568B22DD-FollowerState
2022-09-09 09:09:57,541 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7527568B22DD,id=s2
2022-09-09 09:09:57,541 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-09-09 09:09:57,541 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-09-09 09:09:57,541 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-09-09 09:09:57,541 [s2@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:57,541 [s2@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:57,542 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(388)) - s2: start RPC server
2022-09-09 09:09:57,542 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 35593
2022-09-09 09:09:57,543 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 39025
2022-09-09 09:09:57,543 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(270)) - s2: GrpcService started, listening on 38377
2022-09-09 09:09:57,547 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@144a07b6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-09-09 09:09:57,548 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:57,548 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:57,548 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:579)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:613)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:606)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:168)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:57,722 [s0@group-7527568B22DD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7527568B22DD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211755652ns, electionTimeout:206ms
2022-09-09 09:09:57,722 [s0@group-7527568B22DD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7527568B22DD-FollowerState
2022-09-09 09:09:57,722 [s0@group-7527568B22DD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-7527568B22DD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:57,723 [s0@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:57,723 [s0@group-7527568B22DD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7527568B22DD-LeaderElection15
2022-09-09 09:09:57,726 [s1@group-7527568B22DD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7527568B22DD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:200715060ns, electionTimeout:194ms
2022-09-09 09:09:57,726 [s1@group-7527568B22DD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7527568B22DD-FollowerState
2022-09-09 09:09:57,726 [s1@group-7527568B22DD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-7527568B22DD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-09-09 09:09:57,727 [s1@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:57,727 [s1@group-7527568B22DD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7527568B22DD-LeaderElection16
2022-09-09 09:09:57,727 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-7527568B22DD-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,728 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-7527568B22DD-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,728 [s0@group-7527568B22DD-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:57,728 [s0@group-7527568B22DD-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:57,728 [s0@group-7527568B22DD-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-09-09 09:09:57,728 [s0@group-7527568B22DD-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-09-09 09:09:57,735 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:57,735 [s1@group-7527568B22DD-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-09-09 09:09:57,735 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:57,741 [s1@group-7527568B22DD-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-09-09 09:09:57,746 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-7527568B22DD: receive requestVote(PRE_VOTE, s1, group-7527568B22DD, 0, (t:0, i:0))
2022-09-09 09:09:57,747 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7527568B22DD-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:57,747 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-7527568B22DD replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,749 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-7527568B22DD: receive requestVote(PRE_VOTE, s1, group-7527568B22DD, 0, (t:0, i:0))
2022-09-09 09:09:57,749 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7527568B22DD-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:57,749 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-7527568B22DD replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,750 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-7527568B22DD: receive requestVote(PRE_VOTE, s0, group-7527568B22DD, 0, (t:0, i:0))
2022-09-09 09:09:57,751 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7527568B22DD-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:57,751 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-7527568B22DD replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,756 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-7527568B22DD: receive requestVote(PRE_VOTE, s0, group-7527568B22DD, 0, (t:0, i:0))
2022-09-09 09:09:57,756 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7527568B22DD-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:57,756 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-7527568B22DD replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-7527568B22DD:t0, leader=null, voted=, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,756 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7527568B22DD-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:57,756 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-09-09 09:09:57,757 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7527568B22DD-LeaderElection15 PRE_VOTE round 0: result PASSED
2022-09-09 09:09:57,757 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7527568B22DD-LeaderElection16: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:57,757 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2022-09-09 09:09:57,757 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-7527568B22DD-LeaderElection16 PRE_VOTE round 0: result PASSED
2022-09-09 09:09:57,759 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s1@group-7527568B22DD-LeaderElection16 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,759 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-7527568B22DD-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,760 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:57,761 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:57,762 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s0@group-7527568B22DD: receive requestVote(ELECTION, s1, group-7527568B22DD, 1, (t:0, i:0))
2022-09-09 09:09:57,762 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7527568B22DD-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2022-09-09 09:09:57,762 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-7527568B22DD replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-7527568B22DD:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,762 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-7527568B22DD: receive requestVote(ELECTION, s1, group-7527568B22DD, 1, (t:0, i:0))
2022-09-09 09:09:57,762 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7527568B22DD-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-09-09 09:09:57,762 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-7527568B22DD: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-09-09 09:09:57,762 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7527568B22DD-FollowerState
2022-09-09 09:09:57,762 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7527568B22DD-FollowerState
2022-09-09 09:09:57,763 [s2@group-7527568B22DD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7527568B22DD-FollowerState was interrupted
2022-09-09 09:09:57,763 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-7527568B22DD: receive requestVote(ELECTION, s0, group-7527568B22DD, 1, (t:0, i:0))
2022-09-09 09:09:57,763 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7527568B22DD-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-09-09 09:09:57,763 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-7527568B22DD replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-7527568B22DD:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,768 [s0@group-7527568B22DD-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:57,768 [s0@group-7527568B22DD-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:57,769 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-7527568B22DD: receive requestVote(ELECTION, s0, group-7527568B22DD, 1, (t:0, i:0))
2022-09-09 09:09:57,771 [s2@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:57,771 [s2@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:57,773 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-7527568B22DD replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-7527568B22DD:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,773 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7527568B22DD-FOLLOWER: reject ELECTION from s0: already has voted for s1 at current term 1
2022-09-09 09:09:57,774 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-7527568B22DD replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-7527568B22DD:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,774 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7527568B22DD-LeaderElection15: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-09-09 09:09:57,774 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7527568B22DD-LeaderElection16: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-09-09 09:09:57,774 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-09-09 09:09:57,775 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-09-09 09:09:57,775 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7527568B22DD-LeaderElection15 ELECTION round 0: result REJECTED
2022-09-09 09:09:57,775 [s0@group-7527568B22DD-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-7527568B22DD: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-09-09 09:09:57,775 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7527568B22DD-LeaderElection15
2022-09-09 09:09:57,775 [s0@group-7527568B22DD-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7527568B22DD-FollowerState
2022-09-09 09:09:57,774 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2022-09-09 09:09:57,775 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t1
2022-09-09 09:09:57,775 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-7527568B22DD-LeaderElection16 ELECTION round 0: result PASSED
2022-09-09 09:09:57,775 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7527568B22DD-LeaderElection16
2022-09-09 09:09:57,775 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-7527568B22DD: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-09-09 09:09:57,775 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-7527568B22DD: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 267ms
2022-09-09 09:09:57,775 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:57,775 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:57,775 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-09-09 09:09:57,776 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:57,776 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:57,776 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:57,776 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:57,776 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:57,776 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:57,776 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:57,776 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:57,776 [s1@group-7527568B22DD-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:57,776 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:57,777 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:57,777 [s1@group-7527568B22DD-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:57,777 [s0@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-09-09 09:09:57,777 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:57,777 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:57,777 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:57,777 [s1@group-7527568B22DD-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:57,777 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:57,777 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:57,777 [s1@group-7527568B22DD-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:57,778 [s1@group-7527568B22DD-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7527568B22DD-LeaderStateImpl
2022-09-09 09:09:57,778 [s1@group-7527568B22DD-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-7527568B22DD-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:57,785 [s0@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-09-09 09:09:57,793 [s1@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-7527568B22DD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_0
2022-09-09 09:09:57,797 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-7527568B22DD: change Leader from null to s1 at term 1 for appendEntries, leader elected after 301ms
2022-09-09 09:09:57,804 [s1@group-7527568B22DD-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-7527568B22DD: set configuration 0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,808 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-7527568B22DD: set configuration 0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,808 [s0-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-7527568B22DD-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:57,824 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-7527568B22DD: change Leader from null to s1 at term 1 for appendEntries, leader elected after 322ms
2022-09-09 09:09:57,824 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-7527568B22DD: set configuration 0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:57,824 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-7527568B22DD-SegmentedRaftLogWorker: Starting segment from index:0
2022-09-09 09:09:57,835 [s0@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-7527568B22DD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_0
2022-09-09 09:09:57,836 [s2@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-7527568B22DD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_0
2022-09-09 09:09:57,999 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7527568B22DD:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:57,999 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:58,000 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:58,010 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0332FB34E567->s0: receive RaftClientReply:client-0332FB34E567->s0@group-7527568B22DD, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-7527568B22DD is not the leader s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-09-09 09:09:58,012 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:58,012 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:58,021 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0332FB34E567->s1: receive RaftClientReply:client-0332FB34E567->s1@group-7527568B22DD, cid=62, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-09-09 09:09:58,030 [s1@group-7527568B22DD-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-0332FB34E567
2022-09-09 09:09:58,031 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0332FB34E567->s1: receive RaftClientReply:client-0332FB34E567->s1@group-7527568B22DD, cid=63, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-09-09 09:09:58,032 [s2@group-7527568B22DD-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-0332FB34E567
2022-09-09 09:09:58,033 [s0@group-7527568B22DD-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-0332FB34E567
2022-09-09 09:09:58,037 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:58,037 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:58,047 [s1@group-7527568B22DD-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-05EBF33F0EF0
2022-09-09 09:09:58,048 [s2@group-7527568B22DD-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-05EBF33F0EF0
2022-09-09 09:09:58,048 [s0@group-7527568B22DD-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-05EBF33F0EF0
2022-09-09 09:09:58,048 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-05EBF33F0EF0->s1: receive RaftClientReply:client-05EBF33F0EF0->s1@group-7527568B22DD, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c2]
2022-09-09 09:09:58,049 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-09-09 09:09:58,049 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2022-09-09 09:09:58,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:58,050 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7527568B22DD:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:58,050 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7527568B22DD:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:58,050 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:194)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:58,125 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-09-09 09:09:58,126 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-09-09 09:09:58,150 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:58,151 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7527568B22DD:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:58,151 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7527568B22DD:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:58,151 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:194)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:58,251 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:58,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7527568B22DD:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:58,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7527568B22DD:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:58,252 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:194)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:58,311 [s0@group-7527568B22DD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7527568B22DD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:263025116ns, electionTimeout:258ms
2022-09-09 09:09:58,311 [s0@group-7527568B22DD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7527568B22DD-FollowerState
2022-09-09 09:09:58,311 [s0@group-7527568B22DD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-7527568B22DD: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-09-09 09:09:58,311 [s0@group-7527568B22DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-09-09 09:09:58,311 [s0@group-7527568B22DD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7527568B22DD-LeaderElection17
2022-09-09 09:09:58,312 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-7527568B22DD: change Leader from s1 to null at term 1 for PRE_VOTE
2022-09-09 09:09:58,312 [s0@group-7527568B22DD-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-7527568B22DD-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:58,315 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-7527568B22DD: receive requestVote(PRE_VOTE, s0, group-7527568B22DD, 1, (t:1, i:4))
2022-09-09 09:09:58,316 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7527568B22DD-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-09-09 09:09:58,316 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-7527568B22DD replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:58,319 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-7527568B22DD: receive requestVote(PRE_VOTE, s0, group-7527568B22DD, 1, (t:1, i:4))
2022-09-09 09:09:58,320 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7527568B22DD-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:58,320 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-7527568B22DD replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-7527568B22DD:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:58,321 [s0@group-7527568B22DD-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7527568B22DD-LeaderElection17: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:58,321 [s0@group-7527568B22DD-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2022-09-09 09:09:58,321 [s0@group-7527568B22DD-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7527568B22DD-LeaderElection17 PRE_VOTE round 0: result PASSED
2022-09-09 09:09:58,323 [s0@group-7527568B22DD-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(307)) - s0@group-7527568B22DD-LeaderElection17 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:58,325 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s2@group-7527568B22DD: receive requestVote(ELECTION, s0, group-7527568B22DD, 2, (t:1, i:4))
2022-09-09 09:09:58,325 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7527568B22DD-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:58,326 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-7527568B22DD: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-09-09 09:09:58,326 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s2@group-7527568B22DD: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-09-09 09:09:58,326 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7527568B22DD-FollowerState
2022-09-09 09:09:58,326 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7527568B22DD-FollowerState
2022-09-09 09:09:58,326 [s2@group-7527568B22DD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7527568B22DD-FollowerState was interrupted
2022-09-09 09:09:58,326 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1258)) - s1@group-7527568B22DD: receive requestVote(ELECTION, s0, group-7527568B22DD, 2, (t:1, i:4))
2022-09-09 09:09:58,326 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7527568B22DD-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-09-09 09:09:58,326 [grpc-default-executor-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-7527568B22DD: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-09-09 09:09:58,326 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s1@group-7527568B22DD: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-09-09 09:09:58,326 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-7527568B22DD-LeaderStateImpl
2022-09-09 09:09:58,326 [s1@group-7527568B22DD->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s1@group-7527568B22DD->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:58,326 [s1@group-7527568B22DD->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s1@group-7527568B22DD->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:09:58,326 [grpc-default-executor-7] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-7527568B22DD-PendingRequests: sendNotLeaderResponses
2022-09-09 09:09:58,327 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#25-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-09-09 09:09:58,327 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#9-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-09-09 09:09:58,330 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-7527568B22DD->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:58,330 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7527568B22DD->s0: nextIndex: updateUnconditionally 5 -> 4
2022-09-09 09:09:58,330 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-7527568B22DD->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:58,330 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7527568B22DD->s2: nextIndex: updateUnconditionally 5 -> 4
2022-09-09 09:09:58,335 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7527568B22DD-FollowerState
2022-09-09 09:09:58,338 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-7527568B22DD replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-7527568B22DD:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:58,342 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-7527568B22DD replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-7527568B22DD:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:58,343 [s0@group-7527568B22DD-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7527568B22DD-LeaderElection17: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-09-09 09:09:58,343 [s0@group-7527568B22DD-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t2
2022-09-09 09:09:58,343 [s0@group-7527568B22DD-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7527568B22DD-LeaderElection17 ELECTION round 0: result PASSED
2022-09-09 09:09:58,343 [s0@group-7527568B22DD-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7527568B22DD-LeaderElection17
2022-09-09 09:09:58,343 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(317)) - s0@group-7527568B22DD: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-09-09 09:09:58,343 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-7527568B22DD: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 31ms
2022-09-09 09:09:58,343 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-09-09 09:09:58,343 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:58,343 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-09-09 09:09:58,343 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-09-09 09:09:58,344 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-09-09 09:09:58,344 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-09-09 09:09:58,344 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-09-09 09:09:58,344 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-09-09 09:09:58,344 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:58,344 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:58,344 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:58,344 [s0@group-7527568B22DD-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:58,344 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:58,344 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:58,345 [s0@group-7527568B22DD-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:58,345 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-09-09 09:09:58,345 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-09-09 09:09:58,345 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-09-09 09:09:58,345 [s0@group-7527568B22DD-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-09-09 09:09:58,345 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-09-09 09:09:58,345 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-09-09 09:09:58,345 [s0@group-7527568B22DD-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-09-09 09:09:58,346 [s0@group-7527568B22DD-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7527568B22DD-LeaderStateImpl
2022-09-09 09:09:58,346 [s0@group-7527568B22DD-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-7527568B22DD-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-09-09 09:09:58,347 [s0@group-7527568B22DD-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd/current/log_0-4
2022-09-09 09:09:58,347 [s0@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-7527568B22DD-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd/current/log_0-4
2022-09-09 09:09:58,352 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-09-09 09:09:58,353 [s0@group-7527568B22DD-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-7527568B22DD: set configuration 5: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:58,353 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7527568B22DD:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7527568B22DD:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:58,353 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-7527568B22DD not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-7527568B22DD not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:194)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:09:58,362 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-7527568B22DD: change Leader from null to s0 at term 2 for appendEntries, leader elected after 35ms
2022-09-09 09:09:58,363 [s0@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-7527568B22DD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s0/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_5
2022-09-09 09:09:58,364 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-7527568B22DD: change Leader from null to s0 at term 2 for appendEntries, leader elected after 38ms
2022-09-09 09:09:58,368 [s2-server-thread4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-7527568B22DD: set configuration 5: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:58,368 [s2-server-thread4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-7527568B22DD-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-09-09 09:09:58,369 [s2@group-7527568B22DD-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd/current/log_0-4
2022-09-09 09:09:58,369 [s2@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-7527568B22DD-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd/current/log_0-4
2022-09-09 09:09:58,383 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-7527568B22DD: set configuration 5: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-09-09 09:09:58,383 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-7527568B22DD-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-09-09 09:09:58,385 [s1@group-7527568B22DD-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd/current/log_0-4
2022-09-09 09:09:58,385 [s1@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-7527568B22DD-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd/current/log_0-4
2022-09-09 09:09:58,396 [s2@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-7527568B22DD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s2/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_5
2022-09-09 09:09:58,401 [s1@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-7527568B22DD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/c7351e4a/MiniRaftClusterWithGrpcc5536c85/s1/67727052-e95b-4b79-88e8-7527568b22dd/current/log_inprogress_5
2022-09-09 09:09:58,803 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7527568B22DD:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7527568B22DD:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:09:58,804 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-09-09 09:09:58,804 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2022-09-09 09:09:58,804 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-09-09 09:09:58,804 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-05EBF33F0EF0->s1: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:198)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-05EBF33F0EF0->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:406)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:346)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-09-09 09:09:58,804 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-09-09 09:09:58,807 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-09-09 09:09:58,807 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-09-09 09:09:58,811 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-09-09 09:09:59,025 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-09-09 09:09:59,026 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-09-09 09:09:59,029 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-09-09 09:09:59,029 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-09-09 09:09:59,031 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-7527568B22DD->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:59,031 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7527568B22DD->s2: nextIndex: updateUnconditionally 4 -> 3
2022-09-09 09:09:59,032 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s1@group-7527568B22DD->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:09:59,032 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7527568B22DD->s0: nextIndex: updateUnconditionally 4 -> 3
2022-09-09 09:09:59,811 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-05EBF33F0EF0->s1 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:206)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:119)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:164)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-05EBF33F0EF0->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:388)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-09-09 09:09:59,816 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-05EBF33F0EF0->s1: receive RaftClientReply:client-05EBF33F0EF0->s1@group-7527568B22DD, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-09-09 09:10:02,812 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=719, target=localhost:40603}}. 
2022-09-09 09:10:02,814 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(829)) - ************************************************************** 
2022-09-09 09:10:02,814 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(830)) - *** 
2022-09-09 09:10:02,814 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ***     Stopping MiniRaftClusterWithGrpc
2022-09-09 09:10:02,814 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-09-09 09:10:02,814 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ************************************************************** 
2022-09-09 09:10:02,814 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7527568B22DD:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-7527568B22DD-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7527568B22DD:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-7527568B22DD-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7527568B22DD:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-7527568B22DD-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:41707|admin:localhost:40155|client:localhost:39083|dataStream:localhost:40985|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34345|admin:localhost:44255|client:localhost:40603|dataStream:localhost:32825|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39025|admin:localhost:38377|client:localhost:35593|dataStream:localhost:41217|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-09-09 09:10:02,815 [java.util.concurrent.ThreadPoolExecutor$Worker@3c70c2ee[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s0: close
2022-09-09 09:10:02,818 [java.util.concurrent.ThreadPoolExecutor$Worker@3c70c2ee[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:10:02,818 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s0@group-7527568B22DD: shutdown
2022-09-09 09:10:02,818 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7527568B22DD,id=s0
2022-09-09 09:10:02,818 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7527568B22DD-LeaderStateImpl
2022-09-09 09:10:02,818 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-7527568B22DD-PendingRequests: sendNotLeaderResponses
2022-09-09 09:10:02,819 [s0@group-7527568B22DD->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-7527568B22DD->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:10:02,819 [java.util.concurrent.ThreadPoolExecutor$Worker@3c70c2ee[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s1 Close channels
2022-09-09 09:10:02,819 [s0@group-7527568B22DD->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-7527568B22DD->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-09-09 09:10:02,819 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-09-09 09:10:02,819 [java.util.concurrent.ThreadPoolExecutor$Worker@b0aa92c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s2: close
2022-09-09 09:10:02,820 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s2@group-7527568B22DD: shutdown
2022-09-09 09:10:02,820 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7527568B22DD,id=s2
2022-09-09 09:10:02,820 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-09-09 09:10:02,820 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-09-09 09:10:02,820 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7527568B22DD-FollowerState
2022-09-09 09:10:02,820 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-7527568B22DD-StateMachineUpdater: set stopIndex = 6
2022-09-09 09:10:02,820 [s2@group-7527568B22DD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7527568B22DD-FollowerState was interrupted
2022-09-09 09:10:02,820 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-7527568B22DD: applyIndex: 6
2022-09-09 09:10:02,821 [s2@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s2@group-7527568B22DD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:10:02,821 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s0@group-7527568B22DD->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:10:02,821 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s0@group-7527568B22DD->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:10:02,821 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-7527568B22DD->s2: nextIndex: updateUnconditionally 7 -> 6
2022-09-09 09:10:02,821 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#3-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-09-09 09:10:02,821 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s0@group-7527568B22DD->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:107)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:112)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:56)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:404)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:10:02,821 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s0@group-7527568B22DD->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:10:02,824 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-7527568B22DD->s2: nextIndex: updateUnconditionally 6 -> 5
2022-09-09 09:10:02,824 [java.util.concurrent.ThreadPoolExecutor$Worker@4ad7f52d[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(404)) - s1: close
2022-09-09 09:10:02,824 [java.util.concurrent.ThreadPoolExecutor$Worker@4ad7f52d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:10:02,824 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(454)) - s1@group-7527568B22DD: shutdown
2022-09-09 09:10:02,825 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7527568B22DD,id=s1
2022-09-09 09:10:02,825 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7527568B22DD-FollowerState
2022-09-09 09:10:02,825 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-7527568B22DD-StateMachineUpdater: set stopIndex = 6
2022-09-09 09:10:02,825 [s1@group-7527568B22DD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7527568B22DD-FollowerState was interrupted
2022-09-09 09:10:02,824 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-7527568B22DD-SegmentedRaftLogWorker close()
2022-09-09 09:10:02,826 [java.util.concurrent.ThreadPoolExecutor$Worker@4ad7f52d[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s0 Close channels
2022-09-09 09:10:02,826 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-7527568B22DD: applyIndex: 6
2022-09-09 09:10:02,826 [s1@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s1@group-7527568B22DD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:10:02,826 [java.util.concurrent.ThreadPoolExecutor$Worker@3c70c2ee[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-09-09 09:10:02,827 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(403)) - s0@group-7527568B22DD->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-09-09 09:10:02,827 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s0@group-7527568B22DD->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:107)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:112)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:56)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:404)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-09-09 09:10:02,823 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-7527568B22DD-StateMachineUpdater: set stopIndex = 6
2022-09-09 09:10:02,827 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-7527568B22DD: applyIndex: 6
2022-09-09 09:10:02,827 [s0@group-7527568B22DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(332)) - s0@group-7527568B22DD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-09-09 09:10:02,828 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-7527568B22DD-SegmentedRaftLogWorker close()
2022-09-09 09:10:02,829 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-7527568B22DD-SegmentedRaftLogWorker close()
2022-09-09 09:10:02,823 [java.util.concurrent.ThreadPoolExecutor$Worker@b0aa92c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-09-09 09:10:02,831 [java.util.concurrent.ThreadPoolExecutor$Worker@3c70c2ee[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:10:02,831 [java.util.concurrent.ThreadPoolExecutor$Worker@3c70c2ee[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server GrpcServerProtocolService now
2022-09-09 09:10:02,832 [java.util.concurrent.ThreadPoolExecutor$Worker@b0aa92c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:10:02,832 [java.util.concurrent.ThreadPoolExecutor$Worker@b0aa92c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server GrpcServerProtocolService now
2022-09-09 09:10:02,832 [java.util.concurrent.ThreadPoolExecutor$Worker@3c70c2ee[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:10:02,832 [java.util.concurrent.ThreadPoolExecutor$Worker@3c70c2ee[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:10:02,833 [java.util.concurrent.ThreadPoolExecutor$Worker@3c70c2ee[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:10:02,834 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@3799ff17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-09-09 09:10:02,834 [java.util.concurrent.ThreadPoolExecutor$Worker@4ad7f52d[State = -1, empty queue]] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(110)) - s2 Close channels
2022-09-09 09:10:02,835 [java.util.concurrent.ThreadPoolExecutor$Worker@4ad7f52d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-09-09 09:10:02,835 [java.util.concurrent.ThreadPoolExecutor$Worker@4ad7f52d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server GrpcServerProtocolService now
2022-09-09 09:10:02,836 [java.util.concurrent.ThreadPoolExecutor$Worker@b0aa92c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:10:02,839 [java.util.concurrent.ThreadPoolExecutor$Worker@b0aa92c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:10:02,837 [java.util.concurrent.ThreadPoolExecutor$Worker@4ad7f52d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server GrpcServerProtocolService successfully
2022-09-09 09:10:02,839 [java.util.concurrent.ThreadPoolExecutor$Worker@4ad7f52d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(279)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-09-09 09:10:02,840 [java.util.concurrent.ThreadPoolExecutor$Worker@4ad7f52d[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:10:02,840 [java.util.concurrent.ThreadPoolExecutor$Worker@b0aa92c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(288)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-09-09 09:10:02,840 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@144a07b6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-09-09 09:10:02,840 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$359/0x00000001002db840@23212c32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-09-09 09:10:02,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(852)) - MiniRaftClusterWithGrpc shutdown completed
