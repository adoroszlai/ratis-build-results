2022-05-09 13:04:00,897 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:00,900 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:00,904 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:00,904 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:00,907 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(223)) - Running testEnforceLeader
2022-05-09 13:04:00,921 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2022-05-09 13:04:00,979 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0]
2022-05-09 13:04:00,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-05-09 13:04:00,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-05-09 13:04:00,981 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:00,981 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-05-09 13:04:00,981 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-05-09 13:04:00,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-05-09 13:04:00,992 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s3, group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], format? true
2022-05-09 13:04:00,995 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3
2022-05-09 13:04:00,997 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3 does not exist.
2022-05-09 13:04:00,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3
2022-05-09 13:04:01,012 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:01,034 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:01,062 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:01,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:01,067 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:01,068 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:01,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3] (custom)
2022-05-09 13:04:01,080 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s3: addNew group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0] returns group-4EAE193F79A7:java.util.concurrent.CompletableFuture@71404251[Not completed]
2022-05-09 13:04:01,080 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s4, group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], format? true
2022-05-09 13:04:01,080 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4
2022-05-09 13:04:01,080 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4 does not exist.
2022-05-09 13:04:01,080 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4
2022-05-09 13:04:01,081 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:01,081 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:01,081 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:01,081 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:01,082 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:01,082 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:01,082 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4] (custom)
2022-05-09 13:04:01,094 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s4: addNew group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0] returns group-4EAE193F79A7:java.util.concurrent.CompletableFuture@10bbf83a[Not completed]
2022-05-09 13:04:01,094 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], format? true
2022-05-09 13:04:01,094 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0
2022-05-09 13:04:01,094 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0 does not exist.
2022-05-09 13:04:01,094 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0
2022-05-09 13:04:01,095 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:01,095 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:01,095 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:01,095 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:01,096 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:01,096 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:01,096 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0] (custom)
2022-05-09 13:04:01,100 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s4: new RaftServerImpl for group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:01,102 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:01,102 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s3: new RaftServerImpl for group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:01,102 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:01,102 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:01,102 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:01,103 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:01,103 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:01,103 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:01,103 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:01,103 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:01,104 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:01,104 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:01,104 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:01,111 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s3@group-4EAE193F79A7: ConfigurationManager, init=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:01,111 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s4@group-4EAE193F79A7: ConfigurationManager, init=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:01,112 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4] (custom)
2022-05-09 13:04:01,116 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3] (custom)
2022-05-09 13:04:01,116 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0] returns group-4EAE193F79A7:java.util.concurrent.CompletableFuture@3f8d8f7b[Not completed]
2022-05-09 13:04:01,117 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], format? true
2022-05-09 13:04:01,117 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1
2022-05-09 13:04:01,117 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s0: new RaftServerImpl for group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:01,117 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1 does not exist.
2022-05-09 13:04:01,117 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1
2022-05-09 13:04:01,117 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:01,117 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:01,118 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:01,118 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:01,118 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:01,118 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:01,119 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:01,119 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1] (custom)
2022-05-09 13:04:01,118 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:01,119 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:01,119 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:01,119 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:01,120 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:01,120 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-4EAE193F79A7: ConfigurationManager, init=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:01,120 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0] (custom)
2022-05-09 13:04:01,121 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0] returns group-4EAE193F79A7:java.util.concurrent.CompletableFuture@4b27d794[Not completed]
2022-05-09 13:04:01,121 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], format? true
2022-05-09 13:04:01,121 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2
2022-05-09 13:04:01,121 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2 does not exist.
2022-05-09 13:04:01,121 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2
2022-05-09 13:04:01,122 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:01,122 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:01,122 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:01,122 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:01,123 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:01,123 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:01,123 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2] (custom)
2022-05-09 13:04:01,123 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:01,126 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:01,124 [pool-4-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s1: new RaftServerImpl for group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:01,124 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:01,127 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:01,129 [pool-1-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3/b263a1c4-97ab-490b-9742-4eae193f79a7 does not exist. Creating ...
2022-05-09 13:04:01,123 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:01,130 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:01,130 [pool-3-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0/b263a1c4-97ab-490b-9742-4eae193f79a7 does not exist. Creating ...
2022-05-09 13:04:01,131 [pool-3-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0/b263a1c4-97ab-490b-9742-4eae193f79a7
2022-05-09 13:04:01,134 [pool-1-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3/b263a1c4-97ab-490b-9742-4eae193f79a7
2022-05-09 13:04:01,137 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:01,137 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:01,137 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:01,138 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:01,138 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:01,138 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0] returns group-4EAE193F79A7:java.util.concurrent.CompletableFuture@566806af[Not completed]
2022-05-09 13:04:01,138 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:01,138 [pool-4-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-4EAE193F79A7: ConfigurationManager, init=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:01,139 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1] (custom)
2022-05-09 13:04:01,139 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:01,139 [pool-1-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3/b263a1c4-97ab-490b-9742-4eae193f79a7/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:01,140 [pool-1-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3/b263a1c4-97ab-490b-9742-4eae193f79a7/current
2022-05-09 13:04:01,139 [pool-5-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s2: new RaftServerImpl for group-4EAE193F79A7:[s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:01,141 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:01,141 [pool-4-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1/b263a1c4-97ab-490b-9742-4eae193f79a7 does not exist. Creating ...
2022-05-09 13:04:01,141 [pool-4-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1/b263a1c4-97ab-490b-9742-4eae193f79a7
2022-05-09 13:04:01,141 [pool-3-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0/b263a1c4-97ab-490b-9742-4eae193f79a7/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:01,141 [pool-1-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3/b263a1c4-97ab-490b-9742-4eae193f79a7/sm
2022-05-09 13:04:01,143 [pool-4-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1/b263a1c4-97ab-490b-9742-4eae193f79a7/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:01,154 [pool-4-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1/b263a1c4-97ab-490b-9742-4eae193f79a7/current
2022-05-09 13:04:01,154 [pool-4-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1/b263a1c4-97ab-490b-9742-4eae193f79a7/sm
2022-05-09 13:04:01,142 [pool-2-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4/b263a1c4-97ab-490b-9742-4eae193f79a7 does not exist. Creating ...
2022-05-09 13:04:01,154 [pool-2-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4/b263a1c4-97ab-490b-9742-4eae193f79a7
2022-05-09 13:04:01,142 [pool-3-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0/b263a1c4-97ab-490b-9742-4eae193f79a7/current
2022-05-09 13:04:01,141 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:01,155 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:01,155 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:01,155 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:01,156 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:01,156 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:01,156 [pool-5-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-4EAE193F79A7: ConfigurationManager, init=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:01,155 [pool-3-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0/b263a1c4-97ab-490b-9742-4eae193f79a7/sm
2022-05-09 13:04:01,156 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2] (custom)
2022-05-09 13:04:01,156 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:01,156 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:01,157 [pool-5-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2/b263a1c4-97ab-490b-9742-4eae193f79a7 does not exist. Creating ...
2022-05-09 13:04:01,157 [pool-5-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2/b263a1c4-97ab-490b-9742-4eae193f79a7
2022-05-09 13:04:01,157 [pool-2-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4/b263a1c4-97ab-490b-9742-4eae193f79a7/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:01,157 [pool-2-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4/b263a1c4-97ab-490b-9742-4eae193f79a7/current
2022-05-09 13:04:01,158 [pool-2-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4/b263a1c4-97ab-490b-9742-4eae193f79a7/sm
2022-05-09 13:04:01,159 [pool-5-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2/b263a1c4-97ab-490b-9742-4eae193f79a7/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:01,159 [pool-5-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2/b263a1c4-97ab-490b-9742-4eae193f79a7/current
2022-05-09 13:04:01,159 [pool-5-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2/b263a1c4-97ab-490b-9742-4eae193f79a7/sm
2022-05-09 13:04:01,173 [pool-4-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1/b263a1c4-97ab-490b-9742-4eae193f79a7 has been successfully formatted.
2022-05-09 13:04:01,173 [pool-2-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4/b263a1c4-97ab-490b-9742-4eae193f79a7 has been successfully formatted.
2022-05-09 13:04:01,176 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:01,176 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:01,179 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:01,179 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:01,182 [pool-3-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0/b263a1c4-97ab-490b-9742-4eae193f79a7 has been successfully formatted.
2022-05-09 13:04:01,183 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:01,183 [pool-5-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2/b263a1c4-97ab-490b-9742-4eae193f79a7 has been successfully formatted.
2022-05-09 13:04:01,183 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:01,183 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:01,183 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:01,188 [pool-1-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3/b263a1c4-97ab-490b-9742-4eae193f79a7 has been successfully formatted.
2022-05-09 13:04:01,188 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:01,188 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:01,192 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:01,192 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:01,192 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:01,192 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:01,193 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:01,193 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:01,193 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:01,192 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:01,194 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:01,193 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:01,195 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:01,195 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:01,195 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:01,195 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:01,196 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:01,202 [pool-3-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-05-09 13:04:01,286 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:01,287 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:01,286 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:01,286 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:01,293 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:01,297 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:01,298 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:01,298 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:01,300 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:01,297 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:01,300 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:01,297 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:01,301 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:01,303 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:01,303 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:01,304 [pool-4-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-4EAE193F79A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1/b263a1c4-97ab-490b-9742-4eae193f79a7
2022-05-09 13:04:01,305 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:01,305 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:01,305 [pool-2-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-4EAE193F79A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4/b263a1c4-97ab-490b-9742-4eae193f79a7
2022-05-09 13:04:01,305 [pool-5-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-4EAE193F79A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2/b263a1c4-97ab-490b-9742-4eae193f79a7
2022-05-09 13:04:01,305 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-4EAE193F79A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3/b263a1c4-97ab-490b-9742-4eae193f79a7
2022-05-09 13:04:01,305 [pool-3-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-4EAE193F79A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0/b263a1c4-97ab-490b-9742-4eae193f79a7
2022-05-09 13:04:01,307 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:01,307 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:01,306 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:01,307 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:01,307 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:01,307 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:01,308 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:01,308 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:01,308 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:01,308 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:01,308 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:01,309 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:01,309 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:01,307 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:01,307 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:01,310 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:01,310 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:01,310 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:01,310 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:01,310 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:01,310 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:01,310 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:01,310 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:01,311 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:01,311 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:01,311 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:01,311 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:01,311 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:01,312 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:01,314 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:01,314 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:01,314 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:01,315 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:01,315 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:01,315 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:01,315 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:01,316 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:01,316 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:01,328 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:01,329 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:01,329 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:01,330 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:01,330 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:01,331 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:01,336 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:01,336 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:01,336 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:01,337 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:01,337 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:01,338 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:01,345 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:01,345 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:01,345 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:01,351 [pool-3-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-4EAE193F79A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:01,351 [pool-3-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-4EAE193F79A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:01,351 [pool-4-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-4EAE193F79A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:01,351 [pool-4-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-4EAE193F79A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:01,351 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-4EAE193F79A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:01,351 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-4EAE193F79A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:01,351 [pool-5-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-4EAE193F79A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:01,352 [pool-5-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-4EAE193F79A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:01,352 [pool-2-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-4EAE193F79A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:01,352 [pool-2-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-4EAE193F79A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:01,356 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:01,357 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:01,357 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:01,359 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:01,359 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:01,374 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:01,374 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:01,374 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:01,374 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:01,374 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:01,376 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:01,376 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:01,376 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:01,376 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:01,376 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:01,380 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:01,386 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:01,386 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:01,390 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:01,390 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:01,390 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:01,390 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:01,390 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:01,391 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:01,390 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:01,403 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:01,403 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:01,403 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:01,403 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:01,404 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:01,404 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:01,404 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:01,404 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:01,405 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:01,405 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:01,405 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:01,403 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:01,405 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:01,405 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:01,405 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:01,405 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:01,405 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:01,406 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:01,406 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:01,407 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s3@group-4EAE193F79A7: start as a follower, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,407 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s3@group-4EAE193F79A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:01,408 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,408 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:01,408 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:01,409 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:01,409 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:01,409 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:01,409 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:01,415 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4EAE193F79A7,id=s3
2022-05-09 13:04:01,421 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s3: start RPC server
2022-05-09 13:04:01,424 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s4@group-4EAE193F79A7: start as a follower, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,424 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:01,424 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,425 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@4def0567] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-05-09 13:04:01,427 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4EAE193F79A7,id=s4
2022-05-09 13:04:01,434 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s4: start RPC server
2022-05-09 13:04:01,436 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s0@group-4EAE193F79A7: start as a follower, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,436 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@30683931] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2022-05-09 13:04:01,436 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:01,436 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,437 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4EAE193F79A7,id=s0
2022-05-09 13:04:01,438 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-05-09 13:04:01,439 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s1@group-4EAE193F79A7: start as a follower, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,439 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@599d666] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-05-09 13:04:01,439 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-4EAE193F79A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:01,439 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,440 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4EAE193F79A7,id=s1
2022-05-09 13:04:01,441 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-05-09 13:04:01,446 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s2@group-4EAE193F79A7: start as a follower, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,446 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@1c72b66b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-05-09 13:04:01,446 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-4EAE193F79A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:01,447 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,447 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4EAE193F79A7,id=s2
2022-05-09 13:04:01,448 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-05-09 13:04:01,450 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@328d2b85] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-05-09 13:04:01,452 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:01,463 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
2022-05-09 13:04:01,467 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:01,596 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:171558403ns, electionTimeout:167ms
2022-05-09 13:04:01,597 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,598 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:01,599 [s3@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190885102ns, electionTimeout:184ms
2022-05-09 13:04:01,599 [s3@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,599 [s3@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s3@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:01,601 [s3@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:01,602 [s3@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-4EAE193F79A7-LeaderElection1
2022-05-09 13:04:01,603 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:01,603 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection2
2022-05-09 13:04:01,605 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-4EAE193F79A7-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,607 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,634 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 0, (t:0, i:0))
2022-05-09 13:04:01,635 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,636 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s3, group-4EAE193F79A7, 0, (t:0, i:0))
2022-05-09 13:04:01,636 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,636 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s3, group-4EAE193F79A7, 0, (t:0, i:0))
2022-05-09 13:04:01,636 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,642 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s3, group-4EAE193F79A7, 0, (t:0, i:0))
2022-05-09 13:04:01,642 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,643 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s3<-s2#0:OK-t0. Peer's state: s2@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,643 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s3, group-4EAE193F79A7, 0, (t:0, i:0))
2022-05-09 13:04:01,643 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,643 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s3<-s0#0:OK-t0. Peer's state: s0@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,643 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 0, (t:0, i:0))
2022-05-09 13:04:01,644 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,644 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:OK-t0. Peer's state: s0@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,642 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,643 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 0, (t:0, i:0))
2022-05-09 13:04:01,642 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 0, (t:0, i:0))
2022-05-09 13:04:01,645 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,645 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:OK-t0. Peer's state: s2@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,642 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s3<-s1#0:OK-t0. Peer's state: s1@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,645 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,645 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:OK-t0. Peer's state: s1@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,644 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-4EAE193F79A7:t0, leader=null, voted=, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,659 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-4EAE193F79A7-LeaderElection1: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:01,659 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection2: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:01,660 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t0
2022-05-09 13:04:01,660 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:OK-t0
2022-05-09 13:04:01,659 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s0#0:OK-t0
2022-05-09 13:04:01,660 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection2 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:01,660 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s2#0:OK-t0
2022-05-09 13:04:01,660 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-4EAE193F79A7-LeaderElection1 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:01,662 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-4EAE193F79A7-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,662 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,663 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(ELECTION, s3, group-4EAE193F79A7, 1, (t:0, i:0))
2022-05-09 13:04:01,663 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-CANDIDATE: reject ELECTION from s3: already has voted for s4 at current term 1
2022-05-09 13:04:01,664 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to ELECTION vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-4EAE193F79A7:t1, leader=null, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,664 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(ELECTION, s4, group-4EAE193F79A7, 1, (t:0, i:0))
2022-05-09 13:04:01,664 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-CANDIDATE: reject ELECTION from s4: already has voted for s3 at current term 1
2022-05-09 13:04:01,665 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to ELECTION vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=null, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,665 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(ELECTION, s3, group-4EAE193F79A7, 1, (t:0, i:0))
2022-05-09 13:04:01,665 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,665 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(ELECTION, s4, group-4EAE193F79A7, 1, (t:0, i:0))
2022-05-09 13:04:01,666 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,666 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-4EAE193F79A7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-05-09 13:04:01,666 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,666 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-05-09 13:04:01,667 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(ELECTION, s3, group-4EAE193F79A7, 1, (t:0, i:0))
2022-05-09 13:04:01,666 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(ELECTION, s4, group-4EAE193F79A7, 1, (t:0, i:0))
2022-05-09 13:04:01,667 [Thread-16] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,669 [Thread-16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,669 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(ELECTION, s3, group-4EAE193F79A7, 1, (t:0, i:0))
2022-05-09 13:04:01,670 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:01,670 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(ELECTION, s4, group-4EAE193F79A7, 1, (t:0, i:0))
2022-05-09 13:04:01,669 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-4EAE193F79A7-FollowerState was interrupted
2022-05-09 13:04:01,670 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-4EAE193F79A7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-05-09 13:04:01,670 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,671 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,671 [s1@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-4EAE193F79A7-FollowerState was interrupted
2022-05-09 13:04:01,671 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,672 [s2@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-4EAE193F79A7-FollowerState was interrupted
2022-05-09 13:04:01,672 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to ELECTION vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=null, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,673 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject ELECTION from s3: already has voted for s4 at current term 1
2022-05-09 13:04:01,673 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to ELECTION vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=null, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,673 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to ELECTION vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=null, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,673 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject ELECTION from s4: already has voted for s3 at current term 1
2022-05-09 13:04:01,673 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to ELECTION vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=null, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,674 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to ELECTION vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=null, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,674 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject ELECTION from s4: already has voted for s3 at current term 1
2022-05-09 13:04:01,674 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to ELECTION vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=null, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,688 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-4EAE193F79A7-LeaderElection1: ELECTION PASSED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:01,688 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-05-09 13:04:01,688 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:OK-t1
2022-05-09 13:04:01,688 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s2#0:OK-t1
2022-05-09 13:04:01,688 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-4EAE193F79A7-LeaderElection1 ELECTION round 0: result PASSED
2022-05-09 13:04:01,688 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-4EAE193F79A7-LeaderElection1
2022-05-09 13:04:01,689 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s3@group-4EAE193F79A7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-05-09 13:04:01,689 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s3@group-4EAE193F79A7: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 500ms
2022-05-09 13:04:01,691 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection2: ELECTION REJECTED received 4 response(s) and 0 exception(s):
2022-05-09 13:04:01,691 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-05-09 13:04:01,691 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-05-09 13:04:01,691 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:OK-t1
2022-05-09 13:04:01,691 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 3: s4<-s2#0:FAIL-t1
2022-05-09 13:04:01,691 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection2 ELECTION round 0: result REJECTED
2022-05-09 13:04:01,691 [s4@group-4EAE193F79A7-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:01,691 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection2
2022-05-09 13:04:01,691 [s4@group-4EAE193F79A7-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:01,694 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:01,697 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:01,698 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:01,703 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:01,704 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:01,704 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:01,709 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:01,712 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:01,725 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:01,725 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:01,726 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:01,728 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:01,729 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:01,729 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:01,729 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:01,730 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:01,730 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:01,730 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:01,731 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:01,731 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:01,733 [s3@group-4EAE193F79A7-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-4EAE193F79A7-LeaderStateImpl
2022-05-09 13:04:01,751 [s3@group-4EAE193F79A7-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s3@group-4EAE193F79A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:01,800 [Thread-21] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 624ms
2022-05-09 13:04:01,802 [s3@group-4EAE193F79A7-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s3@group-4EAE193F79A7: set configuration 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,803 [Thread-29] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 620ms
2022-05-09 13:04:01,803 [Thread-14] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 620ms
2022-05-09 13:04:01,809 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 634ms
2022-05-09 13:04:01,838 [Thread-7] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s4@group-4EAE193F79A7: receive appendEntries(s3, 1, null, -1, true, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:01,840 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s4@group-4EAE193F79A7: set configuration 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,840 [Thread-7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s4@group-4EAE193F79A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:01,842 [Thread-30] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-4EAE193F79A7: receive appendEntries(s3, 1, null, -1, true, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:01,842 [Thread-30] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-4EAE193F79A7: set configuration 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,843 [Thread-30] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-4EAE193F79A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:01,844 [Thread-22] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-4EAE193F79A7: receive appendEntries(s3, 1, null, -1, true, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:01,844 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-4EAE193F79A7: set configuration 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,844 [Thread-22] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-4EAE193F79A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:01,846 [Thread-16] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-4EAE193F79A7: receive appendEntries(s3, 1, null, -1, true, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:01,846 [Thread-16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-4EAE193F79A7: set configuration 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:01,846 [Thread-16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-4EAE193F79A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:01,915 [s0@group-4EAE193F79A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-4EAE193F79A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s0/b263a1c4-97ab-490b-9742-4eae193f79a7/current/log_inprogress_0
2022-05-09 13:04:01,915 [s1@group-4EAE193F79A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-4EAE193F79A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s1/b263a1c4-97ab-490b-9742-4eae193f79a7/current/log_inprogress_0
2022-05-09 13:04:01,915 [s2@group-4EAE193F79A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-4EAE193F79A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s2/b263a1c4-97ab-490b-9742-4eae193f79a7/current/log_inprogress_0
2022-05-09 13:04:01,915 [s4@group-4EAE193F79A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-4EAE193F79A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s4/b263a1c4-97ab-490b-9742-4eae193f79a7/current/log_inprogress_0
2022-05-09 13:04:01,919 [s3@group-4EAE193F79A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-4EAE193F79A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcbb1ed256/s3/b263a1c4-97ab-490b-9742-4eae193f79a7/current/log_inprogress_0
2022-05-09 13:04:01,924 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: Leader: s3@group-4EAE193F79A7 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s3@group-4EAE193F79A7 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:01,928 [Thread-84] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-4EAE193F79A7: succeeded to handle AppendEntries. Reply: s3<-s0#5:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:01,935 [Thread-85] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s4@group-4EAE193F79A7: succeeded to handle AppendEntries. Reply: s3<-s4#6:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:01,935 [Thread-83] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-4EAE193F79A7: succeeded to handle AppendEntries. Reply: s3<-s2#7:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:01,936 [Thread-86] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-4EAE193F79A7: succeeded to handle AppendEntries. Reply: s3<-s1#4:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:02,375 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
2022-05-09 13:04:02,376 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(229)) - firstLeader = s3
2022-05-09 13:04:02,376 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(234)) - enforce leader to s4
2022-05-09 13:04:02,380 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(240)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
2022-05-09 13:04:02,383 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:02,505 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205287831ns, electionTimeout:160ms
2022-05-09 13:04:02,505 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:02,506 [s0@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:02,506 [s0@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:02,506 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-LeaderElection3
2022-05-09 13:04:02,507 [s0@group-4EAE193F79A7-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:02,507 [s0@group-4EAE193F79A7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-4EAE193F79A7-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,517 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:222677747ns, electionTimeout:151ms
2022-05-09 13:04:02,518 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:02,518 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:02,518 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:02,518 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection4
2022-05-09 13:04:02,518 [s4@group-4EAE193F79A7-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:02,518 [s4@group-4EAE193F79A7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,545 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:02,545 [Thread-14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-4EAE193F79A7-LeaderElection3
2022-05-09 13:04:02,545 [Thread-14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:02,545 [Thread-14] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 38ms
2022-05-09 13:04:02,659 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,660 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,659 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,661 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:02,661 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:02,662 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:02,662 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,661 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,662 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,669 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,670 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:02,670 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,670 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,670 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:02,670 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,670 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,670 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:02,670 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,669 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,670 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:02,671 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,676 [s0@group-4EAE193F79A7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-4EAE193F79A7-LeaderElection3: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:02,676 [s0@group-4EAE193F79A7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:FAIL-t1
2022-05-09 13:04:02,676 [s0@group-4EAE193F79A7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-4EAE193F79A7-LeaderElection3 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:02,683 [s4@group-4EAE193F79A7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection4: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:02,683 [s4@group-4EAE193F79A7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:FAIL-t1
2022-05-09 13:04:02,683 [s4@group-4EAE193F79A7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:FAIL-t1
2022-05-09 13:04:02,683 [s4@group-4EAE193F79A7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-05-09 13:04:02,683 [s4@group-4EAE193F79A7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection4 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:02,683 [s4@group-4EAE193F79A7-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:02,683 [s4@group-4EAE193F79A7-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection4
2022-05-09 13:04:02,683 [s4@group-4EAE193F79A7-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:02,728 [s2@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:186790432ns, electionTimeout:154ms
2022-05-09 13:04:02,729 [s2@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:02,729 [s2@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:02,729 [s2@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:02,730 [s2@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4EAE193F79A7-LeaderElection5
2022-05-09 13:04:02,730 [s2@group-4EAE193F79A7-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:02,731 [s2@group-4EAE193F79A7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-4EAE193F79A7-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,782 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:02,782 [Thread-29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-4EAE193F79A7-LeaderElection5
2022-05-09 13:04:02,782 [Thread-29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:02,783 [Thread-29] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 52ms
2022-05-09 13:04:02,833 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:02,884 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s2, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,885 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-05-09 13:04:02,885 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,887 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s2, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,888 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-05-09 13:04:02,888 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s2, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,888 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-05-09 13:04:02,888 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,888 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,890 [s2@group-4EAE193F79A7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-4EAE193F79A7-LeaderElection5: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-05-09 13:04:02,890 [s2@group-4EAE193F79A7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-4EAE193F79A7-LeaderElection5 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:02,948 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:264768931ns, electionTimeout:264ms
2022-05-09 13:04:02,948 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:02,948 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:02,949 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:02,949 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection6
2022-05-09 13:04:02,949 [s4@group-4EAE193F79A7-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,950 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,951 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:02,951 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,952 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,952 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,952 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:02,952 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:02,953 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,952 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,953 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:02,953 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:02,953 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:02,966 [s4@group-4EAE193F79A7-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection6: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:02,966 [s4@group-4EAE193F79A7-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-05-09 13:04:02,966 [s4@group-4EAE193F79A7-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:FAIL-t1
2022-05-09 13:04:02,966 [s4@group-4EAE193F79A7-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-05-09 13:04:02,966 [s4@group-4EAE193F79A7-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection6 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:02,966 [s4@group-4EAE193F79A7-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:02,967 [s4@group-4EAE193F79A7-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection6
2022-05-09 13:04:02,967 [s4@group-4EAE193F79A7-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:02,986 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 467ms
2022-05-09 13:04:03,035 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s2, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:03,035 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-05-09 13:04:03,035 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,109 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:03,109 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:03,110 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,284 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s3
2022-05-09 13:04:03,284 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:03,451 [s1@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:193502686ns, electionTimeout:171ms
2022-05-09 13:04:03,452 [s1@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:03,452 [s1@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:03,452 [s1@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:03,452 [s1@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4EAE193F79A7-LeaderElection7
2022-05-09 13:04:03,453 [s1@group-4EAE193F79A7-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:03,453 [s1@group-4EAE193F79A7-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-4EAE193F79A7-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,499 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:03,499 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-4EAE193F79A7-LeaderElection7
2022-05-09 13:04:03,499 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:03,499 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 46ms
2022-05-09 13:04:03,604 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s1, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:03,604 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s1, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:03,604 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s1, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:03,604 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-05-09 13:04:03,604 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,604 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-05-09 13:04:03,605 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:346499982ns, electionTimeout:244ms
2022-05-09 13:04:03,605 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:03,605 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:03,605 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,604 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-05-09 13:04:03,606 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,605 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:03,606 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection8
2022-05-09 13:04:03,607 [s4@group-4EAE193F79A7-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:03,607 [s4@group-4EAE193F79A7-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,618 [s1@group-4EAE193F79A7-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-4EAE193F79A7-LeaderElection7: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:03,618 [s1@group-4EAE193F79A7-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-05-09 13:04:03,618 [s1@group-4EAE193F79A7-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-4EAE193F79A7-LeaderElection7 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:03,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:03,754 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s1, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:03,754 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:03,754 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to PRE_VOTE vote request: s1<-s4#0:OK-t1. Peer's state: s4@group-4EAE193F79A7:t1, leader=null, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,758 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:03,758 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:03,758 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:03,758 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:03,758 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:03,759 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:03,759 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:03,759 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:03,759 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,759 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,758 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,759 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:03,777 [s4@group-4EAE193F79A7-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection8: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:03,777 [s4@group-4EAE193F79A7-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:FAIL-t1
2022-05-09 13:04:03,777 [s4@group-4EAE193F79A7-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:FAIL-t1
2022-05-09 13:04:03,777 [s4@group-4EAE193F79A7-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-05-09 13:04:03,777 [s4@group-4EAE193F79A7-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection8 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:03,777 [s4@group-4EAE193F79A7-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:03,777 [s4@group-4EAE193F79A7-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection8
2022-05-09 13:04:03,777 [s4@group-4EAE193F79A7-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:03,949 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 342ms
2022-05-09 13:04:04,185 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s3
2022-05-09 13:04:04,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:04,349 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:171892287ns, electionTimeout:168ms
2022-05-09 13:04:04,349 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:04,349 [s0@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:04,350 [s0@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:04,350 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-LeaderElection9
2022-05-09 13:04:04,350 [s0@group-4EAE193F79A7-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:04,350 [s0@group-4EAE193F79A7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-4EAE193F79A7-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,361 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:227860020ns, electionTimeout:225ms
2022-05-09 13:04:04,361 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:04,362 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:04,362 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:04,362 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection10
2022-05-09 13:04:04,362 [s4@group-4EAE193F79A7-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:04,362 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,416 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:04,416 [Thread-14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-4EAE193F79A7-LeaderElection9
2022-05-09 13:04:04,416 [Thread-14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:04,416 [Thread-14] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 65ms
2022-05-09 13:04:04,502 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,502 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:04,502 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,503 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,503 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:04,503 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,503 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,504 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:04,504 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,513 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,513 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,513 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:04,513 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,513 [s0@group-4EAE193F79A7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-4EAE193F79A7-LeaderElection9: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:04,513 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:04,513 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,513 [s0@group-4EAE193F79A7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-05-09 13:04:04,514 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,514 [s0@group-4EAE193F79A7-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-4EAE193F79A7-LeaderElection9 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:04,513 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,514 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:04,514 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,514 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:04,514 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,518 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection10: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:04,518 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection10 PRE_VOTE round 0: result TIMEOUT
2022-05-09 13:04:04,518 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection10 PRE_VOTE round 1: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,578 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:161198316ns, electionTimeout:161ms
2022-05-09 13:04:04,578 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:04,578 [s0@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:04,579 [s0@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:04,579 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-LeaderElection11
2022-05-09 13:04:04,580 [s0@group-4EAE193F79A7-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:04,581 [s0@group-4EAE193F79A7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-4EAE193F79A7-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:04,652 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,653 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:04,653 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s4#0:OK-t1. Peer's state: s4@group-4EAE193F79A7:t1, leader=null, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,661 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:04,661 [Thread-16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-4EAE193F79A7-LeaderElection11
2022-05-09 13:04:04,661 [Thread-16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:04,661 [Thread-16] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 81ms
2022-05-09 13:04:04,669 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,669 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,670 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:04,670 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:04,670 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,670 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,673 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,673 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:04,673 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,673 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,674 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:04,674 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,692 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection10: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:04,693 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-05-09 13:04:04,693 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-05-09 13:04:04,693 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:FAIL-t1
2022-05-09 13:04:04,693 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection10 PRE_VOTE round 1: result REJECTED
2022-05-09 13:04:04,693 [s4@group-4EAE193F79A7-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:04,693 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection10
2022-05-09 13:04:04,693 [s4@group-4EAE193F79A7-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:04,732 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,732 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,732 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:04,733 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,732 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:04,733 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,733 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,734 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:04,734 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:04,750 [s0@group-4EAE193F79A7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-4EAE193F79A7-LeaderElection11: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:04,751 [s0@group-4EAE193F79A7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:FAIL-t1
2022-05-09 13:04:04,751 [s0@group-4EAE193F79A7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-4EAE193F79A7-LeaderElection11 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:04,827 [Thread-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 464ms
2022-05-09 13:04:04,882 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:04,882 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:04,882 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,087 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s3
2022-05-09 13:04:05,087 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:05,280 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:267157794ns, electionTimeout:202ms
2022-05-09 13:04:05,281 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:05,281 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:05,281 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:05,281 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection12
2022-05-09 13:04:05,281 [s4@group-4EAE193F79A7-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:05,281 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,433 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:05,433 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:05,434 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:05,434 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:05,434 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,434 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:05,434 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:05,434 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,433 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:05,434 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:05,435 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,435 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,440 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection12: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:05,440 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection12 PRE_VOTE round 0: result TIMEOUT
2022-05-09 13:04:05,441 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection12 PRE_VOTE round 1: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,538 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:05,592 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:05,593 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:05,593 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:05,592 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:05,593 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:05,594 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,594 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:05,594 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:05,594 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,593 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:05,596 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,593 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:05,611 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection12: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:05,612 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-05-09 13:04:05,612 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-05-09 13:04:05,612 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:FAIL-t1
2022-05-09 13:04:05,612 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection12 PRE_VOTE round 1: result REJECTED
2022-05-09 13:04:05,612 [s4@group-4EAE193F79A7-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:05,612 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection12
2022-05-09 13:04:05,613 [s4@group-4EAE193F79A7-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:05,704 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 422ms
2022-05-09 13:04:05,989 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s3
2022-05-09 13:04:05,989 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:06,429 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:451676764ns, electionTimeout:293ms
2022-05-09 13:04:06,429 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:06,429 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:06,429 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:06,430 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection13
2022-05-09 13:04:06,433 [s4@group-4EAE193F79A7-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:06,433 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:06,439 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:06,584 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:06,585 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:06,586 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:06,585 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:06,586 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:06,585 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:06,586 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:06,586 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:06,586 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:06,587 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:06,587 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:06,587 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:06,599 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection13: PRE_VOTE TIMEOUT received 1 response(s) and 0 exception(s):
2022-05-09 13:04:06,599 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-05-09 13:04:06,599 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection13 PRE_VOTE round 0: result TIMEOUT
2022-05-09 13:04:06,599 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection13 PRE_VOTE round 1: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:06,600 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:06,602 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:06,602 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:06,601 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:06,602 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:06,602 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:06,600 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:06,602 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:06,602 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:06,600 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:06,603 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:06,603 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:06,619 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection13: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:06,620 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-05-09 13:04:06,620 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-05-09 13:04:06,620 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-05-09 13:04:06,620 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection13 PRE_VOTE round 1: result REJECTED
2022-05-09 13:04:06,620 [s4@group-4EAE193F79A7-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:06,620 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection13
2022-05-09 13:04:06,621 [s4@group-4EAE193F79A7-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:06,670 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 237ms
2022-05-09 13:04:06,890 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s3
2022-05-09 13:04:06,890 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:07,319 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:464257484ns, electionTimeout:290ms
2022-05-09 13:04:07,320 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:07,320 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:07,320 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:07,320 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection14
2022-05-09 13:04:07,321 [s4@group-4EAE193F79A7-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:07,321 [s4@group-4EAE193F79A7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:07,341 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:07,471 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:07,472 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:07,472 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:07,472 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:07,472 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:07,472 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:07,473 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:07,472 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:07,472 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:07,473 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:07,472 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:07,473 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:07,489 [s4@group-4EAE193F79A7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection14: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:07,489 [s4@group-4EAE193F79A7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:FAIL-t1
2022-05-09 13:04:07,489 [s4@group-4EAE193F79A7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:FAIL-t1
2022-05-09 13:04:07,489 [s4@group-4EAE193F79A7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-05-09 13:04:07,489 [s4@group-4EAE193F79A7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection14 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:07,490 [s4@group-4EAE193F79A7-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:07,490 [s4@group-4EAE193F79A7-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection14
2022-05-09 13:04:07,490 [s4@group-4EAE193F79A7-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:07,545 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 224ms
2022-05-09 13:04:07,791 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s3
2022-05-09 13:04:07,792 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:07,902 [s1@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:202384575ns, electionTimeout:174ms
2022-05-09 13:04:07,902 [s1@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:07,902 [s1@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:07,902 [s1@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:07,903 [s1@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4EAE193F79A7-LeaderElection15
2022-05-09 13:04:07,903 [s1@group-4EAE193F79A7-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:07,903 [s1@group-4EAE193F79A7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-4EAE193F79A7-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:07,943 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:07,943 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-4EAE193F79A7-LeaderElection15
2022-05-09 13:04:07,943 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:07,943 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 40ms
2022-05-09 13:04:08,054 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s1, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:08,055 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-05-09 13:04:08,055 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:08,054 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s1, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:08,056 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-05-09 13:04:08,054 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s1, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:08,056 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-05-09 13:04:08,056 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:08,056 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:08,072 [s1@group-4EAE193F79A7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-4EAE193F79A7-LeaderElection15: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:08,072 [s1@group-4EAE193F79A7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-05-09 13:04:08,072 [s1@group-4EAE193F79A7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-4EAE193F79A7-LeaderElection15 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:08,212 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:486911733ns, electionTimeout:288ms
2022-05-09 13:04:08,213 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:08,213 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:08,213 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:08,213 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection16
2022-05-09 13:04:08,215 [s4@group-4EAE193F79A7-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:08,215 [s4@group-4EAE193F79A7-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:08,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:08,366 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:08,366 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:08,366 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:08,366 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:08,366 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:08,366 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:08,366 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:08,367 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:08,367 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:08,367 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:08,367 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:08,367 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:08,390 [s4@group-4EAE193F79A7-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection16: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:08,390 [s4@group-4EAE193F79A7-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:FAIL-t1
2022-05-09 13:04:08,390 [s4@group-4EAE193F79A7-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:FAIL-t1
2022-05-09 13:04:08,390 [s4@group-4EAE193F79A7-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-05-09 13:04:08,390 [s4@group-4EAE193F79A7-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection16 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:08,391 [s4@group-4EAE193F79A7-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:08,391 [s4@group-4EAE193F79A7-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection16
2022-05-09 13:04:08,391 [s4@group-4EAE193F79A7-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:08,421 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 207ms
2022-05-09 13:04:08,514 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s1, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:08,514 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2022-05-09 13:04:08,514 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:08,693 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s3
2022-05-09 13:04:08,693 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:08,855 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:250794432ns, electionTimeout:240ms
2022-05-09 13:04:08,856 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:08,856 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:08,856 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:08,856 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection17
2022-05-09 13:04:08,856 [s4@group-4EAE193F79A7-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:08,856 [s4@group-4EAE193F79A7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:09,007 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:09,007 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:09,008 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:09,008 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:09,008 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:09,008 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:09,008 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:09,008 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:09,008 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:09,007 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:09,008 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:09,008 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:09,027 [s4@group-4EAE193F79A7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection17: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:09,027 [s4@group-4EAE193F79A7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-05-09 13:04:09,027 [s4@group-4EAE193F79A7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-05-09 13:04:09,027 [s4@group-4EAE193F79A7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:FAIL-t1
2022-05-09 13:04:09,027 [s4@group-4EAE193F79A7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection17 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:09,028 [s4@group-4EAE193F79A7-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:09,028 [s4@group-4EAE193F79A7-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection17
2022-05-09 13:04:09,028 [s4@group-4EAE193F79A7-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:09,143 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:09,299 [Thread-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 442ms
2022-05-09 13:04:09,594 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s3
2022-05-09 13:04:09,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:10,045 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:10,063 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:487516617ns, electionTimeout:289ms
2022-05-09 13:04:10,063 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:10,063 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:10,063 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:10,063 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection18
2022-05-09 13:04:10,064 [s4@group-4EAE193F79A7-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:10,064 [s4@group-4EAE193F79A7-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,065 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:10,065 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:10,065 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,066 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:10,066 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:10,066 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,066 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:10,066 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:10,066 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,073 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:10,073 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:10,074 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,081 [s4@group-4EAE193F79A7-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection18: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:10,081 [s4@group-4EAE193F79A7-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-05-09 13:04:10,081 [s4@group-4EAE193F79A7-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-05-09 13:04:10,081 [s4@group-4EAE193F79A7-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:FAIL-t1
2022-05-09 13:04:10,081 [s4@group-4EAE193F79A7-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection18 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:10,081 [s4@group-4EAE193F79A7-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:10,081 [s4@group-4EAE193F79A7-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection18
2022-05-09 13:04:10,081 [s4@group-4EAE193F79A7-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:10,270 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 205ms
2022-05-09 13:04:10,496 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s3
2022-05-09 13:04:10,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:10,803 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:352375741ns, electionTimeout:221ms
2022-05-09 13:04:10,803 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:10,804 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:10,804 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:10,804 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection19
2022-05-09 13:04:10,804 [s4@group-4EAE193F79A7-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:10,804 [s4@group-4EAE193F79A7-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,877 [s2@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:168019109ns, electionTimeout:167ms
2022-05-09 13:04:10,878 [s2@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:10,878 [s2@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:10,878 [s2@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:10,878 [s2@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4EAE193F79A7-LeaderElection20
2022-05-09 13:04:10,878 [s2@group-4EAE193F79A7-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:10,878 [s2@group-4EAE193F79A7-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-4EAE193F79A7-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,946 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:10,946 [Thread-28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-4EAE193F79A7-LeaderElection20
2022-05-09 13:04:10,946 [Thread-28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:10,946 [Thread-28] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 68ms
2022-05-09 13:04:10,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:10,955 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:10,955 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:10,955 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:10,955 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:10,955 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:10,955 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,955 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:10,955 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,956 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,956 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:10,956 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:10,956 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:10,970 [s4@group-4EAE193F79A7-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection19: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:10,970 [s4@group-4EAE193F79A7-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-05-09 13:04:10,970 [s4@group-4EAE193F79A7-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-05-09 13:04:10,970 [s4@group-4EAE193F79A7-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:FAIL-t1
2022-05-09 13:04:10,970 [s4@group-4EAE193F79A7-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection19 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:10,970 [s4@group-4EAE193F79A7-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:10,970 [s4@group-4EAE193F79A7-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection19
2022-05-09 13:04:10,970 [s4@group-4EAE193F79A7-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:11,029 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s2, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,029 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-05-09 13:04:11,029 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s2, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,029 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-05-09 13:04:11,029 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s2, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,030 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-05-09 13:04:11,030 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,029 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,030 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,040 [s2@group-4EAE193F79A7-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-4EAE193F79A7-LeaderElection20: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:11,040 [s2@group-4EAE193F79A7-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:FAIL-t1
2022-05-09 13:04:11,040 [s2@group-4EAE193F79A7-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-4EAE193F79A7-LeaderElection20 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:11,143 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 338ms
2022-05-09 13:04:11,179 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s2, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,180 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2022-05-09 13:04:11,180 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,397 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s3
2022-05-09 13:04:11,398 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:11,451 [Timer-0] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$6(325)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING    LEADER s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
2022-05-09 13:04:11,514 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:208698358ns, electionTimeout:208ms
2022-05-09 13:04:11,514 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:11,514 [s0@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:11,515 [s0@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:11,515 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-LeaderElection21
2022-05-09 13:04:11,515 [s0@group-4EAE193F79A7-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:11,516 [s0@group-4EAE193F79A7-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-4EAE193F79A7-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,549 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:11,549 [Thread-14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-4EAE193F79A7-LeaderElection21
2022-05-09 13:04:11,549 [Thread-14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:11,550 [Thread-14] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 34ms
2022-05-09 13:04:11,666 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,667 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:11,667 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,667 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,667 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:11,667 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,667 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,667 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:11,667 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,681 [s0@group-4EAE193F79A7-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-4EAE193F79A7-LeaderElection21: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:11,681 [s0@group-4EAE193F79A7-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:FAIL-t1
2022-05-09 13:04:11,681 [s0@group-4EAE193F79A7-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-4EAE193F79A7-LeaderElection21 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:11,772 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:222059675ns, electionTimeout:222ms
2022-05-09 13:04:11,773 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:11,773 [s0@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:11,773 [s0@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:11,773 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-LeaderElection22
2022-05-09 13:04:11,774 [s0@group-4EAE193F79A7-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:11,774 [s0@group-4EAE193F79A7-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-4EAE193F79A7-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,779 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-4EAE193F79A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:456722121ns, electionTimeout:236ms
2022-05-09 13:04:11,779 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:11,779 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:11,780 [s4@group-4EAE193F79A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:11,780 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-LeaderElection23
2022-05-09 13:04:11,786 [s4@group-4EAE193F79A7-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from s3 to null at term 1 for PRE_VOTE
2022-05-09 13:04:11,786 [s4@group-4EAE193F79A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-4EAE193F79A7-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,792 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:11,792 [Thread-15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-4EAE193F79A7-LeaderElection22
2022-05-09 13:04:11,793 [Thread-15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:11,793 [Thread-15] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 19ms
2022-05-09 13:04:11,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:11,925 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,925 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,925 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:11,926 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,926 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,925 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:11,926 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:11,926 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,926 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,937 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,937 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,937 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:11,937 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,937 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:11,937 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,937 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-4EAE193F79A7-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-05-09 13:04:11,937 [s0@group-4EAE193F79A7-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-4EAE193F79A7-LeaderElection22: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:11,937 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s4, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:11,937 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,938 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2022-05-09 13:04:11,938 [s0@group-4EAE193F79A7-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:FAIL-t1
2022-05-09 13:04:11,937 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,938 [s0@group-4EAE193F79A7-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-4EAE193F79A7-LeaderElection22 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:11,938 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-4EAE193F79A7 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:11,955 [s4@group-4EAE193F79A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-4EAE193F79A7-LeaderElection23: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:11,955 [s4@group-4EAE193F79A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-05-09 13:04:11,955 [s4@group-4EAE193F79A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:FAIL-t1
2022-05-09 13:04:11,955 [s4@group-4EAE193F79A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-05-09 13:04:11,955 [s4@group-4EAE193F79A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-4EAE193F79A7-LeaderElection23 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:11,955 [s4@group-4EAE193F79A7-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-4EAE193F79A7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:11,955 [s4@group-4EAE193F79A7-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-4EAE193F79A7-LeaderElection23
2022-05-09 13:04:11,955 [s4@group-4EAE193F79A7-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:12,009 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-4EAE193F79A7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 223ms
2022-05-09 13:04:12,075 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:12,076 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:12,076 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:12,117 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-4EAE193F79A7: receive requestVote(PRE_VOTE, s0, group-4EAE193F79A7, 1, (t:1, i:0))
2022-05-09 13:04:12,117 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-4EAE193F79A7-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s3
2022-05-09 13:04:12,117 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-4EAE193F79A7 replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null
2022-05-09 13:04:12,299 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(246)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
2022-05-09 13:04:12,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:12,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:12,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:12,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:12,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:12,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s3@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s4@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s0@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4EAE193F79A7:t1, leader=s3, voted=s4, raftlog=s1@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4EAE193F79A7:t1, leader=s3, voted=s3, raftlog=s2@group-4EAE193F79A7-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:46809|admin:localhost:38119|client:localhost:40227|dataStream:localhost:35795|priority:0, s4|rpc:localhost:42721|admin:localhost:40067|client:localhost:36815|dataStream:localhost:33831|priority:0, s0|rpc:localhost:43875|admin:localhost:46477|client:localhost:45301|dataStream:localhost:46673|priority:0, s1|rpc:localhost:43167|admin:localhost:42827|client:localhost:41727|dataStream:localhost:38731|priority:0, s2|rpc:localhost:35037|admin:localhost:40161|client:localhost:40119|dataStream:localhost:37287|priority:0], old=null RUNNING
2022-05-09 13:04:12,304 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s4: close
2022-05-09 13:04:12,304 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-05-09 13:04:12,305 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s0@group-4EAE193F79A7: shutdown
2022-05-09 13:04:12,305 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4EAE193F79A7,id=s0
2022-05-09 13:04:12,306 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:12,306 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-4EAE193F79A7-StateMachineUpdater: set stopIndex = 0
2022-05-09 13:04:12,308 [s0@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-4EAE193F79A7-FollowerState was interrupted
2022-05-09 13:04:12,308 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s4@group-4EAE193F79A7: shutdown
2022-05-09 13:04:12,309 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4EAE193F79A7,id=s4
2022-05-09 13:04:12,309 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:12,309 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s4@group-4EAE193F79A7-StateMachineUpdater: set stopIndex = 0
2022-05-09 13:04:12,314 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s4@group-4EAE193F79A7: closes. applyIndex: 0
2022-05-09 13:04:12,314 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s3: close
2022-05-09 13:04:12,314 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s3@group-4EAE193F79A7: shutdown
2022-05-09 13:04:12,314 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4EAE193F79A7,id=s3
2022-05-09 13:04:12,315 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-4EAE193F79A7-LeaderStateImpl
2022-05-09 13:04:12,315 [s3@group-4EAE193F79A7->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-4EAE193F79A7->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:12,315 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-4EAE193F79A7-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:12,315 [s3@group-4EAE193F79A7->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-4EAE193F79A7->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:12,316 [s3@group-4EAE193F79A7->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-4EAE193F79A7->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:12,316 [s3@group-4EAE193F79A7->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s3@group-4EAE193F79A7->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:12,317 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-4EAE193F79A7-StateMachineUpdater: set stopIndex = 0
2022-05-09 13:04:12,317 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s3@group-4EAE193F79A7: closes. applyIndex: 0
2022-05-09 13:04:12,318 [s3@group-4EAE193F79A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s3@group-4EAE193F79A7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:12,309 [s4@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-4EAE193F79A7-FollowerState was interrupted
2022-05-09 13:04:12,314 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-05-09 13:04:12,310 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-05-09 13:04:12,319 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s2@group-4EAE193F79A7: shutdown
2022-05-09 13:04:12,319 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4EAE193F79A7,id=s2
2022-05-09 13:04:12,319 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:12,320 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-4EAE193F79A7-StateMachineUpdater: set stopIndex = 0
2022-05-09 13:04:12,320 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s2@group-4EAE193F79A7: closes. applyIndex: 0
2022-05-09 13:04:12,320 [s2@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-4EAE193F79A7-FollowerState was interrupted
2022-05-09 13:04:12,310 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s0@group-4EAE193F79A7: closes. applyIndex: 0
2022-05-09 13:04:12,320 [s2@group-4EAE193F79A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-4EAE193F79A7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:12,320 [s0@group-4EAE193F79A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-4EAE193F79A7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:12,321 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-4EAE193F79A7-SegmentedRaftLogWorker close()
2022-05-09 13:04:12,323 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-4EAE193F79A7-SegmentedRaftLogWorker close()
2022-05-09 13:04:12,319 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-4EAE193F79A7-SegmentedRaftLogWorker close()
2022-05-09 13:04:12,317 [s4@group-4EAE193F79A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s4@group-4EAE193F79A7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:12,323 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s1@group-4EAE193F79A7: shutdown
2022-05-09 13:04:12,324 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4EAE193F79A7,id=s1
2022-05-09 13:04:12,324 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-4EAE193F79A7-FollowerState
2022-05-09 13:04:12,324 [Thread-4] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,324 [Thread-5] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,324 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-4EAE193F79A7-StateMachineUpdater: set stopIndex = 0
2022-05-09 13:04:12,323 [Thread-33] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,323 [Thread-32] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,323 [Thread-31] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,323 [Thread-19] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,323 [Thread-18] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,326 [Thread-28] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,323 [Thread-17] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,327 [Thread-29] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,327 [Thread-30] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,327 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@328d2b85] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-05-09 13:04:12,327 [Thread-14] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,327 [Thread-15] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,327 [Thread-16] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,328 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@599d666] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-05-09 13:04:12,326 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s1@group-4EAE193F79A7: closes. applyIndex: 0
2022-05-09 13:04:12,325 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-4EAE193F79A7-SegmentedRaftLogWorker close()
2022-05-09 13:04:12,325 [s1@group-4EAE193F79A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-4EAE193F79A7-FollowerState was interrupted
2022-05-09 13:04:12,324 [Thread-3] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,330 [Thread-1] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,330 [Thread-12] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,330 [Thread-11] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,330 [Thread-2] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,330 [Thread-10] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,331 [Thread-8] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,330 [Thread-0] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,331 [Thread-7] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,331 [Thread-9] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,331 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@4def0567] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-05-09 13:04:12,331 [s1@group-4EAE193F79A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-4EAE193F79A7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:12,332 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@30683931] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2022-05-09 13:04:12,333 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-4EAE193F79A7-SegmentedRaftLogWorker close()
2022-05-09 13:04:12,334 [Thread-24] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,334 [Thread-25] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,334 [Thread-26] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,334 [Thread-23] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,334 [Thread-21] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:12,334 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@1c72b66b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-05-09 13:04:12,335 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:12,347 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:12,347 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:12,347 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:12,347 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:12,348 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-05-09 13:04:12,349 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2022-05-09 13:04:12,349 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-7702326DC70F:[s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0]
2022-05-09 13:04:12,349 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-05-09 13:04:12,349 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-05-09 13:04:12,349 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:12,350 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-05-09 13:04:12,350 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-05-09 13:04:12,350 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-05-09 13:04:12,350 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-7702326DC70F:[s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], format? true
2022-05-09 13:04:12,350 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0
2022-05-09 13:04:12,350 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0 does not exist.
2022-05-09 13:04:12,350 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0
2022-05-09 13:04:12,350 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:12,351 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:12,351 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:12,351 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:12,351 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:12,351 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:12,351 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0] (custom)
2022-05-09 13:04:12,353 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-7702326DC70F:[s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0] returns group-7702326DC70F:java.util.concurrent.CompletableFuture@7a15baf1[Not completed]
2022-05-09 13:04:12,353 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-7702326DC70F:[s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], format? true
2022-05-09 13:04:12,353 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1
2022-05-09 13:04:12,353 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s0: new RaftServerImpl for group-7702326DC70F:[s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:12,353 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1 does not exist.
2022-05-09 13:04:12,353 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1
2022-05-09 13:04:12,353 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:12,353 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:12,353 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:12,354 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:12,358 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:12,358 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:12,358 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:12,358 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:12,358 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:12,358 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:12,359 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-7702326DC70F: ConfigurationManager, init=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:12,359 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:12,359 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0] (custom)
2022-05-09 13:04:12,359 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:12,359 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:12,359 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1] (custom)
2022-05-09 13:04:12,359 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:12,360 [pool-6-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f does not exist. Creating ...
2022-05-09 13:04:12,360 [pool-6-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f
2022-05-09 13:04:12,361 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-7702326DC70F:[s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0] returns group-7702326DC70F:java.util.concurrent.CompletableFuture@4d2fbcd8[Not completed]
2022-05-09 13:04:12,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-7702326DC70F:[s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], format? true
2022-05-09 13:04:12,361 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2
2022-05-09 13:04:12,361 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2 does not exist.
2022-05-09 13:04:12,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2
2022-05-09 13:04:12,362 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:12,362 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:12,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:12,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:12,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:12,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:12,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2] (custom)
2022-05-09 13:04:12,363 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s1: new RaftServerImpl for group-7702326DC70F:[s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:12,363 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:12,363 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:12,363 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:12,363 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:12,363 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:12,363 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:12,363 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-7702326DC70F: ConfigurationManager, init=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:12,363 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1] (custom)
2022-05-09 13:04:12,364 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:12,364 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:12,364 [pool-7-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1/cf4b9abb-98b2-4bcf-9850-7702326dc70f does not exist. Creating ...
2022-05-09 13:04:12,364 [pool-7-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1/cf4b9abb-98b2-4bcf-9850-7702326dc70f
2022-05-09 13:04:12,364 [pool-6-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:12,364 [pool-6-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current
2022-05-09 13:04:12,365 [pool-6-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f/sm
2022-05-09 13:04:12,366 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-7702326DC70F:[s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0] returns group-7702326DC70F:java.util.concurrent.CompletableFuture@66d2aa95[Not completed]
2022-05-09 13:04:12,366 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s2: new RaftServerImpl for group-7702326DC70F:[s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:12,366 [pool-7-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1/cf4b9abb-98b2-4bcf-9850-7702326dc70f/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:12,366 [pool-7-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current
2022-05-09 13:04:12,366 [pool-7-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1/cf4b9abb-98b2-4bcf-9850-7702326dc70f/sm
2022-05-09 13:04:12,367 [pool-6-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f has been successfully formatted.
2022-05-09 13:04:12,367 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:12,367 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:12,367 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:12,367 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:12,367 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:12,367 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-7702326DC70F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:12,368 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:12,369 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:12,369 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:12,369 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:12,369 [pool-6-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-7702326DC70F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:12,369 [pool-6-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-7702326DC70F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:12,369 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:12,369 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:12,370 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:12,370 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:12,370 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:12,370 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:12,370 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-7702326DC70F: ConfigurationManager, init=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:12,370 [pool-7-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1/cf4b9abb-98b2-4bcf-9850-7702326dc70f has been successfully formatted.
2022-05-09 13:04:12,370 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:12,370 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:12,370 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:12,370 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:12,370 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:12,370 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-7702326DC70F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1/cf4b9abb-98b2-4bcf-9850-7702326dc70f
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:12,371 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:12,371 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2] (custom)
2022-05-09 13:04:12,372 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:12,372 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:12,372 [pool-8-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f does not exist. Creating ...
2022-05-09 13:04:12,372 [pool-8-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f
2022-05-09 13:04:12,374 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:12,374 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:12,374 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:12,374 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:12,374 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:12,375 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:12,375 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:12,375 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:12,376 [pool-7-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-7702326DC70F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:12,376 [pool-7-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-7702326DC70F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:12,376 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:12,376 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:12,376 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:12,376 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:12,376 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:12,376 [pool-8-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:12,376 [pool-8-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current
2022-05-09 13:04:12,376 [pool-8-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f/sm
2022-05-09 13:04:12,377 [pool-8-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f has been successfully formatted.
2022-05-09 13:04:12,378 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:12,378 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:12,378 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:12,378 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:12,378 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:12,378 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:12,378 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:12,379 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:12,379 [pool-8-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-7702326DC70F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f
2022-05-09 13:04:12,379 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:12,379 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:12,379 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:12,379 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:12,379 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:12,379 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:12,379 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:12,379 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:12,382 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:12,382 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:12,382 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:12,382 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:12,382 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:12,383 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:12,383 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:12,383 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:12,383 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:12,383 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:12,383 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s0@group-7702326DC70F: start as a follower, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,383 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-7702326DC70F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:12,383 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7702326DC70F-FollowerState
2022-05-09 13:04:12,383 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:12,384 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:12,384 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:12,384 [pool-8-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-7702326DC70F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:12,384 [pool-8-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-7702326DC70F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:12,386 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7702326DC70F,id=s0
2022-05-09 13:04:12,386 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-05-09 13:04:12,387 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:12,387 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:12,387 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:12,388 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s1@group-7702326DC70F: start as a follower, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,388 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-7702326DC70F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:12,388 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7702326DC70F-FollowerState
2022-05-09 13:04:12,389 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@562b13eb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-05-09 13:04:12,389 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7702326DC70F,id=s1
2022-05-09 13:04:12,389 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:12,389 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:12,391 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:12,391 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:12,391 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:12,391 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:12,391 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:12,392 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-05-09 13:04:12,393 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s2@group-7702326DC70F: start as a follower, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,394 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-7702326DC70F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:12,394 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7702326DC70F-FollowerState
2022-05-09 13:04:12,394 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@1e74bb25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-05-09 13:04:12,394 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7702326DC70F,id=s2
2022-05-09 13:04:12,394 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-05-09 13:04:12,395 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@795570b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-05-09 13:04:12,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:12,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:12,396 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7702326DC70F:t0, leader=null, voted=, raftlog=s0@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7702326DC70F:t0, leader=null, voted=, raftlog=s1@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7702326DC70F:t0, leader=null, voted=, raftlog=s2@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
2022-05-09 13:04:12,396 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7702326DC70F:t0, leader=null, voted=, raftlog=s0@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7702326DC70F:t0, leader=null, voted=, raftlog=s1@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7702326DC70F:t0, leader=null, voted=, raftlog=s2@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7702326DC70F:t0, leader=null, voted=, raftlog=s0@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7702326DC70F:t0, leader=null, voted=, raftlog=s1@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7702326DC70F:t0, leader=null, voted=, raftlog=s2@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLostMajorityHeartbeats(LeaderElectionTests.java:115)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLostMajorityHeartbeats(LeaderElectionTests.java:110)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:12,632 [s1@group-7702326DC70F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7702326DC70F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:244678122ns, electionTimeout:241ms
2022-05-09 13:04:12,633 [s1@group-7702326DC70F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7702326DC70F-FollowerState
2022-05-09 13:04:12,633 [s1@group-7702326DC70F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-7702326DC70F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:12,633 [s1@group-7702326DC70F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:12,633 [s1@group-7702326DC70F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7702326DC70F-LeaderElection24
2022-05-09 13:04:12,634 [s1@group-7702326DC70F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-7702326DC70F-LeaderElection24 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,635 [Thread-502] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-7702326DC70F: receive requestVote(PRE_VOTE, s1, group-7702326DC70F, 0, (t:0, i:0))
2022-05-09 13:04:12,635 [Thread-516] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-7702326DC70F: receive requestVote(PRE_VOTE, s1, group-7702326DC70F, 0, (t:0, i:0))
2022-05-09 13:04:12,635 [Thread-502] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-7702326DC70F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:12,635 [Thread-516] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7702326DC70F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:12,636 [Thread-502] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-7702326DC70F replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-7702326DC70F:t0, leader=null, voted=, raftlog=s0@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,636 [Thread-516] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-7702326DC70F replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-7702326DC70F:t0, leader=null, voted=, raftlog=s2@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,648 [s1@group-7702326DC70F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-7702326DC70F-LeaderElection24: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:12,648 [s1@group-7702326DC70F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-05-09 13:04:12,648 [s1@group-7702326DC70F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-7702326DC70F-LeaderElection24 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:12,650 [s1@group-7702326DC70F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-7702326DC70F-LeaderElection24 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,650 [Thread-503] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-7702326DC70F: receive requestVote(ELECTION, s1, group-7702326DC70F, 1, (t:0, i:0))
2022-05-09 13:04:12,651 [Thread-503] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-7702326DC70F-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:12,651 [Thread-503] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-7702326DC70F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-05-09 13:04:12,651 [Thread-503] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7702326DC70F-FollowerState
2022-05-09 13:04:12,651 [Thread-503] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7702326DC70F-FollowerState
2022-05-09 13:04:12,651 [s0@group-7702326DC70F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7702326DC70F-FollowerState was interrupted
2022-05-09 13:04:12,651 [Thread-517] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-7702326DC70F: receive requestVote(ELECTION, s1, group-7702326DC70F, 1, (t:0, i:0))
2022-05-09 13:04:12,652 [Thread-517] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7702326DC70F-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:12,652 [Thread-517] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-7702326DC70F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-05-09 13:04:12,652 [Thread-517] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7702326DC70F-FollowerState
2022-05-09 13:04:12,652 [Thread-517] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7702326DC70F-FollowerState
2022-05-09 13:04:12,652 [s2@group-7702326DC70F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7702326DC70F-FollowerState was interrupted
2022-05-09 13:04:12,656 [Thread-503] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-7702326DC70F replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-7702326DC70F:t1, leader=null, voted=s1, raftlog=s0@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,658 [Thread-517] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-7702326DC70F replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-7702326DC70F:t1, leader=null, voted=s1, raftlog=s2@group-7702326DC70F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,670 [s1@group-7702326DC70F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-7702326DC70F-LeaderElection24: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:12,670 [s1@group-7702326DC70F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-05-09 13:04:12,670 [s1@group-7702326DC70F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-7702326DC70F-LeaderElection24 ELECTION round 0: result PASSED
2022-05-09 13:04:12,670 [s1@group-7702326DC70F-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7702326DC70F-LeaderElection24
2022-05-09 13:04:12,670 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-7702326DC70F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-05-09 13:04:12,670 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-7702326DC70F: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 300ms
2022-05-09 13:04:12,671 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:12,671 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:12,671 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:12,671 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:12,671 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:12,671 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:12,671 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:12,671 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:12,672 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:12,672 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:12,672 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:12,672 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:12,672 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:12,672 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:12,673 [s1@group-7702326DC70F-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7702326DC70F-LeaderStateImpl
2022-05-09 13:04:12,673 [s1@group-7702326DC70F-LeaderElection24] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-7702326DC70F-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:12,678 [s1@group-7702326DC70F-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-7702326DC70F: set configuration 0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,679 [Thread-504] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-7702326DC70F: change Leader from null to s1 at term 1 for appendEntries, leader elected after 312ms
2022-05-09 13:04:12,680 [Thread-518] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-7702326DC70F: change Leader from null to s1 at term 1 for appendEntries, leader elected after 301ms
2022-05-09 13:04:12,687 [s1@group-7702326DC70F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-7702326DC70F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s1/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_inprogress_0
2022-05-09 13:04:12,694 [Thread-516] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-7702326DC70F: receive appendEntries(s1, 1, null, 0, true, commits[s1:c0, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:12,695 [Thread-516] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-7702326DC70F: set configuration 0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,695 [Thread-516] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-7702326DC70F-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:12,701 [Thread-502] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-7702326DC70F: receive appendEntries(s1, 1, null, 0, true, commits[s1:c0, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:12,702 [Thread-502] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-7702326DC70F: set configuration 0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:12,702 [Thread-502] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-7702326DC70F-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:12,714 [s2@group-7702326DC70F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-7702326DC70F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_inprogress_0
2022-05-09 13:04:12,715 [s0@group-7702326DC70F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-7702326DC70F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_inprogress_0
2022-05-09 13:04:12,717 [Thread-546] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-7702326DC70F: succeeded to handle AppendEntries. Reply: s1<-s0#283:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-05-09 13:04:12,718 [Thread-545] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-7702326DC70F: succeeded to handle AppendEntries. Reply: s1<-s2#282:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-05-09 13:04:12,847 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7702326DC70F:t1, leader=s1, voted=s1, raftlog=s0@group-7702326DC70F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7702326DC70F:t1, leader=s1, voted=s1, raftlog=s1@group-7702326DC70F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7702326DC70F:t1, leader=s1, voted=s1, raftlog=s2@group-7702326DC70F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
2022-05-09 13:04:13,018 [s0@group-7702326DC70F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7702326DC70F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:214192178ns, electionTimeout:208ms
2022-05-09 13:04:13,019 [s0@group-7702326DC70F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7702326DC70F-FollowerState
2022-05-09 13:04:13,019 [s0@group-7702326DC70F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-7702326DC70F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:13,019 [s0@group-7702326DC70F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:13,019 [s0@group-7702326DC70F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7702326DC70F-LeaderElection25
2022-05-09 13:04:13,020 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-7702326DC70F: change Leader from s1 to null at term 1 for PRE_VOTE
2022-05-09 13:04:13,020 [s0@group-7702326DC70F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7702326DC70F-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:13,021 [Thread-509] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-05-09 13:04:13,021 [Thread-516] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-7702326DC70F: receive requestVote(PRE_VOTE, s0, group-7702326DC70F, 1, (t:1, i:0))
2022-05-09 13:04:13,021 [Thread-516] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7702326DC70F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:13,021 [Thread-516] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-7702326DC70F replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-7702326DC70F:t1, leader=s1, voted=s1, raftlog=s2@group-7702326DC70F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:13,039 [s0@group-7702326DC70F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7702326DC70F-LeaderElection25: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:13,039 [s0@group-7702326DC70F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2022-05-09 13:04:13,039 [s0@group-7702326DC70F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7702326DC70F-LeaderElection25 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:13,041 [s0@group-7702326DC70F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7702326DC70F-LeaderElection25 ELECTION round 0: submit vote requests at term 2 for 0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:13,041 [Thread-510] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-05-09 13:04:13,042 [Thread-517] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-7702326DC70F: receive requestVote(ELECTION, s0, group-7702326DC70F, 2, (t:1, i:0))
2022-05-09 13:04:13,042 [Thread-517] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7702326DC70F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:13,042 [Thread-517] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-7702326DC70F: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-05-09 13:04:13,042 [Thread-517] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-7702326DC70F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-05-09 13:04:13,042 [Thread-517] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7702326DC70F-FollowerState
2022-05-09 13:04:13,042 [Thread-517] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7702326DC70F-FollowerState
2022-05-09 13:04:13,042 [s2@group-7702326DC70F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7702326DC70F-FollowerState was interrupted
2022-05-09 13:04:13,044 [Thread-517] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-7702326DC70F replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-7702326DC70F:t2, leader=null, voted=s0, raftlog=s2@group-7702326DC70F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:13,062 [s0@group-7702326DC70F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7702326DC70F-LeaderElection25: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:13,062 [s0@group-7702326DC70F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-05-09 13:04:13,063 [s0@group-7702326DC70F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7702326DC70F-LeaderElection25 ELECTION round 0: result PASSED
2022-05-09 13:04:13,063 [s0@group-7702326DC70F-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7702326DC70F-LeaderElection25
2022-05-09 13:04:13,063 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-7702326DC70F: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-05-09 13:04:13,063 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-7702326DC70F: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 42ms
2022-05-09 13:04:13,063 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:13,063 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:13,063 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:13,063 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:13,063 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:13,063 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:13,064 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:13,064 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:13,064 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:13,064 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:13,064 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:13,065 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:13,065 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:13,065 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:13,065 [s0@group-7702326DC70F-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7702326DC70F-LeaderStateImpl
2022-05-09 13:04:13,066 [s0@group-7702326DC70F-LeaderElection25] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-7702326DC70F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-05-09 13:04:13,068 [s0@group-7702326DC70F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_0-0
2022-05-09 13:04:13,068 [s0@group-7702326DC70F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-7702326DC70F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_0-0
2022-05-09 13:04:13,073 [s0@group-7702326DC70F-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-7702326DC70F: set configuration 1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:13,074 [Thread-511] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-05-09 13:04:13,074 [Thread-518] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-7702326DC70F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 32ms
2022-05-09 13:04:13,082 [s0@group-7702326DC70F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-7702326DC70F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s0/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_inprogress_1
2022-05-09 13:04:13,089 [Thread-516] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-7702326DC70F: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits[s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-05-09 13:04:13,089 [Thread-516] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-7702326DC70F: set configuration 1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:13,089 [Thread-516] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-7702326DC70F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-05-09 13:04:13,091 [s2@group-7702326DC70F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_0-0
2022-05-09 13:04:13,091 [s2@group-7702326DC70F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-7702326DC70F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_0-0
2022-05-09 13:04:13,103 [s2@group-7702326DC70F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-7702326DC70F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc480eb12c/s2/cf4b9abb-98b2-4bcf-9850-7702326dc70f/current/log_inprogress_1
2022-05-09 13:04:13,103 [Thread-559] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-7702326DC70F: succeeded to handle AppendEntries. Reply: s0<-s2#290:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:13,131 [Thread-517] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-7702326DC70F: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits[s0:c1, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:13,133 [Thread-560] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-7702326DC70F: succeeded to handle AppendEntries. Reply: s0<-s2#291:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:13,334 [s1@group-7702326DC70F-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s1@group-7702326DC70F-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 663ms. Conf: 0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null
2022-05-09 13:04:13,335 [s1@group-7702326DC70F-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s1@group-7702326DC70F->s0(c0,m0,n1, attendVote=true, lastRpcSendTime=440, lastRpcResponseTime=515)
2022-05-09 13:04:13,335 [s1@group-7702326DC70F-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s1@group-7702326DC70F->s2(c0,m0,n1, attendVote=true, lastRpcSendTime=435, lastRpcResponseTime=510)
2022-05-09 13:04:13,335 [s1@group-7702326DC70F-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-7702326DC70F: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-05-09 13:04:13,335 [s1@group-7702326DC70F-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-7702326DC70F-LeaderStateImpl
2022-05-09 13:04:13,335 [s1@group-7702326DC70F->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-7702326DC70F->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:13,336 [s1@group-7702326DC70F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-7702326DC70F->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:13,337 [s1@group-7702326DC70F-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-7702326DC70F-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:13,337 [s1@group-7702326DC70F-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7702326DC70F-FollowerState
2022-05-09 13:04:13,451 [Time-limited test] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s1@group-7702326DC70F-FollowerState: Skipping leader election since it stepped down recently (elapsed = 113ms < waitTime = 10s)
2022-05-09 13:04:13,452 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:13,452 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:13,452 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:13,452 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:13,452 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:13,452 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7702326DC70F:t2, leader=s0, voted=s0, raftlog=s0@group-7702326DC70F-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7702326DC70F:t1, leader=s1, voted=s1, raftlog=s1@group-7702326DC70F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7702326DC70F:t2, leader=s0, voted=s0, raftlog=s2@group-7702326DC70F-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:40321|admin:localhost:38131|client:localhost:36807|dataStream:localhost:46743|priority:0, s1|rpc:localhost:33763|admin:localhost:41499|client:localhost:44401|dataStream:localhost:37233|priority:0, s2|rpc:localhost:34893|admin:localhost:45915|client:localhost:33045|dataStream:localhost:40143|priority:0], old=null RUNNING
2022-05-09 13:04:13,454 [java.util.concurrent.ThreadPoolExecutor$Worker@7a5a3252[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-05-09 13:04:13,455 [java.util.concurrent.ThreadPoolExecutor$Worker@414c03af[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-05-09 13:04:13,455 [java.util.concurrent.ThreadPoolExecutor$Worker@7a5a3252[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s0@group-7702326DC70F: shutdown
2022-05-09 13:04:13,455 [java.util.concurrent.ThreadPoolExecutor$Worker@414c03af[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s1@group-7702326DC70F: shutdown
2022-05-09 13:04:13,456 [java.util.concurrent.ThreadPoolExecutor$Worker@7a5a3252[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7702326DC70F,id=s0
2022-05-09 13:04:13,456 [java.util.concurrent.ThreadPoolExecutor$Worker@7a5a3252[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7702326DC70F-LeaderStateImpl
2022-05-09 13:04:13,456 [java.util.concurrent.ThreadPoolExecutor$Worker@6c4c3982[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-05-09 13:04:13,457 [s0@group-7702326DC70F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-7702326DC70F->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:13,456 [java.util.concurrent.ThreadPoolExecutor$Worker@414c03af[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7702326DC70F,id=s1
2022-05-09 13:04:13,457 [java.util.concurrent.ThreadPoolExecutor$Worker@414c03af[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7702326DC70F-FollowerState
2022-05-09 13:04:13,457 [s0@group-7702326DC70F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-7702326DC70F->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:13,457 [s1@group-7702326DC70F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7702326DC70F-FollowerState was interrupted
2022-05-09 13:04:13,457 [java.util.concurrent.ThreadPoolExecutor$Worker@7a5a3252[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-7702326DC70F-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:13,459 [java.util.concurrent.ThreadPoolExecutor$Worker@414c03af[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-7702326DC70F-StateMachineUpdater: set stopIndex = 0
2022-05-09 13:04:13,460 [java.util.concurrent.ThreadPoolExecutor$Worker@414c03af[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s1@group-7702326DC70F: closes. applyIndex: 0
2022-05-09 13:04:13,458 [java.util.concurrent.ThreadPoolExecutor$Worker@6c4c3982[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s2@group-7702326DC70F: shutdown
2022-05-09 13:04:13,461 [s1@group-7702326DC70F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-7702326DC70F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:13,462 [java.util.concurrent.ThreadPoolExecutor$Worker@6c4c3982[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7702326DC70F,id=s2
2022-05-09 13:04:13,462 [java.util.concurrent.ThreadPoolExecutor$Worker@6c4c3982[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7702326DC70F-FollowerState
2022-05-09 13:04:13,462 [s2@group-7702326DC70F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7702326DC70F-FollowerState was interrupted
2022-05-09 13:04:13,462 [java.util.concurrent.ThreadPoolExecutor$Worker@6c4c3982[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-7702326DC70F-StateMachineUpdater: set stopIndex = 2
2022-05-09 13:04:13,462 [java.util.concurrent.ThreadPoolExecutor$Worker@6c4c3982[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s2@group-7702326DC70F: closes. applyIndex: 2
2022-05-09 13:04:13,462 [s2@group-7702326DC70F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-7702326DC70F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:13,470 [java.util.concurrent.ThreadPoolExecutor$Worker@7a5a3252[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-7702326DC70F-StateMachineUpdater: set stopIndex = 2
2022-05-09 13:04:13,471 [java.util.concurrent.ThreadPoolExecutor$Worker@414c03af[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-7702326DC70F-SegmentedRaftLogWorker close()
2022-05-09 13:04:13,471 [java.util.concurrent.ThreadPoolExecutor$Worker@7a5a3252[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s0@group-7702326DC70F: closes. applyIndex: 2
2022-05-09 13:04:13,472 [s0@group-7702326DC70F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-7702326DC70F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:13,472 [java.util.concurrent.ThreadPoolExecutor$Worker@6c4c3982[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-7702326DC70F-SegmentedRaftLogWorker close()
2022-05-09 13:04:13,472 [Thread-514] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,472 [Thread-513] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,472 [Thread-512] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,473 [Thread-509] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-05-09 13:04:13,474 [Thread-509] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-7702326DC70F: receive requestVote(PRE_VOTE, s0, group-7702326DC70F, 1, (t:1, i:0))
2022-05-09 13:04:13,474 [Thread-509] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,474 [Thread-510] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-05-09 13:04:13,474 [Thread-510] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-7702326DC70F: receive requestVote(ELECTION, s0, group-7702326DC70F, 2, (t:1, i:0))
2022-05-09 13:04:13,474 [Thread-510] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,474 [Thread-511] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-05-09 13:04:13,474 [Thread-511] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,475 [java.util.concurrent.ThreadPoolExecutor$Worker@7a5a3252[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-7702326DC70F-SegmentedRaftLogWorker close()
2022-05-09 13:04:13,476 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@1e74bb25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-05-09 13:04:13,476 [Thread-520] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,476 [Thread-521] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,476 [Thread-519] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,477 [Thread-516] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,477 [Thread-517] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,477 [Thread-518] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,478 [Thread-505] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,478 [Thread-506] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,478 [Thread-507] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,478 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@795570b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-05-09 13:04:13,479 [Thread-503] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,479 [Thread-502] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,479 [Thread-504] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:13,479 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@562b13eb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-05-09 13:04:13,480 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:13,480 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:13,481 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:13,481 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:13,481 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:13,482 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(255)) - Running testLateServerStart
2022-05-09 13:04:13,482 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-05-09 13:04:13,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-B8A790CB9ED1:[s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0]
2022-05-09 13:04:13,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-05-09 13:04:13,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-B8A790CB9ED1:[s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], format? true
2022-05-09 13:04:13,483 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0
2022-05-09 13:04:13,483 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0 does not exist.
2022-05-09 13:04:13,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0
2022-05-09 13:04:13,483 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:13,483 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:13,484 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:13,484 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:13,484 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:13,484 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:13,484 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0] (custom)
2022-05-09 13:04:13,490 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-B8A790CB9ED1:[s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0] returns group-B8A790CB9ED1:java.util.concurrent.CompletableFuture@2f7cb769[Not completed]
2022-05-09 13:04:13,490 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-B8A790CB9ED1:[s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], format? true
2022-05-09 13:04:13,490 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1
2022-05-09 13:04:13,490 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1 does not exist.
2022-05-09 13:04:13,490 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1
2022-05-09 13:04:13,491 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:13,491 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:13,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:13,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:13,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:13,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:13,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1] (custom)
2022-05-09 13:04:13,492 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s0: new RaftServerImpl for group-B8A790CB9ED1:[s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:13,492 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:13,492 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:13,492 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:13,492 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:13,492 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:13,492 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:13,492 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-B8A790CB9ED1: ConfigurationManager, init=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:13,493 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0] (custom)
2022-05-09 13:04:13,493 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:13,493 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:13,493 [pool-9-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0/550d7567-48e6-4b62-a719-b8a790cb9ed1 does not exist. Creating ...
2022-05-09 13:04:13,494 [pool-9-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0/550d7567-48e6-4b62-a719-b8a790cb9ed1
2022-05-09 13:04:13,495 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-B8A790CB9ED1:[s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0] returns group-B8A790CB9ED1:java.util.concurrent.CompletableFuture@5b5e57b4[Not completed]
2022-05-09 13:04:13,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-B8A790CB9ED1:[s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], format? true
2022-05-09 13:04:13,495 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2
2022-05-09 13:04:13,495 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2 does not exist.
2022-05-09 13:04:13,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2
2022-05-09 13:04:13,495 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:13,496 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:13,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:13,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:13,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:13,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:13,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2] (custom)
2022-05-09 13:04:13,496 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s1: new RaftServerImpl for group-B8A790CB9ED1:[s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:13,497 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:13,497 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:13,498 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:13,498 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:13,498 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:13,498 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:13,498 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-B8A790CB9ED1: ConfigurationManager, init=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:13,499 [pool-9-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0/550d7567-48e6-4b62-a719-b8a790cb9ed1/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:13,499 [pool-9-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0/550d7567-48e6-4b62-a719-b8a790cb9ed1/current
2022-05-09 13:04:13,500 [pool-9-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0/550d7567-48e6-4b62-a719-b8a790cb9ed1/sm
2022-05-09 13:04:13,500 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1] (custom)
2022-05-09 13:04:13,500 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:13,500 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:13,500 [pool-10-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1/550d7567-48e6-4b62-a719-b8a790cb9ed1 does not exist. Creating ...
2022-05-09 13:04:13,501 [pool-10-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1/550d7567-48e6-4b62-a719-b8a790cb9ed1
2022-05-09 13:04:13,501 [pool-9-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0/550d7567-48e6-4b62-a719-b8a790cb9ed1 has been successfully formatted.
2022-05-09 13:04:13,501 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:13,501 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:13,501 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:13,501 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:13,501 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:13,501 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:13,502 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:13,502 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:13,502 [pool-9-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-B8A790CB9ED1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0/550d7567-48e6-4b62-a719-b8a790cb9ed1
2022-05-09 13:04:13,502 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:13,502 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:13,502 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:13,502 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:13,503 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:13,503 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:13,503 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:13,503 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:13,503 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-B8A790CB9ED1:[s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0] returns group-B8A790CB9ED1:java.util.concurrent.CompletableFuture@29e60706[Not completed]
2022-05-09 13:04:13,503 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:13,504 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:13,504 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:13,504 [pool-9-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-B8A790CB9ED1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:13,504 [pool-9-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-B8A790CB9ED1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:13,504 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s2: new RaftServerImpl for group-B8A790CB9ED1:[s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:13,504 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:13,504 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:13,505 [pool-10-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1/550d7567-48e6-4b62-a719-b8a790cb9ed1/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:13,505 [pool-10-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1/550d7567-48e6-4b62-a719-b8a790cb9ed1/current
2022-05-09 13:04:13,505 [pool-10-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1/550d7567-48e6-4b62-a719-b8a790cb9ed1/sm
2022-05-09 13:04:13,506 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:13,506 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:13,506 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:13,506 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:13,506 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-B8A790CB9ED1: ConfigurationManager, init=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:13,507 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2] (custom)
2022-05-09 13:04:13,507 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:13,507 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:13,507 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:13,507 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:13,507 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:13,507 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:13,508 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:13,508 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:13,508 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:13,508 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:13,508 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:13,509 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s0@group-B8A790CB9ED1: start as a follower, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:13,509 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:13,510 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:13,510 [pool-10-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1/550d7567-48e6-4b62-a719-b8a790cb9ed1 has been successfully formatted.
2022-05-09 13:04:13,510 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:13,510 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:13,510 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:13,510 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:13,510 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:13,510 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:13,510 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:13,511 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:13,511 [pool-10-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-B8A790CB9ED1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1/550d7567-48e6-4b62-a719-b8a790cb9ed1
2022-05-09 13:04:13,511 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:13,511 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:13,511 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:13,511 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:13,511 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:13,511 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:13,511 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:13,511 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:13,511 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:13,511 [pool-11-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2/550d7567-48e6-4b62-a719-b8a790cb9ed1 does not exist. Creating ...
2022-05-09 13:04:13,512 [pool-11-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2/550d7567-48e6-4b62-a719-b8a790cb9ed1
2022-05-09 13:04:13,513 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B8A790CB9ED1,id=s0
2022-05-09 13:04:13,513 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-05-09 13:04:13,514 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:13,514 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:13,514 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:13,514 [pool-11-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2/550d7567-48e6-4b62-a719-b8a790cb9ed1/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:13,515 [pool-11-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2/550d7567-48e6-4b62-a719-b8a790cb9ed1/current
2022-05-09 13:04:13,515 [pool-11-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2/550d7567-48e6-4b62-a719-b8a790cb9ed1/sm
2022-05-09 13:04:13,516 [pool-10-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-B8A790CB9ED1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:13,516 [pool-10-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-B8A790CB9ED1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:13,516 [pool-11-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2/550d7567-48e6-4b62-a719-b8a790cb9ed1 has been successfully formatted.
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-B8A790CB9ED1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2/550d7567-48e6-4b62-a719-b8a790cb9ed1
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:13,517 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:13,518 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:13,518 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:13,518 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:13,522 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:13,522 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:13,522 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:13,526 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:13,526 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:13,526 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:13,526 [pool-11-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-B8A790CB9ED1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:13,526 [pool-11-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-B8A790CB9ED1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:13,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:13,530 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@2c0679] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-05-09 13:04:13,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:13,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:13,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:13,531 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:13,531 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:13,531 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:13,531 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:13,531 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:13,532 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:13,532 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:13,532 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:13,532 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:13,532 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:13,532 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:13,532 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:13,532 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:13,533 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s1@group-B8A790CB9ED1: start as a follower, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:13,533 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-B8A790CB9ED1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:13,533 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:13,533 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B8A790CB9ED1,id=s1
2022-05-09 13:04:13,533 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-05-09 13:04:13,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:13,535 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s0@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null NEW
2022-05-09 13:04:13,535 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s0@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null NEW, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s0@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null NEW
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:265)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:13,536 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@a57db09] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-05-09 13:04:13,690 [s1@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:157424098ns, electionTimeout:157ms
2022-05-09 13:04:13,691 [s1@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:13,691 [s1@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:13,691 [s1@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:13,691 [s1@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-B8A790CB9ED1-LeaderElection26
2022-05-09 13:04:13,690 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180765662ns, electionTimeout:177ms
2022-05-09 13:04:13,691 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:13,692 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:13,692 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:13,692 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection27
2022-05-09 13:04:13,697 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-B8A790CB9ED1-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:13,698 [s0@group-B8A790CB9ED1-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection27 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:13,699 [Thread-568] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s1, group-B8A790CB9ED1, 0, (t:0, i:0))
2022-05-09 13:04:13,699 [Thread-568] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-B8A790CB9ED1-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:13,699 [Thread-568] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s0@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:13,700 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-B8A790CB9ED1-LeaderElection26: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:13,700 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-05-09 13:04:13,700 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-B8A790CB9ED1-LeaderElection26 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:13,700 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 0, (t:0, i:0))
2022-05-09 13:04:13,702 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-B8A790CB9ED1-LeaderElection26 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:13,702 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:13,702 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=null, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:13,702 [s0@group-B8A790CB9ED1-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection27: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-05-09 13:04:13,702 [s0@group-B8A790CB9ED1-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-05-09 13:04:13,702 [s0@group-B8A790CB9ED1-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection27 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2022-05-09 13:04:13,702 [s0@group-B8A790CB9ED1-LeaderElection27] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2022-05-09 13:04:13,702 [s0@group-B8A790CB9ED1-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection27
2022-05-09 13:04:13,702 [s0@group-B8A790CB9ED1-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:13,703 [Thread-569] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-B8A790CB9ED1: receive requestVote(ELECTION, s1, group-B8A790CB9ED1, 1, (t:0, i:0))
2022-05-09 13:04:13,707 [Thread-569] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-B8A790CB9ED1-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:13,707 [Thread-569] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-05-09 13:04:13,707 [Thread-569] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:13,707 [Thread-569] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:13,707 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B8A790CB9ED1-FollowerState was interrupted
2022-05-09 13:04:13,709 [Thread-569] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-B8A790CB9ED1 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-B8A790CB9ED1:t1, leader=null, voted=s1, raftlog=s0@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:13,709 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-B8A790CB9ED1-LeaderElection26: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:13,709 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-05-09 13:04:13,709 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-B8A790CB9ED1-LeaderElection26 ELECTION round 0: result PASSED
2022-05-09 13:04:13,709 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-B8A790CB9ED1-LeaderElection26
2022-05-09 13:04:13,709 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-B8A790CB9ED1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-05-09 13:04:13,709 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-B8A790CB9ED1: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 199ms
2022-05-09 13:04:13,709 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:13,709 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:13,709 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:13,710 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:13,710 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:13,710 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:13,710 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:13,710 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:13,710 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:13,710 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:13,711 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:13,711 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:13,711 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:13,711 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:13,711 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-B8A790CB9ED1-LeaderStateImpl
2022-05-09 13:04:13,712 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-B8A790CB9ED1-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:13,718 [Thread-570] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-B8A790CB9ED1: change Leader from null to s1 at term 1 for appendEntries, leader elected after 216ms
2022-05-09 13:04:13,722 [s1@group-B8A790CB9ED1-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-B8A790CB9ED1: set configuration 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:13,723 [Thread-568] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-B8A790CB9ED1: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:13,724 [Thread-568] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-B8A790CB9ED1: set configuration 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:13,724 [Thread-568] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-B8A790CB9ED1-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:13,735 [s0@group-B8A790CB9ED1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-B8A790CB9ED1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s0/550d7567-48e6-4b62-a719-b8a790cb9ed1/current/log_inprogress_0
2022-05-09 13:04:13,735 [s1@group-B8A790CB9ED1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-B8A790CB9ED1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s1/550d7567-48e6-4b62-a719-b8a790cb9ed1/current/log_inprogress_0
2022-05-09 13:04:13,737 [Thread-610] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-B8A790CB9ED1: succeeded to handle AppendEntries. Reply: s1<-s0#297:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:13,986 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s0@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null NEW
2022-05-09 13:04:13,986 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(267)) - sleep 3s
2022-05-09 13:04:16,719 [s1@group-B8A790CB9ED1->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s1@group-B8A790CB9ED1->s2-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@d60a95f
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:16,987 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s2@group-B8A790CB9ED1: start as a follower, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:16,987 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-B8A790CB9ED1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:16,987 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:16,987 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B8A790CB9ED1,id=s2
2022-05-09 13:04:16,988 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-05-09 13:04:16,988 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s1, group-B8A790CB9ED1, 0, (t:0, i:0))
2022-05-09 13:04:16,988 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:16,989 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:16,989 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 0, (t:0, i:0))
2022-05-09 13:04:16,989 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:16,989 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-B8A790CB9ED1:t0, leader=null, voted=, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:16,989 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(ELECTION, s1, group-B8A790CB9ED1, 1, (t:0, i:0))
2022-05-09 13:04:16,989 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:16,989 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-B8A790CB9ED1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-05-09 13:04:16,989 [Thread-582] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:16,990 [Thread-582] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:16,990 [s2@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B8A790CB9ED1-FollowerState was interrupted
2022-05-09 13:04:16,991 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "getLeaderId", attempt #1/10: java.lang.IllegalStateException: No leader yet, sleep 1s and then retry.
java.lang.IllegalStateException: No leader yet
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$null$3(LeaderElectionTests.java:275)
	at java.util.Optional.orElseThrow(Optional.java:290)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$4(LeaderElectionTests.java:275)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:273)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:16,994 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@1758d5b7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-05-09 13:04:16,994 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=null, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:16,994 [Thread-584] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-B8A790CB9ED1: change Leader from null to s1 at term 1 for appendEntries, leader elected after 3477ms
2022-05-09 13:04:16,996 [Thread-582] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-B8A790CB9ED1: receive appendEntries(s1, 1, null, 0, true, commits[s1:c0, s0:c0, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:16,996 [Thread-582] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-B8A790CB9ED1: set configuration 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:16,996 [Thread-582] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-B8A790CB9ED1-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:17,008 [s2@group-B8A790CB9ED1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-B8A790CB9ED1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc2ced8f7e/s2/550d7567-48e6-4b62-a719-b8a790cb9ed1/current/log_inprogress_0
2022-05-09 13:04:17,009 [Thread-658] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-B8A790CB9ED1: succeeded to handle AppendEntries. Reply: s1<-s2#341:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-05-09 13:04:17,991 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(277)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s0@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null RUNNING
2022-05-09 13:04:17,992 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:17,992 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:17,992 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:17,992 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:17,993 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-05-09 13:04:17,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-DCDD5AD407C9:[s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0]
2022-05-09 13:04:17,995 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-05-09 13:04:17,995 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-05-09 13:04:17,995 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:17,995 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-05-09 13:04:17,995 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-05-09 13:04:17,995 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-05-09 13:04:17,995 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-DCDD5AD407C9:[s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], format? true
2022-05-09 13:04:17,995 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0
2022-05-09 13:04:17,995 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0 does not exist.
2022-05-09 13:04:17,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0
2022-05-09 13:04:17,996 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:17,996 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:17,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:17,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:17,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:17,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:17,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0] (custom)
2022-05-09 13:04:17,999 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-DCDD5AD407C9:[s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0] returns group-DCDD5AD407C9:java.util.concurrent.CompletableFuture@4e94ea40[Not completed]
2022-05-09 13:04:17,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-DCDD5AD407C9:[s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], format? true
2022-05-09 13:04:17,999 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1
2022-05-09 13:04:17,999 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1 does not exist.
2022-05-09 13:04:17,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1
2022-05-09 13:04:18,000 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:18,000 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:18,000 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:18,000 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:18,000 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:18,000 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:18,000 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1] (custom)
2022-05-09 13:04:18,001 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-DCDD5AD407C9:[s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0] returns group-DCDD5AD407C9:java.util.concurrent.CompletableFuture@3ad7871d[Not completed]
2022-05-09 13:04:18,001 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s1: new RaftServerImpl for group-DCDD5AD407C9:[s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:18,001 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s0: new RaftServerImpl for group-DCDD5AD407C9:[s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:18,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-DCDD5AD407C9:[s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], format? true
2022-05-09 13:04:18,001 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2
2022-05-09 13:04:18,001 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:18,001 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2 does not exist.
2022-05-09 13:04:18,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2
2022-05-09 13:04:18,001 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:18,002 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:18,002 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:18,002 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:18,002 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:18,002 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-DCDD5AD407C9: ConfigurationManager, init=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:18,002 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1] (custom)
2022-05-09 13:04:18,002 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:18,002 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:18,002 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:18,004 [pool-13-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1/636bcecf-311a-4837-93d6-dcdd5ad407c9 does not exist. Creating ...
2022-05-09 13:04:18,002 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:18,002 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:18,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:18,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:18,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:18,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:18,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2] (custom)
2022-05-09 13:04:18,005 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:18,005 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:18,005 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:18,005 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:18,005 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:18,005 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-DCDD5AD407C9: ConfigurationManager, init=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:18,005 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0] (custom)
2022-05-09 13:04:18,006 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:18,006 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:18,006 [pool-12-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0/636bcecf-311a-4837-93d6-dcdd5ad407c9 does not exist. Creating ...
2022-05-09 13:04:18,007 [pool-12-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0/636bcecf-311a-4837-93d6-dcdd5ad407c9
2022-05-09 13:04:18,006 [pool-13-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1/636bcecf-311a-4837-93d6-dcdd5ad407c9
2022-05-09 13:04:18,008 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-DCDD5AD407C9:[s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0] returns group-DCDD5AD407C9:java.util.concurrent.CompletableFuture@589c39db[Not completed]
2022-05-09 13:04:18,008 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s2: new RaftServerImpl for group-DCDD5AD407C9:[s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:18,008 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:18,008 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:18,008 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:18,008 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:18,008 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:18,008 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:18,008 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-DCDD5AD407C9: ConfigurationManager, init=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:18,009 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2] (custom)
2022-05-09 13:04:18,009 [pool-12-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0/636bcecf-311a-4837-93d6-dcdd5ad407c9/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:18,009 [pool-12-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0/636bcecf-311a-4837-93d6-dcdd5ad407c9/current
2022-05-09 13:04:18,009 [pool-12-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0/636bcecf-311a-4837-93d6-dcdd5ad407c9/sm
2022-05-09 13:04:18,009 [pool-13-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1/636bcecf-311a-4837-93d6-dcdd5ad407c9/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:18,009 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:18,010 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:18,010 [pool-14-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2/636bcecf-311a-4837-93d6-dcdd5ad407c9 does not exist. Creating ...
2022-05-09 13:04:18,010 [pool-13-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1/636bcecf-311a-4837-93d6-dcdd5ad407c9/current
2022-05-09 13:04:18,010 [pool-13-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1/636bcecf-311a-4837-93d6-dcdd5ad407c9/sm
2022-05-09 13:04:18,010 [pool-14-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2/636bcecf-311a-4837-93d6-dcdd5ad407c9
2022-05-09 13:04:18,011 [pool-14-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2/636bcecf-311a-4837-93d6-dcdd5ad407c9/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:18,012 [pool-12-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0/636bcecf-311a-4837-93d6-dcdd5ad407c9 has been successfully formatted.
2022-05-09 13:04:18,012 [pool-14-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2/636bcecf-311a-4837-93d6-dcdd5ad407c9/current
2022-05-09 13:04:18,012 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:18,012 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:18,012 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:18,012 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:18,012 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:18,012 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-DCDD5AD407C9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0/636bcecf-311a-4837-93d6-dcdd5ad407c9
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:18,013 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:18,013 [pool-13-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1/636bcecf-311a-4837-93d6-dcdd5ad407c9 has been successfully formatted.
2022-05-09 13:04:18,013 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-DCDD5AD407C9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1/636bcecf-311a-4837-93d6-dcdd5ad407c9
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:18,014 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:18,015 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:18,015 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:18,015 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:18,015 [pool-13-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-DCDD5AD407C9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:18,015 [pool-13-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-DCDD5AD407C9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:18,017 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:18,017 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:18,017 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:18,017 [pool-12-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-DCDD5AD407C9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:18,017 [pool-12-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-DCDD5AD407C9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:18,018 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:18,018 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:18,018 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:18,018 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:18,018 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:18,018 [pool-14-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2/636bcecf-311a-4837-93d6-dcdd5ad407c9/sm
2022-05-09 13:04:18,018 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:18,018 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:18,018 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:18,018 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:18,019 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:18,020 [pool-14-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2/636bcecf-311a-4837-93d6-dcdd5ad407c9 has been successfully formatted.
2022-05-09 13:04:18,020 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:18,020 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:18,020 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:18,020 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:18,020 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:18,020 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:18,021 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:18,021 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:18,021 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:18,021 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:18,021 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:18,022 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:18,022 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:18,022 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:18,022 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:18,022 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:18,022 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:18,022 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:18,022 [pool-14-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-DCDD5AD407C9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2/636bcecf-311a-4837-93d6-dcdd5ad407c9
2022-05-09 13:04:18,022 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:18,022 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:18,022 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:18,022 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:18,023 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:18,023 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:18,023 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:18,023 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:18,023 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s0@group-DCDD5AD407C9: start as a follower, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,023 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-DCDD5AD407C9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:18,023 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:18,023 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:18,023 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:18,023 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:18,023 [pool-14-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-DCDD5AD407C9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:18,023 [pool-14-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-DCDD5AD407C9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:18,024 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DCDD5AD407C9,id=s0
2022-05-09 13:04:18,030 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-05-09 13:04:18,031 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:18,032 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:18,032 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:18,032 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:18,032 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:18,032 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s1@group-DCDD5AD407C9: start as a follower, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,032 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-DCDD5AD407C9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:18,032 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:18,032 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:18,032 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:18,032 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:18,032 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:18,032 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:18,034 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@5e75a2ba] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-05-09 13:04:18,034 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DCDD5AD407C9,id=s1
2022-05-09 13:04:18,035 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-05-09 13:04:18,036 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s2@group-DCDD5AD407C9: start as a follower, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,036 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-DCDD5AD407C9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:18,036 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:18,036 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@48fc724d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-05-09 13:04:18,036 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DCDD5AD407C9,id=s2
2022-05-09 13:04:18,038 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-05-09 13:04:18,039 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@6ff70db1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-05-09 13:04:18,040 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:18,040 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s0@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s1@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s2@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
2022-05-09 13:04:18,040 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s0@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s1@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s2@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s0@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s1@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s2@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPreVote(LeaderElectionTests.java:375)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:18,201 [s2@group-DCDD5AD407C9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-DCDD5AD407C9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:164515718ns, electionTimeout:163ms
2022-05-09 13:04:18,201 [s2@group-DCDD5AD407C9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:18,201 [s2@group-DCDD5AD407C9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-DCDD5AD407C9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:18,201 [s2@group-DCDD5AD407C9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:18,201 [s2@group-DCDD5AD407C9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DCDD5AD407C9-LeaderElection28
2022-05-09 13:04:18,203 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-DCDD5AD407C9-LeaderElection28 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,203 [Thread-684] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-DCDD5AD407C9: receive requestVote(PRE_VOTE, s2, group-DCDD5AD407C9, 0, (t:0, i:0))
2022-05-09 13:04:18,203 [Thread-684] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-DCDD5AD407C9-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:18,204 [Thread-692] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-DCDD5AD407C9: receive requestVote(PRE_VOTE, s2, group-DCDD5AD407C9, 0, (t:0, i:0))
2022-05-09 13:04:18,204 [Thread-684] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-DCDD5AD407C9 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s0@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,204 [Thread-692] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DCDD5AD407C9-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:18,204 [Thread-692] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-DCDD5AD407C9 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-DCDD5AD407C9:t0, leader=null, voted=, raftlog=s1@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,204 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-DCDD5AD407C9-LeaderElection28: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:18,204 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2022-05-09 13:04:18,204 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-DCDD5AD407C9-LeaderElection28 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:18,205 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-DCDD5AD407C9-LeaderElection28 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,206 [Thread-685] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-DCDD5AD407C9: receive requestVote(ELECTION, s2, group-DCDD5AD407C9, 1, (t:0, i:0))
2022-05-09 13:04:18,206 [Thread-693] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-DCDD5AD407C9: receive requestVote(ELECTION, s2, group-DCDD5AD407C9, 1, (t:0, i:0))
2022-05-09 13:04:18,206 [Thread-685] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-DCDD5AD407C9-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:18,207 [Thread-685] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-DCDD5AD407C9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-05-09 13:04:18,207 [Thread-685] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:18,207 [Thread-685] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:18,207 [s0@group-DCDD5AD407C9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DCDD5AD407C9-FollowerState was interrupted
2022-05-09 13:04:18,208 [Thread-693] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DCDD5AD407C9-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:18,208 [Thread-693] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-DCDD5AD407C9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-05-09 13:04:18,208 [Thread-693] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:18,208 [Thread-693] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:18,208 [s1@group-DCDD5AD407C9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DCDD5AD407C9-FollowerState was interrupted
2022-05-09 13:04:18,209 [Thread-685] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-DCDD5AD407C9 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-DCDD5AD407C9:t1, leader=null, voted=s2, raftlog=s0@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,209 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-DCDD5AD407C9-LeaderElection28: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:18,209 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-05-09 13:04:18,209 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-DCDD5AD407C9-LeaderElection28 ELECTION round 0: result PASSED
2022-05-09 13:04:18,209 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-DCDD5AD407C9-LeaderElection28
2022-05-09 13:04:18,209 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-DCDD5AD407C9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-05-09 13:04:18,209 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-DCDD5AD407C9: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 189ms
2022-05-09 13:04:18,209 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:18,209 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:18,209 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:18,212 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:18,212 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:18,212 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:18,212 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:18,212 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:18,212 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:18,213 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:18,213 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:18,213 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:18,213 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:18,213 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:18,213 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DCDD5AD407C9-LeaderStateImpl
2022-05-09 13:04:18,214 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-DCDD5AD407C9-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:18,221 [Thread-693] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-DCDD5AD407C9 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-DCDD5AD407C9:t1, leader=null, voted=s2, raftlog=s1@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,221 [Thread-686] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-DCDD5AD407C9: change Leader from null to s2 at term 1 for appendEntries, leader elected after 209ms
2022-05-09 13:04:18,227 [s2@group-DCDD5AD407C9-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-DCDD5AD407C9: set configuration 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,227 [s2@group-DCDD5AD407C9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-DCDD5AD407C9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s2/636bcecf-311a-4837-93d6-dcdd5ad407c9/current/log_inprogress_0
2022-05-09 13:04:18,227 [Thread-684] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:18,230 [Thread-684] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-DCDD5AD407C9: set configuration 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,230 [Thread-684] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-DCDD5AD407C9-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:18,234 [Thread-694] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-DCDD5AD407C9: change Leader from null to s2 at term 1 for appendEntries, leader elected after 220ms
2022-05-09 13:04:18,235 [Thread-692] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:18,235 [Thread-692] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-DCDD5AD407C9: set configuration 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,236 [Thread-692] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-DCDD5AD407C9-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:18,255 [s0@group-DCDD5AD407C9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-DCDD5AD407C9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s0/636bcecf-311a-4837-93d6-dcdd5ad407c9/current/log_inprogress_0
2022-05-09 13:04:18,255 [s1@group-DCDD5AD407C9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-DCDD5AD407C9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf00e367c/s1/636bcecf-311a-4837-93d6-dcdd5ad407c9/current/log_inprogress_0
2022-05-09 13:04:18,256 [Thread-735] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s1#378:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:18,256 [Thread-736] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s0#374:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:18,491 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s0@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s1@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s2@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
2022-05-09 13:04:18,494 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:18,516 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(790)) - s2@group-DCDD5AD407C9: receive client request(RaftClientRequest:client-5260FAA6BF2A->s2@group-DCDD5AD407C9, cid=391, seq=0, RW, message)
2022-05-09 13:04:18,536 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s2@group-DCDD5AD407C9-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5260FAA6BF2A->s2@group-DCDD5AD407C9, cid=391, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 391@client-5260FAA6BF2A
2022-05-09 13:04:18,537 [Thread-685] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 391@client-5260FAA6BF2A
2022-05-09 13:04:18,538 [Thread-693] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 391@client-5260FAA6BF2A
2022-05-09 13:04:18,538 [Thread-751] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s0#393:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:18,539 [Thread-752] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s1#394:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:18,540 [Thread-694] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:18,542 [Thread-686] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:18,545 [Thread-753] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s1#395:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:18,546 [Thread-756] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s0#396:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:18,547 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(790)) - s2@group-DCDD5AD407C9: receive client request(RaftClientRequest:client-5260FAA6BF2A->s2@group-DCDD5AD407C9, cid=398, seq=0, RW, message)
2022-05-09 13:04:18,548 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s2@group-DCDD5AD407C9-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5260FAA6BF2A->s2@group-DCDD5AD407C9, cid=398, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 398@client-5260FAA6BF2A
2022-05-09 13:04:18,549 [Thread-684] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-05-09 13:04:18,549 [Thread-692] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits[s2:c2, s0:c1, s1:c1], entries: (t:1, i:3), STATEMACHINELOGENTRY, 398@client-5260FAA6BF2A
2022-05-09 13:04:18,550 [Thread-757] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s1#400:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-05-09 13:04:18,551 [Thread-693] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits[s2:c3, s0:c1, s1:c2], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:18,561 [Thread-759] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s1#401:OK-t1,SUCCESS,nextIndex=5,followerCommit=3
2022-05-09 13:04:18,564 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testPreVote(390)) - Wait follower s0 timeout and trigger pre-vote
2022-05-09 13:04:18,619 [Thread-569] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-05-09 13:04:18,860 [s0@group-DCDD5AD407C9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-DCDD5AD407C9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:313809637ns, electionTimeout:261ms
2022-05-09 13:04:18,860 [s0@group-DCDD5AD407C9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:18,860 [s0@group-DCDD5AD407C9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-DCDD5AD407C9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:18,860 [s0@group-DCDD5AD407C9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:18,860 [s0@group-DCDD5AD407C9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DCDD5AD407C9-LeaderElection29
2022-05-09 13:04:18,861 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-DCDD5AD407C9: change Leader from s2 to null at term 1 for PRE_VOTE
2022-05-09 13:04:18,861 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:18,922 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:378515027ns, electionTimeout:177ms
2022-05-09 13:04:18,922 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:18,922 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:18,922 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:18,922 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection30
2022-05-09 13:04:18,926 [s0@group-B8A790CB9ED1-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-B8A790CB9ED1: change Leader from s1 to null at term 1 for PRE_VOTE
2022-05-09 13:04:18,926 [s0@group-B8A790CB9ED1-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection30 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:18,926 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:18,927 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:18,927 [Thread-576] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:18,927 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:18,927 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:18,927 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:18,927 [s0@group-B8A790CB9ED1-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection30: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:18,927 [s0@group-B8A790CB9ED1-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:18,927 [s0@group-B8A790CB9ED1-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:18,927 [s0@group-B8A790CB9ED1-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection30 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:18,927 [s0@group-B8A790CB9ED1-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:18,927 [s0@group-B8A790CB9ED1-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection30
2022-05-09 13:04:18,927 [s0@group-B8A790CB9ED1-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:19,048 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DCDD5AD407C9-LeaderElection29: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:19,048 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 0: result TIMEOUT
2022-05-09 13:04:19,048 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 1: submit vote requests at term 1 for 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:19,098 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:170382619ns, electionTimeout:170ms
2022-05-09 13:04:19,098 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:19,098 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:19,098 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:19,098 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection31
2022-05-09 13:04:19,099 [s0@group-B8A790CB9ED1-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection31 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,100 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:19,100 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:19,100 [Thread-577] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:19,100 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:19,100 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,100 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,101 [s0@group-B8A790CB9ED1-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection31: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:19,101 [s0@group-B8A790CB9ED1-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:19,101 [s0@group-B8A790CB9ED1-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:19,101 [s0@group-B8A790CB9ED1-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection31 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:19,101 [s0@group-B8A790CB9ED1-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:19,101 [s0@group-B8A790CB9ED1-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection31
2022-05-09 13:04:19,101 [s0@group-B8A790CB9ED1-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:19,307 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DCDD5AD407C9-LeaderElection29: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:19,307 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 1: result TIMEOUT
2022-05-09 13:04:19,307 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 2: submit vote requests at term 1 for 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:19,357 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:256441051ns, electionTimeout:256ms
2022-05-09 13:04:19,358 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:19,358 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:19,358 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:19,358 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection32
2022-05-09 13:04:19,359 [s0@group-B8A790CB9ED1-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection32 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,359 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:19,359 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:19,359 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:19,360 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,360 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:19,360 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,360 [s0@group-B8A790CB9ED1-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection32: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:19,360 [s0@group-B8A790CB9ED1-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:19,360 [s0@group-B8A790CB9ED1-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:19,360 [s0@group-B8A790CB9ED1-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection32 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:19,360 [s0@group-B8A790CB9ED1-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:19,360 [s0@group-B8A790CB9ED1-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection32
2022-05-09 13:04:19,360 [s0@group-B8A790CB9ED1-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:19,511 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DCDD5AD407C9-LeaderElection29: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:19,512 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 2: result TIMEOUT
2022-05-09 13:04:19,512 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 3: submit vote requests at term 1 for 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:19,588 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:227555069ns, electionTimeout:227ms
2022-05-09 13:04:19,588 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:19,588 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:19,589 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:19,589 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection33
2022-05-09 13:04:19,589 [s0@group-B8A790CB9ED1-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection33 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,590 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:19,590 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:19,591 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:19,591 [Thread-576] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:19,591 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,591 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,591 [s0@group-B8A790CB9ED1-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection33: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:19,591 [s0@group-B8A790CB9ED1-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:19,591 [s0@group-B8A790CB9ED1-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:19,591 [s0@group-B8A790CB9ED1-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection33 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:19,591 [s0@group-B8A790CB9ED1-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:19,592 [s0@group-B8A790CB9ED1-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection33
2022-05-09 13:04:19,592 [s0@group-B8A790CB9ED1-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:19,733 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DCDD5AD407C9-LeaderElection29: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:19,733 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 3: result TIMEOUT
2022-05-09 13:04:19,733 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 4: submit vote requests at term 1 for 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:19,773 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181616214ns, electionTimeout:181ms
2022-05-09 13:04:19,773 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:19,774 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:19,774 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:19,774 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection34
2022-05-09 13:04:19,775 [s0@group-B8A790CB9ED1-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection34 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,775 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:19,776 [Thread-577] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:19,776 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:19,776 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,776 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:19,776 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:19,776 [s0@group-B8A790CB9ED1-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection34: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:19,776 [s0@group-B8A790CB9ED1-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:19,776 [s0@group-B8A790CB9ED1-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:19,776 [s0@group-B8A790CB9ED1-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection34 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:19,776 [s0@group-B8A790CB9ED1-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:19,776 [s0@group-B8A790CB9ED1-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection34
2022-05-09 13:04:19,777 [s0@group-B8A790CB9ED1-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:19,991 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DCDD5AD407C9-LeaderElection29: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:19,991 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 4: result TIMEOUT
2022-05-09 13:04:19,991 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 5: submit vote requests at term 1 for 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:20,057 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:280215911ns, electionTimeout:278ms
2022-05-09 13:04:20,057 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:20,057 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:20,057 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:20,057 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection35
2022-05-09 13:04:20,058 [s0@group-B8A790CB9ED1-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection35 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:20,059 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:20,059 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:20,059 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:20,063 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:20,063 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:20,063 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:20,063 [s0@group-B8A790CB9ED1-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection35: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:20,063 [s0@group-B8A790CB9ED1-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:20,063 [s0@group-B8A790CB9ED1-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:20,063 [s0@group-B8A790CB9ED1-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection35 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:20,063 [s0@group-B8A790CB9ED1-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:20,063 [s0@group-B8A790CB9ED1-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection35
2022-05-09 13:04:20,063 [s0@group-B8A790CB9ED1-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:20,209 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DCDD5AD407C9-LeaderElection29: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:20,209 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 5: result TIMEOUT
2022-05-09 13:04:20,209 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 6: submit vote requests at term 1 for 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:20,268 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:204685579ns, electionTimeout:204ms
2022-05-09 13:04:20,268 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:20,268 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:20,269 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:20,269 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection36
2022-05-09 13:04:20,270 [s0@group-B8A790CB9ED1-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection36 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:20,270 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:20,271 [Thread-576] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:20,271 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:20,272 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:20,272 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:20,272 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:20,272 [s0@group-B8A790CB9ED1-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection36: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:20,272 [s0@group-B8A790CB9ED1-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:20,272 [s0@group-B8A790CB9ED1-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:20,272 [s0@group-B8A790CB9ED1-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection36 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:20,272 [s0@group-B8A790CB9ED1-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:20,273 [s0@group-B8A790CB9ED1-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection36
2022-05-09 13:04:20,273 [s0@group-B8A790CB9ED1-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:20,473 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DCDD5AD407C9-LeaderElection29: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:20,473 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 6: result TIMEOUT
2022-05-09 13:04:20,473 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 7: submit vote requests at term 1 for 0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null
2022-05-09 13:04:20,502 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:229554027ns, electionTimeout:229ms
2022-05-09 13:04:20,502 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:20,503 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:20,503 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:20,503 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection37
2022-05-09 13:04:20,508 [s0@group-B8A790CB9ED1-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection37 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:20,508 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:20,508 [Thread-577] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:20,508 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:20,509 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:20,509 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:20,509 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:20,509 [s0@group-B8A790CB9ED1-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection37: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:20,509 [s0@group-B8A790CB9ED1-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:20,509 [s0@group-B8A790CB9ED1-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:20,509 [s0@group-B8A790CB9ED1-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection37 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:20,509 [s0@group-B8A790CB9ED1-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:20,509 [s0@group-B8A790CB9ED1-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection37
2022-05-09 13:04:20,509 [s0@group-B8A790CB9ED1-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:20,650 [Thread-684] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-05-09 13:04:20,651 [Thread-684] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits[s2:c2, s0:c1, s1:c1], entries: (t:1, i:3), STATEMACHINELOGENTRY, 398@client-5260FAA6BF2A
2022-05-09 13:04:20,651 [Thread-684] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-DCDD5AD407C9: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:20,651 [Thread-684] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-DCDD5AD407C9-LeaderElection29
2022-05-09 13:04:20,651 [Thread-684] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:20,651 [Thread-684] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-DCDD5AD407C9: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1790ms
2022-05-09 13:04:20,654 [Thread-864] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s0#399:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-05-09 13:04:20,655 [Thread-685] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:3), 4, true, commits[s2:c4, s0:c2, s1:c4], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:20,656 [Thread-865] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s0#457:OK-t1,SUCCESS,nextIndex=5,followerCommit=4
2022-05-09 13:04:20,720 [Thread-569] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-05-09 13:04:20,720 [Thread-569] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-B8A790CB9ED1: change Leader from null to s1 at term 1 for appendEntries, leader elected after 1794ms
2022-05-09 13:04:20,771 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DCDD5AD407C9-LeaderElection29: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-05-09 13:04:20,771 [s0@group-DCDD5AD407C9-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DCDD5AD407C9-LeaderElection29 PRE_VOTE round 7: result REJECTED
2022-05-09 13:04:22,564 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:22,564 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s0@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s1@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s2@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
2022-05-09 13:04:22,565 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s0@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s1@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s2@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
2022-05-09 13:04:22,565 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(790)) - s2@group-DCDD5AD407C9: receive client request(RaftClientRequest:client-5260FAA6BF2A->s2@group-DCDD5AD407C9, cid=558, seq=0, RW, message)
2022-05-09 13:04:22,565 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s2@group-DCDD5AD407C9-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5260FAA6BF2A->s2@group-DCDD5AD407C9, cid=558, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 558@client-5260FAA6BF2A
2022-05-09 13:04:22,566 [Thread-684] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits[s2:c4, s0:c4, s1:c4], entries: (t:1, i:5), STATEMACHINELOGENTRY, 558@client-5260FAA6BF2A
2022-05-09 13:04:22,566 [Thread-694] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits[s2:c4, s0:c4, s1:c4], entries: (t:1, i:5), STATEMACHINELOGENTRY, 558@client-5260FAA6BF2A
2022-05-09 13:04:22,568 [Thread-967] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s0#560:OK-t1,SUCCESS,nextIndex=6,followerCommit=4
2022-05-09 13:04:22,568 [Thread-968] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s1#559:OK-t1,SUCCESS,nextIndex=6,followerCommit=4
2022-05-09 13:04:22,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:22,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:22,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:22,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:22,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:22,570 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s0@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s1@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s2@group-DCDD5AD407C9-SegmentedRaftLog:OPENED:c5, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null RUNNING
2022-05-09 13:04:22,570 [Thread-685] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits[s2:c5, s0:c4, s1:c4], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:22,571 [Thread-692] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits[s2:c5, s0:c4, s1:c4], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:22,572 [Thread-971] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s0#561:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-05-09 13:04:22,572 [java.util.concurrent.ThreadPoolExecutor$Worker@7acf09c5[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-05-09 13:04:22,572 [java.util.concurrent.ThreadPoolExecutor$Worker@58efe0a2[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-05-09 13:04:22,572 [java.util.concurrent.ThreadPoolExecutor$Worker@49e85bab[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-05-09 13:04:22,573 [java.util.concurrent.ThreadPoolExecutor$Worker@7acf09c5[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s2@group-DCDD5AD407C9: shutdown
2022-05-09 13:04:22,573 [java.util.concurrent.ThreadPoolExecutor$Worker@58efe0a2[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s1@group-DCDD5AD407C9: shutdown
2022-05-09 13:04:22,574 [java.util.concurrent.ThreadPoolExecutor$Worker@49e85bab[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s0@group-DCDD5AD407C9: shutdown
2022-05-09 13:04:22,574 [java.util.concurrent.ThreadPoolExecutor$Worker@7acf09c5[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DCDD5AD407C9,id=s2
2022-05-09 13:04:22,574 [java.util.concurrent.ThreadPoolExecutor$Worker@58efe0a2[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DCDD5AD407C9,id=s1
2022-05-09 13:04:22,574 [java.util.concurrent.ThreadPoolExecutor$Worker@58efe0a2[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:22,575 [java.util.concurrent.ThreadPoolExecutor$Worker@58efe0a2[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-DCDD5AD407C9-StateMachineUpdater: set stopIndex = 5
2022-05-09 13:04:22,574 [java.util.concurrent.ThreadPoolExecutor$Worker@49e85bab[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DCDD5AD407C9,id=s0
2022-05-09 13:04:22,575 [java.util.concurrent.ThreadPoolExecutor$Worker@49e85bab[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DCDD5AD407C9-FollowerState
2022-05-09 13:04:22,575 [java.util.concurrent.ThreadPoolExecutor$Worker@49e85bab[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-DCDD5AD407C9-StateMachineUpdater: set stopIndex = 5
2022-05-09 13:04:22,575 [s0@group-DCDD5AD407C9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DCDD5AD407C9-FollowerState was interrupted
2022-05-09 13:04:22,575 [java.util.concurrent.ThreadPoolExecutor$Worker@7acf09c5[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-DCDD5AD407C9-LeaderStateImpl
2022-05-09 13:04:22,575 [s1@group-DCDD5AD407C9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DCDD5AD407C9-FollowerState was interrupted
2022-05-09 13:04:22,575 [java.util.concurrent.ThreadPoolExecutor$Worker@58efe0a2[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s1@group-DCDD5AD407C9: closes. applyIndex: 5
2022-05-09 13:04:22,576 [s2@group-DCDD5AD407C9->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-DCDD5AD407C9->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:22,575 [java.util.concurrent.ThreadPoolExecutor$Worker@49e85bab[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s0@group-DCDD5AD407C9: closes. applyIndex: 5
2022-05-09 13:04:22,576 [s2@group-DCDD5AD407C9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-DCDD5AD407C9->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:22,576 [java.util.concurrent.ThreadPoolExecutor$Worker@7acf09c5[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-DCDD5AD407C9-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:22,577 [s0@group-DCDD5AD407C9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-DCDD5AD407C9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:22,577 [s1@group-DCDD5AD407C9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-DCDD5AD407C9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:22,577 [Thread-974] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-DCDD5AD407C9: succeeded to handle AppendEntries. Reply: s2<-s1#562:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-05-09 13:04:22,578 [java.util.concurrent.ThreadPoolExecutor$Worker@49e85bab[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-DCDD5AD407C9-SegmentedRaftLogWorker close()
2022-05-09 13:04:22,578 [java.util.concurrent.ThreadPoolExecutor$Worker@58efe0a2[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-DCDD5AD407C9-SegmentedRaftLogWorker close()
2022-05-09 13:04:22,580 [Thread-687] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,580 [Thread-695] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,580 [Thread-689] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,580 [Thread-696] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,580 [Thread-688] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,580 [Thread-697] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,581 [java.util.concurrent.ThreadPoolExecutor$Worker@7acf09c5[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-DCDD5AD407C9-StateMachineUpdater: set stopIndex = 6
2022-05-09 13:04:22,581 [java.util.concurrent.ThreadPoolExecutor$Worker@7acf09c5[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s2@group-DCDD5AD407C9: closes. applyIndex: 6
2022-05-09 13:04:22,581 [s2@group-DCDD5AD407C9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-DCDD5AD407C9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:22,582 [Thread-686] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,582 [Thread-684] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,582 [Thread-693] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,582 [Thread-694] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,582 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@5e75a2ba] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-05-09 13:04:22,583 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@48fc724d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-05-09 13:04:22,584 [java.util.concurrent.ThreadPoolExecutor$Worker@7acf09c5[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-DCDD5AD407C9-SegmentedRaftLogWorker close()
2022-05-09 13:04:22,584 [Thread-703] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,584 [Thread-705] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,585 [Thread-704] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,585 [Thread-700] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,585 [Thread-701] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,585 [Thread-702] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:22,586 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@6ff70db1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-05-09 13:04:22,586 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:22,586 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:22,586 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:22,586 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:22,586 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:22,586 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:22,587 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s0@group-DCDD5AD407C9-SegmentedRaftLog:CLOSED:c5, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s1@group-DCDD5AD407C9-SegmentedRaftLog:CLOSED:c5, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-DCDD5AD407C9:t1, leader=s2, voted=s2, raftlog=s2@group-DCDD5AD407C9-SegmentedRaftLog:CLOSED:c6, conf=0: [s0|rpc:localhost:35297|admin:localhost:40405|client:localhost:44007|dataStream:localhost:44173|priority:0, s1|rpc:localhost:40565|admin:localhost:41229|client:localhost:38841|dataStream:localhost:45901|priority:0, s2|rpc:localhost:46199|admin:localhost:39573|client:localhost:39293|dataStream:localhost:45095|priority:0], old=null CLOSED
2022-05-09 13:04:22,588 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:22,588 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:22,588 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:22,588 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:22,588 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:22,589 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-05-09 13:04:22,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-619E9D0392E4:[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0]
2022-05-09 13:04:22,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-05-09 13:04:22,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-05-09 13:04:22,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:22,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-05-09 13:04:22,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-05-09 13:04:22,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-05-09 13:04:22,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-619E9D0392E4:[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], format? true
2022-05-09 13:04:22,590 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0
2022-05-09 13:04:22,590 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0 does not exist.
2022-05-09 13:04:22,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0
2022-05-09 13:04:22,591 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:22,591 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:22,591 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:22,591 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:22,591 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:22,592 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:22,592 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0] (custom)
2022-05-09 13:04:22,593 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-619E9D0392E4:[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0] returns group-619E9D0392E4:java.util.concurrent.CompletableFuture@36e9bd3c[Not completed]
2022-05-09 13:04:22,593 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-619E9D0392E4:[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], format? true
2022-05-09 13:04:22,593 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1
2022-05-09 13:04:22,593 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s0: new RaftServerImpl for group-619E9D0392E4:[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:22,594 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:22,594 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:22,594 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:22,594 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:22,594 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:22,594 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:22,593 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1 does not exist.
2022-05-09 13:04:22,594 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1
2022-05-09 13:04:22,594 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-619E9D0392E4: ConfigurationManager, init=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:22,594 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:22,594 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0] (custom)
2022-05-09 13:04:22,595 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:22,595 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:22,595 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:22,595 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:22,595 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:22,595 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:22,595 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:22,596 [pool-15-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0/571b3db9-9a01-4595-b54b-619e9d0392e4 does not exist. Creating ...
2022-05-09 13:04:22,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1] (custom)
2022-05-09 13:04:22,596 [pool-15-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0/571b3db9-9a01-4595-b54b-619e9d0392e4
2022-05-09 13:04:22,596 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-619E9D0392E4:[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0] returns group-619E9D0392E4:java.util.concurrent.CompletableFuture@56c64273[Not completed]
2022-05-09 13:04:22,596 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-619E9D0392E4:[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], format? true
2022-05-09 13:04:22,596 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2
2022-05-09 13:04:22,597 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2 does not exist.
2022-05-09 13:04:22,597 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2
2022-05-09 13:04:22,597 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:22,597 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:22,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:22,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:22,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:22,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:22,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2] (custom)
2022-05-09 13:04:22,598 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s1: new RaftServerImpl for group-619E9D0392E4:[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:22,598 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s2: new RaftServerImpl for group-619E9D0392E4:[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:22,598 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-619E9D0392E4:[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0] returns group-619E9D0392E4:java.util.concurrent.CompletableFuture@36b9e17a[Not completed]
2022-05-09 13:04:22,598 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:22,598 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:22,599 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:22,599 [pool-15-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0/571b3db9-9a01-4595-b54b-619e9d0392e4/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:22,599 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:22,600 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:22,600 [pool-15-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0/571b3db9-9a01-4595-b54b-619e9d0392e4/current
2022-05-09 13:04:22,600 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:22,600 [pool-15-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0/571b3db9-9a01-4595-b54b-619e9d0392e4/sm
2022-05-09 13:04:22,600 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:22,600 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:22,600 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-619E9D0392E4: ConfigurationManager, init=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:22,601 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1] (custom)
2022-05-09 13:04:22,601 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:22,601 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:22,601 [pool-16-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1/571b3db9-9a01-4595-b54b-619e9d0392e4 does not exist. Creating ...
2022-05-09 13:04:22,601 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:22,601 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:22,601 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:22,601 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:22,601 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-619E9D0392E4: ConfigurationManager, init=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:22,602 [pool-16-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1/571b3db9-9a01-4595-b54b-619e9d0392e4
2022-05-09 13:04:22,602 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2] (custom)
2022-05-09 13:04:22,602 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:22,602 [pool-15-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0/571b3db9-9a01-4595-b54b-619e9d0392e4 has been successfully formatted.
2022-05-09 13:04:22,602 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:22,602 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-619E9D0392E4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0/571b3db9-9a01-4595-b54b-619e9d0392e4
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:22,603 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:22,604 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:22,604 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:22,603 [pool-16-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1/571b3db9-9a01-4595-b54b-619e9d0392e4/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:22,604 [pool-16-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1/571b3db9-9a01-4595-b54b-619e9d0392e4/current
2022-05-09 13:04:22,604 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:22,604 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:22,604 [pool-16-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1/571b3db9-9a01-4595-b54b-619e9d0392e4/sm
2022-05-09 13:04:22,604 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:22,604 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:22,604 [pool-15-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-619E9D0392E4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:22,605 [pool-15-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-619E9D0392E4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:22,605 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:22,605 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:22,605 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:22,605 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:22,605 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:22,605 [pool-16-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1/571b3db9-9a01-4595-b54b-619e9d0392e4 has been successfully formatted.
2022-05-09 13:04:22,606 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:22,606 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:22,606 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:22,606 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:22,606 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:22,606 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:22,606 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:22,606 [pool-17-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2/571b3db9-9a01-4595-b54b-619e9d0392e4 does not exist. Creating ...
2022-05-09 13:04:22,606 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:22,606 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:22,606 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:22,606 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:22,607 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s0@group-619E9D0392E4: start as a follower, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,607 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-619E9D0392E4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:22,607 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-619E9D0392E4-FollowerState
2022-05-09 13:04:22,607 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:22,607 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:22,607 [pool-16-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-619E9D0392E4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1/571b3db9-9a01-4595-b54b-619e9d0392e4
2022-05-09 13:04:22,607 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-619E9D0392E4,id=s0
2022-05-09 13:04:22,607 [pool-17-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2/571b3db9-9a01-4595-b54b-619e9d0392e4
2022-05-09 13:04:22,609 [pool-17-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2/571b3db9-9a01-4595-b54b-619e9d0392e4/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:22,609 [pool-17-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2/571b3db9-9a01-4595-b54b-619e9d0392e4/current
2022-05-09 13:04:22,609 [pool-17-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2/571b3db9-9a01-4595-b54b-619e9d0392e4/sm
2022-05-09 13:04:22,610 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:22,610 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:22,610 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:22,610 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:22,610 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:22,610 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:22,610 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:22,610 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:22,610 [pool-17-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2/571b3db9-9a01-4595-b54b-619e9d0392e4 has been successfully formatted.
2022-05-09 13:04:22,610 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-619E9D0392E4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2/571b3db9-9a01-4595-b54b-619e9d0392e4
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:22,611 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:22,612 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:22,612 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:22,612 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:22,612 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:22,612 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:22,612 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-05-09 13:04:22,613 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:22,613 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:22,613 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:22,613 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:22,613 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:22,614 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:22,614 [pool-17-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-619E9D0392E4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:22,614 [pool-17-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-619E9D0392E4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:22,614 [pool-16-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-619E9D0392E4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:22,614 [pool-16-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-619E9D0392E4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:22,614 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:22,614 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:22,614 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:22,614 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@5288f804] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-05-09 13:04:22,614 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:22,614 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:22,614 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:22,615 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:22,615 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:22,615 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:22,615 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:22,615 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:22,615 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:22,615 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:22,615 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:22,615 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:22,615 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:22,615 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:22,615 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:22,615 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:22,615 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:22,615 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s1@group-619E9D0392E4: start as a follower, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,616 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-619E9D0392E4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:22,616 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-619E9D0392E4-FollowerState
2022-05-09 13:04:22,616 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-619E9D0392E4,id=s1
2022-05-09 13:04:22,617 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-05-09 13:04:22,617 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@2194504d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-05-09 13:04:22,617 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s2@group-619E9D0392E4: start as a follower, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,618 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-619E9D0392E4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:22,618 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-619E9D0392E4-FollowerState
2022-05-09 13:04:22,618 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-619E9D0392E4,id=s2
2022-05-09 13:04:22,618 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-05-09 13:04:22,619 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@737e312d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-05-09 13:04:22,619 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:22,619 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s0@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s1@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s2@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
2022-05-09 13:04:22,620 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s0@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s1@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s2@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s0@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s1@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s2@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeaderTimeout(LeaderElectionTests.java:164)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:22,805 [s2@group-619E9D0392E4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-619E9D0392E4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:187354128ns, electionTimeout:187ms
2022-05-09 13:04:22,805 [s2@group-619E9D0392E4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-619E9D0392E4-FollowerState
2022-05-09 13:04:22,806 [s2@group-619E9D0392E4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-619E9D0392E4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:22,806 [s2@group-619E9D0392E4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:22,806 [s2@group-619E9D0392E4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-619E9D0392E4-LeaderElection38
2022-05-09 13:04:22,811 [s2@group-619E9D0392E4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-619E9D0392E4-LeaderElection38 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,813 [Thread-978] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-619E9D0392E4: receive requestVote(PRE_VOTE, s2, group-619E9D0392E4, 0, (t:0, i:0))
2022-05-09 13:04:22,813 [Thread-985] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-619E9D0392E4: receive requestVote(PRE_VOTE, s2, group-619E9D0392E4, 0, (t:0, i:0))
2022-05-09 13:04:22,813 [Thread-985] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-619E9D0392E4-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:22,813 [Thread-978] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-619E9D0392E4-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:22,814 [Thread-985] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-619E9D0392E4 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s1@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,814 [Thread-978] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-619E9D0392E4 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-619E9D0392E4:t0, leader=null, voted=, raftlog=s0@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,814 [s2@group-619E9D0392E4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-619E9D0392E4-LeaderElection38: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:22,814 [s2@group-619E9D0392E4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t0
2022-05-09 13:04:22,814 [s2@group-619E9D0392E4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-619E9D0392E4-LeaderElection38 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:22,816 [s2@group-619E9D0392E4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-619E9D0392E4-LeaderElection38 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,816 [Thread-979] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-619E9D0392E4: receive requestVote(ELECTION, s2, group-619E9D0392E4, 1, (t:0, i:0))
2022-05-09 13:04:22,820 [Thread-979] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-619E9D0392E4-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:22,820 [Thread-979] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-619E9D0392E4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-05-09 13:04:22,820 [Thread-979] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-619E9D0392E4-FollowerState
2022-05-09 13:04:22,820 [Thread-979] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-619E9D0392E4-FollowerState
2022-05-09 13:04:22,820 [Thread-986] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-619E9D0392E4: receive requestVote(ELECTION, s2, group-619E9D0392E4, 1, (t:0, i:0))
2022-05-09 13:04:22,822 [Thread-986] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-619E9D0392E4-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:22,822 [Thread-986] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-619E9D0392E4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-05-09 13:04:22,822 [Thread-986] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-619E9D0392E4-FollowerState
2022-05-09 13:04:22,822 [Thread-986] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-619E9D0392E4-FollowerState
2022-05-09 13:04:22,822 [s1@group-619E9D0392E4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-619E9D0392E4-FollowerState was interrupted
2022-05-09 13:04:22,822 [Thread-979] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-619E9D0392E4 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-619E9D0392E4:t1, leader=null, voted=s2, raftlog=s0@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,822 [s0@group-619E9D0392E4-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(117)) - s0@group-619E9D0392E4-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2022-05-09 13:04:22,827 [s2@group-619E9D0392E4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-619E9D0392E4-LeaderElection38: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:22,827 [s2@group-619E9D0392E4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-05-09 13:04:22,827 [Thread-986] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-619E9D0392E4 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-619E9D0392E4:t1, leader=null, voted=s2, raftlog=s1@group-619E9D0392E4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,827 [s2@group-619E9D0392E4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-619E9D0392E4-LeaderElection38 ELECTION round 0: result PASSED
2022-05-09 13:04:22,827 [s2@group-619E9D0392E4-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-619E9D0392E4-LeaderElection38
2022-05-09 13:04:22,827 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-619E9D0392E4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-05-09 13:04:22,827 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-619E9D0392E4: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 216ms
2022-05-09 13:04:22,827 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:22,827 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:22,827 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:22,828 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:22,828 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:22,828 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:22,828 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:22,828 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:22,828 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:22,829 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:22,829 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:22,829 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:22,829 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:22,829 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:22,829 [s2@group-619E9D0392E4-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-619E9D0392E4-LeaderStateImpl
2022-05-09 13:04:22,829 [s2@group-619E9D0392E4-LeaderElection38] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-619E9D0392E4-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:22,833 [Thread-980] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-619E9D0392E4: change Leader from null to s2 at term 1 for appendEntries, leader elected after 230ms
2022-05-09 13:04:22,833 [Thread-987] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-619E9D0392E4: change Leader from null to s2 at term 1 for appendEntries, leader elected after 227ms
2022-05-09 13:04:22,836 [s2@group-619E9D0392E4-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-619E9D0392E4: set configuration 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,837 [Thread-985] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:22,837 [Thread-978] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-619E9D0392E4: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:22,837 [Thread-985] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-619E9D0392E4: set configuration 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,837 [Thread-985] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-619E9D0392E4-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:22,841 [Thread-978] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-619E9D0392E4: set configuration 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:22,841 [s2@group-619E9D0392E4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-619E9D0392E4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s2/571b3db9-9a01-4595-b54b-619e9d0392e4/current/log_inprogress_0
2022-05-09 13:04:22,842 [Thread-978] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-619E9D0392E4-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:22,856 [s0@group-619E9D0392E4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-619E9D0392E4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s0/571b3db9-9a01-4595-b54b-619e9d0392e4/current/log_inprogress_0
2022-05-09 13:04:22,856 [s1@group-619E9D0392E4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-619E9D0392E4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcf0726054/s1/571b3db9-9a01-4595-b54b-619e9d0392e4/current/log_inprogress_0
2022-05-09 13:04:22,857 [Thread-1028] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-619E9D0392E4: succeeded to handle AppendEntries. Reply: s2<-s0#572:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:22,858 [Thread-1029] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: succeeded to handle AppendEntries. Reply: s2<-s1#571:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:23,070 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-619E9D0392E4:t1, leader=s2, voted=s2, raftlog=s0@group-619E9D0392E4-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-619E9D0392E4:t1, leader=s2, voted=s2, raftlog=s1@group-619E9D0392E4-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-619E9D0392E4:t1, leader=s2, voted=s2, raftlog=s2@group-619E9D0392E4-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
2022-05-09 13:04:23,071 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:23,074 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1079)) - s2@group-619E9D0392E4: receive setConfiguration SetConfigurationRequest:client-DBC725040B92->s2@group-619E9D0392E4, cid=583, seq=0, RW, null, peers:[s0|priority:2, s1|priority:1, s2|priority:1]
2022-05-09 13:04:23,075 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s2@group-619E9D0392E4-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-DBC725040B92->s2@group-619E9D0392E4, cid=583, seq=0, RW, null, peers:[s0|priority:2, s1|priority:1, s2|priority:1]
2022-05-09 13:04:23,076 [Thread-570] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-05-09 13:04:23,078 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-619E9D0392E4: set configuration 1: [s0|priority:2, s1|priority:1, s2|priority:1], old=[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0]
2022-05-09 13:04:23,078 [Thread-978] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-05-09 13:04:23,078 [Thread-985] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2022-05-09 13:04:23,079 [Thread-985] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-619E9D0392E4: set configuration 1: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0]
2022-05-09 13:04:23,086 [Thread-1040] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: succeeded to handle AppendEntries. Reply: s2<-s1#586:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:23,087 [s2@group-619E9D0392E4-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-619E9D0392E4: set configuration 3: [s0|priority:2, s1|priority:1, s2|priority:1], old=null
2022-05-09 13:04:23,089 [Thread-986] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: [(t:1, i:2), METADATAENTRY(c:1), (t:1, i:3), CONFIGURATIONENTRY]
2022-05-09 13:04:23,089 [Thread-986] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-619E9D0392E4: set configuration 3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:23,094 [Thread-1042] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: succeeded to handle AppendEntries. Reply: s2<-s1#587:OK-t1,SUCCESS,nextIndex=4,followerCommit=1
2022-05-09 13:04:23,096 [Thread-987] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits[s2:c3, s0:c0, s1:c1], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:23,099 [Thread-1044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: succeeded to handle AppendEntries. Reply: s2<-s1#589:OK-t1,SUCCESS,nextIndex=5,followerCommit=3
2022-05-09 13:04:23,104 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(790)) - s2@group-619E9D0392E4: receive client request(RaftClientRequest:client-DBC725040B92->s2@group-619E9D0392E4, cid=590, seq=0, RW, message)
2022-05-09 13:04:23,105 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(971)) - s2@group-619E9D0392E4: receive transferLeadership TransferLeadershipRequest:client-DBC725040B92->s2@group-619E9D0392E4, cid=591, seq=0, RO, null
2022-05-09 13:04:23,106 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s2@group-619E9D0392E4-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-DBC725040B92->s2@group-619E9D0392E4, cid=590, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 590@client-DBC725040B92
2022-05-09 13:04:23,106 [Thread-985] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits[s2:c4, s0:c0, s1:c3], entries: (t:1, i:5), STATEMACHINELOGENTRY, 590@client-DBC725040B92
2022-05-09 13:04:23,167 [Thread-1047] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: succeeded to handle AppendEntries. Reply: s2<-s1#592:OK-t1,SUCCESS,nextIndex=6,followerCommit=4
2022-05-09 13:04:23,169 [Thread-986] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits[s2:c5, s0:c0, s1:c4], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:23,171 [Thread-1051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: succeeded to handle AppendEntries. Reply: s2<-s1#594:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-05-09 13:04:23,231 [s0@group-619E9D0392E4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-619E9D0392E4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:221206945ns, electionTimeout:152ms
2022-05-09 13:04:23,232 [s0@group-619E9D0392E4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-619E9D0392E4-FollowerState
2022-05-09 13:04:23,232 [s0@group-619E9D0392E4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-619E9D0392E4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:23,232 [s0@group-619E9D0392E4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:23,232 [s0@group-619E9D0392E4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-619E9D0392E4-LeaderElection39
2022-05-09 13:04:23,232 [s0@group-619E9D0392E4-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-619E9D0392E4: change Leader from s2 to null at term 1 for PRE_VOTE
2022-05-09 13:04:23,233 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:23,441 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:439920274ns, electionTimeout:271ms
2022-05-09 13:04:23,441 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:23,441 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:23,441 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:23,441 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection40
2022-05-09 13:04:23,442 [s0@group-B8A790CB9ED1-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-B8A790CB9ED1: change Leader from s1 to null at term 1 for PRE_VOTE
2022-05-09 13:04:23,442 [s0@group-B8A790CB9ED1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection40 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:23,443 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:23,443 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:23,443 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:23,443 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:23,443 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:23,443 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:23,443 [s0@group-B8A790CB9ED1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection40: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:23,444 [s0@group-B8A790CB9ED1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:23,444 [s0@group-B8A790CB9ED1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:23,444 [s0@group-B8A790CB9ED1-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection40 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:23,444 [s0@group-B8A790CB9ED1-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:23,444 [s0@group-B8A790CB9ED1-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection40
2022-05-09 13:04:23,444 [s0@group-B8A790CB9ED1-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:23,457 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:23,458 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 0: result TIMEOUT
2022-05-09 13:04:23,458 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 1: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:23,610 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:166513762ns, electionTimeout:166ms
2022-05-09 13:04:23,610 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:23,611 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:23,611 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:23,611 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection41
2022-05-09 13:04:23,611 [s0@group-B8A790CB9ED1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection41 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:23,612 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:23,612 [Thread-576] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:23,613 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:23,613 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:23,613 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:23,613 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:23,614 [s0@group-B8A790CB9ED1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection41: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:23,614 [s0@group-B8A790CB9ED1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:23,614 [s0@group-B8A790CB9ED1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:23,614 [s0@group-B8A790CB9ED1-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection41 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:23,614 [s0@group-B8A790CB9ED1-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:23,614 [s0@group-B8A790CB9ED1-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection41
2022-05-09 13:04:23,614 [s0@group-B8A790CB9ED1-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:23,742 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:23,742 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 1: result TIMEOUT
2022-05-09 13:04:23,743 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 2: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:23,882 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:268227965ns, electionTimeout:266ms
2022-05-09 13:04:23,883 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:23,883 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:23,883 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:23,883 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection42
2022-05-09 13:04:23,883 [s0@group-B8A790CB9ED1-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection42 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:23,884 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:23,884 [Thread-577] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:23,884 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:23,884 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:23,884 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:23,884 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:23,885 [s0@group-B8A790CB9ED1-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection42: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:23,885 [s0@group-B8A790CB9ED1-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:23,885 [s0@group-B8A790CB9ED1-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:23,885 [s0@group-B8A790CB9ED1-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection42 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:23,885 [s0@group-B8A790CB9ED1-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:23,885 [s0@group-B8A790CB9ED1-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection42
2022-05-09 13:04:23,885 [s0@group-B8A790CB9ED1-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:23,957 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:23,957 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 2: result TIMEOUT
2022-05-09 13:04:23,957 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 3: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:24,058 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:172606798ns, electionTimeout:172ms
2022-05-09 13:04:24,058 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:24,058 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:24,058 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:24,058 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection43
2022-05-09 13:04:24,058 [s0@group-B8A790CB9ED1-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection43 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,059 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:24,059 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:24,059 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:24,059 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,059 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:24,060 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,060 [s0@group-B8A790CB9ED1-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection43: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:24,060 [s0@group-B8A790CB9ED1-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:24,060 [s0@group-B8A790CB9ED1-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:24,060 [s0@group-B8A790CB9ED1-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection43 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:24,060 [s0@group-B8A790CB9ED1-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:24,060 [s0@group-B8A790CB9ED1-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection43
2022-05-09 13:04:24,060 [s0@group-B8A790CB9ED1-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:24,230 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169479443ns, electionTimeout:169ms
2022-05-09 13:04:24,230 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:24,230 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:24,230 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:24,230 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection44
2022-05-09 13:04:24,230 [s0@group-B8A790CB9ED1-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection44 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,231 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:24,231 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:24,231 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,231 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:24,232 [Thread-576] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:24,232 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,232 [s0@group-B8A790CB9ED1-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection44: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:24,232 [s0@group-B8A790CB9ED1-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:24,232 [s0@group-B8A790CB9ED1-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:24,232 [s0@group-B8A790CB9ED1-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection44 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:24,232 [s0@group-B8A790CB9ED1-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:24,232 [s0@group-B8A790CB9ED1-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection44
2022-05-09 13:04:24,232 [s0@group-B8A790CB9ED1-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:24,233 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:24,233 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 3: result TIMEOUT
2022-05-09 13:04:24,233 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 4: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:24,507 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:275343843ns, electionTimeout:275ms
2022-05-09 13:04:24,508 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:24,508 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:24,508 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:24,508 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection45
2022-05-09 13:04:24,508 [s0@group-B8A790CB9ED1-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection45 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,509 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:24,509 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:24,509 [Thread-577] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:24,509 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:24,509 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,509 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,509 [s0@group-B8A790CB9ED1-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection45: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:24,509 [s0@group-B8A790CB9ED1-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:24,509 [s0@group-B8A790CB9ED1-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:24,509 [s0@group-B8A790CB9ED1-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection45 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:24,509 [s0@group-B8A790CB9ED1-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:24,510 [s0@group-B8A790CB9ED1-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection45
2022-05-09 13:04:24,510 [s0@group-B8A790CB9ED1-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:24,530 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:24,531 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 4: result TIMEOUT
2022-05-09 13:04:24,531 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 5: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:24,728 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:218395307ns, electionTimeout:218ms
2022-05-09 13:04:24,728 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:24,728 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:24,729 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:24,729 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection46
2022-05-09 13:04:24,729 [s0@group-B8A790CB9ED1-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection46 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,730 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:24,730 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:24,730 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,731 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:24,731 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:24,731 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,732 [s0@group-B8A790CB9ED1-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection46: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:24,732 [s0@group-B8A790CB9ED1-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:24,732 [s0@group-B8A790CB9ED1-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:24,732 [s0@group-B8A790CB9ED1-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection46 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:24,732 [s0@group-B8A790CB9ED1-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:24,732 [s0@group-B8A790CB9ED1-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection46
2022-05-09 13:04:24,732 [s0@group-B8A790CB9ED1-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:24,766 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:24,766 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 5: result TIMEOUT
2022-05-09 13:04:24,766 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 6: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:24,953 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:220552707ns, electionTimeout:220ms
2022-05-09 13:04:24,953 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:24,953 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:24,953 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:24,953 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection47
2022-05-09 13:04:24,953 [s0@group-B8A790CB9ED1-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection47 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,954 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:24,954 [Thread-576] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:24,954 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,954 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:24,955 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:24,955 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:24,955 [s0@group-B8A790CB9ED1-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection47: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:24,955 [s0@group-B8A790CB9ED1-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:24,955 [s0@group-B8A790CB9ED1-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:24,955 [s0@group-B8A790CB9ED1-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection47 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:24,955 [s0@group-B8A790CB9ED1-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:24,955 [s0@group-B8A790CB9ED1-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection47
2022-05-09 13:04:24,956 [s0@group-B8A790CB9ED1-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:25,025 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:25,025 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 6: result TIMEOUT
2022-05-09 13:04:25,025 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 7: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:25,185 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:25,185 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 7: result TIMEOUT
2022-05-09 13:04:25,185 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 8: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:25,197 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:241419696ns, electionTimeout:241ms
2022-05-09 13:04:25,197 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:25,197 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:25,197 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:25,197 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection48
2022-05-09 13:04:25,198 [s0@group-B8A790CB9ED1-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection48 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,198 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:25,198 [Thread-577] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:25,198 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,199 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:25,199 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:25,199 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,199 [s0@group-B8A790CB9ED1-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection48: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:25,199 [s0@group-B8A790CB9ED1-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:25,199 [s0@group-B8A790CB9ED1-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:25,199 [s0@group-B8A790CB9ED1-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection48 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:25,199 [s0@group-B8A790CB9ED1-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:25,199 [s0@group-B8A790CB9ED1-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection48
2022-05-09 13:04:25,199 [s0@group-B8A790CB9ED1-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:25,368 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:168384940ns, electionTimeout:168ms
2022-05-09 13:04:25,368 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:25,368 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:25,368 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:25,368 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection49
2022-05-09 13:04:25,369 [s0@group-B8A790CB9ED1-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection49 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,369 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:25,369 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:25,369 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:25,370 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:25,370 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,369 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,371 [s0@group-B8A790CB9ED1-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection49: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:25,371 [s0@group-B8A790CB9ED1-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:25,371 [s0@group-B8A790CB9ED1-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:25,371 [s0@group-B8A790CB9ED1-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection49 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:25,372 [s0@group-B8A790CB9ED1-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:25,372 [s0@group-B8A790CB9ED1-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection49
2022-05-09 13:04:25,372 [s0@group-B8A790CB9ED1-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:25,411 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:25,411 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 8: result TIMEOUT
2022-05-09 13:04:25,411 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 9: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:25,575 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:203500033ns, electionTimeout:203ms
2022-05-09 13:04:25,576 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:25,576 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:25,576 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:25,576 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection50
2022-05-09 13:04:25,576 [s0@group-B8A790CB9ED1-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection50 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,577 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:25,577 [Thread-576] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:25,578 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,578 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:25,578 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:25,578 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,578 [s0@group-B8A790CB9ED1-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection50: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:25,579 [s0@group-B8A790CB9ED1-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:25,579 [s0@group-B8A790CB9ED1-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:25,579 [s0@group-B8A790CB9ED1-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection50 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:25,579 [s0@group-B8A790CB9ED1-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:25,579 [s0@group-B8A790CB9ED1-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection50
2022-05-09 13:04:25,579 [s0@group-B8A790CB9ED1-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:25,582 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:25,582 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 9: result TIMEOUT
2022-05-09 13:04:25,582 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 10: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:25,761 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181991658ns, electionTimeout:181ms
2022-05-09 13:04:25,761 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:25,761 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:25,761 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:25,761 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection51
2022-05-09 13:04:25,762 [s0@group-B8A790CB9ED1-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection51 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,762 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:25,762 [Thread-577] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:25,762 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,763 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:25,763 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:25,763 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:25,763 [s0@group-B8A790CB9ED1-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection51: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:25,763 [s0@group-B8A790CB9ED1-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:25,763 [s0@group-B8A790CB9ED1-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:25,763 [s0@group-B8A790CB9ED1-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection51 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:25,763 [s0@group-B8A790CB9ED1-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:25,763 [s0@group-B8A790CB9ED1-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection51
2022-05-09 13:04:25,763 [s0@group-B8A790CB9ED1-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:25,802 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:25,802 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 10: result TIMEOUT
2022-05-09 13:04:25,802 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 11: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:26,013 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:249379006ns, electionTimeout:249ms
2022-05-09 13:04:26,013 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:26,013 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:26,013 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:26,013 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection52
2022-05-09 13:04:26,014 [s0@group-B8A790CB9ED1-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection52 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,014 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:26,014 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:26,014 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,014 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:26,015 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:26,015 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,015 [s0@group-B8A790CB9ED1-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection52: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:26,015 [s0@group-B8A790CB9ED1-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:26,015 [s0@group-B8A790CB9ED1-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:26,015 [s0@group-B8A790CB9ED1-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection52 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:26,015 [s0@group-B8A790CB9ED1-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:26,015 [s0@group-B8A790CB9ED1-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection52
2022-05-09 13:04:26,015 [s0@group-B8A790CB9ED1-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:26,077 [s1@group-B8A790CB9ED1->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s1@group-B8A790CB9ED1->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@6916d259
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:26,078 [s2@group-619E9D0392E4->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s2@group-619E9D0392E4->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@31205fa9
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:26,091 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:26,091 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 11: result TIMEOUT
2022-05-09 13:04:26,091 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 12: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:26,102 [Thread-568] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-05-09 13:04:26,104 [Thread-979] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-05-09 13:04:26,171 [Thread-1045] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(355)) - client-DBC725040B92: suggested new leader: null. Failed TransferLeadershipRequest:client-DBC725040B92->s2@group-619E9D0392E4, cid=591, seq=0, RO, null with {}
java.io.IOException: Timeout while waiting for reply of request TransferLeadershipRequest:client-DBC725040B92->s2@group-619E9D0392E4, cid=591, seq=0, RO, null
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:132)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:98)
	at org.apache.ratis.client.impl.AdminImpl.transferLeadership(AdminImpl.java:54)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testTransferLeaderTimeout$1(LeaderElectionTests.java:183)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:26,173 [Thread-1045] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(374)) - client-DBC725040B92: oldLeader=s2,  curLeader=s2, newLeader=s0
2022-05-09 13:04:26,173 [Thread-1045] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(380)) - group-619E9D0392E4 client-DBC725040B92: client change Leader from s2 to s0 ex=java.io.IOException
2022-05-09 13:04:26,265 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:249410998ns, electionTimeout:249ms
2022-05-09 13:04:26,265 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:26,265 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:26,265 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:26,265 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection53
2022-05-09 13:04:26,266 [s0@group-B8A790CB9ED1-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection53 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,266 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:26,267 [Thread-576] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:26,267 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,267 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:26,267 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:26,267 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,267 [s0@group-B8A790CB9ED1-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection53: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:26,268 [s0@group-B8A790CB9ED1-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:26,268 [s0@group-B8A790CB9ED1-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:26,268 [s0@group-B8A790CB9ED1-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection53 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:26,268 [s0@group-B8A790CB9ED1-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:26,268 [s0@group-B8A790CB9ED1-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection53
2022-05-09 13:04:26,268 [s0@group-B8A790CB9ED1-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:26,271 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:26,272 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 12: result TIMEOUT
2022-05-09 13:04:26,272 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 13: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:26,275 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(971)) - s0@group-619E9D0392E4: receive transferLeadership TransferLeadershipRequest:client-DBC725040B92->s0@group-619E9D0392E4, cid=591, seq=0, RO, null
2022-05-09 13:04:26,277 [Thread-1045] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(355)) - client-DBC725040B92: suggested new leader: null. Failed TransferLeadershipRequest:client-DBC725040B92->s0@group-619E9D0392E4, cid=591, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-619E9D0392E4 is not the leader
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:695)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:660)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:976)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$24(RaftServerProxy.java:598)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:776)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:26,278 [Thread-1045] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(374)) - client-DBC725040B92: oldLeader=s0,  curLeader=s0, newLeader=s1
2022-05-09 13:04:26,278 [Thread-1045] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(380)) - group-619E9D0392E4 client-DBC725040B92: client change Leader from s0 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-05-09 13:04:26,378 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(971)) - s1@group-619E9D0392E4: receive transferLeadership TransferLeadershipRequest:client-DBC725040B92->s1@group-619E9D0392E4, cid=591, seq=0, RO, null
2022-05-09 13:04:26,379 [Thread-1045] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(355)) - client-DBC725040B92: suggested new leader: s2. Failed TransferLeadershipRequest:client-DBC725040B92->s1@group-619E9D0392E4, cid=591, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-619E9D0392E4 is not the leader s2|rpc:|dataStream:|priority:1
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:695)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:660)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:976)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$24(RaftServerProxy.java:598)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:776)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:26,380 [Thread-1045] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(374)) - client-DBC725040B92: oldLeader=s1,  curLeader=s1, newLeader=s2
2022-05-09 13:04:26,380 [Thread-1045] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(380)) - group-619E9D0392E4 client-DBC725040B92: client change Leader from s1 to s2 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-05-09 13:04:26,476 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:207704041ns, electionTimeout:207ms
2022-05-09 13:04:26,476 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:26,476 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:26,476 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:26,476 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection54
2022-05-09 13:04:26,477 [s0@group-B8A790CB9ED1-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection54 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,477 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:26,477 [Thread-577] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:26,478 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,478 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:26,478 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:26,478 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,478 [s0@group-B8A790CB9ED1-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection54: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:26,478 [s0@group-B8A790CB9ED1-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:26,479 [s0@group-B8A790CB9ED1-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:26,479 [s0@group-B8A790CB9ED1-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection54 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:26,479 [s0@group-B8A790CB9ED1-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:26,479 [s0@group-B8A790CB9ED1-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection54
2022-05-09 13:04:26,479 [s0@group-B8A790CB9ED1-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:26,480 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(971)) - s2@group-619E9D0392E4: receive transferLeadership TransferLeadershipRequest:client-DBC725040B92->s2@group-619E9D0392E4, cid=591, seq=0, RO, null
2022-05-09 13:04:26,489 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:26,489 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 13: result TIMEOUT
2022-05-09 13:04:26,489 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 14: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:26,732 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:26,732 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 14: result TIMEOUT
2022-05-09 13:04:26,732 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 15: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:26,743 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:264502769ns, electionTimeout:264ms
2022-05-09 13:04:26,743 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:26,744 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:26,744 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:26,744 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection55
2022-05-09 13:04:26,744 [s0@group-B8A790CB9ED1-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection55 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,744 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:26,745 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:26,745 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:26,745 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,745 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:26,745 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,745 [s0@group-B8A790CB9ED1-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection55: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:26,745 [s0@group-B8A790CB9ED1-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:26,745 [s0@group-B8A790CB9ED1-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:26,745 [s0@group-B8A790CB9ED1-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection55 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:26,745 [s0@group-B8A790CB9ED1-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:26,746 [s0@group-B8A790CB9ED1-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection55
2022-05-09 13:04:26,746 [s0@group-B8A790CB9ED1-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:26,903 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:157445805ns, electionTimeout:157ms
2022-05-09 13:04:26,903 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:26,903 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:26,903 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:26,903 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection56
2022-05-09 13:04:26,904 [s0@group-B8A790CB9ED1-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection56 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,905 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:26,905 [Thread-576] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:26,905 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,905 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:26,905 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:26,905 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:26,905 [s0@group-B8A790CB9ED1-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection56: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:26,905 [s0@group-B8A790CB9ED1-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:26,905 [s0@group-B8A790CB9ED1-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:26,906 [s0@group-B8A790CB9ED1-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection56 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:26,906 [s0@group-B8A790CB9ED1-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:26,906 [s0@group-B8A790CB9ED1-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection56
2022-05-09 13:04:26,906 [s0@group-B8A790CB9ED1-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:27,023 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:27,023 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 15: result TIMEOUT
2022-05-09 13:04:27,023 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 16: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:27,182 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:276729660ns, electionTimeout:276ms
2022-05-09 13:04:27,183 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:27,183 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:27,183 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:27,183 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection57
2022-05-09 13:04:27,183 [s0@group-B8A790CB9ED1-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection57 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,184 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:27,184 [Thread-577] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:27,184 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,184 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:27,184 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:27,184 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,185 [s0@group-B8A790CB9ED1-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection57: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:27,185 [s0@group-B8A790CB9ED1-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:27,185 [s0@group-B8A790CB9ED1-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:27,185 [s0@group-B8A790CB9ED1-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection57 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:27,185 [s0@group-B8A790CB9ED1-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:27,185 [s0@group-B8A790CB9ED1-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection57
2022-05-09 13:04:27,185 [s0@group-B8A790CB9ED1-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:27,224 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:27,224 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 16: result TIMEOUT
2022-05-09 13:04:27,224 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 17: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:27,355 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169533699ns, electionTimeout:169ms
2022-05-09 13:04:27,355 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:27,355 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:27,355 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:27,355 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection58
2022-05-09 13:04:27,355 [s0@group-B8A790CB9ED1-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection58 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,358 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:27,358 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:27,358 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:27,358 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,358 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:27,358 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,358 [s0@group-B8A790CB9ED1-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection58: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:27,359 [s0@group-B8A790CB9ED1-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:27,359 [s0@group-B8A790CB9ED1-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:27,359 [s0@group-B8A790CB9ED1-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection58 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:27,359 [s0@group-B8A790CB9ED1-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:27,359 [s0@group-B8A790CB9ED1-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection58
2022-05-09 13:04:27,359 [s0@group-B8A790CB9ED1-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:27,501 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:27,502 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 17: result TIMEOUT
2022-05-09 13:04:27,502 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 18: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:27,513 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:154452440ns, electionTimeout:154ms
2022-05-09 13:04:27,513 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:27,513 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:27,514 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:27,514 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection59
2022-05-09 13:04:27,514 [s0@group-B8A790CB9ED1-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection59 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,514 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:27,514 [Thread-576] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:27,515 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,515 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:27,515 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:27,515 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,515 [s0@group-B8A790CB9ED1-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection59: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:27,515 [s0@group-B8A790CB9ED1-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:27,515 [s0@group-B8A790CB9ED1-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:27,515 [s0@group-B8A790CB9ED1-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection59 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:27,515 [s0@group-B8A790CB9ED1-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:27,515 [s0@group-B8A790CB9ED1-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection59
2022-05-09 13:04:27,515 [s0@group-B8A790CB9ED1-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:27,717 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:27,718 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 18: result TIMEOUT
2022-05-09 13:04:27,718 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 19: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:27,815 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:299146155ns, electionTimeout:298ms
2022-05-09 13:04:27,815 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:27,815 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:27,815 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:27,815 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection60
2022-05-09 13:04:27,815 [s0@group-B8A790CB9ED1-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection60 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,816 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:27,816 [Thread-577] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:27,816 [Thread-577] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,817 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:27,817 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:27,817 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:27,817 [s0@group-B8A790CB9ED1-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection60: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:27,817 [s0@group-B8A790CB9ED1-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:27,817 [s0@group-B8A790CB9ED1-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:27,817 [s0@group-B8A790CB9ED1-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection60 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:27,817 [s0@group-B8A790CB9ED1-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:27,817 [s0@group-B8A790CB9ED1-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection60
2022-05-09 13:04:27,818 [s0@group-B8A790CB9ED1-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:27,882 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:27,883 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 19: result TIMEOUT
2022-05-09 13:04:27,883 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 20: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:28,049 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-05-09 13:04:28,050 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 20: result TIMEOUT
2022-05-09 13:04:28,050 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 21: submit vote requests at term 1 for 0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null
2022-05-09 13:04:28,050 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B8A790CB9ED1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:232384308ns, electionTimeout:232ms
2022-05-09 13:04:28,050 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:28,050 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:28,050 [s0@group-B8A790CB9ED1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:28,050 [s0@group-B8A790CB9ED1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-LeaderElection61
2022-05-09 13:04:28,051 [s0@group-B8A790CB9ED1-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-B8A790CB9ED1-LeaderElection61 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:28,051 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:28,051 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-B8A790CB9ED1-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-05-09 13:04:28,051 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s1@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:28,052 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-B8A790CB9ED1: receive requestVote(PRE_VOTE, s0, group-B8A790CB9ED1, 1, (t:1, i:0))
2022-05-09 13:04:28,052 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-B8A790CB9ED1-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:28,052 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-B8A790CB9ED1 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B8A790CB9ED1:t1, leader=s1, voted=s1, raftlog=s2@group-B8A790CB9ED1-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37967|admin:localhost:36185|client:localhost:44483|dataStream:localhost:46819|priority:0, s1|rpc:localhost:44775|admin:localhost:32931|client:localhost:33611|dataStream:localhost:39865|priority:0, s2|rpc:localhost:40191|admin:localhost:37767|client:localhost:36213|dataStream:localhost:42459|priority:0], old=null
2022-05-09 13:04:28,052 [s0@group-B8A790CB9ED1-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-B8A790CB9ED1-LeaderElection61: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:28,052 [s0@group-B8A790CB9ED1-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-05-09 13:04:28,052 [s0@group-B8A790CB9ED1-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-05-09 13:04:28,052 [s0@group-B8A790CB9ED1-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-B8A790CB9ED1-LeaderElection61 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:28,052 [s0@group-B8A790CB9ED1-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-B8A790CB9ED1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:28,052 [s0@group-B8A790CB9ED1-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B8A790CB9ED1-LeaderElection61
2022-05-09 13:04:28,052 [s0@group-B8A790CB9ED1-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B8A790CB9ED1-FollowerState
2022-05-09 13:04:28,168 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(790)) - s2@group-619E9D0392E4: receive client request(RaftClientRequest:client-DBC725040B92->s2@group-619E9D0392E4, cid=726, seq=0, RW, message)
2022-05-09 13:04:28,169 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s2@group-619E9D0392E4-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-DBC725040B92->s2@group-619E9D0392E4, cid=726, seq=0, RW, message, entry=(t:1, i:7), STATEMACHINELOGENTRY, 726@client-DBC725040B92
2022-05-09 13:04:28,170 [Thread-987] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: receive appendEntries(s2, 1, (t:1, i:6), 6, true, commits[s2:c6, s0:c0, s1:c6], entries: (t:1, i:7), STATEMACHINELOGENTRY, 726@client-DBC725040B92
2022-05-09 13:04:28,171 [Thread-1320] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: succeeded to handle AppendEntries. Reply: s2<-s1#727:OK-t1,SUCCESS,nextIndex=8,followerCommit=6
2022-05-09 13:04:28,172 [Thread-985] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: receive appendEntries(s2, 1, (t:1, i:7), 7, true, commits[s2:c7, s0:c0, s1:c6], entries: (t:1, i:8), METADATAENTRY(c:7)
2022-05-09 13:04:28,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:28,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:28,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:28,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:28,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:28,173 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-619E9D0392E4:t1, leader=null, voted=s2, raftlog=s0@group-619E9D0392E4-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-619E9D0392E4:t1, leader=s2, voted=s2, raftlog=s1@group-619E9D0392E4-SegmentedRaftLog:OPENED:c6, conf=3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-619E9D0392E4:t1, leader=s2, voted=s2, raftlog=s2@group-619E9D0392E4-SegmentedRaftLog:OPENED:c7, conf=3: [s0|priority:2, s1|priority:1, s2|priority:1], old=null RUNNING
2022-05-09 13:04:28,173 [Thread-1321] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-619E9D0392E4: succeeded to handle AppendEntries. Reply: s2<-s1#728:OK-t1,SUCCESS,nextIndex=9,followerCommit=7
2022-05-09 13:04:28,174 [java.util.concurrent.ThreadPoolExecutor$Worker@7eb0ab4e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-05-09 13:04:28,175 [java.util.concurrent.ThreadPoolExecutor$Worker@3e5bed81[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-05-09 13:04:28,175 [java.util.concurrent.ThreadPoolExecutor$Worker@7eb0ab4e[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s0@group-619E9D0392E4: shutdown
2022-05-09 13:04:28,175 [java.util.concurrent.ThreadPoolExecutor$Worker@7eb0ab4e[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-619E9D0392E4,id=s0
2022-05-09 13:04:28,175 [java.util.concurrent.ThreadPoolExecutor$Worker@7eb0ab4e[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-619E9D0392E4-LeaderElection39
2022-05-09 13:04:28,178 [java.util.concurrent.ThreadPoolExecutor$Worker@7eb0ab4e[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-619E9D0392E4-StateMachineUpdater: set stopIndex = 0
2022-05-09 13:04:28,178 [java.util.concurrent.ThreadPoolExecutor$Worker@7eb0ab4e[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s0@group-619E9D0392E4: closes. applyIndex: 0
2022-05-09 13:04:28,178 [s0@group-619E9D0392E4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-619E9D0392E4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:28,178 [java.util.concurrent.ThreadPoolExecutor$Worker@3e5bed81[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s1@group-619E9D0392E4: shutdown
2022-05-09 13:04:28,179 [java.util.concurrent.ThreadPoolExecutor$Worker@7eb0ab4e[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-619E9D0392E4-SegmentedRaftLogWorker close()
2022-05-09 13:04:28,179 [Thread-570] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-05-09 13:04:28,180 [Thread-570] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-B8A790CB9ED1: change Leader from null to s1 at term 1 for appendEntries, leader elected after 4738ms
2022-05-09 13:04:28,178 [java.util.concurrent.ThreadPoolExecutor$Worker@7fc2f78f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-05-09 13:04:28,183 [Thread-978] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-05-09 13:04:28,185 [Thread-982] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,185 [Thread-981] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,185 [Thread-983] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,185 [Thread-979] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-05-09 13:04:28,185 [Thread-980] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,185 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@5288f804] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-05-09 13:04:28,185 [java.util.concurrent.ThreadPoolExecutor$Worker@3e5bed81[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-619E9D0392E4,id=s1
2022-05-09 13:04:28,186 [java.util.concurrent.ThreadPoolExecutor$Worker@3e5bed81[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-619E9D0392E4-FollowerState
2022-05-09 13:04:28,186 [java.util.concurrent.ThreadPoolExecutor$Worker@7fc2f78f[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s2@group-619E9D0392E4: shutdown
2022-05-09 13:04:28,187 [s1@group-619E9D0392E4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-619E9D0392E4-FollowerState was interrupted
2022-05-09 13:04:28,187 [java.util.concurrent.ThreadPoolExecutor$Worker@7fc2f78f[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-619E9D0392E4,id=s2
2022-05-09 13:04:28,187 [java.util.concurrent.ThreadPoolExecutor$Worker@7fc2f78f[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-619E9D0392E4-LeaderStateImpl
2022-05-09 13:04:28,187 [s2@group-619E9D0392E4->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-619E9D0392E4->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-05-09 13:04:28,187 [java.util.concurrent.ThreadPoolExecutor$Worker@3e5bed81[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-619E9D0392E4-StateMachineUpdater: set stopIndex = 7
2022-05-09 13:04:28,187 [java.util.concurrent.ThreadPoolExecutor$Worker@3e5bed81[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s1@group-619E9D0392E4: closes. applyIndex: 7
2022-05-09 13:04:28,188 [s1@group-619E9D0392E4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-619E9D0392E4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:28,189 [s2@group-619E9D0392E4->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-619E9D0392E4->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:28,189 [java.util.concurrent.ThreadPoolExecutor$Worker@7fc2f78f[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-619E9D0392E4-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:28,190 [java.util.concurrent.ThreadPoolExecutor$Worker@3e5bed81[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-619E9D0392E4-SegmentedRaftLogWorker close()
2022-05-09 13:04:28,190 [java.util.concurrent.ThreadPoolExecutor$Worker@7fc2f78f[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-619E9D0392E4-StateMachineUpdater: set stopIndex = 8
2022-05-09 13:04:28,191 [java.util.concurrent.ThreadPoolExecutor$Worker@7fc2f78f[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s2@group-619E9D0392E4: closes. applyIndex: 8
2022-05-09 13:04:28,191 [s2@group-619E9D0392E4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-619E9D0392E4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:28,197 [Thread-988] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,198 [java.util.concurrent.ThreadPoolExecutor$Worker@7fc2f78f[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-619E9D0392E4-SegmentedRaftLogWorker close()
2022-05-09 13:04:28,198 [Thread-989] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,198 [Thread-990] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,199 [Thread-985] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,199 [Thread-986] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,200 [Thread-987] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,200 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@2194504d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-05-09 13:04:28,201 [Thread-995] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,201 [Thread-996] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,201 [Thread-997] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,201 [Thread-992] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,201 [Thread-994] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,201 [Thread-993] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,201 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@737e312d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-05-09 13:04:28,202 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:28,202 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:28,202 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:28,202 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:28,202 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:28,202 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:28,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:   CLOSED CANDIDATE s0@group-619E9D0392E4:t1, leader=null, voted=s2, raftlog=s0@group-619E9D0392E4-SegmentedRaftLog:CLOSED:c0, conf=0: [s0|rpc:localhost:35655|admin:localhost:41535|client:localhost:38431|dataStream:localhost:35487|priority:0, s1|rpc:localhost:46023|admin:localhost:37765|client:localhost:46317|dataStream:localhost:37607|priority:0, s2|rpc:localhost:35511|admin:localhost:38693|client:localhost:40763|dataStream:localhost:37497|priority:0], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-619E9D0392E4:t1, leader=s2, voted=s2, raftlog=s1@group-619E9D0392E4-SegmentedRaftLog:CLOSED:c7, conf=3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-619E9D0392E4:t1, leader=s2, voted=s2, raftlog=s2@group-619E9D0392E4-SegmentedRaftLog:CLOSED:c8, conf=3: [s0|priority:2, s1|priority:1, s2|priority:1], old=null CLOSED
2022-05-09 13:04:28,203 [Thread-568] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-05-09 13:04:28,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:28,208 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:28,208 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:28,208 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:28,208 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:28,209 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testBasicLeaderElection(80)) - Running testBasicLeaderElection
2022-05-09 13:04:28,210 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-05-09 13:04:28,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0]
2022-05-09 13:04:28,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-05-09 13:04:28,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-05-09 13:04:28,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:28,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-05-09 13:04:28,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-05-09 13:04:28,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-05-09 13:04:28,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s3, group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], format? true
2022-05-09 13:04:28,223 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3
2022-05-09 13:04:28,223 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3 does not exist.
2022-05-09 13:04:28,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3
2022-05-09 13:04:28,224 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:28,224 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:28,224 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:28,224 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:28,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:28,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:28,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3] (custom)
2022-05-09 13:04:28,226 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s3: addNew group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0] returns group-FB18B597608E:java.util.concurrent.CompletableFuture@5383dbc3[Not completed]
2022-05-09 13:04:28,226 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s3: new RaftServerImpl for group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:28,226 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s4, group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], format? true
2022-05-09 13:04:28,227 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4
2022-05-09 13:04:28,226 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:28,227 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4 does not exist.
2022-05-09 13:04:28,227 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4
2022-05-09 13:04:28,227 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:28,227 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:28,227 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:28,227 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:28,227 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:28,227 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:28,228 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:28,228 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s3@group-FB18B597608E: ConfigurationManager, init=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:28,228 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:28,228 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:28,228 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:28,228 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:28,228 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4] (custom)
2022-05-09 13:04:28,228 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3] (custom)
2022-05-09 13:04:28,229 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:28,229 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:28,229 [pool-18-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e does not exist. Creating ...
2022-05-09 13:04:28,229 [pool-18-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e
2022-05-09 13:04:28,230 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s4: addNew group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0] returns group-FB18B597608E:java.util.concurrent.CompletableFuture@275d3f0a[Not completed]
2022-05-09 13:04:28,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], format? true
2022-05-09 13:04:28,230 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0
2022-05-09 13:04:28,230 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0 does not exist.
2022-05-09 13:04:28,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0
2022-05-09 13:04:28,230 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:28,230 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:28,230 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:28,230 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:28,230 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:28,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:28,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0] (custom)
2022-05-09 13:04:28,231 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0] returns group-FB18B597608E:java.util.concurrent.CompletableFuture@38c772ba[Not completed]
2022-05-09 13:04:28,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], format? true
2022-05-09 13:04:28,232 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1
2022-05-09 13:04:28,232 [pool-18-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:28,232 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1 does not exist.
2022-05-09 13:04:28,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1
2022-05-09 13:04:28,232 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s0: new RaftServerImpl for group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:28,232 [pool-18-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e/current
2022-05-09 13:04:28,232 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s4: new RaftServerImpl for group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:28,232 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:28,232 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:28,232 [pool-18-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e/sm
2022-05-09 13:04:28,233 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:28,233 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:28,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:28,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:28,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:28,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:28,233 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:28,233 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:28,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1] (custom)
2022-05-09 13:04:28,233 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:28,233 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:28,234 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:28,234 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:28,234 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:28,233 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:28,234 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s4@group-FB18B597608E: ConfigurationManager, init=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:28,234 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:28,234 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4] (custom)
2022-05-09 13:04:28,234 [pool-18-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e has been successfully formatted.
2022-05-09 13:04:28,234 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:28,234 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:28,234 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:28,234 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,234 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:28,235 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0] returns group-FB18B597608E:java.util.concurrent.CompletableFuture@72e0aa8f[Not completed]
2022-05-09 13:04:28,235 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], format? true
2022-05-09 13:04:28,235 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2
2022-05-09 13:04:28,234 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:28,235 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-FB18B597608E: ConfigurationManager, init=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:28,235 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0] (custom)
2022-05-09 13:04:28,235 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:28,235 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:28,235 [pool-20-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e does not exist. Creating ...
2022-05-09 13:04:28,236 [pool-20-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e
2022-05-09 13:04:28,237 [pool-20-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:28,237 [pool-20-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current
2022-05-09 13:04:28,238 [pool-20-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/sm
2022-05-09 13:04:28,235 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2 does not exist.
2022-05-09 13:04:28,239 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2
2022-05-09 13:04:28,235 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:28,239 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:28,239 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:28,234 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:28,239 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:28,239 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:28,239 [pool-18-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-FB18B597608E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e
2022-05-09 13:04:28,239 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:28,239 [pool-20-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e has been successfully formatted.
2022-05-09 13:04:28,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:28,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:28,239 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:28,239 [pool-19-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4/1faa4ce5-676a-4c74-b94e-fb18b597608e does not exist. Creating ...
2022-05-09 13:04:28,240 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:28,240 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:28,240 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:28,240 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:28,240 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:28,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:28,240 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:28,240 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s1: new RaftServerImpl for group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:28,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:28,240 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:28,241 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2] (custom)
2022-05-09 13:04:28,240 [pool-19-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4/1faa4ce5-676a-4c74-b94e-fb18b597608e
2022-05-09 13:04:28,241 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:28,240 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:28,241 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:28,241 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,241 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:28,241 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:28,242 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:28,242 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:28,242 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:28,242 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:28,242 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:28,242 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:28,242 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:28,242 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:28,242 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0] returns group-FB18B597608E:java.util.concurrent.CompletableFuture@5cf5a6a3[Not completed]
2022-05-09 13:04:28,243 [pool-19-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4/1faa4ce5-676a-4c74-b94e-fb18b597608e/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:28,243 [pool-18-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-FB18B597608E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:28,243 [pool-18-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-FB18B597608E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:28,243 [pool-19-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4/1faa4ce5-676a-4c74-b94e-fb18b597608e/current
2022-05-09 13:04:28,243 [pool-19-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4/1faa4ce5-676a-4c74-b94e-fb18b597608e/sm
2022-05-09 13:04:28,243 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:28,243 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:28,242 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-FB18B597608E: ConfigurationManager, init=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:28,243 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:28,243 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1] (custom)
2022-05-09 13:04:28,243 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:28,244 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:28,244 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:28,243 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:28,244 [pool-21-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e does not exist. Creating ...
2022-05-09 13:04:28,244 [pool-20-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-FB18B597608E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e
2022-05-09 13:04:28,244 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:28,244 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:28,244 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:28,244 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:28,244 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:28,244 [pool-21-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e
2022-05-09 13:04:28,245 [pool-19-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4/1faa4ce5-676a-4c74-b94e-fb18b597608e has been successfully formatted.
2022-05-09 13:04:28,245 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:28,245 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:28,245 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:28,245 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,245 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:28,245 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:28,245 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:28,245 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:28,245 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:28,245 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:28,245 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:28,245 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:28,245 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s3@group-FB18B597608E: start as a follower, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,246 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s3@group-FB18B597608E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:28,246 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:28,245 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-FB18B597608E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4/1faa4ce5-676a-4c74-b94e-fb18b597608e
2022-05-09 13:04:28,246 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:28,246 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:28,246 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:28,246 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:28,247 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:28,246 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB18B597608E,id=s3
2022-05-09 13:04:28,247 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s2: new RaftServerImpl for group-FB18B597608E:[s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:28,247 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:28,247 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:28,247 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:28,247 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:28,248 [pool-19-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-FB18B597608E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:28,248 [pool-19-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-FB18B597608E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:28,248 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:28,248 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:28,248 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:28,248 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:28,248 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:28,248 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:28,248 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:28,248 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:28,248 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-FB18B597608E: ConfigurationManager, init=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:28,248 [pool-20-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-FB18B597608E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:28,248 [pool-20-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-FB18B597608E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:28,248 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2] (custom)
2022-05-09 13:04:28,249 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:28,249 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:28,249 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s3: start RPC server
2022-05-09 13:04:28,249 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:28,249 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:28,249 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:28,249 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:28,249 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:28,249 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:28,249 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:28,249 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:28,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:28,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:28,250 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:28,250 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:28,250 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:28,250 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:28,250 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:28,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:28,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:28,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:28,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:28,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:28,251 [pool-21-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:28,251 [pool-21-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current
2022-05-09 13:04:28,251 [pool-21-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/sm
2022-05-09 13:04:28,252 [pool-22-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e does not exist. Creating ...
2022-05-09 13:04:28,254 [pool-22-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e
2022-05-09 13:04:28,254 [pool-21-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e has been successfully formatted.
2022-05-09 13:04:28,254 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:28,254 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:28,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:28,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:28,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:28,255 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s4@group-FB18B597608E: start as a follower, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,255 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-FB18B597608E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:28,255 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:28,255 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@2bb6db60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-05-09 13:04:28,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:28,256 [pool-21-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-FB18B597608E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e
2022-05-09 13:04:28,256 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB18B597608E,id=s4
2022-05-09 13:04:28,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:28,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:28,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:28,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:28,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:28,257 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s4: start RPC server
2022-05-09 13:04:28,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:28,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:28,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:28,258 [pool-22-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:28,258 [pool-22-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current
2022-05-09 13:04:28,258 [pool-22-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/sm
2022-05-09 13:04:28,259 [pool-22-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e has been successfully formatted.
2022-05-09 13:04:28,259 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:28,259 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-FB18B597608E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:28,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:28,260 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-619E9D0392E4-LeaderElection39: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-05-09 13:04:28,260 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:28,261 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:28,261 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:28,261 [pool-21-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-FB18B597608E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:28,261 [pool-21-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-FB18B597608E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:28,262 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@505ad5c1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2022-05-09 13:04:28,264 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s0@group-FB18B597608E: start as a follower, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,264 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:28,264 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:28,264 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:28,264 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:28,264 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:28,264 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:28,265 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,264 [s0@group-619E9D0392E4-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-619E9D0392E4-LeaderElection39 PRE_VOTE round 21: result REJECTED
2022-05-09 13:04:28,265 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB18B597608E,id=s0
2022-05-09 13:04:28,270 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:28,270 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:28,270 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:28,270 [pool-22-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-FB18B597608E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:28,270 [pool-22-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-FB18B597608E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:28,271 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:28,271 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:28,271 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:28,271 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:28,271 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:28,271 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:28,271 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:28,271 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:28,271 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-05-09 13:04:28,271 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:28,271 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:28,272 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:28,272 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:28,272 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:28,272 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:28,272 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:28,273 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s1@group-FB18B597608E: start as a follower, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,273 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:28,273 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,273 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@3235a590] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-05-09 13:04:28,274 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB18B597608E,id=s1
2022-05-09 13:04:28,274 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-05-09 13:04:28,275 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@4384ddcb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-05-09 13:04:28,275 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s2@group-FB18B597608E: start as a follower, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,275 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-FB18B597608E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:28,275 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,275 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB18B597608E,id=s2
2022-05-09 13:04:28,276 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-05-09 13:04:28,277 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@5e746300] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-05-09 13:04:28,277 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:28,277 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-FB18B597608E:t0, leader=null, voted=, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-FB18B597608E:t0, leader=null, voted=, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t0, leader=null, voted=, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t0, leader=null, voted=, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t0, leader=null, voted=, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
2022-05-09 13:04:28,277 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-FB18B597608E:t0, leader=null, voted=, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-FB18B597608E:t0, leader=null, voted=, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t0, leader=null, voted=, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t0, leader=null, voted=, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t0, leader=null, voted=, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-FB18B597608E:t0, leader=null, voted=, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-FB18B597608E:t0, leader=null, voted=, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t0, leader=null, voted=, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t0, leader=null, voted=, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t0, leader=null, voted=, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:28,445 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:171627248ns, electionTimeout:171ms
2022-05-09 13:04:28,445 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,445 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:28,445 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:28,446 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection62
2022-05-09 13:04:28,447 [s4@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191383194ns, electionTimeout:190ms
2022-05-09 13:04:28,447 [s4@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,447 [s4@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:28,447 [s4@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:28,447 [s4@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-FB18B597608E-LeaderElection63
2022-05-09 13:04:28,448 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection62 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,448 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-FB18B597608E-LeaderElection63 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,458 [Thread-1338] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 0, (t:0, i:0))
2022-05-09 13:04:28,458 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s4, group-FB18B597608E, 0, (t:0, i:0))
2022-05-09 13:04:28,459 [Thread-1346] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,459 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s4<-s0#0:OK-t0. Peer's state: s0@group-FB18B597608E:t0, leader=null, voted=, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,459 [Thread-1359] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 0, (t:0, i:0))
2022-05-09 13:04:28,459 [Thread-1359] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,459 [Thread-1359] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-FB18B597608E:t0, leader=null, voted=, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,458 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 0, (t:0, i:0))
2022-05-09 13:04:28,458 [Thread-1331] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 0, (t:0, i:0))
2022-05-09 13:04:28,459 [Thread-1331] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,459 [Thread-1331] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s3#0:OK-t0. Peer's state: s3@group-FB18B597608E:t0, leader=null, voted=, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,459 [Thread-1331] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-FB18B597608E: receive requestVote(PRE_VOTE, s4, group-FB18B597608E, 0, (t:0, i:0))
2022-05-09 13:04:28,459 [Thread-1331] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,459 [Thread-1331] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-FB18B597608E replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-FB18B597608E:t0, leader=null, voted=, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,458 [Thread-1338] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-FB18B597608E-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,463 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-FB18B597608E-LeaderElection63: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:28,463 [Thread-1352] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(PRE_VOTE, s4, group-FB18B597608E, 0, (t:0, i:0))
2022-05-09 13:04:28,463 [Thread-1352] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,463 [Thread-1352] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to PRE_VOTE vote request: s4<-s1#0:OK-t0. Peer's state: s1@group-FB18B597608E:t0, leader=null, voted=, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,463 [Thread-1360] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FB18B597608E: receive requestVote(PRE_VOTE, s4, group-FB18B597608E, 0, (t:0, i:0))
2022-05-09 13:04:28,463 [Thread-1345] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,463 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-FB18B597608E:t0, leader=null, voted=, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,463 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection62: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-05-09 13:04:28,464 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:OK-t0
2022-05-09 13:04:28,463 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t0
2022-05-09 13:04:28,464 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:OK-t0
2022-05-09 13:04:28,463 [Thread-1338] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s4#0:OK-t0. Peer's state: s4@group-FB18B597608E:t0, leader=null, voted=, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,464 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-FB18B597608E-LeaderElection63 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:28,464 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:OK-t0
2022-05-09 13:04:28,465 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection62 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:28,464 [Thread-1360] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,465 [Thread-1360] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FB18B597608E replies to PRE_VOTE vote request: s4<-s2#0:OK-t0. Peer's state: s2@group-FB18B597608E:t0, leader=null, voted=, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,466 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-FB18B597608E-LeaderElection63 ELECTION round 0: submit vote requests at term 1 for -1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,467 [Thread-1333] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-FB18B597608E: receive requestVote(ELECTION, s4, group-FB18B597608E, 1, (t:0, i:0))
2022-05-09 13:04:28,467 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection62 ELECTION round 0: submit vote requests at term 1 for -1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,470 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(ELECTION, s4, group-FB18B597608E, 1, (t:0, i:0))
2022-05-09 13:04:28,470 [Thread-1353] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-CANDIDATE: reject ELECTION from s4: already has voted for s1 at current term 1
2022-05-09 13:04:28,470 [Thread-1331] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s3@group-FB18B597608E: receive requestVote(ELECTION, s1, group-FB18B597608E, 1, (t:0, i:0))
2022-05-09 13:04:28,470 [Thread-1333] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-FB18B597608E-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,470 [Thread-1333] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s3@group-FB18B597608E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-05-09 13:04:28,470 [Thread-1333] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,467 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(ELECTION, s4, group-FB18B597608E, 1, (t:0, i:0))
2022-05-09 13:04:28,471 [Thread-1347] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,471 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-05-09 13:04:28,471 [Thread-1347] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,470 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to ELECTION vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-FB18B597608E:t1, leader=null, voted=s1, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,471 [Thread-1361] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FB18B597608E: receive requestVote(ELECTION, s4, group-FB18B597608E, 1, (t:0, i:0))
2022-05-09 13:04:28,471 [Thread-1361] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FB18B597608E-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,471 [Thread-1361] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-FB18B597608E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-05-09 13:04:28,471 [Thread-1361] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,471 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(ELECTION, s1, group-FB18B597608E, 1, (t:0, i:0))
2022-05-09 13:04:28,472 [Thread-1347] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,472 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FB18B597608E-FollowerState was interrupted
2022-05-09 13:04:28,472 [Thread-1359] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FB18B597608E: receive requestVote(ELECTION, s1, group-FB18B597608E, 1, (t:0, i:0))
2022-05-09 13:04:28,472 [Thread-1333] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,473 [s3@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-FB18B597608E-FollowerState was interrupted
2022-05-09 13:04:28,473 [Thread-1361] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,473 [Thread-1339] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s4@group-FB18B597608E: receive requestVote(ELECTION, s1, group-FB18B597608E, 1, (t:0, i:0))
2022-05-09 13:04:28,473 [s2@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FB18B597608E-FollowerState was interrupted
2022-05-09 13:04:28,473 [Thread-1339] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-FB18B597608E-CANDIDATE: reject ELECTION from s1: already has voted for s4 at current term 1
2022-05-09 13:04:28,474 [Thread-1339] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s4@group-FB18B597608E replies to ELECTION vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-FB18B597608E:t1, leader=null, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,474 [Thread-1333] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-FB18B597608E replies to ELECTION vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-FB18B597608E:t1, leader=null, voted=s4, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,474 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to ELECTION vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-FB18B597608E:t1, leader=null, voted=s4, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,474 [Thread-1331] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-FB18B597608E-FOLLOWER: reject ELECTION from s1: already has voted for s4 at current term 1
2022-05-09 13:04:28,474 [Thread-1331] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s3@group-FB18B597608E replies to ELECTION vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-FB18B597608E:t1, leader=null, voted=s4, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,474 [Thread-1346] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: reject ELECTION from s1: already has voted for s4 at current term 1
2022-05-09 13:04:28,474 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-FB18B597608E:t1, leader=null, voted=s4, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,475 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-FB18B597608E-LeaderElection63: ELECTION PASSED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:28,478 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t1
2022-05-09 13:04:28,478 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:OK-t1
2022-05-09 13:04:28,478 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:FAIL-t1
2022-05-09 13:04:28,478 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-FB18B597608E-LeaderElection63 ELECTION round 0: result PASSED
2022-05-09 13:04:28,478 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-FB18B597608E-LeaderElection63
2022-05-09 13:04:28,478 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s4@group-FB18B597608E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-05-09 13:04:28,478 [Thread-1361] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FB18B597608E replies to ELECTION vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-FB18B597608E:t1, leader=null, voted=s4, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,478 [Thread-1359] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FB18B597608E-FOLLOWER: reject ELECTION from s1: already has voted for s4 at current term 1
2022-05-09 13:04:28,479 [Thread-1359] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FB18B597608E replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-FB18B597608E:t1, leader=null, voted=s4, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,478 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s4@group-FB18B597608E: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 233ms
2022-05-09 13:04:28,479 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:28,479 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection62: ELECTION REJECTED received 3 response(s) and 0 exception(s):
2022-05-09 13:04:28,479 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-05-09 13:04:28,479 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s4#0:FAIL-t1
2022-05-09 13:04:28,479 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s2#0:FAIL-t1
2022-05-09 13:04:28,479 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection62 ELECTION round 0: result REJECTED
2022-05-09 13:04:28,479 [s1@group-FB18B597608E-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-05-09 13:04:28,479 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection62
2022-05-09 13:04:28,479 [s1@group-FB18B597608E-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,479 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:28,479 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:28,480 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:28,480 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:28,480 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:28,480 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:28,480 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:28,480 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:28,480 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,480 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:28,482 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:28,482 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,482 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:28,482 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:28,482 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,482 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:28,483 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:28,483 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,483 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:28,483 [s4@group-FB18B597608E-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-FB18B597608E-LeaderStateImpl
2022-05-09 13:04:28,483 [s4@group-FB18B597608E-LeaderElection63] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s4@group-FB18B597608E-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:28,484 [Thread-1345] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-FB18B597608E: change Leader from null to s4 at term 1 for appendEntries, leader elected after 244ms
2022-05-09 13:04:28,486 [Thread-1332] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s3@group-FB18B597608E: change Leader from null to s4 at term 1 for appendEntries, leader elected after 252ms
2022-05-09 13:04:28,488 [Thread-1360] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-FB18B597608E: change Leader from null to s4 at term 1 for appendEntries, leader elected after 228ms
2022-05-09 13:04:28,490 [Thread-1333] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s3@group-FB18B597608E: receive appendEntries(s4, 1, null, -1, true, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:28,494 [Thread-1347] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FB18B597608E: receive appendEntries(s4, 1, null, -1, true, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:28,496 [s4@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s4/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0
2022-05-09 13:04:28,498 [s4@group-FB18B597608E-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s4@group-FB18B597608E: set configuration 0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,498 [Thread-1333] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s3@group-FB18B597608E: set configuration 0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,498 [Thread-1333] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s3@group-FB18B597608E-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:28,498 [Thread-1354] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-FB18B597608E: change Leader from null to s4 at term 1 for appendEntries, leader elected after 244ms
2022-05-09 13:04:28,499 [Thread-1347] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-FB18B597608E: set configuration 0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,499 [Thread-1347] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-FB18B597608E-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:28,506 [Thread-1352] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FB18B597608E: receive appendEntries(s4, 1, null, 0, true, commits[s4:c0, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:28,506 [Thread-1361] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FB18B597608E: receive appendEntries(s4, 1, null, 0, true, commits[s4:c0, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:28,510 [Thread-1352] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-FB18B597608E: set configuration 0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,511 [Thread-1361] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-FB18B597608E: set configuration 0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,511 [s3@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0
2022-05-09 13:04:28,511 [Thread-1352] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-FB18B597608E-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:28,516 [Thread-1361] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-FB18B597608E-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:28,524 [Thread-1421] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s3@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s4<-s3#740:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:28,538 [s0@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0
2022-05-09 13:04:28,538 [s1@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0
2022-05-09 13:04:28,539 [s2@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0
2022-05-09 13:04:28,539 [Thread-1423] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s4<-s0#742:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:28,539 [Thread-1422] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s4<-s1#743:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-05-09 13:04:28,540 [Thread-1424] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s4<-s2#744:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-05-09 13:04:28,728 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t1, leader=s4, voted=s1, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
2022-05-09 13:04:28,729 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
2022-05-09 13:04:28,729 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(485)) - killServer s4
2022-05-09 13:04:28,729 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s4: close
2022-05-09 13:04:28,729 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s4@group-FB18B597608E: shutdown
2022-05-09 13:04:28,729 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB18B597608E,id=s4
2022-05-09 13:04:28,729 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s4: shutdown s4@group-FB18B597608E-LeaderStateImpl
2022-05-09 13:04:28,729 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s4@group-FB18B597608E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:28,730 [s4@group-FB18B597608E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-FB18B597608E->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:28,729 [s4@group-FB18B597608E->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-FB18B597608E->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:28,729 [s4@group-FB18B597608E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-FB18B597608E->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:28,730 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s4@group-FB18B597608E-StateMachineUpdater: set stopIndex = 0
2022-05-09 13:04:28,731 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s4@group-FB18B597608E: closes. applyIndex: 0
2022-05-09 13:04:28,730 [s4@group-FB18B597608E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-FB18B597608E->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:28,731 [s4@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s4@group-FB18B597608E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:28,732 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-FB18B597608E-SegmentedRaftLogWorker close()
2022-05-09 13:04:28,734 [Thread-1343] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,734 [Thread-1341] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,734 [Thread-1342] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,734 [Thread-1339] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,734 [Thread-1338] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,734 [Thread-1340] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:28,735 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@505ad5c1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2022-05-09 13:04:28,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:28,735 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t1, leader=s4, voted=s1, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
2022-05-09 13:04:28,736 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t1, leader=s4, voted=s1, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t1, leader=s4, voted=s1, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:28,934 [s3@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:256329075ns, electionTimeout:208ms
2022-05-09 13:04:28,934 [s3@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,934 [s3@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s3@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:28,934 [s3@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:28,934 [s3@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-FB18B597608E-LeaderElection64
2022-05-09 13:04:28,935 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s3@group-FB18B597608E: change Leader from s4 to null at term 1 for PRE_VOTE
2022-05-09 13:04:28,935 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-FB18B597608E-LeaderElection64 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,935 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s3, group-FB18B597608E, 1, (t:1, i:0))
2022-05-09 13:04:28,936 [Thread-1347] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,936 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,936 [Thread-1352] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(PRE_VOTE, s3, group-FB18B597608E, 1, (t:1, i:0))
2022-05-09 13:04:28,936 [Thread-1352] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,936 [Thread-1352] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to PRE_VOTE vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-FB18B597608E:t1, leader=s4, voted=s1, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,937 [Thread-1361] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FB18B597608E: receive requestVote(PRE_VOTE, s3, group-FB18B597608E, 1, (t:1, i:0))
2022-05-09 13:04:28,937 [Thread-1361] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,937 [Thread-1361] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FB18B597608E replies to PRE_VOTE vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,937 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-FB18B597608E-LeaderElection64 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:28,937 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-FB18B597608E-LeaderElection64: PRE_VOTE PASSED received 2 response(s) and 1 exception(s):
2022-05-09 13:04:28,937 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s0#0:OK-t1
2022-05-09 13:04:28,937 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s1#0:OK-t1
2022-05-09 13:04:28,937 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:28,937 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-FB18B597608E-LeaderElection64 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:28,940 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-FB18B597608E-LeaderElection64 ELECTION round 0: submit vote requests at term 2 for 0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,945 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(ELECTION, s3, group-FB18B597608E, 2, (t:1, i:0))
2022-05-09 13:04:28,945 [Thread-1346] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,945 [Thread-1346] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-FB18B597608E: change Leader from s4 to null at term 2 for updateCurrentTerm
2022-05-09 13:04:28,945 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s3
2022-05-09 13:04:28,945 [Thread-1346] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,954 [Thread-1346] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,954 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FB18B597608E-FollowerState was interrupted
2022-05-09 13:04:28,954 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-FB18B597608E-LeaderElection64 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:28,954 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(ELECTION, s3, group-FB18B597608E, 2, (t:1, i:0))
2022-05-09 13:04:28,954 [Thread-1359] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FB18B597608E: receive requestVote(ELECTION, s3, group-FB18B597608E, 2, (t:1, i:0))
2022-05-09 13:04:28,954 [Thread-1353] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,954 [Thread-1359] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FB18B597608E-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-05-09 13:04:28,954 [Thread-1353] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-FB18B597608E: change Leader from s4 to null at term 2 for updateCurrentTerm
2022-05-09 13:04:28,954 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s3
2022-05-09 13:04:28,954 [Thread-1359] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-FB18B597608E: change Leader from s4 to null at term 2 for updateCurrentTerm
2022-05-09 13:04:28,954 [Thread-1353] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,955 [Thread-1359] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-FB18B597608E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s3
2022-05-09 13:04:28,955 [Thread-1359] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,955 [Thread-1359] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,955 [s2@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FB18B597608E-FollowerState was interrupted
2022-05-09 13:04:28,955 [Thread-1353] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:28,955 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FB18B597608E-FollowerState was interrupted
2022-05-09 13:04:28,957 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to ELECTION vote request: s3<-s0#0:OK-t2. Peer's state: s0@group-FB18B597608E:t2, leader=null, voted=s3, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,957 [Thread-1359] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FB18B597608E replies to ELECTION vote request: s3<-s2#0:OK-t2. Peer's state: s2@group-FB18B597608E:t2, leader=null, voted=s3, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,957 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to ELECTION vote request: s3<-s1#0:OK-t2. Peer's state: s1@group-FB18B597608E:t2, leader=null, voted=s3, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,957 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-FB18B597608E-LeaderElection64: ELECTION PASSED received 2 response(s) and 1 exception(s):
2022-05-09 13:04:28,957 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s0#0:OK-t2
2022-05-09 13:04:28,957 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s2#0:OK-t2
2022-05-09 13:04:28,957 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-FB18B597608E-LeaderElection64 ELECTION round 0: result PASSED
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-FB18B597608E-LeaderElection64
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s3@group-FB18B597608E: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s3@group-FB18B597608E: change Leader from null to s3 at term 2 for becomeLeader, leader elected after 23ms
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:28,958 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:28,959 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:28,959 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,959 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:28,959 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:28,959 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,959 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:28,960 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:28,960 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,960 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:28,960 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:28,960 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:28,960 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:28,960 [s3@group-FB18B597608E-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-FB18B597608E-LeaderStateImpl
2022-05-09 13:04:28,961 [s3@group-FB18B597608E-LeaderElection64] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s3@group-FB18B597608E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-05-09 13:04:28,964 [s3@group-FB18B597608E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_0-0
2022-05-09 13:04:28,964 [s3@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s3@group-FB18B597608E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_0-0
2022-05-09 13:04:28,972 [s3@group-FB18B597608E->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s3@group-FB18B597608E->s4-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:28,973 [Thread-1345] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-FB18B597608E: change Leader from null to s3 at term 2 for appendEntries, leader elected after 28ms
2022-05-09 13:04:28,973 [Thread-1354] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-FB18B597608E: change Leader from null to s3 at term 2 for appendEntries, leader elected after 18ms
2022-05-09 13:04:28,977 [s3@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s3/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_1
2022-05-09 13:04:28,978 [s3@group-FB18B597608E-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s3@group-FB18B597608E: set configuration 1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,978 [Thread-1360] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-FB18B597608E: change Leader from null to s3 at term 2 for appendEntries, leader elected after 24ms
2022-05-09 13:04:28,979 [Thread-1361] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FB18B597608E: receive appendEntries(s3, 2, (t:1, i:0), 0, true, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-05-09 13:04:28,979 [Thread-1361] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-FB18B597608E: set configuration 1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,979 [Thread-1361] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-FB18B597608E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-05-09 13:04:28,981 [s2@group-FB18B597608E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_0-0
2022-05-09 13:04:28,981 [s2@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-FB18B597608E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_0-0
2022-05-09 13:04:28,982 [Thread-1352] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FB18B597608E: receive appendEntries(s3, 2, (t:1, i:0), 0, true, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-05-09 13:04:28,982 [Thread-1352] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-FB18B597608E: set configuration 1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,982 [Thread-1352] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-FB18B597608E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-05-09 13:04:28,983 [s1@group-FB18B597608E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_0-0
2022-05-09 13:04:28,983 [s1@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-FB18B597608E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_0-0
2022-05-09 13:04:28,986 [Thread-1347] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FB18B597608E: receive appendEntries(s3, 2, (t:1, i:0), 0, true, commits[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-05-09 13:04:28,987 [Thread-1347] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-FB18B597608E: set configuration 1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:28,987 [Thread-1347] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-FB18B597608E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-05-09 13:04:28,988 [s0@group-FB18B597608E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_0-0
2022-05-09 13:04:28,988 [s0@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-FB18B597608E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_0-0
2022-05-09 13:04:29,008 [s0@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_1
2022-05-09 13:04:29,008 [s2@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_1
2022-05-09 13:04:29,009 [s1@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_1
2022-05-09 13:04:29,010 [Thread-1465] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s3<-s2#770:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:29,016 [Thread-1466] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s3<-s0#772:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:29,018 [Thread-1346] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FB18B597608E: receive appendEntries(s3, 2, (t:2, i:1), 1, true, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:29,018 [Thread-1467] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s3<-s1#771:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:29,018 [Thread-1359] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FB18B597608E: receive appendEntries(s3, 2, (t:2, i:1), 1, true, commits[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:29,019 [Thread-1468] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s3<-s0#774:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:29,020 [Thread-1469] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s3<-s2#775:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:29,020 [Thread-1353] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FB18B597608E: receive appendEntries(s3, 2, (t:2, i:1), 1, true, commits[s3:c1, s4:c0, s0:c1, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:29,021 [Thread-1470] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s3<-s1#776:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:29,187 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
2022-05-09 13:04:29,187 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
2022-05-09 13:04:29,187 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(485)) - killServer s3
2022-05-09 13:04:29,190 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s3: close
2022-05-09 13:04:29,190 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s3@group-FB18B597608E: shutdown
2022-05-09 13:04:29,190 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB18B597608E,id=s3
2022-05-09 13:04:29,190 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-FB18B597608E-LeaderStateImpl
2022-05-09 13:04:29,190 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-FB18B597608E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:29,190 [s3@group-FB18B597608E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-FB18B597608E->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:29,190 [s3@group-FB18B597608E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-FB18B597608E->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:29,190 [s3@group-FB18B597608E->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-FB18B597608E->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-05-09 13:04:29,190 [s3@group-FB18B597608E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-FB18B597608E->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:29,192 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-FB18B597608E-StateMachineUpdater: set stopIndex = 2
2022-05-09 13:04:29,192 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s3@group-FB18B597608E: closes. applyIndex: 2
2022-05-09 13:04:29,192 [s3@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s3@group-FB18B597608E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:29,194 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-FB18B597608E-SegmentedRaftLogWorker close()
2022-05-09 13:04:29,194 [Thread-1334] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,195 [Thread-1335] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,195 [Thread-1336] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,195 [Thread-1331] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,195 [Thread-1332] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,195 [Thread-1333] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,195 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@2bb6db60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-05-09 13:04:29,196 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:29,196 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
2022-05-09 13:04:29,196 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:29,444 [s2@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:271189794ns, electionTimeout:205ms
2022-05-09 13:04:29,444 [s2@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FB18B597608E-FollowerState
2022-05-09 13:04:29,444 [s2@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-05-09 13:04:29,445 [s2@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:29,445 [s2@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FB18B597608E-LeaderElection65
2022-05-09 13:04:29,445 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-FB18B597608E: change Leader from s3 to null at term 2 for PRE_VOTE
2022-05-09 13:04:29,445 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-FB18B597608E-LeaderElection65 PRE_VOTE round 0: submit vote requests at term 2 for 1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,446 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s2, group-FB18B597608E, 2, (t:2, i:2))
2022-05-09 13:04:29,446 [Thread-1346] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:29,446 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,446 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-FB18B597608E-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:29,446 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-FB18B597608E-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:29,446 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(PRE_VOTE, s2, group-FB18B597608E, 2, (t:2, i:2))
2022-05-09 13:04:29,446 [Thread-1353] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:29,447 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to PRE_VOTE vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,447 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-FB18B597608E-LeaderElection65: PRE_VOTE PASSED received 2 response(s) and 2 exception(s):
2022-05-09 13:04:29,447 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t2
2022-05-09 13:04:29,447 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:OK-t2
2022-05-09 13:04:29,447 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:29,447 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:29,447 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-FB18B597608E-LeaderElection65 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:29,449 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-FB18B597608E-LeaderElection65 ELECTION round 0: submit vote requests at term 3 for 1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,450 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(ELECTION, s2, group-FB18B597608E, 3, (t:2, i:2))
2022-05-09 13:04:29,450 [Thread-1345] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:29,450 [Thread-1345] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-FB18B597608E: change Leader from s3 to null at term 3 for updateCurrentTerm
2022-05-09 13:04:29,450 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-05-09 13:04:29,450 [Thread-1345] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:29,450 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-FB18B597608E-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:29,450 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-FB18B597608E-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:29,450 [Thread-1354] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(ELECTION, s2, group-FB18B597608E, 3, (t:2, i:2))
2022-05-09 13:04:29,451 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FB18B597608E-FollowerState was interrupted
2022-05-09 13:04:29,451 [Thread-1354] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:29,450 [Thread-1345] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:29,451 [Thread-1354] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-FB18B597608E: change Leader from s3 to null at term 3 for updateCurrentTerm
2022-05-09 13:04:29,451 [Thread-1354] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-05-09 13:04:29,451 [Thread-1354] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:29,451 [Thread-1354] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:29,451 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FB18B597608E-FollowerState was interrupted
2022-05-09 13:04:29,453 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to ELECTION vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,453 [Thread-1354] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to ELECTION vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,453 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-FB18B597608E-LeaderElection65: ELECTION PASSED received 2 response(s) and 2 exception(s):
2022-05-09 13:04:29,453 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t3
2022-05-09 13:04:29,453 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:OK-t3
2022-05-09 13:04:29,453 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:29,453 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:29,453 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-FB18B597608E-LeaderElection65 ELECTION round 0: result PASSED
2022-05-09 13:04:29,453 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-FB18B597608E-LeaderElection65
2022-05-09 13:04:29,453 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-FB18B597608E: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-05-09 13:04:29,454 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-FB18B597608E: change Leader from null to s2 at term 3 for becomeLeader, leader elected after 8ms
2022-05-09 13:04:29,454 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:29,454 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:29,454 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:29,454 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:29,454 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:29,454 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:29,454 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:29,454 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:29,455 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:29,455 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:29,455 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:29,455 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:29,455 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:29,455 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:29,456 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:29,456 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:29,456 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:29,456 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:29,456 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:29,456 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:29,456 [s2@group-FB18B597608E-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FB18B597608E-LeaderStateImpl
2022-05-09 13:04:29,456 [s2@group-FB18B597608E-LeaderElection65] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-FB18B597608E-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-05-09 13:04:29,457 [s2@group-FB18B597608E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_1-2
2022-05-09 13:04:29,457 [s2@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-FB18B597608E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_1-2
2022-05-09 13:04:29,462 [s2@group-FB18B597608E->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s2@group-FB18B597608E->s3-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s3 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:29,462 [s2@group-FB18B597608E->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s2@group-FB18B597608E->s4-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:29,463 [s2@group-FB18B597608E-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-FB18B597608E: set configuration 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,463 [Thread-1347] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-FB18B597608E: change Leader from null to s2 at term 3 for appendEntries, leader elected after 12ms
2022-05-09 13:04:29,463 [Thread-1352] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-FB18B597608E: change Leader from null to s2 at term 3 for appendEntries, leader elected after 12ms
2022-05-09 13:04:29,464 [Thread-1346] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FB18B597608E: receive appendEntries(s2, 3, (t:2, i:2), 2, true, commits[s2:c2, s3:c2, s4:c0, s0:c2, s1:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:29,464 [Thread-1353] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FB18B597608E: receive appendEntries(s2, 3, (t:2, i:2), 2, true, commits[s2:c2, s3:c2, s4:c0, s0:c2, s1:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:29,464 [Thread-1346] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-FB18B597608E: set configuration 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,464 [Thread-1353] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-FB18B597608E: set configuration 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,464 [Thread-1346] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-FB18B597608E-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-05-09 13:04:29,464 [Thread-1353] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-FB18B597608E-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-05-09 13:04:29,465 [s0@group-FB18B597608E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_1-2
2022-05-09 13:04:29,465 [s0@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-FB18B597608E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_1-2
2022-05-09 13:04:29,470 [s1@group-FB18B597608E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_1-2
2022-05-09 13:04:29,470 [s1@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-FB18B597608E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_1-2
2022-05-09 13:04:29,487 [s0@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s0/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_3
2022-05-09 13:04:29,487 [s2@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s2/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_3
2022-05-09 13:04:29,488 [s1@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-FB18B597608E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc4ff4afd1/s1/1faa4ce5-676a-4c74-b94e-fb18b597608e/current/log_inprogress_3
2022-05-09 13:04:29,488 [Thread-1507] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s2<-s0#799:OK-t3,SUCCESS,nextIndex=4,followerCommit=2
2022-05-09 13:04:29,489 [Thread-1508] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s2<-s1#800:OK-t3,SUCCESS,nextIndex=4,followerCommit=2
2022-05-09 13:04:29,490 [Thread-1354] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FB18B597608E: receive appendEntries(s2, 3, (t:3, i:3), 3, true, commits[s2:c3, s3:c2, s4:c0, s0:c2, s1:c2], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:29,491 [Thread-1345] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FB18B597608E: receive appendEntries(s2, 3, (t:3, i:3), 3, true, commits[s2:c3, s3:c2, s4:c0, s0:c2, s1:c2], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:29,494 [Thread-1510] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s2<-s0#804:OK-t3,SUCCESS,nextIndex=5,followerCommit=3
2022-05-09 13:04:29,494 [Thread-1509] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FB18B597608E: succeeded to handle AppendEntries. Reply: s2<-s1#803:OK-t3,SUCCESS,nextIndex=5,followerCommit=3
2022-05-09 13:04:29,647 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
2022-05-09 13:04:29,648 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
2022-05-09 13:04:29,648 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(485)) - killServer s2
2022-05-09 13:04:29,648 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-05-09 13:04:29,649 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s2@group-FB18B597608E: shutdown
2022-05-09 13:04:29,649 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB18B597608E,id=s2
2022-05-09 13:04:29,649 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-FB18B597608E-LeaderStateImpl
2022-05-09 13:04:29,649 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-FB18B597608E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:29,649 [s2@group-FB18B597608E->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-FB18B597608E->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-05-09 13:04:29,650 [s2@group-FB18B597608E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-FB18B597608E->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:29,650 [s2@group-FB18B597608E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-FB18B597608E->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:29,651 [s2@group-FB18B597608E->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-FB18B597608E->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-05-09 13:04:29,651 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-FB18B597608E-StateMachineUpdater: set stopIndex = 4
2022-05-09 13:04:29,651 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s2@group-FB18B597608E: closes. applyIndex: 4
2022-05-09 13:04:29,651 [s2@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-FB18B597608E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:29,653 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-FB18B597608E-SegmentedRaftLogWorker close()
2022-05-09 13:04:29,660 [Thread-1362] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,660 [Thread-1363] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,660 [Thread-1364] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,660 [Thread-1359] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,660 [Thread-1361] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,660 [Thread-1360] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:29,660 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@5e746300] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-05-09 13:04:29,661 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:testFailureCase(151)) - run 'waitForLeader after killed a majority of servers'
2022-05-09 13:04:29,661 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:29,661 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
2022-05-09 13:04:29,662 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #1/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:29,950 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:303757263ns, electionTimeout:211ms
2022-05-09 13:04:29,950 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:29,950 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:29,951 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:29,951 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection66
2022-05-09 13:04:29,951 [s1@group-FB18B597608E-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-FB18B597608E: change Leader from s2 to null at term 3 for PRE_VOTE
2022-05-09 13:04:29,951 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection66 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,952 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:29,952 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:29,952 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:29,952 [Thread-1345] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:29,952 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:29,952 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:29,953 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection66: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:29,953 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:29,953 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:29,953 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:29,953 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:29,953 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection66 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:29,953 [s1@group-FB18B597608E-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:29,953 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection66
2022-05-09 13:04:29,953 [s1@group-FB18B597608E-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:30,113 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #2/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:30,223 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:269564562ns, electionTimeout:269ms
2022-05-09 13:04:30,223 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:30,223 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:30,223 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:30,223 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection67
2022-05-09 13:04:30,223 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection67 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:30,224 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:30,224 [Thread-1347] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:30,224 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection67: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection67 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection67
2022-05-09 13:04:30,225 [s1@group-FB18B597608E-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:30,442 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:216617233ns, electionTimeout:216ms
2022-05-09 13:04:30,442 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:30,442 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:30,442 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:30,442 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection68
2022-05-09 13:04:30,443 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection68 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:30,443 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:30,443 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:30,444 [Thread-1346] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:30,444 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:30,444 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:30,444 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:30,444 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection68: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:30,444 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:30,444 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:30,444 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:30,444 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:30,445 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection68 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:30,445 [s1@group-FB18B597608E-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:30,445 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection68
2022-05-09 13:04:30,445 [s1@group-FB18B597608E-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:30,564 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #3/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:30,625 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180706453ns, electionTimeout:180ms
2022-05-09 13:04:30,626 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:30,626 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:30,626 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:30,626 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection69
2022-05-09 13:04:30,626 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection69 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:30,627 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:30,627 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:30,627 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:30,627 [Thread-1345] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:30,627 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:30,628 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:30,628 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection69: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:30,628 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:30,628 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:30,628 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:30,628 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:30,628 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection69 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:30,628 [s1@group-FB18B597608E-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:30,628 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection69
2022-05-09 13:04:30,628 [s1@group-FB18B597608E-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:30,856 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:228080406ns, electionTimeout:227ms
2022-05-09 13:04:30,857 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:30,857 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:30,857 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:30,857 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection70
2022-05-09 13:04:30,857 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection70 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:30,858 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:30,858 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:30,858 [Thread-1347] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:30,858 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:30,859 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:30,859 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:30,859 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection70: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:30,859 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:30,859 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:30,859 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:30,859 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:30,859 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection70 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:30,859 [s1@group-FB18B597608E-LeaderElection70] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:30,859 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection70
2022-05-09 13:04:30,859 [s1@group-FB18B597608E-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:31,016 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #4/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:31,018 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:158358926ns, electionTimeout:156ms
2022-05-09 13:04:31,018 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:31,018 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:31,018 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:31,018 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection71
2022-05-09 13:04:31,019 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection71 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:31,020 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:31,020 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection71 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:31,020 [Thread-1346] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:31,020 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection71 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:31,020 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:31,020 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection71 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:31,020 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection71: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:31,020 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:31,021 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:31,021 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:31,021 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:31,021 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection71 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:31,021 [s1@group-FB18B597608E-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:31,021 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection71
2022-05-09 13:04:31,021 [s1@group-FB18B597608E-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:31,253 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:231759384ns, electionTimeout:231ms
2022-05-09 13:04:31,253 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:31,253 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:31,253 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:31,253 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection72
2022-05-09 13:04:31,254 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection72 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:31,254 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:31,255 [Thread-1345] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:31,255 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:31,255 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection72 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:31,255 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection72 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:31,255 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection72 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:31,255 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection72: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:31,255 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:31,255 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:31,255 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:31,255 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:31,255 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection72 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:31,255 [s1@group-FB18B597608E-LeaderElection72] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:31,256 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection72
2022-05-09 13:04:31,256 [s1@group-FB18B597608E-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:31,469 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #5/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:31,534 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:277918753ns, electionTimeout:277ms
2022-05-09 13:04:31,534 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:31,534 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:31,534 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:31,534 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection73
2022-05-09 13:04:31,535 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection73 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:31,536 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection73 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:31,536 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection73 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:31,536 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection73 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:31,536 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:31,536 [Thread-1347] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:31,536 [Thread-1347] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:31,537 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection73: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:31,537 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:31,537 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:31,537 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:31,537 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:31,537 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection73 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:31,537 [s1@group-FB18B597608E-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:31,537 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection73
2022-05-09 13:04:31,537 [s1@group-FB18B597608E-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:31,824 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:287353135ns, electionTimeout:286ms
2022-05-09 13:04:31,825 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:31,825 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:31,825 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:31,825 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection74
2022-05-09 13:04:31,825 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection74 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:31,826 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:31,826 [Thread-1346] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:31,827 [Thread-1346] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:31,827 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:31,827 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:31,827 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:31,827 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection74: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:31,827 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:31,827 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:31,827 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:31,827 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:31,828 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection74 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:31,828 [s1@group-FB18B597608E-LeaderElection74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:31,828 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection74
2022-05-09 13:04:31,828 [s1@group-FB18B597608E-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:31,920 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #6/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:31,992 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165044783ns, electionTimeout:153ms
2022-05-09 13:04:31,992 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:31,992 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:31,992 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:31,992 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-LeaderElection75
2022-05-09 13:04:31,993 [s0@group-FB18B597608E-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-FB18B597608E: change Leader from s2 to null at term 3 for PRE_VOTE
2022-05-09 13:04:31,993 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FB18B597608E-LeaderElection75 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:31,994 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection75 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:31,994 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection75 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:31,994 [Thread-1354] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(PRE_VOTE, s0, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:31,994 [Thread-1354] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:31,994 [Thread-1354] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:31,994 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection75 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:31,994 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FB18B597608E-LeaderElection75: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:31,995 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t3
2022-05-09 13:04:31,995 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:31,995 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:31,995 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:31,995 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FB18B597608E-LeaderElection75 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:31,995 [s0@group-FB18B597608E-LeaderElection75] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:31,995 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FB18B597608E-LeaderElection75
2022-05-09 13:04:31,995 [s0@group-FB18B597608E-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:32,192 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196860635ns, electionTimeout:196ms
2022-05-09 13:04:32,192 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:32,192 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:32,192 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:32,192 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-LeaderElection76
2022-05-09 13:04:32,193 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FB18B597608E-LeaderElection76 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection76 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:32,194 [Thread-1352] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(PRE_VOTE, s0, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection76 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:32,194 [Thread-1352] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection76 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:32,194 [Thread-1352] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FB18B597608E-LeaderElection76: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t3
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FB18B597608E-LeaderElection76 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FB18B597608E-LeaderElection76
2022-05-09 13:04:32,194 [s0@group-FB18B597608E-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:32,371 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #7/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:32,473 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:278446471ns, electionTimeout:278ms
2022-05-09 13:04:32,473 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:32,473 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:32,473 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:32,473 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-LeaderElection77
2022-05-09 13:04:32,474 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FB18B597608E-LeaderElection77 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:32,474 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(PRE_VOTE, s0, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:32,474 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:32,474 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:32,474 [Thread-1353] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:32,475 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:32,475 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:32,475 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FB18B597608E-LeaderElection77: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:32,475 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t3
2022-05-09 13:04:32,475 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:32,475 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:32,475 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:32,475 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FB18B597608E-LeaderElection77 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:32,475 [s0@group-FB18B597608E-LeaderElection77] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:32,475 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FB18B597608E-LeaderElection77
2022-05-09 13:04:32,475 [s0@group-FB18B597608E-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:32,704 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:228425283ns, electionTimeout:228ms
2022-05-09 13:04:32,704 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:32,704 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:32,704 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:32,704 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-LeaderElection78
2022-05-09 13:04:32,704 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FB18B597608E-LeaderElection78 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:32,705 [Thread-1354] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(PRE_VOTE, s0, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:32,705 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection78 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:32,705 [Thread-1354] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:32,705 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection78 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:32,705 [Thread-1354] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:32,706 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection78 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:32,706 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FB18B597608E-LeaderElection78: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:32,706 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t3
2022-05-09 13:04:32,706 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:32,706 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:32,706 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:32,706 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FB18B597608E-LeaderElection78 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:32,706 [s0@group-FB18B597608E-LeaderElection78] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:32,706 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FB18B597608E-LeaderElection78
2022-05-09 13:04:32,706 [s0@group-FB18B597608E-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:32,822 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #8/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:32,931 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:225492167ns, electionTimeout:225ms
2022-05-09 13:04:32,932 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:32,932 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:32,932 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:32,932 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-LeaderElection79
2022-05-09 13:04:32,932 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FB18B597608E-LeaderElection79 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:32,933 [Thread-1352] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(PRE_VOTE, s0, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:32,933 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection79 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:32,933 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection79 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:32,933 [Thread-1352] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:32,933 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection79 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:32,933 [Thread-1352] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:32,933 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FB18B597608E-LeaderElection79: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:32,933 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t3
2022-05-09 13:04:32,933 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:32,933 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:32,933 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:32,934 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FB18B597608E-LeaderElection79 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:32,934 [s0@group-FB18B597608E-LeaderElection79] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:32,934 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FB18B597608E-LeaderElection79
2022-05-09 13:04:32,934 [s0@group-FB18B597608E-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:33,133 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:200316775ns, electionTimeout:150ms
2022-05-09 13:04:33,134 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:33,134 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:33,134 [s1@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:33,134 [s1@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-LeaderElection80
2022-05-09 13:04:33,135 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FB18B597608E-LeaderElection80 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:33,135 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FB18B597608E: receive requestVote(PRE_VOTE, s1, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:33,135 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection80 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:33,136 [Thread-1345] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection80 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:33,136 [Thread-1345] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FB18B597608E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-FB18B597608E-LeaderElection80 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FB18B597608E-LeaderElection80: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FB18B597608E-LeaderElection80 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FB18B597608E-LeaderElection80
2022-05-09 13:04:33,136 [s1@group-FB18B597608E-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:33,273 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #9/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:33,332 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196745385ns, electionTimeout:168ms
2022-05-09 13:04:33,333 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:33,333 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:33,333 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:33,333 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-LeaderElection81
2022-05-09 13:04:33,333 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FB18B597608E-LeaderElection81 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:33,334 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:33,334 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(PRE_VOTE, s0, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:33,334 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:33,334 [Thread-1353] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:33,334 [Thread-1353] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:33,335 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:33,335 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FB18B597608E-LeaderElection81: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:33,335 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t3
2022-05-09 13:04:33,335 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:33,335 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:33,335 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:33,335 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FB18B597608E-LeaderElection81 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:33,335 [s0@group-FB18B597608E-LeaderElection81] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:33,335 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FB18B597608E-LeaderElection81
2022-05-09 13:04:33,335 [s0@group-FB18B597608E-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:33,512 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FB18B597608E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:176594498ns, electionTimeout:176ms
2022-05-09 13:04:33,512 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:33,512 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:33,512 [s0@group-FB18B597608E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:33,512 [s0@group-FB18B597608E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-LeaderElection82
2022-05-09 13:04:33,513 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FB18B597608E-LeaderElection82 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:33,513 [Thread-1354] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FB18B597608E: receive requestVote(PRE_VOTE, s0, group-FB18B597608E, 3, (t:3, i:4))
2022-05-09 13:04:33,513 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection82 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:33,514 [Thread-1354] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FB18B597608E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:33,514 [Thread-1354] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FB18B597608E replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection82 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-FB18B597608E-LeaderElection82 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FB18B597608E-LeaderElection82: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t3
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FB18B597608E-LeaderElection82 PRE_VOTE round 0: result REJECTED
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FB18B597608E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FB18B597608E-LeaderElection82
2022-05-09 13:04:33,515 [s0@group-FB18B597608E-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:33,724 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:assertThrowable(133)) - The test "waitForLeader after killed a majority of servers" throws IllegalStateException
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:33,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:33,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:33,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:33,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:33,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:33,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-FB18B597608E:t2, leader=s3, voted=s3, raftlog=s3@group-FB18B597608E-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-FB18B597608E:t1, leader=s4, voted=s4, raftlog=s4@group-FB18B597608E-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s0@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FB18B597608E:t3, leader=null, voted=s2, raftlog=s1@group-FB18B597608E-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-FB18B597608E:t3, leader=s2, voted=s2, raftlog=s2@group-FB18B597608E-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:38177|admin:localhost:45965|client:localhost:46021|dataStream:localhost:33005|priority:0, s4|rpc:localhost:34543|admin:localhost:37795|client:localhost:34031|dataStream:localhost:36429|priority:0, s0|rpc:localhost:38091|admin:localhost:39197|client:localhost:44469|dataStream:localhost:43529|priority:0, s1|rpc:localhost:38531|admin:localhost:38979|client:localhost:43607|dataStream:localhost:41989|priority:0, s2|rpc:localhost:46401|admin:localhost:37835|client:localhost:37971|dataStream:localhost:38805|priority:0], old=null CLOSED
2022-05-09 13:04:33,727 [java.util.concurrent.ThreadPoolExecutor$Worker@3ea85c29[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-05-09 13:04:33,728 [java.util.concurrent.ThreadPoolExecutor$Worker@240e3281[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-05-09 13:04:33,728 [java.util.concurrent.ThreadPoolExecutor$Worker@3ea85c29[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s0@group-FB18B597608E: shutdown
2022-05-09 13:04:33,729 [java.util.concurrent.ThreadPoolExecutor$Worker@3ea85c29[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB18B597608E,id=s0
2022-05-09 13:04:33,729 [java.util.concurrent.ThreadPoolExecutor$Worker@3ea85c29[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FB18B597608E-FollowerState
2022-05-09 13:04:33,729 [s0@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FB18B597608E-FollowerState was interrupted
2022-05-09 13:04:33,730 [java.util.concurrent.ThreadPoolExecutor$Worker@3ea85c29[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-FB18B597608E-StateMachineUpdater: set stopIndex = 4
2022-05-09 13:04:33,730 [java.util.concurrent.ThreadPoolExecutor$Worker@3ea85c29[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s0@group-FB18B597608E: closes. applyIndex: 4
2022-05-09 13:04:33,731 [s0@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-FB18B597608E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:33,732 [java.util.concurrent.ThreadPoolExecutor$Worker@3ea85c29[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-FB18B597608E-SegmentedRaftLogWorker close()
2022-05-09 13:04:33,733 [java.util.concurrent.ThreadPoolExecutor$Worker@240e3281[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s1@group-FB18B597608E: shutdown
2022-05-09 13:04:33,733 [java.util.concurrent.ThreadPoolExecutor$Worker@240e3281[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB18B597608E,id=s1
2022-05-09 13:04:33,733 [java.util.concurrent.ThreadPoolExecutor$Worker@240e3281[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FB18B597608E-FollowerState
2022-05-09 13:04:33,733 [s1@group-FB18B597608E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FB18B597608E-FollowerState was interrupted
2022-05-09 13:04:33,733 [java.util.concurrent.ThreadPoolExecutor$Worker@240e3281[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-FB18B597608E-StateMachineUpdater: set stopIndex = 4
2022-05-09 13:04:33,733 [Thread-1348] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,734 [Thread-1349] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,734 [Thread-1350] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,734 [java.util.concurrent.ThreadPoolExecutor$Worker@240e3281[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s1@group-FB18B597608E: closes. applyIndex: 4
2022-05-09 13:04:33,734 [Thread-1345] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,734 [Thread-1346] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,734 [Thread-1347] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,734 [s1@group-FB18B597608E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-FB18B597608E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:33,734 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@3235a590] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-05-09 13:04:33,736 [java.util.concurrent.ThreadPoolExecutor$Worker@240e3281[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-FB18B597608E-SegmentedRaftLogWorker close()
2022-05-09 13:04:33,736 [Thread-1355] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,736 [Thread-1356] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,736 [Thread-1357] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,736 [Thread-1352] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,736 [Thread-1353] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,737 [Thread-1354] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:33,737 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@4384ddcb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-05-09 13:04:33,737 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:33,738 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:33,738 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:33,738 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:33,738 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:33,738 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-05-09 13:04:33,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-243C6138B404:[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0]
2022-05-09 13:04:33,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-05-09 13:04:33,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-05-09 13:04:33,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:33,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-05-09 13:04:33,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-05-09 13:04:33,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-05-09 13:04:33,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-243C6138B404:[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], format? true
2022-05-09 13:04:33,739 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0
2022-05-09 13:04:33,740 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0 does not exist.
2022-05-09 13:04:33,740 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0
2022-05-09 13:04:33,740 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:33,741 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:33,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:33,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:33,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:33,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:33,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0] (custom)
2022-05-09 13:04:33,742 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-243C6138B404:[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0] returns group-243C6138B404:java.util.concurrent.CompletableFuture@47242532[Not completed]
2022-05-09 13:04:33,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-243C6138B404:[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], format? true
2022-05-09 13:04:33,742 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1
2022-05-09 13:04:33,742 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s0: new RaftServerImpl for group-243C6138B404:[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:33,743 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:33,743 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:33,743 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:33,743 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:33,743 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:33,743 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:33,742 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1 does not exist.
2022-05-09 13:04:33,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1
2022-05-09 13:04:33,743 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:33,743 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-243C6138B404: ConfigurationManager, init=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:33,743 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:33,743 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0] (custom)
2022-05-09 13:04:33,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:33,744 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:33,744 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:33,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:33,744 [pool-23-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404 does not exist. Creating ...
2022-05-09 13:04:33,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:33,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:33,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1] (custom)
2022-05-09 13:04:33,745 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-243C6138B404:[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0] returns group-243C6138B404:java.util.concurrent.CompletableFuture@336ee036[Not completed]
2022-05-09 13:04:33,745 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-243C6138B404:[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], format? true
2022-05-09 13:04:33,745 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2
2022-05-09 13:04:33,745 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2 does not exist.
2022-05-09 13:04:33,745 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2
2022-05-09 13:04:33,745 [pool-23-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404
2022-05-09 13:04:33,746 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:33,746 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:33,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:33,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:33,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:33,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:33,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2] (custom)
2022-05-09 13:04:33,747 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s1: new RaftServerImpl for group-243C6138B404:[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:33,747 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:33,747 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:33,747 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:33,747 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:33,747 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:33,747 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:33,747 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-243C6138B404: ConfigurationManager, init=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:33,747 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1] (custom)
2022-05-09 13:04:33,747 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:33,748 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:33,748 [pool-24-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404 does not exist. Creating ...
2022-05-09 13:04:33,748 [pool-24-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404
2022-05-09 13:04:33,750 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-243C6138B404:[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0] returns group-243C6138B404:java.util.concurrent.CompletableFuture@75267b55[Not completed]
2022-05-09 13:04:33,750 [pool-24-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:33,750 [pool-24-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current
2022-05-09 13:04:33,750 [pool-24-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404/sm
2022-05-09 13:04:33,750 [pool-23-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:33,751 [pool-23-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current
2022-05-09 13:04:33,751 [pool-23-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404/sm
2022-05-09 13:04:33,751 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s2: new RaftServerImpl for group-243C6138B404:[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:33,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:33,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:33,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:33,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:33,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:33,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:33,752 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-243C6138B404: ConfigurationManager, init=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:33,752 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2] (custom)
2022-05-09 13:04:33,752 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:33,752 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:33,752 [pool-24-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404 has been successfully formatted.
2022-05-09 13:04:33,752 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:33,752 [pool-23-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404 has been successfully formatted.
2022-05-09 13:04:33,752 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:33,752 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:33,753 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:33,753 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:33,753 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-243C6138B404-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:33,753 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:33,754 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:33,754 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:33,754 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:33,754 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:33,753 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:33,754 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:33,754 [pool-25-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404 does not exist. Creating ...
2022-05-09 13:04:33,754 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:33,755 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:33,755 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:33,755 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:33,755 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:33,755 [pool-23-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-243C6138B404-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404
2022-05-09 13:04:33,755 [pool-24-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-243C6138B404-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:33,755 [pool-24-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-243C6138B404-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:33,755 [pool-25-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404
2022-05-09 13:04:33,755 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:33,757 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:33,757 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:33,757 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:33,757 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:33,757 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:33,757 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:33,757 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:33,757 [pool-25-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:33,758 [pool-25-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current
2022-05-09 13:04:33,758 [pool-25-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404/sm
2022-05-09 13:04:33,759 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:33,759 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:33,759 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:33,759 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:33,759 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:33,759 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:33,759 [pool-23-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-243C6138B404-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:33,759 [pool-23-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-243C6138B404-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:33,760 [pool-25-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404 has been successfully formatted.
2022-05-09 13:04:33,760 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:33,760 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:33,760 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:33,760 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:33,760 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:33,760 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:33,760 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:33,760 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:33,760 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-243C6138B404-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:33,761 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:33,762 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:33,762 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:33,762 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:33,762 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:33,762 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:33,762 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:33,762 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:33,762 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:33,762 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:33,763 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:33,763 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:33,763 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:33,763 [pool-25-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-243C6138B404-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:33,763 [pool-25-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-243C6138B404-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:33,763 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:33,763 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:33,763 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:33,763 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:33,763 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:33,763 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:33,763 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:33,763 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:33,764 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:33,764 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:33,764 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:33,764 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:33,764 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:33,763 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:33,764 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:33,764 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s0@group-243C6138B404: start as a follower, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,764 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-243C6138B404: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:33,764 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-243C6138B404-FollowerState
2022-05-09 13:04:33,764 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-243C6138B404,id=s0
2022-05-09 13:04:33,765 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-05-09 13:04:33,770 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s1@group-243C6138B404: start as a follower, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,770 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-243C6138B404: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:33,770 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-243C6138B404-FollowerState
2022-05-09 13:04:33,770 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@318d5a97] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-05-09 13:04:33,770 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-243C6138B404,id=s1
2022-05-09 13:04:33,771 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-05-09 13:04:33,772 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s2@group-243C6138B404: start as a follower, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,772 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-243C6138B404: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:33,772 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-243C6138B404-FollowerState
2022-05-09 13:04:33,772 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@4e0181d4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-05-09 13:04:33,774 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-243C6138B404,id=s2
2022-05-09 13:04:33,774 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-05-09 13:04:33,775 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@6647c25d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-05-09 13:04:33,775 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:33,775 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-243C6138B404:t0, leader=null, voted=, raftlog=s0@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-243C6138B404:t0, leader=null, voted=, raftlog=s1@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-243C6138B404:t0, leader=null, voted=, raftlog=s2@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
2022-05-09 13:04:33,776 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-243C6138B404:t0, leader=null, voted=, raftlog=s0@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-243C6138B404:t0, leader=null, voted=, raftlog=s1@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-243C6138B404:t0, leader=null, voted=, raftlog=s2@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-243C6138B404:t0, leader=null, voted=, raftlog=s0@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-243C6138B404:t0, leader=null, voted=, raftlog=s1@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-243C6138B404:t0, leader=null, voted=, raftlog=s2@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:131)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:33,925 [s1@group-243C6138B404-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-243C6138B404-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155450771ns, electionTimeout:155ms
2022-05-09 13:04:33,926 [s1@group-243C6138B404-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-243C6138B404-FollowerState
2022-05-09 13:04:33,926 [s1@group-243C6138B404-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-243C6138B404: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:33,926 [s1@group-243C6138B404-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:33,926 [s1@group-243C6138B404-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-243C6138B404-LeaderElection83
2022-05-09 13:04:33,927 [s1@group-243C6138B404-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-243C6138B404-LeaderElection83 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,927 [Thread-1734] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-243C6138B404: receive requestVote(PRE_VOTE, s1, group-243C6138B404, 0, (t:0, i:0))
2022-05-09 13:04:33,928 [Thread-1734] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-243C6138B404-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:33,928 [Thread-1734] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-243C6138B404 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-243C6138B404:t0, leader=null, voted=, raftlog=s0@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,928 [Thread-1748] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-243C6138B404: receive requestVote(PRE_VOTE, s1, group-243C6138B404, 0, (t:0, i:0))
2022-05-09 13:04:33,929 [Thread-1748] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-243C6138B404-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:33,929 [Thread-1748] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-243C6138B404 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-243C6138B404:t0, leader=null, voted=, raftlog=s2@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,929 [s1@group-243C6138B404-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-243C6138B404-LeaderElection83: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:33,929 [s1@group-243C6138B404-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-05-09 13:04:33,929 [s1@group-243C6138B404-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-243C6138B404-LeaderElection83 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:33,932 [s1@group-243C6138B404-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-243C6138B404-LeaderElection83 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,933 [Thread-1735] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-243C6138B404: receive requestVote(ELECTION, s1, group-243C6138B404, 1, (t:0, i:0))
2022-05-09 13:04:33,934 [Thread-1735] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-243C6138B404-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:33,934 [Thread-1735] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-243C6138B404: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-05-09 13:04:33,934 [Thread-1735] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-243C6138B404-FollowerState
2022-05-09 13:04:33,934 [Thread-1735] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-243C6138B404-FollowerState
2022-05-09 13:04:33,934 [Thread-1749] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-243C6138B404: receive requestVote(ELECTION, s1, group-243C6138B404, 1, (t:0, i:0))
2022-05-09 13:04:33,934 [Thread-1749] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-243C6138B404-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:33,934 [Thread-1749] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-243C6138B404: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-05-09 13:04:33,934 [Thread-1749] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-243C6138B404-FollowerState
2022-05-09 13:04:33,934 [Thread-1749] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-243C6138B404-FollowerState
2022-05-09 13:04:33,934 [s0@group-243C6138B404-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-243C6138B404-FollowerState was interrupted
2022-05-09 13:04:33,934 [s2@group-243C6138B404-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-243C6138B404-FollowerState was interrupted
2022-05-09 13:04:33,936 [Thread-1735] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-243C6138B404 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-243C6138B404:t1, leader=null, voted=s1, raftlog=s0@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,936 [s1@group-243C6138B404-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-243C6138B404-LeaderElection83: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:33,936 [s1@group-243C6138B404-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-05-09 13:04:33,936 [s1@group-243C6138B404-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-243C6138B404-LeaderElection83 ELECTION round 0: result PASSED
2022-05-09 13:04:33,936 [s1@group-243C6138B404-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-243C6138B404-LeaderElection83
2022-05-09 13:04:33,936 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-243C6138B404: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-05-09 13:04:33,936 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-243C6138B404: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 184ms
2022-05-09 13:04:33,937 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:33,937 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:33,937 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:33,937 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:33,937 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:33,937 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:33,937 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:33,937 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:33,938 [Thread-1749] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-243C6138B404 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-243C6138B404:t1, leader=null, voted=s1, raftlog=s2@group-243C6138B404-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,938 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:33,938 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:33,938 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:33,938 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:33,938 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:33,938 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:33,938 [s1@group-243C6138B404-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-243C6138B404-LeaderStateImpl
2022-05-09 13:04:33,939 [s1@group-243C6138B404-LeaderElection83] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-243C6138B404-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:33,942 [s1@group-243C6138B404-LeaderElection83] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-243C6138B404: set configuration 0: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,942 [Thread-1736] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-243C6138B404: change Leader from null to s1 at term 1 for appendEntries, leader elected after 189ms
2022-05-09 13:04:33,943 [Thread-1734] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:33,943 [Thread-1734] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-243C6138B404: set configuration 0: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,943 [Thread-1734] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-243C6138B404-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:33,952 [Thread-1750] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-243C6138B404: change Leader from null to s1 at term 1 for appendEntries, leader elected after 192ms
2022-05-09 13:04:33,953 [Thread-1748] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:33,954 [Thread-1748] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-243C6138B404: set configuration 0: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null
2022-05-09 13:04:33,954 [Thread-1748] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-243C6138B404-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:33,963 [s1@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-243C6138B404-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_0
2022-05-09 13:04:33,964 [s0@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-243C6138B404-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_0
2022-05-09 13:04:33,970 [Thread-1783] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s0#928:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:33,971 [s2@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-243C6138B404-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_0
2022-05-09 13:04:33,972 [Thread-1784] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s2#930:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:34,226 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-243C6138B404:t1, leader=s1, voted=s1, raftlog=s0@group-243C6138B404-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-243C6138B404:t1, leader=s1, voted=s1, raftlog=s1@group-243C6138B404-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-243C6138B404:t1, leader=s1, voted=s1, raftlog=s2@group-243C6138B404-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0], old=null RUNNING
2022-05-09 13:04:34,226 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:34,227 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(790)) - s1@group-243C6138B404: receive client request(RaftClientRequest:client-5E905F4E0D08->s1@group-243C6138B404, cid=945, seq=0, RW, message)
2022-05-09 13:04:34,228 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s1@group-243C6138B404-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5E905F4E0D08->s1@group-243C6138B404, cid=945, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 945@client-5E905F4E0D08
2022-05-09 13:04:34,228 [Thread-1735] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 945@client-5E905F4E0D08
2022-05-09 13:04:34,228 [Thread-1749] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 945@client-5E905F4E0D08
2022-05-09 13:04:34,229 [Thread-1800] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s0#946:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:34,231 [Thread-1736] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:34,231 [Thread-1801] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s2#947:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:34,231 [Thread-1750] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:34,232 [Thread-1803] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s0#948:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:34,233 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1079)) - s1@group-243C6138B404: receive setConfiguration SetConfigurationRequest:client-5E905F4E0D08->s1@group-243C6138B404, cid=950, seq=0, RW, null, peers:[s0|priority:2, s1|priority:1, s2|priority:1]
2022-05-09 13:04:34,233 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s1@group-243C6138B404-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-5E905F4E0D08->s1@group-243C6138B404, cid=950, seq=0, RW, null, peers:[s0|priority:2, s1|priority:1, s2|priority:1]
2022-05-09 13:04:34,233 [Thread-1804] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s2#949:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:34,234 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-243C6138B404: set configuration 3: [s0|priority:2, s1|priority:1, s2|priority:1], old=[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0]
2022-05-09 13:04:34,234 [Thread-1734] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits[s1:c2, s0:c1, s2:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:34,234 [Thread-1734] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-243C6138B404: set configuration 3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0]
2022-05-09 13:04:34,235 [Thread-1748] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits[s1:c2, s0:c1, s2:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:34,235 [Thread-1748] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-243C6138B404: set configuration 3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:34785|admin:localhost:42865|client:localhost:45443|dataStream:localhost:44381|priority:0, s1|rpc:localhost:37423|admin:localhost:38017|client:localhost:45945|dataStream:localhost:36373|priority:0, s2|rpc:localhost:35301|admin:localhost:33757|client:localhost:34779|dataStream:localhost:38413|priority:0]
2022-05-09 13:04:34,236 [Thread-1806] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s0#951:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-05-09 13:04:34,236 [Thread-1807] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s2#952:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-05-09 13:04:34,237 [Thread-1735] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits[s1:c3, s0:c2, s2:c2], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:34,237 [s1@group-243C6138B404-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-243C6138B404: set configuration 5: [s0|priority:2, s1|priority:1, s2|priority:1], old=null
2022-05-09 13:04:34,241 [Thread-1749] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits[s1:c3, s0:c2, s2:c2], entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY]
2022-05-09 13:04:34,241 [Thread-1749] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-243C6138B404: set configuration 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:34,242 [Thread-1808] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s0#953:OK-t1,SUCCESS,nextIndex=5,followerCommit=3
2022-05-09 13:04:34,242 [Thread-1736] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:4), 3, true, commits[s1:c3, s0:c3, s2:c2], entries: (t:1, i:5), CONFIGURATIONENTRY
2022-05-09 13:04:34,242 [Thread-1736] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-243C6138B404: set configuration 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:34,243 [Thread-1810] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s0#955:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-05-09 13:04:34,244 [Thread-1734] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits[s1:c5, s0:c3, s2:c2], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:34,245 [Thread-1809] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s2#954:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-05-09 13:04:34,246 [Thread-1750] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits[s1:c5, s0:c3, s2:c3], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:34,247 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(971)) - s1@group-243C6138B404: receive transferLeadership TransferLeadershipRequest:client-5E905F4E0D08->s1@group-243C6138B404, cid=958, seq=0, RO, null
2022-05-09 13:04:34,248 [Thread-1813] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s2#957:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-05-09 13:04:34,257 [Thread-1812] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-243C6138B404: succeeded to handle AppendEntries. Reply: s1<-s0#956:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-05-09 13:04:34,557 [s1@group-243C6138B404-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(975)) - s1@group-243C6138B404-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-05-09 13:04:34,618 [Thread-1736] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1479)) - s0@group-243C6138B404: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2022-05-09 13:04:34,618 [Thread-1736] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-243C6138B404-FollowerState
2022-05-09 13:04:34,618 [Thread-1736] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-243C6138B404: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:34,618 [s0@group-243C6138B404-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-243C6138B404-FollowerState was interrupted
2022-05-09 13:04:34,618 [Thread-1736] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-243C6138B404-LeaderElection84
2022-05-09 13:04:34,621 [Thread-1831] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(594)) - s1@group-243C6138B404-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-05-09 13:04:34,621 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-243C6138B404: change Leader from s1 to null at term 1 for ELECTION
2022-05-09 13:04:34,622 [s0@group-243C6138B404-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-243C6138B404-LeaderElection84 ELECTION round 0: submit vote requests at term 2 for 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:34,623 [Thread-1741] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-243C6138B404: receive requestVote(ELECTION, s0, group-243C6138B404, 2, (t:1, i:6))
2022-05-09 13:04:34,623 [Thread-1749] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-243C6138B404: receive requestVote(ELECTION, s0, group-243C6138B404, 2, (t:1, i:6))
2022-05-09 13:04:34,623 [Thread-1741] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-243C6138B404-LEADER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-05-09 13:04:34,623 [Thread-1749] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-243C6138B404-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-05-09 13:04:34,623 [Thread-1741] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-243C6138B404: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-05-09 13:04:34,623 [Thread-1741] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-243C6138B404: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-05-09 13:04:34,623 [Thread-1741] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-243C6138B404-LeaderStateImpl
2022-05-09 13:04:34,623 [Thread-1741] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-243C6138B404-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:34,623 [s1@group-243C6138B404->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-243C6138B404->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:34,623 [s1@group-243C6138B404->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-243C6138B404->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:34,623 [Thread-1749] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-243C6138B404: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-05-09 13:04:34,625 [Thread-1749] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-243C6138B404: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-05-09 13:04:34,625 [Thread-1749] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-243C6138B404-FollowerState
2022-05-09 13:04:34,625 [Thread-1749] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-243C6138B404-FollowerState
2022-05-09 13:04:34,625 [s2@group-243C6138B404-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-243C6138B404-FollowerState was interrupted
2022-05-09 13:04:34,630 [Thread-1749] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-243C6138B404 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-243C6138B404:t2, leader=null, voted=s0, raftlog=s2@group-243C6138B404-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:34,630 [Thread-1741] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-243C6138B404-FollowerState
2022-05-09 13:04:34,631 [s0@group-243C6138B404-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-243C6138B404-LeaderElection84: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:34,631 [s0@group-243C6138B404-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-05-09 13:04:34,631 [s0@group-243C6138B404-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-243C6138B404-LeaderElection84 ELECTION round 0: result PASSED
2022-05-09 13:04:34,631 [s0@group-243C6138B404-LeaderElection84] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-243C6138B404-LeaderElection84
2022-05-09 13:04:34,631 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-243C6138B404: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-05-09 13:04:34,631 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-243C6138B404: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 10ms
2022-05-09 13:04:34,631 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:34,632 [Thread-1741] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-243C6138B404 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-243C6138B404:t2, leader=null, voted=s0, raftlog=s1@group-243C6138B404-SegmentedRaftLog:OPENED:c6, conf=5: [s0|priority:2, s1|priority:1, s2|priority:1], old=null
2022-05-09 13:04:34,634 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:34,634 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:34,634 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:34,634 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:34,634 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:34,634 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:34,634 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:34,635 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:34,635 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:34,635 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:34,635 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:34,635 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:34,635 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:34,636 [s0@group-243C6138B404-LeaderElection84] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-243C6138B404-LeaderStateImpl
2022-05-09 13:04:34,636 [s0@group-243C6138B404-LeaderElection84] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-243C6138B404-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-05-09 13:04:34,636 [s0@group-243C6138B404-LeaderElection84] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-243C6138B404: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:34,637 [s0@group-243C6138B404-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_0-6
2022-05-09 13:04:34,637 [s0@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-243C6138B404-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_0-6
2022-05-09 13:04:34,637 [Thread-1750] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-243C6138B404: change Leader from null to s0 at term 2 for appendEntries, leader elected after 13ms
2022-05-09 13:04:34,637 [Thread-1742] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-243C6138B404: change Leader from null to s0 at term 2 for appendEntries, leader elected after 14ms
2022-05-09 13:04:34,638 [Thread-1748] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits[s0:c6, s1:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-05-09 13:04:34,638 [Thread-1748] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-243C6138B404: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:34,638 [Thread-1748] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-243C6138B404-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-05-09 13:04:34,639 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:34,639 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s0@group-243C6138B404-SegmentedRaftLog:OPENED:c6, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s1@group-243C6138B404-SegmentedRaftLog:OPENED:c6, conf=5: [s0|priority:2, s1|priority:1, s2|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s2@group-243C6138B404-SegmentedRaftLog:OPENED:c6, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-05-09 13:04:34,639 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-243C6138B404 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-243C6138B404 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:147)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:34,640 [Thread-1743] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-243C6138B404: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits[s0:c6, s1:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-05-09 13:04:34,641 [Thread-1743] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-243C6138B404: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:34,641 [Thread-1743] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-243C6138B404-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-05-09 13:04:34,639 [s2@group-243C6138B404-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_0-6
2022-05-09 13:04:34,642 [s2@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-243C6138B404-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_0-6
2022-05-09 13:04:34,642 [s1@group-243C6138B404-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_0-6
2022-05-09 13:04:34,642 [s1@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-243C6138B404-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_0-6
2022-05-09 13:04:34,669 [s1@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-243C6138B404-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s1/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_7
2022-05-09 13:04:34,669 [s2@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-243C6138B404-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s2/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_7
2022-05-09 13:04:34,669 [s0@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-243C6138B404-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcb604216b/s0/d8ade01b-6ae1-4a90-a0c8-243c6138b404/current/log_inprogress_7
2022-05-09 13:04:34,670 [Thread-1845] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-243C6138B404: succeeded to handle AppendEntries. Reply: s0<-s1#980:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-05-09 13:04:34,670 [Thread-1846] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: succeeded to handle AppendEntries. Reply: s0<-s2#979:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-05-09 13:04:34,671 [Thread-1749] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits[s0:c7, s1:c6, s2:c6], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-05-09 13:04:34,671 [Thread-1741] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-243C6138B404: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits[s0:c7, s1:c6, s2:c6], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-05-09 13:04:34,674 [Thread-1849] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-243C6138B404: succeeded to handle AppendEntries. Reply: s0<-s1#982:OK-t2,SUCCESS,nextIndex=9,followerCommit=7
2022-05-09 13:04:34,675 [Thread-1850] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: succeeded to handle AppendEntries. Reply: s0<-s2#981:OK-t2,SUCCESS,nextIndex=9,followerCommit=7
2022-05-09 13:04:35,091 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s0@group-243C6138B404-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s1@group-243C6138B404-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s2@group-243C6138B404-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-05-09 13:04:35,091 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(790)) - s1@group-243C6138B404: receive client request(RaftClientRequest:client-5E905F4E0D08->s1@group-243C6138B404, cid=1005, seq=0, RW, message)
2022-05-09 13:04:35,091 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(355)) - client-5E905F4E0D08: suggested new leader: s0. Failed RaftClientRequest:client-5E905F4E0D08->s1@group-243C6138B404, cid=1005, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-243C6138B404 is not the leader s0|rpc:|dataStream:|priority:2
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:695)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:660)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:799)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:782)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:782)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:35,092 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(374)) - client-5E905F4E0D08: oldLeader=s1,  curLeader=s1, newLeader=s0
2022-05-09 13:04:35,092 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(380)) - group-243C6138B404 client-5E905F4E0D08: client change Leader from s1 to s0 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-05-09 13:04:35,193 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(790)) - s0@group-243C6138B404: receive client request(RaftClientRequest:client-5E905F4E0D08->s0@group-243C6138B404, cid=1005, seq=0, RW, message)
2022-05-09 13:04:35,194 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s0@group-243C6138B404-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5E905F4E0D08->s0@group-243C6138B404, cid=1005, seq=0, RW, message, entry=(t:2, i:9), STATEMACHINELOGENTRY, 1005@client-5E905F4E0D08
2022-05-09 13:04:35,195 [Thread-1742] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-243C6138B404: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits[s0:c8, s1:c8, s2:c8], entries: (t:2, i:9), STATEMACHINELOGENTRY, 1005@client-5E905F4E0D08
2022-05-09 13:04:35,195 [Thread-1750] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits[s0:c8, s1:c8, s2:c8], entries: (t:2, i:9), STATEMACHINELOGENTRY, 1005@client-5E905F4E0D08
2022-05-09 13:04:35,196 [Thread-1876] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-243C6138B404: succeeded to handle AppendEntries. Reply: s0<-s1#1010:OK-t2,SUCCESS,nextIndex=10,followerCommit=8
2022-05-09 13:04:35,196 [Thread-1877] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: succeeded to handle AppendEntries. Reply: s0<-s2#1011:OK-t2,SUCCESS,nextIndex=10,followerCommit=8
2022-05-09 13:04:35,197 [Thread-1743] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-243C6138B404: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits[s0:c9, s1:c8, s2:c8], entries: (t:2, i:10), METADATAENTRY(c:9)
2022-05-09 13:04:35,199 [Thread-1748] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits[s0:c9, s1:c8, s2:c8], entries: (t:2, i:10), METADATAENTRY(c:9)
2022-05-09 13:04:35,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:35,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:35,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:35,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:35,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:35,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s0@group-243C6138B404-SegmentedRaftLog:OPENED:c9, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s1@group-243C6138B404-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s2@group-243C6138B404-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-05-09 13:04:35,201 [Thread-1880] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-243C6138B404: succeeded to handle AppendEntries. Reply: s0<-s2#1013:OK-t2,SUCCESS,nextIndex=11,followerCommit=9
2022-05-09 13:04:35,201 [Thread-1879] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-243C6138B404: succeeded to handle AppendEntries. Reply: s0<-s1#1012:OK-t2,SUCCESS,nextIndex=11,followerCommit=9
2022-05-09 13:04:35,202 [java.util.concurrent.ThreadPoolExecutor$Worker@1ac86423[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-05-09 13:04:35,202 [java.util.concurrent.ThreadPoolExecutor$Worker@756d25a2[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-05-09 13:04:35,202 [java.util.concurrent.ThreadPoolExecutor$Worker@1ac86423[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s0@group-243C6138B404: shutdown
2022-05-09 13:04:35,203 [java.util.concurrent.ThreadPoolExecutor$Worker@756d25a2[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s1@group-243C6138B404: shutdown
2022-05-09 13:04:35,203 [java.util.concurrent.ThreadPoolExecutor$Worker@dc776b5[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-05-09 13:04:35,203 [java.util.concurrent.ThreadPoolExecutor$Worker@1ac86423[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-243C6138B404,id=s0
2022-05-09 13:04:35,203 [java.util.concurrent.ThreadPoolExecutor$Worker@1ac86423[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-243C6138B404-LeaderStateImpl
2022-05-09 13:04:35,203 [java.util.concurrent.ThreadPoolExecutor$Worker@756d25a2[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-243C6138B404,id=s1
2022-05-09 13:04:35,204 [s0@group-243C6138B404->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-243C6138B404->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:35,203 [s0@group-243C6138B404->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-243C6138B404->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:35,204 [java.util.concurrent.ThreadPoolExecutor$Worker@1ac86423[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-243C6138B404-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:35,208 [java.util.concurrent.ThreadPoolExecutor$Worker@756d25a2[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-243C6138B404-FollowerState
2022-05-09 13:04:35,208 [java.util.concurrent.ThreadPoolExecutor$Worker@dc776b5[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s2@group-243C6138B404: shutdown
2022-05-09 13:04:35,209 [java.util.concurrent.ThreadPoolExecutor$Worker@dc776b5[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-243C6138B404,id=s2
2022-05-09 13:04:35,209 [java.util.concurrent.ThreadPoolExecutor$Worker@dc776b5[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-243C6138B404-FollowerState
2022-05-09 13:04:35,209 [s1@group-243C6138B404-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-243C6138B404-FollowerState was interrupted
2022-05-09 13:04:35,209 [java.util.concurrent.ThreadPoolExecutor$Worker@756d25a2[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-243C6138B404-StateMachineUpdater: set stopIndex = 9
2022-05-09 13:04:35,210 [java.util.concurrent.ThreadPoolExecutor$Worker@dc776b5[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-243C6138B404-StateMachineUpdater: set stopIndex = 9
2022-05-09 13:04:35,210 [java.util.concurrent.ThreadPoolExecutor$Worker@dc776b5[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s2@group-243C6138B404: closes. applyIndex: 9
2022-05-09 13:04:35,210 [java.util.concurrent.ThreadPoolExecutor$Worker@1ac86423[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-243C6138B404-StateMachineUpdater: set stopIndex = 10
2022-05-09 13:04:35,211 [java.util.concurrent.ThreadPoolExecutor$Worker@1ac86423[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s0@group-243C6138B404: closes. applyIndex: 10
2022-05-09 13:04:35,209 [s2@group-243C6138B404-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-243C6138B404-FollowerState was interrupted
2022-05-09 13:04:35,211 [s0@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-243C6138B404-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:35,211 [s2@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-243C6138B404-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:35,212 [java.util.concurrent.ThreadPoolExecutor$Worker@1ac86423[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-243C6138B404-SegmentedRaftLogWorker close()
2022-05-09 13:04:35,210 [java.util.concurrent.ThreadPoolExecutor$Worker@756d25a2[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s1@group-243C6138B404: closes. applyIndex: 9
2022-05-09 13:04:35,212 [Thread-1739] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,212 [Thread-1738] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,212 [Thread-1737] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,213 [Thread-1734] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,213 [Thread-1736] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,213 [Thread-1735] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,213 [java.util.concurrent.ThreadPoolExecutor$Worker@dc776b5[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-243C6138B404-SegmentedRaftLogWorker close()
2022-05-09 13:04:35,217 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@318d5a97] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-05-09 13:04:35,217 [Thread-1751] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,218 [Thread-1752] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,218 [Thread-1753] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,218 [s1@group-243C6138B404-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-243C6138B404-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:35,218 [Thread-1748] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,219 [Thread-1749] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,219 [Thread-1750] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,219 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@6647c25d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-05-09 13:04:35,219 [java.util.concurrent.ThreadPoolExecutor$Worker@756d25a2[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-243C6138B404-SegmentedRaftLogWorker close()
2022-05-09 13:04:35,220 [Thread-1744] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,220 [Thread-1745] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,220 [Thread-1746] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,220 [Thread-1741] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,220 [Thread-1743] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,220 [Thread-1742] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:35,221 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@4e0181d4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-05-09 13:04:35,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:35,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:35,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:35,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:35,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:35,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:35,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s0@group-243C6138B404-SegmentedRaftLog:CLOSED:c10, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s1@group-243C6138B404-SegmentedRaftLog:CLOSED:c9, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-243C6138B404:t2, leader=s0, voted=s0, raftlog=s2@group-243C6138B404-SegmentedRaftLog:CLOSED:c9, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null CLOSED
2022-05-09 13:04:35,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:35,223 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:35,223 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:35,223 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:35,223 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:35,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-05-09 13:04:35,224 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-05-09 13:04:35,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-FC337BB5E0A7:[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0]
2022-05-09 13:04:35,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-05-09 13:04:35,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-05-09 13:04:35,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:35,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-05-09 13:04:35,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-05-09 13:04:35,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-05-09 13:04:35,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-FC337BB5E0A7:[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], format? true
2022-05-09 13:04:35,225 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0
2022-05-09 13:04:35,225 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0 does not exist.
2022-05-09 13:04:35,225 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0
2022-05-09 13:04:35,225 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:35,226 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:35,226 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:35,226 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:35,226 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:35,226 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:35,226 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0] (custom)
2022-05-09 13:04:35,230 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-FC337BB5E0A7:[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0] returns group-FC337BB5E0A7:java.util.concurrent.CompletableFuture@30e8e4fb[Not completed]
2022-05-09 13:04:35,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-FC337BB5E0A7:[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], format? true
2022-05-09 13:04:35,230 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1
2022-05-09 13:04:35,230 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1 does not exist.
2022-05-09 13:04:35,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1
2022-05-09 13:04:35,230 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s0: new RaftServerImpl for group-FC337BB5E0A7:[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:35,230 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:35,230 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:35,230 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:35,230 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:35,231 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:35,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:35,231 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:35,231 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:35,231 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:35,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:35,231 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-FC337BB5E0A7: ConfigurationManager, init=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:35,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:35,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:35,231 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0] (custom)
2022-05-09 13:04:35,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1] (custom)
2022-05-09 13:04:35,232 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-FC337BB5E0A7:[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0] returns group-FC337BB5E0A7:java.util.concurrent.CompletableFuture@27fffc8c[Not completed]
2022-05-09 13:04:35,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-FC337BB5E0A7:[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], format? true
2022-05-09 13:04:35,232 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2
2022-05-09 13:04:35,232 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2 does not exist.
2022-05-09 13:04:35,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2
2022-05-09 13:04:35,232 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:35,232 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:35,232 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:35,233 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s1: new RaftServerImpl for group-FC337BB5E0A7:[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:35,233 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:35,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:35,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:35,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:35,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:35,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2] (custom)
2022-05-09 13:04:35,233 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:35,234 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:35,234 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:35,234 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:35,234 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:35,234 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:35,234 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-FC337BB5E0A7: ConfigurationManager, init=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:35,234 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1] (custom)
2022-05-09 13:04:35,234 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:35,234 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:35,234 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7 does not exist. Creating ...
2022-05-09 13:04:35,235 [pool-27-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7
2022-05-09 13:04:35,236 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:35,237 [pool-27-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7/current
2022-05-09 13:04:35,237 [pool-27-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7/sm
2022-05-09 13:04:35,239 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-FC337BB5E0A7:[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0] returns group-FC337BB5E0A7:java.util.concurrent.CompletableFuture@64b80ad5[Not completed]
2022-05-09 13:04:35,239 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s2: new RaftServerImpl for group-FC337BB5E0A7:[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:35,239 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:35,239 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:35,239 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:35,239 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:35,239 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:35,239 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:35,240 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-FC337BB5E0A7: ConfigurationManager, init=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:35,240 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2] (custom)
2022-05-09 13:04:35,240 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:35,240 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:35,240 [pool-28-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7 does not exist. Creating ...
2022-05-09 13:04:35,242 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7 has been successfully formatted.
2022-05-09 13:04:35,242 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:35,242 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:35,242 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:35,242 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:35,242 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:35,242 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:35,242 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:35,242 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-FC337BB5E0A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-FC337BB5E0A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:35,243 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-FC337BB5E0A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:35,244 [pool-26-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7 does not exist. Creating ...
2022-05-09 13:04:35,244 [pool-26-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7
2022-05-09 13:04:35,246 [pool-28-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7
2022-05-09 13:04:35,246 [pool-26-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:35,246 [pool-26-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7/current
2022-05-09 13:04:35,246 [pool-26-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7/sm
2022-05-09 13:04:35,247 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:35,247 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:35,247 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:35,247 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:35,247 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:35,247 [pool-28-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:35,248 [pool-28-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7/current
2022-05-09 13:04:35,248 [pool-28-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7/sm
2022-05-09 13:04:35,248 [pool-26-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7 has been successfully formatted.
2022-05-09 13:04:35,249 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:35,249 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:35,249 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:35,250 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:35,250 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:35,250 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:35,249 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:35,251 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:35,251 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:35,251 [pool-28-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7 has been successfully formatted.
2022-05-09 13:04:35,251 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:35,251 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:35,251 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:35,251 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:35,251 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:35,252 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:35,252 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:35,252 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:35,252 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:35,252 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:35,252 [pool-28-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-FC337BB5E0A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7
2022-05-09 13:04:35,252 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:35,252 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:35,253 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:35,253 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:35,253 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:35,253 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:35,253 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:35,253 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:35,252 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:35,253 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:35,253 [pool-26-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-FC337BB5E0A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7
2022-05-09 13:04:35,253 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:35,254 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:35,254 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:35,254 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:35,254 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:35,254 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:35,254 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:35,254 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:35,255 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:35,255 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:35,256 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:35,255 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:35,256 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:35,256 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:35,256 [pool-28-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-FC337BB5E0A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:35,256 [pool-28-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-FC337BB5E0A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:35,256 [pool-26-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-FC337BB5E0A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:35,257 [pool-26-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-FC337BB5E0A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:35,257 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:35,257 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:35,257 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:35,257 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:35,257 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:35,257 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:35,258 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:35,258 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:35,257 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:35,258 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:35,259 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:35,259 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:35,259 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:35,259 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:35,259 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:35,259 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:35,260 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:35,260 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:35,260 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:35,260 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:35,260 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s0@group-FC337BB5E0A7: start as a follower, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,260 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FC337BB5E0A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:35,260 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:35,262 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC337BB5E0A7,id=s0
2022-05-09 13:04:35,266 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-05-09 13:04:35,273 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s1@group-FC337BB5E0A7: start as a follower, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,273 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FC337BB5E0A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:35,273 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:35,273 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@3cfb9152] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-05-09 13:04:35,273 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC337BB5E0A7,id=s1
2022-05-09 13:04:35,274 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-05-09 13:04:35,275 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s2@group-FC337BB5E0A7: start as a follower, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,275 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-FC337BB5E0A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:35,275 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:35,275 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC337BB5E0A7,id=s2
2022-05-09 13:04:35,276 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-05-09 13:04:35,278 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@548927c2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-05-09 13:04:35,279 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@379e8343] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-05-09 13:04:35,280 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:35,280 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s0@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s1@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s2@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
2022-05-09 13:04:35,281 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s0@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s1@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s2@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s0@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s1@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s2@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:418)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:35,477 [s1@group-FC337BB5E0A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FC337BB5E0A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:203740484ns, electionTimeout:203ms
2022-05-09 13:04:35,477 [s1@group-FC337BB5E0A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:35,477 [s1@group-FC337BB5E0A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FC337BB5E0A7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:35,477 [s1@group-FC337BB5E0A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:35,477 [s1@group-FC337BB5E0A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FC337BB5E0A7-LeaderElection85
2022-05-09 13:04:35,479 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FC337BB5E0A7-LeaderElection85 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,479 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FC337BB5E0A7: receive requestVote(PRE_VOTE, s1, group-FC337BB5E0A7, 0, (t:0, i:0))
2022-05-09 13:04:35,479 [Thread-1889] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FC337BB5E0A7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:35,480 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FC337BB5E0A7 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s0@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,480 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FC337BB5E0A7-LeaderElection85: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:35,480 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-05-09 13:04:35,480 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FC337BB5E0A7-LeaderElection85 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:35,480 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FC337BB5E0A7: receive requestVote(PRE_VOTE, s1, group-FC337BB5E0A7, 0, (t:0, i:0))
2022-05-09 13:04:35,480 [Thread-1903] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FC337BB5E0A7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:35,480 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FC337BB5E0A7 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-FC337BB5E0A7:t0, leader=null, voted=, raftlog=s2@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,482 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FC337BB5E0A7-LeaderElection85 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,482 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-FC337BB5E0A7: receive requestVote(ELECTION, s1, group-FC337BB5E0A7, 1, (t:0, i:0))
2022-05-09 13:04:35,482 [Thread-1890] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FC337BB5E0A7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:35,483 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FC337BB5E0A7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-05-09 13:04:35,483 [Thread-1890] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:35,483 [Thread-1890] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:35,483 [s0@group-FC337BB5E0A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FC337BB5E0A7-FollowerState was interrupted
2022-05-09 13:04:35,483 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FC337BB5E0A7: receive requestVote(ELECTION, s1, group-FC337BB5E0A7, 1, (t:0, i:0))
2022-05-09 13:04:35,483 [Thread-1904] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FC337BB5E0A7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:35,483 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-FC337BB5E0A7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-05-09 13:04:35,483 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:35,484 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:35,485 [s2@group-FC337BB5E0A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FC337BB5E0A7-FollowerState was interrupted
2022-05-09 13:04:35,485 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FC337BB5E0A7 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-FC337BB5E0A7:t1, leader=null, voted=s1, raftlog=s2@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,486 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-FC337BB5E0A7 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-FC337BB5E0A7:t1, leader=null, voted=s1, raftlog=s0@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,486 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FC337BB5E0A7-LeaderElection85: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:35,486 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2022-05-09 13:04:35,486 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FC337BB5E0A7-LeaderElection85 ELECTION round 0: result PASSED
2022-05-09 13:04:35,486 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FC337BB5E0A7-LeaderElection85
2022-05-09 13:04:35,486 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FC337BB5E0A7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-05-09 13:04:35,486 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-FC337BB5E0A7: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 244ms
2022-05-09 13:04:35,486 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:35,486 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:35,486 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:35,487 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:35,487 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:35,487 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:35,487 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:35,487 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:35,487 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:35,487 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:35,487 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:35,488 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:35,488 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:35,488 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:35,488 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FC337BB5E0A7-LeaderStateImpl
2022-05-09 13:04:35,489 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-FC337BB5E0A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:35,496 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-FC337BB5E0A7: change Leader from null to s1 at term 1 for appendEntries, leader elected after 245ms
2022-05-09 13:04:35,496 [s1@group-FC337BB5E0A7-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-FC337BB5E0A7: set configuration 0: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,497 [Thread-1891] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-FC337BB5E0A7: change Leader from null to s1 at term 1 for appendEntries, leader elected after 248ms
2022-05-09 13:04:35,497 [Thread-1903] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:35,498 [Thread-1903] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-FC337BB5E0A7: set configuration 0: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,498 [Thread-1903] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-FC337BB5E0A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:35,501 [Thread-1889] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:35,502 [s1@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-FC337BB5E0A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_0
2022-05-09 13:04:35,502 [Thread-1889] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-FC337BB5E0A7: set configuration 0: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null
2022-05-09 13:04:35,502 [Thread-1889] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-FC337BB5E0A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:35,519 [s2@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-FC337BB5E0A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_0
2022-05-09 13:04:35,519 [s0@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-FC337BB5E0A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_0
2022-05-09 13:04:35,520 [Thread-1940] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s2#1024:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:35,521 [Thread-1941] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s0#1025:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:35,733 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FC337BB5E0A7:t1, leader=s1, voted=s1, raftlog=s0@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-FC337BB5E0A7:t1, leader=s1, voted=s1, raftlog=s1@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FC337BB5E0A7:t1, leader=s1, voted=s1, raftlog=s2@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0], old=null RUNNING
2022-05-09 13:04:35,733 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:35,738 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1044)) - s0@group-FC337BB5E0A7 receive leaderElectionManagement request LeaderElectionManagementRequest:client-06ED4880C879->s0@group-FC337BB5E0A7, cid=1036, seq=0, RO, null, Pause:
2022-05-09 13:04:35,746 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(790)) - s0@group-FC337BB5E0A7: receive client request(RaftClientRequest:client-06ED4880C879->s0@group-FC337BB5E0A7, cid=1039, seq=0, RW, message)
2022-05-09 13:04:35,753 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(355)) - client-06ED4880C879: suggested new leader: s1. Failed RaftClientRequest:client-06ED4880C879->s0@group-FC337BB5E0A7, cid=1039, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-FC337BB5E0A7 is not the leader s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:695)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:660)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:799)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:782)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:782)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:35,754 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(374)) - client-06ED4880C879: oldLeader=s0,  curLeader=s0, newLeader=s1
2022-05-09 13:04:35,754 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(380)) - group-FC337BB5E0A7 client-06ED4880C879: client change Leader from s0 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-05-09 13:04:35,855 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(790)) - s1@group-FC337BB5E0A7: receive client request(RaftClientRequest:client-06ED4880C879->s1@group-FC337BB5E0A7, cid=1039, seq=0, RW, message)
2022-05-09 13:04:35,856 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s1@group-FC337BB5E0A7-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-06ED4880C879->s1@group-FC337BB5E0A7, cid=1039, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1039@client-06ED4880C879
2022-05-09 13:04:35,856 [Thread-1905] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 1039@client-06ED4880C879
2022-05-09 13:04:35,856 [Thread-1891] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 1039@client-06ED4880C879
2022-05-09 13:04:35,858 [Thread-1963] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s2#1046:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:35,859 [Thread-1903] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:35,860 [Thread-1964] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s0#1047:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:35,861 [Thread-1966] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s2#1048:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:35,862 [Thread-1889] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:35,862 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1079)) - s1@group-FC337BB5E0A7: receive setConfiguration SetConfigurationRequest:client-06ED4880C879->s1@group-FC337BB5E0A7, cid=1049, seq=0, RW, null, peers:[s0|priority:2, s1|priority:1, s2|priority:1]
2022-05-09 13:04:35,862 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s1@group-FC337BB5E0A7-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-06ED4880C879->s1@group-FC337BB5E0A7, cid=1049, seq=0, RW, null, peers:[s0|priority:2, s1|priority:1, s2|priority:1]
2022-05-09 13:04:35,863 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-FC337BB5E0A7: set configuration 3: [s0|priority:2, s1|priority:1, s2|priority:1], old=[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0]
2022-05-09 13:04:35,863 [Thread-1904] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits[s1:c2, s0:c0, s2:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:35,864 [Thread-1904] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-FC337BB5E0A7: set configuration 3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0]
2022-05-09 13:04:35,865 [Thread-1968] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s0#1050:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:35,865 [Thread-1890] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits[s1:c2, s0:c1, s2:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:35,865 [Thread-1890] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-FC337BB5E0A7: set configuration 3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:44485|admin:localhost:43611|client:localhost:46465|dataStream:localhost:45795|priority:0, s1|rpc:localhost:41983|admin:localhost:42783|client:localhost:35469|dataStream:localhost:34833|priority:0, s2|rpc:localhost:45969|admin:localhost:43639|client:localhost:37385|dataStream:localhost:36043|priority:0]
2022-05-09 13:04:35,869 [Thread-1970] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s0#1052:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-05-09 13:04:35,869 [Thread-1969] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s2#1051:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-05-09 13:04:35,870 [Thread-1891] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits[s1:c3, s0:c2, s2:c2], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:35,874 [Thread-1971] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s0#1053:OK-t1,SUCCESS,nextIndex=5,followerCommit=3
2022-05-09 13:04:35,874 [s1@group-FC337BB5E0A7-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-FC337BB5E0A7: set configuration 5: [s0|priority:2, s1|priority:1, s2|priority:1], old=null
2022-05-09 13:04:35,875 [Thread-1889] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:4), 4, true, commits[s1:c4, s0:c3, s2:c2], entries: (t:1, i:5), CONFIGURATIONENTRY
2022-05-09 13:04:35,875 [Thread-1889] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-FC337BB5E0A7: set configuration 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:35,876 [Thread-1905] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:3), 4, true, commits[s1:c4, s0:c3, s2:c2], entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY]
2022-05-09 13:04:35,876 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-FC337BB5E0A7: set configuration 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:35,882 [Thread-1972] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s2#1055:OK-t1,SUCCESS,nextIndex=6,followerCommit=4
2022-05-09 13:04:35,883 [Thread-1903] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits[s1:c5, s0:c3, s2:c4], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:35,884 [Thread-1973] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s0#1054:OK-t1,SUCCESS,nextIndex=6,followerCommit=4
2022-05-09 13:04:35,884 [Thread-1890] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits[s1:c5, s0:c4, s2:c4], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:35,886 [Thread-1975] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s2#1056:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-05-09 13:04:35,889 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1044)) - s0@group-FC337BB5E0A7 receive leaderElectionManagement request LeaderElectionManagementRequest:client-06ED4880C879->s0@group-FC337BB5E0A7, cid=1058, seq=0, RO, null, Resume:
2022-05-09 13:04:35,889 [Thread-1976] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s1<-s0#1057:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-05-09 13:04:35,890 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #1/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:35,991 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #2/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:36,091 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #3/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:36,190 [s1@group-FC337BB5E0A7-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(975)) - s1@group-FC337BB5E0A7-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-05-09 13:04:36,191 [Thread-1891] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1479)) - s0@group-FC337BB5E0A7: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2022-05-09 13:04:36,191 [Thread-1891] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:36,191 [Thread-1891] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FC337BB5E0A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:36,191 [s0@group-FC337BB5E0A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FC337BB5E0A7-FollowerState was interrupted
2022-05-09 13:04:36,192 [Thread-1891] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FC337BB5E0A7-LeaderElection86
2022-05-09 13:04:36,192 [Thread-1891] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FC337BB5E0A7: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-05-09 13:04:36,192 [Thread-1891] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FC337BB5E0A7-LeaderElection86
2022-05-09 13:04:36,192 [Thread-1992] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(594)) - s1@group-FC337BB5E0A7-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-05-09 13:04:36,192 [s0@group-FC337BB5E0A7-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:run(231)) - s0@group-FC337BB5E0A7-LeaderElection86: skip running since this is already CLOSING
2022-05-09 13:04:36,192 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #4/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:36,192 [Thread-1891] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:36,293 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #5/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:36,394 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #6/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:36,491 [s1@group-FC337BB5E0A7-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(975)) - s1@group-FC337BB5E0A7-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-05-09 13:04:36,492 [Thread-1890] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1479)) - s0@group-FC337BB5E0A7: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2022-05-09 13:04:36,492 [Thread-1890] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:36,492 [s0@group-FC337BB5E0A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FC337BB5E0A7-FollowerState was interrupted
2022-05-09 13:04:36,493 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FC337BB5E0A7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:36,493 [Thread-1890] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FC337BB5E0A7-LeaderElection87
2022-05-09 13:04:36,493 [Thread-2011] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(594)) - s1@group-FC337BB5E0A7-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-05-09 13:04:36,493 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-FC337BB5E0A7: change Leader from s1 to null at term 1 for ELECTION
2022-05-09 13:04:36,494 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #7/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:36,495 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FC337BB5E0A7-LeaderElection87 ELECTION round 0: submit vote requests at term 2 for 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:36,496 [Thread-1889] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1319)) - s0@group-FC337BB5E0A7: Not recognize s1 (term=1) as leader, state: s0@group-FC337BB5E0A7:t2, leader=null, voted=s0, raftlog=s0@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null reply: s1<-s0#1091:FAIL-t2,NOT_LEADER,nextIndex=7,followerCommit=6
2022-05-09 13:04:36,497 [s1@group-FC337BB5E0A7-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-FC337BB5E0A7: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-05-09 13:04:36,497 [s1@group-FC337BB5E0A7-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FC337BB5E0A7: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:HIGHER_TERM
2022-05-09 13:04:36,497 [s1@group-FC337BB5E0A7-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-FC337BB5E0A7-LeaderStateImpl
2022-05-09 13:04:36,497 [s1@group-FC337BB5E0A7-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-FC337BB5E0A7-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:36,497 [s1@group-FC337BB5E0A7->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-FC337BB5E0A7->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:36,497 [s1@group-FC337BB5E0A7->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-FC337BB5E0A7->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:36,500 [s1@group-FC337BB5E0A7-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:36,502 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FC337BB5E0A7: receive requestVote(ELECTION, s0, group-FC337BB5E0A7, 2, (t:1, i:6))
2022-05-09 13:04:36,502 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FC337BB5E0A7: receive requestVote(ELECTION, s0, group-FC337BB5E0A7, 2, (t:1, i:6))
2022-05-09 13:04:36,502 [Thread-1903] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FC337BB5E0A7-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-05-09 13:04:36,502 [Thread-1903] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-FC337BB5E0A7: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-05-09 13:04:36,502 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-FC337BB5E0A7: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-05-09 13:04:36,502 [Thread-1903] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:36,502 [Thread-1903] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:36,502 [s2@group-FC337BB5E0A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FC337BB5E0A7-FollowerState was interrupted
2022-05-09 13:04:36,503 [Thread-1896] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FC337BB5E0A7-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-05-09 13:04:36,503 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FC337BB5E0A7: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-05-09 13:04:36,503 [Thread-1896] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:36,507 [Thread-1896] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:36,508 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FC337BB5E0A7 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-FC337BB5E0A7:t2, leader=null, voted=s0, raftlog=s2@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:36,508 [s1@group-FC337BB5E0A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FC337BB5E0A7-FollowerState was interrupted
2022-05-09 13:04:36,509 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FC337BB5E0A7-LeaderElection87: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:36,509 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-05-09 13:04:36,509 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FC337BB5E0A7-LeaderElection87 ELECTION round 0: result PASSED
2022-05-09 13:04:36,509 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FC337BB5E0A7-LeaderElection87
2022-05-09 13:04:36,509 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FC337BB5E0A7: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-05-09 13:04:36,509 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-FC337BB5E0A7: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 15ms
2022-05-09 13:04:36,509 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:36,509 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:36,509 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:36,510 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:36,510 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:36,510 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:36,510 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:36,510 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:36,510 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:36,511 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:36,511 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:36,511 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:36,511 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:36,511 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:36,511 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FC337BB5E0A7-LeaderStateImpl
2022-05-09 13:04:36,512 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-FC337BB5E0A7-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-05-09 13:04:36,512 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FC337BB5E0A7 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-FC337BB5E0A7:t2, leader=null, voted=s0, raftlog=s1@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c6, conf=5: [s0|priority:2, s1|priority:1, s2|priority:1], old=null
2022-05-09 13:04:36,513 [s0@group-FC337BB5E0A7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_0-6
2022-05-09 13:04:36,513 [s0@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-FC337BB5E0A7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_0-6
2022-05-09 13:04:36,516 [s0@group-FC337BB5E0A7-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-FC337BB5E0A7: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:36,517 [Thread-1897] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-FC337BB5E0A7: change Leader from null to s0 at term 2 for appendEntries, leader elected after 20ms
2022-05-09 13:04:36,517 [Thread-1904] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-FC337BB5E0A7: change Leader from null to s0 at term 2 for appendEntries, leader elected after 14ms
2022-05-09 13:04:36,517 [Thread-1898] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FC337BB5E0A7: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits[s0:c6, s1:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-05-09 13:04:36,518 [Thread-1898] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-FC337BB5E0A7: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:36,518 [Thread-1905] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits[s0:c6, s1:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-05-09 13:04:36,518 [Thread-1898] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-FC337BB5E0A7-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-05-09 13:04:36,518 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-FC337BB5E0A7: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-05-09 13:04:36,518 [Thread-1905] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-FC337BB5E0A7-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-05-09 13:04:36,519 [s1@group-FC337BB5E0A7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_0-6
2022-05-09 13:04:36,519 [s1@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-FC337BB5E0A7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_0-6
2022-05-09 13:04:36,519 [s2@group-FC337BB5E0A7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_0-6
2022-05-09 13:04:36,519 [s2@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-FC337BB5E0A7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_0-6
2022-05-09 13:04:36,547 [s2@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-FC337BB5E0A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s2/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_7
2022-05-09 13:04:36,547 [s1@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-FC337BB5E0A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s1/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_7
2022-05-09 13:04:36,547 [s0@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-FC337BB5E0A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc231b38bd/s0/7900b875-62e4-4439-b187-fc337bb5e0a7/current/log_inprogress_7
2022-05-09 13:04:36,548 [Thread-2026] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s0<-s2#1096:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-05-09 13:04:36,552 [Thread-1903] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits[s0:c7, s1:c6, s2:c6], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-05-09 13:04:36,552 [Thread-2027] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s0<-s1#1095:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-05-09 13:04:36,553 [Thread-1896] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FC337BB5E0A7: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits[s0:c7, s1:c6, s2:c6], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-05-09 13:04:36,553 [Thread-2028] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s0<-s2#1097:OK-t2,SUCCESS,nextIndex=9,followerCommit=7
2022-05-09 13:04:36,558 [Thread-2029] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FC337BB5E0A7: succeeded to handle AppendEntries. Reply: s0<-s1#1098:OK-t2,SUCCESS,nextIndex=9,followerCommit=7
2022-05-09 13:04:36,595 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:36,595 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:36,595 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:36,595 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:36,596 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:36,596 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-FC337BB5E0A7:t2, leader=s0, voted=s0, raftlog=s0@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FC337BB5E0A7:t2, leader=s0, voted=s0, raftlog=s1@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FC337BB5E0A7:t2, leader=s0, voted=s0, raftlog=s2@group-FC337BB5E0A7-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-05-09 13:04:36,597 [java.util.concurrent.ThreadPoolExecutor$Worker@740c64f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-05-09 13:04:36,597 [java.util.concurrent.ThreadPoolExecutor$Worker@13599033[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-05-09 13:04:36,602 [java.util.concurrent.ThreadPoolExecutor$Worker@13599033[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s1@group-FC337BB5E0A7: shutdown
2022-05-09 13:04:36,602 [java.util.concurrent.ThreadPoolExecutor$Worker@13599033[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC337BB5E0A7,id=s1
2022-05-09 13:04:36,602 [java.util.concurrent.ThreadPoolExecutor$Worker@13599033[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:36,602 [s1@group-FC337BB5E0A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FC337BB5E0A7-FollowerState was interrupted
2022-05-09 13:04:36,602 [java.util.concurrent.ThreadPoolExecutor$Worker@13599033[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-FC337BB5E0A7-StateMachineUpdater: set stopIndex = 7
2022-05-09 13:04:36,603 [java.util.concurrent.ThreadPoolExecutor$Worker@13599033[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s1@group-FC337BB5E0A7: closes. applyIndex: 7
2022-05-09 13:04:36,603 [s1@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-FC337BB5E0A7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:36,603 [java.util.concurrent.ThreadPoolExecutor$Worker@35301895[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-05-09 13:04:36,606 [java.util.concurrent.ThreadPoolExecutor$Worker@35301895[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s2@group-FC337BB5E0A7: shutdown
2022-05-09 13:04:36,606 [java.util.concurrent.ThreadPoolExecutor$Worker@35301895[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC337BB5E0A7,id=s2
2022-05-09 13:04:36,606 [java.util.concurrent.ThreadPoolExecutor$Worker@35301895[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FC337BB5E0A7-FollowerState
2022-05-09 13:04:36,606 [java.util.concurrent.ThreadPoolExecutor$Worker@740c64f[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s0@group-FC337BB5E0A7: shutdown
2022-05-09 13:04:36,607 [java.util.concurrent.ThreadPoolExecutor$Worker@740c64f[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC337BB5E0A7,id=s0
2022-05-09 13:04:36,607 [java.util.concurrent.ThreadPoolExecutor$Worker@740c64f[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-FC337BB5E0A7-LeaderStateImpl
2022-05-09 13:04:36,607 [s2@group-FC337BB5E0A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FC337BB5E0A7-FollowerState was interrupted
2022-05-09 13:04:36,607 [java.util.concurrent.ThreadPoolExecutor$Worker@740c64f[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-FC337BB5E0A7-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:36,607 [java.util.concurrent.ThreadPoolExecutor$Worker@35301895[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-FC337BB5E0A7-StateMachineUpdater: set stopIndex = 7
2022-05-09 13:04:36,609 [s0@group-FC337BB5E0A7->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-FC337BB5E0A7->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:36,609 [s0@group-FC337BB5E0A7->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-FC337BB5E0A7->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:36,609 [java.util.concurrent.ThreadPoolExecutor$Worker@35301895[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s2@group-FC337BB5E0A7: closes. applyIndex: 7
2022-05-09 13:04:36,610 [java.util.concurrent.ThreadPoolExecutor$Worker@13599033[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-FC337BB5E0A7-SegmentedRaftLogWorker close()
2022-05-09 13:04:36,610 [s2@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-FC337BB5E0A7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:36,610 [java.util.concurrent.ThreadPoolExecutor$Worker@740c64f[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-FC337BB5E0A7-StateMachineUpdater: set stopIndex = 8
2022-05-09 13:04:36,610 [java.util.concurrent.ThreadPoolExecutor$Worker@740c64f[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s0@group-FC337BB5E0A7: closes. applyIndex: 8
2022-05-09 13:04:36,610 [s0@group-FC337BB5E0A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-FC337BB5E0A7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:36,611 [java.util.concurrent.ThreadPoolExecutor$Worker@740c64f[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-FC337BB5E0A7-SegmentedRaftLogWorker close()
2022-05-09 13:04:36,612 [Thread-1901] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,612 [Thread-1900] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,612 [Thread-1899] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,614 [Thread-1896] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,611 [java.util.concurrent.ThreadPoolExecutor$Worker@35301895[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-FC337BB5E0A7-SegmentedRaftLogWorker close()
2022-05-09 13:04:36,614 [Thread-1898] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,614 [Thread-1897] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,615 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@548927c2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-05-09 13:04:36,616 [Thread-1892] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,616 [Thread-1893] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,616 [Thread-1906] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,616 [Thread-1894] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,616 [Thread-1889] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,616 [Thread-1890] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,616 [Thread-1891] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,616 [Thread-1907] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,617 [Thread-1908] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,617 [Thread-1903] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,617 [Thread-1904] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,617 [Thread-1905] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:36,617 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@379e8343] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-05-09 13:04:36,617 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@3cfb9152] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-05-09 13:04:36,618 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:36,619 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:36,619 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:36,619 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:36,619 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:36,630 [Time-limited test] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2022-05-09 13:04:36,630 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testChangeLeader(95)) - Running testChangeLeader
2022-05-09 13:04:36,630 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-05-09 13:04:36,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-29E37BC8E22E:[s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0]
2022-05-09 13:04:36,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-05-09 13:04:36,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-05-09 13:04:36,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:36,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-05-09 13:04:36,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-05-09 13:04:36,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-05-09 13:04:36,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-29E37BC8E22E:[s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], format? true
2022-05-09 13:04:36,632 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0
2022-05-09 13:04:36,632 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0 does not exist.
2022-05-09 13:04:36,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0
2022-05-09 13:04:36,633 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:36,633 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:36,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:36,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:36,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:36,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:36,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0] (custom)
2022-05-09 13:04:36,638 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-29E37BC8E22E:[s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0] returns group-29E37BC8E22E:java.util.concurrent.CompletableFuture@6ab80aa0[Not completed]
2022-05-09 13:04:36,638 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-29E37BC8E22E:[s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], format? true
2022-05-09 13:04:36,638 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1
2022-05-09 13:04:36,638 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1 does not exist.
2022-05-09 13:04:36,638 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1
2022-05-09 13:04:36,639 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:36,639 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:36,639 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:36,639 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:36,639 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:36,639 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:36,639 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1] (custom)
2022-05-09 13:04:36,640 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s0: new RaftServerImpl for group-29E37BC8E22E:[s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:36,640 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:36,640 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:36,640 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:36,640 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:36,640 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:36,640 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:36,640 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-29E37BC8E22E: ConfigurationManager, init=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:36,640 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0] (custom)
2022-05-09 13:04:36,640 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:36,641 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:36,641 [pool-29-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e does not exist. Creating ...
2022-05-09 13:04:36,642 [pool-29-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e
2022-05-09 13:04:36,642 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-29E37BC8E22E:[s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0] returns group-29E37BC8E22E:java.util.concurrent.CompletableFuture@1edf63bc[Not completed]
2022-05-09 13:04:36,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-29E37BC8E22E:[s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], format? true
2022-05-09 13:04:36,643 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2
2022-05-09 13:04:36,643 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2 does not exist.
2022-05-09 13:04:36,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2
2022-05-09 13:04:36,643 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:36,643 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:36,643 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:36,643 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:36,643 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:36,643 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:36,643 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2] (custom)
2022-05-09 13:04:36,644 [pool-30-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s1: new RaftServerImpl for group-29E37BC8E22E:[s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:36,644 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:36,644 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:36,644 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:36,644 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:36,644 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:36,644 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:36,644 [pool-30-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-29E37BC8E22E: ConfigurationManager, init=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:36,644 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1] (custom)
2022-05-09 13:04:36,645 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:36,645 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:36,645 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-29E37BC8E22E:[s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0] returns group-29E37BC8E22E:java.util.concurrent.CompletableFuture@3aede9f0[Not completed]
2022-05-09 13:04:36,645 [pool-30-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e does not exist. Creating ...
2022-05-09 13:04:36,645 [pool-29-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:36,645 [pool-29-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current
2022-05-09 13:04:36,645 [pool-29-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/sm
2022-05-09 13:04:36,646 [pool-30-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e
2022-05-09 13:04:36,647 [pool-29-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e has been successfully formatted.
2022-05-09 13:04:36,647 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:36,647 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:36,647 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:36,647 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:36,647 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:36,647 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-29E37BC8E22E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:36,648 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:36,649 [pool-29-thread-1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-05-09 13:04:36,649 [pool-29-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:36,649 [pool-29-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:36,649 [pool-30-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:36,651 [pool-30-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current
2022-05-09 13:04:36,651 [pool-30-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/sm
2022-05-09 13:04:36,652 [pool-30-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e has been successfully formatted.
2022-05-09 13:04:36,652 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:36,652 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:36,653 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:36,653 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:36,652 [pool-31-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s2: new RaftServerImpl for group-29E37BC8E22E:[s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:36,653 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:36,653 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:36,653 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:36,653 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:36,654 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:36,655 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:36,655 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:36,655 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:36,655 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-29E37BC8E22E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:36,655 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:36,656 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:36,656 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:36,656 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:36,656 [pool-30-thread-1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-05-09 13:04:36,656 [pool-30-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:36,656 [pool-30-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:36,656 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:36,656 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:36,656 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:36,656 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:36,656 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:36,657 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:36,657 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:36,657 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:36,657 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:36,657 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:36,658 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s0@group-29E37BC8E22E: start as a follower, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,658 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:36,658 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:36,653 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:36,658 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:36,658 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:36,658 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:36,658 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:36,658 [pool-31-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-29E37BC8E22E: ConfigurationManager, init=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:36,658 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2] (custom)
2022-05-09 13:04:36,658 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:36,658 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:36,659 [pool-31-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e does not exist. Creating ...
2022-05-09 13:04:36,659 [pool-31-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e
2022-05-09 13:04:36,660 [pool-31-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:36,660 [pool-31-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current
2022-05-09 13:04:36,660 [pool-31-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/sm
2022-05-09 13:04:36,661 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-29E37BC8E22E,id=s0
2022-05-09 13:04:36,661 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-05-09 13:04:36,662 [pool-31-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e has been successfully formatted.
2022-05-09 13:04:36,662 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:36,662 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:36,662 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:36,662 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:36,662 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:36,662 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-29E37BC8E22E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e
2022-05-09 13:04:36,663 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@5f4abf92] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-05-09 13:04:36,663 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s1@group-29E37BC8E22E: start as a follower, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,663 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:36,663 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:36,663 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:36,664 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-29E37BC8E22E,id=s1
2022-05-09 13:04:36,664 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:36,664 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:36,664 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:36,664 [pool-31-thread-1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-05-09 13:04:36,664 [pool-31-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:36,664 [pool-31-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:36,664 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-05-09 13:04:36,664 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:36,665 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:36,665 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:36,666 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:36,666 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:36,666 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:36,666 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:36,666 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:36,666 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:36,666 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:36,667 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s2@group-29E37BC8E22E: start as a follower, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,667 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:36,667 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@2f9c7d49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-05-09 13:04:36,667 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:36,667 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-29E37BC8E22E,id=s2
2022-05-09 13:04:36,668 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-05-09 13:04:36,668 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@4bdbcdf0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-05-09 13:04:36,669 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:36,669 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:36,669 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:99)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:36,880 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:213412412ns, electionTimeout:213ms
2022-05-09 13:04:36,881 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:36,881 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:36,881 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:36,881 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderElection88
2022-05-09 13:04:36,882 [s2@group-29E37BC8E22E-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection88 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,882 [Thread-2035] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 0, (t:0, i:0))
2022-05-09 13:04:36,882 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 0, (t:0, i:0))
2022-05-09 13:04:36,883 [Thread-2042] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:36,882 [Thread-2035] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:36,883 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,883 [Thread-2035] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-29E37BC8E22E:t0, leader=null, voted=, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,883 [s2@group-29E37BC8E22E-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection88: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:36,883 [s2@group-29E37BC8E22E-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t0
2022-05-09 13:04:36,884 [s2@group-29E37BC8E22E-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection88 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:36,885 [s2@group-29E37BC8E22E-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection88 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,886 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 1, (t:0, i:0))
2022-05-09 13:04:36,886 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 1, (t:0, i:0))
2022-05-09 13:04:36,887 [Thread-2036] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:36,887 [Thread-2043] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:36,887 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-05-09 13:04:36,887 [Thread-2036] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:36,887 [Thread-2036] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:36,887 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:36,887 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-05-09 13:04:36,888 [Thread-2043] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:36,888 [Thread-2043] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:36,888 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:36,889 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-29E37BC8E22E:t1, leader=null, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,889 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-29E37BC8E22E:t1, leader=null, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection88: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t1
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection88 ELECTION round 0: result PASSED
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-29E37BC8E22E-LeaderElection88
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 227ms
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:36,890 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:36,891 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:36,891 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:36,891 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:36,891 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:36,891 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:36,891 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:36,891 [s2@group-29E37BC8E22E-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:36,892 [s2@group-29E37BC8E22E-LeaderElection88] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:36,892 [s2@group-29E37BC8E22E-LeaderElection88] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-05-09 13:04:36,897 [s2@group-29E37BC8E22E-LeaderElection88] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:36,901 [s2@group-29E37BC8E22E-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,901 [Thread-2037] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s2 at term 1 for appendEntries, leader elected after 253ms
2022-05-09 13:04:36,901 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s2 at term 1 for appendEntries, leader elected after 248ms
2022-05-09 13:04:36,902 [Thread-2035] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:36,902 [Thread-2042] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:36,905 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0
2022-05-09 13:04:36,905 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0)
2022-05-09 13:04:36,906 [Thread-2035] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,906 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-05-09 13:04:36,906 [Thread-2035] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:36,906 [Thread-2035] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-05-09 13:04:36,906 [Thread-2035] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:36,907 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:36,907 [Thread-2042] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:36,907 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-05-09 13:04:36,907 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:36,924 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0
2022-05-09 13:04:36,924 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0
2022-05-09 13:04:36,925 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0)
2022-05-09 13:04:36,925 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0)
2022-05-09 13:04:36,925 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-05-09 13:04:36,925 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-05-09 13:04:36,925 [Thread-2086] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s1#1112:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:36,925 [Thread-2087] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s0#1111:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:37,120 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,121 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,121 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,121 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,121 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:37,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,222 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,222 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,223 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:37,323 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,324 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,324 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,324 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:37,374 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:292319656ns, electionTimeout:270ms
2022-05-09 13:04:37,374 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:37,374 [s1@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-05-09 13:04:37,375 [s1@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:37,375 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-LeaderElection89
2022-05-09 13:04:37,375 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from s2 to null at term 1 for PRE_VOTE
2022-05-09 13:04:37,376 [s1@group-29E37BC8E22E-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-29E37BC8E22E-LeaderElection89 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,376 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s1, group-29E37BC8E22E, 1, (t:1, i:0))
2022-05-09 13:04:37,376 [Thread-2036] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:37,376 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,377 [s1@group-29E37BC8E22E-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-29E37BC8E22E-LeaderElection89: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:37,377 [s1@group-29E37BC8E22E-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-05-09 13:04:37,377 [s1@group-29E37BC8E22E-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-29E37BC8E22E-LeaderElection89 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:37,377 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s1, group-29E37BC8E22E, 1, (t:1, i:0))
2022-05-09 13:04:37,377 [Thread-2049] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-05-09 13:04:37,377 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-29E37BC8E22E:t1, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,378 [s1@group-29E37BC8E22E-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-29E37BC8E22E-LeaderElection89 ELECTION round 0: submit vote requests at term 2 for 0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,379 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(ELECTION, s1, group-29E37BC8E22E, 2, (t:1, i:0))
2022-05-09 13:04:37,379 [Thread-2037] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:37,379 [Thread-2037] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-05-09 13:04:37,379 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-05-09 13:04:37,379 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:37,383 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:37,383 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:37,384 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(ELECTION, s1, group-29E37BC8E22E, 2, (t:1, i:0))
2022-05-09 13:04:37,384 [Thread-2050] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:37,384 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-05-09 13:04:37,384 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from    LEADER to FOLLOWER at term 2 for candidate:s1
2022-05-09 13:04:37,384 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:37,385 [Thread-2050] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:37,385 [s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:37,385 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:37,385 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-29E37BC8E22E:t2, leader=null, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,385 [s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-29E37BC8E22E-LeaderElection89: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t2
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-29E37BC8E22E-LeaderElection89 ELECTION round 0: result PASSED
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-29E37BC8E22E-LeaderElection89
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 10ms
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:37,386 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:37,387 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:37,387 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:37,387 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:37,387 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:37,387 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-29E37BC8E22E:t2, leader=null, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,387 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:37,387 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:37,387 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:37,387 [s1@group-29E37BC8E22E-LeaderElection89] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:37,388 [s1@group-29E37BC8E22E-LeaderElection89] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-05-09 13:04:37,388 [s1@group-29E37BC8E22E-LeaderElection89] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-05-09 13:04:37,390 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_0-0
2022-05-09 13:04:37,390 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_0-0
2022-05-09 13:04:37,390 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-05-09 13:04:37,390 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-05-09 13:04:37,390 [s1@group-29E37BC8E22E-LeaderElection89] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-05-09 13:04:37,390 [s1@group-29E37BC8E22E-LeaderElection89] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2022-05-09 13:04:37,395 [Thread-2035] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s1 at term 2 for appendEntries, leader elected after 15ms
2022-05-09 13:04:37,395 [s1@group-29E37BC8E22E-LeaderElection89] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,396 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s1 at term 2 for appendEntries, leader elected after 11ms
2022-05-09 13:04:37,396 [Thread-2036] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-05-09 13:04:37,396 [Thread-2036] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,396 [Thread-2036] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-05-09 13:04:37,396 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-05-09 13:04:37,396 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-05-09 13:04:37,397 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2022-05-09 13:04:37,397 [Thread-2049] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-05-09 13:04:37,397 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,397 [Thread-2049] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-05-09 13:04:37,397 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-05-09 13:04:37,398 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-05-09 13:04:37,398 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2022-05-09 13:04:37,399 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_0-0
2022-05-09 13:04:37,399 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_0-0
2022-05-09 13:04:37,399 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-05-09 13:04:37,399 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-05-09 13:04:37,397 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_0-0
2022-05-09 13:04:37,403 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_0-0
2022-05-09 13:04:37,403 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-05-09 13:04:37,403 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-05-09 13:04:37,411 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1
2022-05-09 13:04:37,411 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1)
2022-05-09 13:04:37,411 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-05-09 13:04:37,413 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1
2022-05-09 13:04:37,413 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1)
2022-05-09 13:04:37,421 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-05-09 13:04:37,422 [Thread-2118] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s2#1134:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:37,422 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1
2022-05-09 13:04:37,422 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1)
2022-05-09 13:04:37,422 [s1@group-29E37BC8E22E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:37,422 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1)
2022-05-09 13:04:37,423 [Thread-2050] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:37,423 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:37,423 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1)
2022-05-09 13:04:37,423 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-05-09 13:04:37,423 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-05-09 13:04:37,423 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-05-09 13:04:37,424 [Thread-2119] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s0#1133:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-05-09 13:04:37,424 [Thread-2037] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:37,424 [Thread-2037] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-05-09 13:04:37,424 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1)
2022-05-09 13:04:37,425 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,425 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,425 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,425 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-05-09 13:04:37,425 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,425 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,426 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c0, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,426 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:37,426 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-05-09 13:04:37,427 [Thread-2120] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s2#1137:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:37,428 [Thread-2121] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s0#1138:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-05-09 13:04:37,527 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,527 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,527 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,527 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:37,628 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,628 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,629 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,629 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:37,729 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,730 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,730 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,730 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:37,831 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,831 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,832 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,832 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:37,845 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:420400025ns, electionTimeout:156ms
2022-05-09 13:04:37,845 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:37,845 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-05-09 13:04:37,845 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:37,845 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderElection90
2022-05-09 13:04:37,846 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:417793230ns, electionTimeout:237ms
2022-05-09 13:04:37,846 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:37,846 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from s1 to null at term 2 for PRE_VOTE
2022-05-09 13:04:37,846 [s0@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-05-09 13:04:37,846 [s2@group-29E37BC8E22E-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection90 PRE_VOTE round 0: submit vote requests at term 2 for 1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,846 [s0@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:37,846 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-LeaderElection91
2022-05-09 13:04:37,847 [s0@group-29E37BC8E22E-LeaderElection91] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from s1 to null at term 2 for PRE_VOTE
2022-05-09 13:04:37,847 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 2, (t:2, i:2))
2022-05-09 13:04:37,847 [s0@group-29E37BC8E22E-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-29E37BC8E22E-LeaderElection91 PRE_VOTE round 0: submit vote requests at term 2 for 1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,847 [Thread-2036] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:37,847 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-29E37BC8E22E:t2, leader=null, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,847 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 2, (t:2, i:2))
2022-05-09 13:04:37,847 [Thread-2043] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s1@group-29E37BC8E22E-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 461ms. Conf: 1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,847 [Thread-2043] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s1@group-29E37BC8E22E->s0(c1,m2,n3, attendVote=true, lastRpcSendTime=343, lastRpcResponseTime=419)
2022-05-09 13:04:37,847 [Thread-2043] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s1@group-29E37BC8E22E->s2(c1,m2,n3, attendVote=true, lastRpcSendTime=344, lastRpcResponseTime=420)
2022-05-09 13:04:37,847 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-05-09 13:04:37,848 [Thread-2043] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:37,848 [s2@group-29E37BC8E22E-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection90: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:37,849 [s2@group-29E37BC8E22E-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t2
2022-05-09 13:04:37,849 [s2@group-29E37BC8E22E-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection90 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:37,849 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s0, group-29E37BC8E22E, 2, (t:2, i:2))
2022-05-09 13:04:37,849 [Thread-2043] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:37,849 [s1@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:37,849 [s1@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:37,850 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s0, group-29E37BC8E22E, 2, (t:2, i:2))
2022-05-09 13:04:37,851 [Thread-2049] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:37,851 [Thread-2043] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:37,851 [s2@group-29E37BC8E22E-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection90 ELECTION round 0: submit vote requests at term 3 for 1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,852 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to PRE_VOTE vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-29E37BC8E22E:t3, leader=null, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,853 [Thread-2043] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2022-05-09 13:04:37,853 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,853 [s0@group-29E37BC8E22E-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-29E37BC8E22E-LeaderElection91: PRE_VOTE DISCOVERED_A_NEW_TERM (term=3) received 1 response(s) and 0 exception(s):
2022-05-09 13:04:37,853 [s0@group-29E37BC8E22E-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t3
2022-05-09 13:04:37,853 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-05-09 13:04:37,853 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-29E37BC8E22E:t2, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,854 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 3, (t:2, i:2))
2022-05-09 13:04:37,854 [Thread-2037] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-CANDIDATE: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:37,854 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from CANDIDATE to FOLLOWER at term 3 for candidate:s2
2022-05-09 13:04:37,854 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-29E37BC8E22E-LeaderElection91
2022-05-09 13:04:37,854 [s0@group-29E37BC8E22E-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-29E37BC8E22E-LeaderElection91 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=3)
2022-05-09 13:04:37,854 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:37,854 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 3, (t:2, i:2))
2022-05-09 13:04:37,854 [Thread-2042] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:37,854 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from s1 to null at term 3 for updateCurrentTerm
2022-05-09 13:04:37,854 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-05-09 13:04:37,854 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:37,855 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:37,855 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:37,856 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to ELECTION vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-29E37BC8E22E:t3, leader=null, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,856 [s2@group-29E37BC8E22E-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection90: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:37,856 [s2@group-29E37BC8E22E-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t3
2022-05-09 13:04:37,856 [s2@group-29E37BC8E22E-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection90 ELECTION round 0: result PASSED
2022-05-09 13:04:37,856 [s2@group-29E37BC8E22E-LeaderElection90] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-29E37BC8E22E-LeaderElection90
2022-05-09 13:04:37,856 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-05-09 13:04:37,856 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s2 at term 3 for becomeLeader, leader elected after 10ms
2022-05-09 13:04:37,856 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:37,856 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:37,857 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:37,857 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to ELECTION vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-29E37BC8E22E:t3, leader=null, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,857 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:37,857 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:37,857 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:37,857 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:37,857 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:37,857 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:37,857 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:37,857 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:37,858 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:37,858 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:37,858 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:37,858 [s2@group-29E37BC8E22E-LeaderElection90] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:37,858 [s2@group-29E37BC8E22E-LeaderElection90] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-05-09 13:04:37,858 [s2@group-29E37BC8E22E-LeaderElection90] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-05-09 13:04:37,858 [s2@group-29E37BC8E22E-LeaderElection90] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-05-09 13:04:37,858 [s2@group-29E37BC8E22E-LeaderElection90] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:37,860 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_1-2
2022-05-09 13:04:37,860 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_1-2
2022-05-09 13:04:37,860 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-05-09 13:04:37,860 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-05-09 13:04:37,865 [s2@group-29E37BC8E22E-LeaderElection90] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,865 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s2 at term 3 for appendEntries, leader elected after 10ms
2022-05-09 13:04:37,865 [Thread-2035] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s2 at term 3 for appendEntries, leader elected after 18ms
2022-05-09 13:04:37,866 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s2, 3, (t:2, i:2), 1, true, commits[s2:c1, s0:c0, s1:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:37,866 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,866 [Thread-2044] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-05-09 13:04:37,867 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-05-09 13:04:37,867 [Thread-2036] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s2, 3, (t:2, i:2), 1, true, commits[s2:c1, s0:c1, s1:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:37,867 [Thread-2036] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:37,867 [Thread-2036] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-05-09 13:04:37,867 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-05-09 13:04:37,867 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-05-09 13:04:37,867 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:37,867 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-05-09 13:04:37,867 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2022-05-09 13:04:37,867 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_1-2
2022-05-09 13:04:37,867 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_1-2
2022-05-09 13:04:37,868 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-05-09 13:04:37,868 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-05-09 13:04:37,872 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3
2022-05-09 13:04:37,872 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3)
2022-05-09 13:04:37,872 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_1-2
2022-05-09 13:04:37,873 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_1-2
2022-05-09 13:04:37,873 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-05-09 13:04:37,873 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-05-09 13:04:37,873 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-05-09 13:04:37,891 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3
2022-05-09 13:04:37,892 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3)
2022-05-09 13:04:37,891 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3
2022-05-09 13:04:37,892 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-05-09 13:04:37,892 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3)
2022-05-09 13:04:37,892 [Thread-2150] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s1#1153:OK-t3,SUCCESS,nextIndex=4,followerCommit=2
2022-05-09 13:04:37,893 [s2@group-29E37BC8E22E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:37,893 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3)
2022-05-09 13:04:37,894 [Thread-2042] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s2, 3, (t:3, i:3), 3, true, commits[s2:c3, s0:c1, s1:c2], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:37,894 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:37,894 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3)
2022-05-09 13:04:37,894 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-05-09 13:04:37,894 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-05-09 13:04:37,895 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-05-09 13:04:37,895 [Thread-2152] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s1#1157:OK-t3,SUCCESS,nextIndex=5,followerCommit=3
2022-05-09 13:04:37,896 [Thread-2151] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s0#1154:OK-t3,SUCCESS,nextIndex=4,followerCommit=1
2022-05-09 13:04:37,896 [Thread-2037] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s2, 3, (t:3, i:3), 4, true, commits[s2:c4, s0:c1, s1:c3], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:37,896 [Thread-2037] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-05-09 13:04:37,896 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3)
2022-05-09 13:04:37,897 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-05-09 13:04:37,897 [Thread-2153] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s0#1158:OK-t3,SUCCESS,nextIndex=5,followerCommit=4
2022-05-09 13:04:37,932 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,933 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,933 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,933 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-05-09 13:04:37,933 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:37,933 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,934 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:37,934 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:38,034 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,035 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,035 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,035 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:38,136 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,136 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,136 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,136 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:38,237 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,237 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,237 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,237 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:38,244 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:349608299ns, electionTimeout:208ms
2022-05-09 13:04:38,245 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,245 [s1@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-05-09 13:04:38,245 [s1@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:38,245 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-LeaderElection92
2022-05-09 13:04:38,245 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from s2 to null at term 3 for PRE_VOTE
2022-05-09 13:04:38,245 [s1@group-29E37BC8E22E-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-29E37BC8E22E-LeaderElection92 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,245 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s1, group-29E37BC8E22E, 3, (t:3, i:4))
2022-05-09 13:04:38,246 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s1, group-29E37BC8E22E, 3, (t:3, i:4))
2022-05-09 13:04:38,246 [Thread-2036] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:38,246 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s2@group-29E37BC8E22E-LeaderStateImpl: Lost leadership on term: 3. Election timeout: 300ms. In charge for: 389ms. Conf: 3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,246 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,246 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-29E37BC8E22E->s0(c4,m4,n5, attendVote=true, lastRpcSendTime=273, lastRpcResponseTime=348)
2022-05-09 13:04:38,246 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-29E37BC8E22E->s1(c3,m4,n5, attendVote=true, lastRpcSendTime=275, lastRpcResponseTime=350)
2022-05-09 13:04:38,246 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from    LEADER to FOLLOWER at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-05-09 13:04:38,246 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:38,246 [Thread-2050] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:38,246 [s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:38,246 [s1@group-29E37BC8E22E-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-29E37BC8E22E-LeaderElection92: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:38,247 [s1@group-29E37BC8E22E-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-05-09 13:04:38,247 [s1@group-29E37BC8E22E-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-29E37BC8E22E-LeaderElection92 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:38,247 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,247 [s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:38,247 [Thread-2050] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-05-09 13:04:38,248 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t3. Peer's state: s2@group-29E37BC8E22E:t3, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,249 [s1@group-29E37BC8E22E-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-29E37BC8E22E-LeaderElection92 ELECTION round 0: submit vote requests at term 4 for 3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,251 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(ELECTION, s1, group-29E37BC8E22E, 4, (t:3, i:4))
2022-05-09 13:04:38,251 [Thread-2037] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:38,251 [Thread-2037] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from s2 to null at term 4 for updateCurrentTerm
2022-05-09 13:04:38,251 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s1
2022-05-09 13:04:38,251 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,255 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,255 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:38,255 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(ELECTION, s1, group-29E37BC8E22E, 4, (t:3, i:4))
2022-05-09 13:04:38,255 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:38,255 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from s2 to null at term 4 for updateCurrentTerm
2022-05-09 13:04:38,256 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s1
2022-05-09 13:04:38,256 [Thread-2051] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,256 [Thread-2051] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,256 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:38,257 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to ELECTION vote request: s1<-s0#0:OK-t4. Peer's state: s0@group-29E37BC8E22E:t4, leader=null, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,257 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to ELECTION vote request: s1<-s2#0:OK-t4. Peer's state: s2@group-29E37BC8E22E:t4, leader=null, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,257 [s1@group-29E37BC8E22E-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-29E37BC8E22E-LeaderElection92: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:38,257 [s1@group-29E37BC8E22E-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t4
2022-05-09 13:04:38,257 [s1@group-29E37BC8E22E-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-29E37BC8E22E-LeaderElection92 ELECTION round 0: result PASSED
2022-05-09 13:04:38,257 [s1@group-29E37BC8E22E-LeaderElection92] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-29E37BC8E22E-LeaderElection92
2022-05-09 13:04:38,257 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2022-05-09 13:04:38,258 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s1 at term 4 for becomeLeader, leader elected after 12ms
2022-05-09 13:04:38,258 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:38,258 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:38,258 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:38,258 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:38,258 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:38,258 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:38,258 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:38,258 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:38,258 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:38,259 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:38,259 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:38,259 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:38,259 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:38,259 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:38,259 [s1@group-29E37BC8E22E-LeaderElection92] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:38,259 [s1@group-29E37BC8E22E-LeaderElection92] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-05-09 13:04:38,259 [s1@group-29E37BC8E22E-LeaderElection92] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-05-09 13:04:38,260 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_3-4
2022-05-09 13:04:38,260 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_3-4
2022-05-09 13:04:38,260 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-05-09 13:04:38,260 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-05-09 13:04:38,261 [s1@group-29E37BC8E22E-LeaderElection92] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-05-09 13:04:38,261 [s1@group-29E37BC8E22E-LeaderElection92] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY
2022-05-09 13:04:38,266 [s1@group-29E37BC8E22E-LeaderElection92] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,266 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s1 at term 4 for appendEntries, leader elected after 10ms
2022-05-09 13:04:38,266 [Thread-2035] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s1 at term 4 for appendEntries, leader elected after 14ms
2022-05-09 13:04:38,268 [Thread-2050] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: receive appendEntries(s1, 4, (t:3, i:4), 3, true, commits[s1:c3, s0:c4, s2:c4], entries: (t:4, i:5), CONFIGURATIONENTRY
2022-05-09 13:04:38,268 [Thread-2036] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s1, 4, (t:3, i:4), 3, true, commits[s1:c3, s0:c4, s2:c4], entries: (t:4, i:5), CONFIGURATIONENTRY
2022-05-09 13:04:38,268 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,268 [Thread-2036] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,268 [Thread-2050] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-05-09 13:04:38,268 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-05-09 13:04:38,268 [Thread-2036] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-05-09 13:04:38,268 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-05-09 13:04:38,268 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-05-09 13:04:38,268 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY
2022-05-09 13:04:38,268 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-05-09 13:04:38,268 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY
2022-05-09 13:04:38,270 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_3-4
2022-05-09 13:04:38,270 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_3-4
2022-05-09 13:04:38,270 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-05-09 13:04:38,270 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-05-09 13:04:38,275 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5
2022-05-09 13:04:38,275 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_3-4
2022-05-09 13:04:38,275 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_3-4
2022-05-09 13:04:38,275 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-05-09 13:04:38,275 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-05-09 13:04:38,275 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5)
2022-05-09 13:04:38,283 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-05-09 13:04:38,294 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5
2022-05-09 13:04:38,294 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5
2022-05-09 13:04:38,294 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5)
2022-05-09 13:04:38,295 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5)
2022-05-09 13:04:38,295 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-05-09 13:04:38,295 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-05-09 13:04:38,295 [Thread-2178] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s0#1174:OK-t4,SUCCESS,nextIndex=6,followerCommit=4
2022-05-09 13:04:38,296 [s1@group-29E37BC8E22E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:38,296 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5)
2022-05-09 13:04:38,296 [Thread-2177] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s2#1173:OK-t4,SUCCESS,nextIndex=6,followerCommit=4
2022-05-09 13:04:38,297 [Thread-2037] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s1, 4, (t:4, i:5), 5, true, commits[s1:c5, s0:c4, s2:c4], entries: (t:4, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:38,297 [Thread-2037] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:38,297 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5)
2022-05-09 13:04:38,297 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-05-09 13:04:38,297 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: receive appendEntries(s1, 4, (t:4, i:5), 5, true, commits[s1:c5, s0:c4, s2:c4], entries: (t:4, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:38,298 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-05-09 13:04:38,298 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5)
2022-05-09 13:04:38,298 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-05-09 13:04:38,302 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-05-09 13:04:38,303 [Thread-2179] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s0#1175:OK-t4,SUCCESS,nextIndex=7,followerCommit=5
2022-05-09 13:04:38,303 [Thread-2180] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s2#1176:OK-t4,SUCCESS,nextIndex=7,followerCommit=5
2022-05-09 13:04:38,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,338 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,338 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,338 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-05-09 13:04:38,339 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,339 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,339 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,339 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:38,440 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,440 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,440 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,440 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:38,541 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,542 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,542 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,542 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:38,642 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,643 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,643 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,643 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:38,743 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,744 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,744 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,744 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:38,745 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:442056648ns, electionTimeout:293ms
2022-05-09 13:04:38,745 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,745 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2022-05-09 13:04:38,745 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:38,745 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderElection93
2022-05-09 13:04:38,745 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from s1 to null at term 4 for PRE_VOTE
2022-05-09 13:04:38,745 [s2@group-29E37BC8E22E-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection93 PRE_VOTE round 0: submit vote requests at term 4 for 5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,746 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 4, (t:4, i:6))
2022-05-09 13:04:38,746 [Thread-2036] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:38,746 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s0#0:OK-t4. Peer's state: s0@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,746 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 4, (t:4, i:6))
2022-05-09 13:04:38,746 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s1@group-29E37BC8E22E-LeaderStateImpl: Lost leadership on term: 4. Election timeout: 300ms. In charge for: 488ms. Conf: 5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,746 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s1@group-29E37BC8E22E->s0(c5,m6,n7, attendVote=true, lastRpcSendTime=367, lastRpcResponseTime=443)
2022-05-09 13:04:38,746 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s1@group-29E37BC8E22E->s2(c5,m6,n7, attendVote=true, lastRpcSendTime=367, lastRpcResponseTime=443)
2022-05-09 13:04:38,747 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from    LEADER to FOLLOWER at term 4 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-05-09 13:04:38,747 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:38,747 [Thread-2044] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:38,747 [s1@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:38,747 [s1@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:38,752 [s2@group-29E37BC8E22E-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection93: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:38,752 [s2@group-29E37BC8E22E-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t4
2022-05-09 13:04:38,752 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,752 [s2@group-29E37BC8E22E-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection93 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:38,752 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2022-05-09 13:04:38,752 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t4. Peer's state: s1@group-29E37BC8E22E:t4, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,754 [s2@group-29E37BC8E22E-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection93 ELECTION round 0: submit vote requests at term 5 for 5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,754 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 5, (t:4, i:6))
2022-05-09 13:04:38,754 [Thread-2037] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:38,754 [Thread-2037] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from s1 to null at term 5 for updateCurrentTerm
2022-05-09 13:04:38,754 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s2
2022-05-09 13:04:38,754 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,755 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:38,755 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,756 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 5, (t:4, i:6))
2022-05-09 13:04:38,756 [Thread-2042] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:38,756 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from s1 to null at term 5 for updateCurrentTerm
2022-05-09 13:04:38,756 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s2
2022-05-09 13:04:38,756 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,756 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:38,756 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:38,758 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to ELECTION vote request: s2<-s0#0:OK-t5. Peer's state: s0@group-29E37BC8E22E:t5, leader=null, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,758 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to ELECTION vote request: s2<-s1#0:OK-t5. Peer's state: s1@group-29E37BC8E22E:t5, leader=null, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,758 [s2@group-29E37BC8E22E-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection93: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:38,758 [s2@group-29E37BC8E22E-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t5
2022-05-09 13:04:38,758 [s2@group-29E37BC8E22E-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection93 ELECTION round 0: result PASSED
2022-05-09 13:04:38,758 [s2@group-29E37BC8E22E-LeaderElection93] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-29E37BC8E22E-LeaderElection93
2022-05-09 13:04:38,758 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2022-05-09 13:04:38,758 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s2 at term 5 for becomeLeader, leader elected after 12ms
2022-05-09 13:04:38,758 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:38,759 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:38,759 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:38,759 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:38,759 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:38,759 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:38,759 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:38,759 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:38,759 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:38,759 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:38,760 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:38,760 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:38,760 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:38,760 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:38,760 [s2@group-29E37BC8E22E-LeaderElection93] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:38,760 [s2@group-29E37BC8E22E-LeaderElection93] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-05-09 13:04:38,760 [s2@group-29E37BC8E22E-LeaderElection93] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-05-09 13:04:38,761 [s2@group-29E37BC8E22E-LeaderElection93] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-05-09 13:04:38,761 [s2@group-29E37BC8E22E-LeaderElection93] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY
2022-05-09 13:04:38,761 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_5-6
2022-05-09 13:04:38,761 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_5-6
2022-05-09 13:04:38,761 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-05-09 13:04:38,762 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-05-09 13:04:38,766 [Thread-2035] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s2 at term 5 for appendEntries, leader elected after 11ms
2022-05-09 13:04:38,766 [s2@group-29E37BC8E22E-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,767 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s2 at term 5 for appendEntries, leader elected after 11ms
2022-05-09 13:04:38,767 [Thread-2036] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s2, 5, (t:4, i:6), 5, true, commits[s2:c5, s0:c5, s1:c5], entries: (t:5, i:7), CONFIGURATIONENTRY
2022-05-09 13:04:38,767 [Thread-2036] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,767 [Thread-2036] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-05-09 13:04:38,767 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-05-09 13:04:38,767 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-05-09 13:04:38,768 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY
2022-05-09 13:04:38,768 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_5-6
2022-05-09 13:04:38,768 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_5-6
2022-05-09 13:04:38,768 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-05-09 13:04:38,768 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-05-09 13:04:38,773 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s2, 5, (t:4, i:6), 5, true, commits[s2:c5, s0:c5, s1:c6], entries: (t:5, i:7), CONFIGURATIONENTRY
2022-05-09 13:04:38,773 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:38,774 [Thread-2044] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-05-09 13:04:38,774 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-05-09 13:04:38,774 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-05-09 13:04:38,774 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY
2022-05-09 13:04:38,775 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_5-6
2022-05-09 13:04:38,775 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_5-6
2022-05-09 13:04:38,775 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-05-09 13:04:38,775 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-05-09 13:04:38,781 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7
2022-05-09 13:04:38,781 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7)
2022-05-09 13:04:38,781 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7
2022-05-09 13:04:38,782 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-05-09 13:04:38,782 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7)
2022-05-09 13:04:38,782 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-05-09 13:04:38,785 [Thread-2206] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s0#1193:OK-t5,SUCCESS,nextIndex=8,followerCommit=5
2022-05-09 13:04:38,785 [s2@group-29E37BC8E22E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-05-09 13:04:38,786 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7)
2022-05-09 13:04:38,786 [Thread-2037] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s2, 5, (t:5, i:7), 7, true, commits[s2:c7, s0:c5, s1:c6], entries: (t:5, i:8), METADATAENTRY(c:7)
2022-05-09 13:04:38,786 [Thread-2037] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-05-09 13:04:38,787 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7)
2022-05-09 13:04:38,791 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-05-09 13:04:38,791 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-05-09 13:04:38,792 [Thread-2209] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s0#1197:OK-t5,SUCCESS,nextIndex=9,followerCommit=7
2022-05-09 13:04:38,792 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7
2022-05-09 13:04:38,793 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7)
2022-05-09 13:04:38,793 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-05-09 13:04:38,793 [Thread-2210] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s1#1194:OK-t5,SUCCESS,nextIndex=8,followerCommit=6
2022-05-09 13:04:38,793 [Thread-2042] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s2, 5, (t:5, i:7), 8, true, commits[s2:c8, s0:c7, s1:c6], entries: (t:5, i:8), METADATAENTRY(c:7)
2022-05-09 13:04:38,794 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-05-09 13:04:38,794 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7)
2022-05-09 13:04:38,795 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-05-09 13:04:38,796 [Thread-2211] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s1#1198:OK-t5,SUCCESS,nextIndex=9,followerCommit=8
2022-05-09 13:04:38,845 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-05-09 13:04:38,846 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,846 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,846 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,846 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:38,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:38,948 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,948 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:38,948 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:39,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,049 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,050 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,050 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:39,150 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,151 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,151 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,151 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:39,190 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:394442833ns, electionTimeout:159ms
2022-05-09 13:04:39,190 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,190 [s1@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2022-05-09 13:04:39,190 [s1@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:39,190 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-LeaderElection94
2022-05-09 13:04:39,191 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from s2 to null at term 5 for PRE_VOTE
2022-05-09 13:04:39,191 [s1@group-29E37BC8E22E-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-29E37BC8E22E-LeaderElection94 PRE_VOTE round 0: submit vote requests at term 5 for 7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,191 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s1, group-29E37BC8E22E, 5, (t:5, i:8))
2022-05-09 13:04:39,191 [Thread-2036] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:39,192 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to PRE_VOTE vote request: s1<-s0#0:OK-t5. Peer's state: s0@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,192 [s1@group-29E37BC8E22E-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-29E37BC8E22E-LeaderElection94: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:39,192 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s1, group-29E37BC8E22E, 5, (t:5, i:8))
2022-05-09 13:04:39,192 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s2@group-29E37BC8E22E-LeaderStateImpl: Lost leadership on term: 5. Election timeout: 300ms. In charge for: 433ms. Conf: 7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,192 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-29E37BC8E22E->s0(c7,m8,n9, attendVote=true, lastRpcSendTime=323, lastRpcResponseTime=400)
2022-05-09 13:04:39,192 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-29E37BC8E22E->s1(c8,m8,n9, attendVote=true, lastRpcSendTime=321, lastRpcResponseTime=396)
2022-05-09 13:04:39,192 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from    LEADER to FOLLOWER at term 5 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-05-09 13:04:39,192 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:39,192 [s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:39,192 [s1@group-29E37BC8E22E-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t5
2022-05-09 13:04:39,193 [s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:39,192 [Thread-2050] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:39,193 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,193 [s1@group-29E37BC8E22E-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-29E37BC8E22E-LeaderElection94 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:39,194 [Thread-2050] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-05-09 13:04:39,194 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t5. Peer's state: s2@group-29E37BC8E22E:t5, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,195 [s1@group-29E37BC8E22E-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-29E37BC8E22E-LeaderElection94 ELECTION round 0: submit vote requests at term 6 for 7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,195 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(ELECTION, s1, group-29E37BC8E22E, 6, (t:5, i:8))
2022-05-09 13:04:39,195 [Thread-2037] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:39,195 [Thread-2037] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from s2 to null at term 6 for updateCurrentTerm
2022-05-09 13:04:39,195 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s1
2022-05-09 13:04:39,195 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,196 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,196 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:39,196 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(ELECTION, s1, group-29E37BC8E22E, 6, (t:5, i:8))
2022-05-09 13:04:39,196 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-05-09 13:04:39,196 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from s2 to null at term 6 for updateCurrentTerm
2022-05-09 13:04:39,196 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s1
2022-05-09 13:04:39,196 [Thread-2051] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,196 [Thread-2051] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,196 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:39,197 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to ELECTION vote request: s1<-s0#0:OK-t6. Peer's state: s0@group-29E37BC8E22E:t6, leader=null, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,197 [s1@group-29E37BC8E22E-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-29E37BC8E22E-LeaderElection94: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:39,198 [s1@group-29E37BC8E22E-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t6
2022-05-09 13:04:39,198 [s1@group-29E37BC8E22E-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-29E37BC8E22E-LeaderElection94 ELECTION round 0: result PASSED
2022-05-09 13:04:39,198 [s1@group-29E37BC8E22E-LeaderElection94] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-29E37BC8E22E-LeaderElection94
2022-05-09 13:04:39,198 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2022-05-09 13:04:39,198 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s1 at term 6 for becomeLeader, leader elected after 6ms
2022-05-09 13:04:39,198 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:39,198 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:39,198 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:39,199 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:39,199 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:39,199 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:39,199 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:39,199 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:39,199 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:39,199 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:39,199 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:39,199 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:39,199 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:39,200 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:39,200 [s1@group-29E37BC8E22E-LeaderElection94] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:39,200 [s1@group-29E37BC8E22E-LeaderElection94] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-05-09 13:04:39,200 [s1@group-29E37BC8E22E-LeaderElection94] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-05-09 13:04:39,200 [s1@group-29E37BC8E22E-LeaderElection94] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-05-09 13:04:39,200 [s1@group-29E37BC8E22E-LeaderElection94] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY
2022-05-09 13:04:39,198 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to ELECTION vote request: s1<-s2#0:OK-t6. Peer's state: s2@group-29E37BC8E22E:t6, leader=null, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,201 [Thread-2035] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s1 at term 6 for appendEntries, leader elected after 5ms
2022-05-09 13:04:39,201 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_7-8
2022-05-09 13:04:39,201 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_7-8
2022-05-09 13:04:39,201 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-05-09 13:04:39,201 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-05-09 13:04:39,201 [s1@group-29E37BC8E22E-LeaderElection94] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,202 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s1 at term 6 for appendEntries, leader elected after 5ms
2022-05-09 13:04:39,208 [Thread-2050] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: receive appendEntries(s1, 6, (t:5, i:8), 8, true, commits[s1:c8, s0:c7, s2:c8], entries: (t:6, i:9), CONFIGURATIONENTRY
2022-05-09 13:04:39,208 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,208 [Thread-2050] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-05-09 13:04:39,208 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-05-09 13:04:39,208 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-05-09 13:04:39,208 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY
2022-05-09 13:04:39,209 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_7-8
2022-05-09 13:04:39,209 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_7-8
2022-05-09 13:04:39,210 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-05-09 13:04:39,210 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-05-09 13:04:39,214 [Thread-2036] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s1, 6, (t:5, i:8), 8, true, commits[s1:c8, s0:c8, s2:c8], entries: (t:6, i:9), CONFIGURATIONENTRY
2022-05-09 13:04:39,215 [Thread-2036] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,215 [Thread-2036] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-05-09 13:04:39,215 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-05-09 13:04:39,215 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-05-09 13:04:39,215 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY
2022-05-09 13:04:39,217 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_7-8
2022-05-09 13:04:39,217 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_7-8
2022-05-09 13:04:39,217 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-05-09 13:04:39,217 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-05-09 13:04:39,220 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9
2022-05-09 13:04:39,220 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9)
2022-05-09 13:04:39,227 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-05-09 13:04:39,235 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9
2022-05-09 13:04:39,235 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9
2022-05-09 13:04:39,235 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9)
2022-05-09 13:04:39,235 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9)
2022-05-09 13:04:39,236 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-05-09 13:04:39,236 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-05-09 13:04:39,236 [Thread-2236] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s2#1213:OK-t6,SUCCESS,nextIndex=10,followerCommit=8
2022-05-09 13:04:39,236 [Thread-2235] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s0#1214:OK-t6,SUCCESS,nextIndex=10,followerCommit=8
2022-05-09 13:04:39,237 [s1@group-29E37BC8E22E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-05-09 13:04:39,237 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9)
2022-05-09 13:04:39,237 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-05-09 13:04:39,241 [Thread-2037] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s1, 6, (t:6, i:9), 9, true, commits[s1:c9, s0:c8, s2:c8], entries: (t:6, i:10), METADATAENTRY(c:9)
2022-05-09 13:04:39,241 [Thread-2037] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-05-09 13:04:39,242 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9)
2022-05-09 13:04:39,242 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: receive appendEntries(s1, 6, (t:6, i:9), 9, true, commits[s1:c9, s0:c8, s2:c8], entries: (t:6, i:10), METADATAENTRY(c:9)
2022-05-09 13:04:39,242 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-05-09 13:04:39,242 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9)
2022-05-09 13:04:39,243 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-05-09 13:04:39,244 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-05-09 13:04:39,245 [Thread-2239] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s0#1216:OK-t6,SUCCESS,nextIndex=11,followerCommit=9
2022-05-09 13:04:39,245 [Thread-2238] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s1<-s2#1217:OK-t6,SUCCESS,nextIndex=11,followerCommit=9
2022-05-09 13:04:39,251 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-05-09 13:04:39,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,252 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:39,353 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,353 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,353 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,353 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:39,454 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,454 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,455 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,455 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:39,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,555 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,556 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,556 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:39,602 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:356660479ns, electionTimeout:212ms
2022-05-09 13:04:39,602 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,602 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2022-05-09 13:04:39,602 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:39,602 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderElection95
2022-05-09 13:04:39,603 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from s1 to null at term 6 for PRE_VOTE
2022-05-09 13:04:39,603 [s2@group-29E37BC8E22E-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection95 PRE_VOTE round 0: submit vote requests at term 6 for 9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,603 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 6, (t:6, i:10))
2022-05-09 13:04:39,603 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 6, (t:6, i:10))
2022-05-09 13:04:39,604 [Thread-2036] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:39,604 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s0#0:OK-t6. Peer's state: s0@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,604 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s1@group-29E37BC8E22E-LeaderStateImpl: Lost leadership on term: 6. Election timeout: 300ms. In charge for: 405ms. Conf: 9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,604 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s1@group-29E37BC8E22E->s0(c9,m10,n11, attendVote=true, lastRpcSendTime=282, lastRpcResponseTime=358)
2022-05-09 13:04:39,604 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s1@group-29E37BC8E22E->s2(c9,m10,n11, attendVote=true, lastRpcSendTime=282, lastRpcResponseTime=358)
2022-05-09 13:04:39,604 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from    LEADER to FOLLOWER at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-05-09 13:04:39,604 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:39,604 [s2@group-29E37BC8E22E-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection95: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:39,604 [s2@group-29E37BC8E22E-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t6
2022-05-09 13:04:39,604 [s2@group-29E37BC8E22E-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection95 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:39,604 [Thread-2044] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:39,605 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,604 [s1@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:39,604 [s1@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:39,605 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2022-05-09 13:04:39,605 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t6. Peer's state: s1@group-29E37BC8E22E:t6, leader=s1, voted=s1, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,606 [s2@group-29E37BC8E22E-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection95 ELECTION round 0: submit vote requests at term 7 for 9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,606 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 7, (t:6, i:10))
2022-05-09 13:04:39,607 [Thread-2037] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:39,607 [Thread-2037] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from s1 to null at term 7 for updateCurrentTerm
2022-05-09 13:04:39,607 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s2
2022-05-09 13:04:39,607 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,607 [Thread-2037] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,607 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:39,607 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 7, (t:6, i:10))
2022-05-09 13:04:39,607 [Thread-2042] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:39,607 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from s1 to null at term 7 for updateCurrentTerm
2022-05-09 13:04:39,607 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s2
2022-05-09 13:04:39,607 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,607 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:39,608 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:39,609 [Thread-2037] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to ELECTION vote request: s2<-s0#0:OK-t7. Peer's state: s0@group-29E37BC8E22E:t7, leader=null, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,610 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to ELECTION vote request: s2<-s1#0:OK-t7. Peer's state: s1@group-29E37BC8E22E:t7, leader=null, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection95: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t7
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection95 ELECTION round 0: result PASSED
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-29E37BC8E22E-LeaderElection95
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s2 at term 7 for becomeLeader, leader elected after 11ms
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:39,614 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:39,615 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:39,615 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:39,615 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:39,615 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:39,615 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:39,615 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:39,615 [s2@group-29E37BC8E22E-LeaderElection95] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:39,615 [s2@group-29E37BC8E22E-LeaderElection95] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-05-09 13:04:39,616 [s2@group-29E37BC8E22E-LeaderElection95] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-05-09 13:04:39,616 [s2@group-29E37BC8E22E-LeaderElection95] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-05-09 13:04:39,616 [s2@group-29E37BC8E22E-LeaderElection95] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY
2022-05-09 13:04:39,617 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_9-10
2022-05-09 13:04:39,617 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_9-10
2022-05-09 13:04:39,617 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-05-09 13:04:39,617 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-05-09 13:04:39,618 [Thread-2035] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s2 at term 7 for appendEntries, leader elected after 10ms
2022-05-09 13:04:39,618 [s2@group-29E37BC8E22E-LeaderElection95] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,618 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s2 at term 7 for appendEntries, leader elected after 10ms
2022-05-09 13:04:39,621 [Thread-2036] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s2, 7, (t:6, i:10), 9, true, commits[s2:c9, s0:c9, s1:c9], entries: (t:7, i:11), CONFIGURATIONENTRY
2022-05-09 13:04:39,622 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s2, 7, (t:6, i:10), 9, true, commits[s2:c9, s0:c9, s1:c10], entries: (t:7, i:11), CONFIGURATIONENTRY
2022-05-09 13:04:39,622 [Thread-2036] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,622 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:39,622 [Thread-2036] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-05-09 13:04:39,622 [Thread-2044] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-05-09 13:04:39,622 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-05-09 13:04:39,622 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-05-09 13:04:39,622 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY
2022-05-09 13:04:39,623 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_9-10
2022-05-09 13:04:39,623 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_9-10
2022-05-09 13:04:39,623 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-05-09 13:04:39,623 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-05-09 13:04:39,622 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-05-09 13:04:39,623 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-05-09 13:04:39,623 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY
2022-05-09 13:04:39,624 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_9-10
2022-05-09 13:04:39,624 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_9-10
2022-05-09 13:04:39,624 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-05-09 13:04:39,624 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-05-09 13:04:39,653 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11
2022-05-09 13:04:39,653 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11)
2022-05-09 13:04:39,653 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11
2022-05-09 13:04:39,653 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11)
2022-05-09 13:04:39,654 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-05-09 13:04:39,654 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11
2022-05-09 13:04:39,654 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11)
2022-05-09 13:04:39,654 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-05-09 13:04:39,654 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-05-09 13:04:39,654 [Thread-2264] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s0#1231:OK-t7,SUCCESS,nextIndex=12,followerCommit=9
2022-05-09 13:04:39,655 [s2@group-29E37BC8E22E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-05-09 13:04:39,655 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11)
2022-05-09 13:04:39,656 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-05-09 13:04:39,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,656 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,656 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,657 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-05-09 13:04:39,657 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,657 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,657 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,657 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:39,662 [Thread-2265] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s1#1232:OK-t7,SUCCESS,nextIndex=12,followerCommit=10
2022-05-09 13:04:39,758 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,758 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,758 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,758 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:39,859 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,859 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,859 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,859 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:39,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:39,960 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,960 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c9, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:39,960 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,016 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:361873256ns, electionTimeout:161ms
2022-05-09 13:04:40,017 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,017 [s0@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2022-05-09 13:04:40,017 [s0@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:40,017 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-LeaderElection96
2022-05-09 13:04:40,018 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from s2 to null at term 7 for PRE_VOTE
2022-05-09 13:04:40,018 [s0@group-29E37BC8E22E-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-29E37BC8E22E-LeaderElection96 PRE_VOTE round 0: submit vote requests at term 7 for 11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,018 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s0, group-29E37BC8E22E, 7, (t:7, i:11))
2022-05-09 13:04:40,018 [Thread-2043] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:40,018 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to PRE_VOTE vote request: s0<-s1#0:OK-t7. Peer's state: s1@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,019 [s0@group-29E37BC8E22E-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-29E37BC8E22E-LeaderElection96: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:40,019 [s0@group-29E37BC8E22E-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t7
2022-05-09 13:04:40,019 [s0@group-29E37BC8E22E-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-29E37BC8E22E-LeaderElection96 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:40,019 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s0, group-29E37BC8E22E, 7, (t:7, i:11))
2022-05-09 13:04:40,020 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s2@group-29E37BC8E22E-LeaderStateImpl: Lost leadership on term: 7. Election timeout: 300ms. In charge for: 405ms. Conf: 11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,020 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-29E37BC8E22E->s0(c9,m11,n12, attendVote=true, lastRpcSendTime=357, lastRpcResponseTime=365)
2022-05-09 13:04:40,020 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-29E37BC8E22E->s1(c10,m11,n12, attendVote=true, lastRpcSendTime=357, lastRpcResponseTime=357)
2022-05-09 13:04:40,020 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from    LEADER to FOLLOWER at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-05-09 13:04:40,020 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:40,020 [Thread-2050] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:40,020 [s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:40,020 [s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:40,021 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,021 [Thread-2050] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-05-09 13:04:40,021 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t7. Peer's state: s2@group-29E37BC8E22E:t7, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,021 [s0@group-29E37BC8E22E-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-29E37BC8E22E-LeaderElection96 ELECTION round 0: submit vote requests at term 8 for 11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,022 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(ELECTION, s0, group-29E37BC8E22E, 8, (t:7, i:11))
2022-05-09 13:04:40,022 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:40,022 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from s2 to null at term 8 for updateCurrentTerm
2022-05-09 13:04:40,022 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s0
2022-05-09 13:04:40,022 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,022 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,022 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:40,022 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(ELECTION, s0, group-29E37BC8E22E, 8, (t:7, i:11))
2022-05-09 13:04:40,022 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-FOLLOWER: reject ELECTION from s0: our last entry (t:7, i:12) > candidate's last entry (t:7, i:11)
2022-05-09 13:04:40,022 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from s2 to null at term 8 for updateCurrentTerm
2022-05-09 13:04:40,022 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s0
2022-05-09 13:04:40,022 [Thread-2051] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,023 [Thread-2051] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,023 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:40,024 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to ELECTION vote request: s0<-s1#0:OK-t8. Peer's state: s1@group-29E37BC8E22E:t8, leader=null, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c10, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,024 [s0@group-29E37BC8E22E-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-29E37BC8E22E-LeaderElection96: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:40,024 [s0@group-29E37BC8E22E-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t8
2022-05-09 13:04:40,024 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to ELECTION vote request: s0<-s2#0:FAIL-t8. Peer's state: s2@group-29E37BC8E22E:t8, leader=null, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,024 [s0@group-29E37BC8E22E-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-29E37BC8E22E-LeaderElection96 ELECTION round 0: result PASSED
2022-05-09 13:04:40,024 [s0@group-29E37BC8E22E-LeaderElection96] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-29E37BC8E22E-LeaderElection96
2022-05-09 13:04:40,024 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2022-05-09 13:04:40,024 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s0 at term 8 for becomeLeader, leader elected after 6ms
2022-05-09 13:04:40,024 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:40,025 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:40,025 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:40,025 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:40,025 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:40,025 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:40,025 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:40,025 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:40,025 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:40,026 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:40,026 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:40,026 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:40,026 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:40,026 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:40,026 [s0@group-29E37BC8E22E-LeaderElection96] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:40,027 [s0@group-29E37BC8E22E-LeaderElection96] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-11_11 to index:11
2022-05-09 13:04:40,027 [s0@group-29E37BC8E22E-LeaderElection96] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:11: startIndex=11 endIndex=11
2022-05-09 13:04:40,027 [s0@group-29E37BC8E22E-LeaderElection96] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:12
2022-05-09 13:04:40,028 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_11-11
2022-05-09 13:04:40,028 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_11-11
2022-05-09 13:04:40,028 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 11
2022-05-09 13:04:40,028 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=11, updated? true
2022-05-09 13:04:40,029 [s0@group-29E37BC8E22E-LeaderElection96] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:8, i:12), CONFIGURATIONENTRY
2022-05-09 13:04:40,032 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s0 at term 8 for appendEntries, leader elected after 10ms
2022-05-09 13:04:40,032 [s0@group-29E37BC8E22E-LeaderElection96] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,033 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s0 at term 8 for appendEntries, leader elected after 10ms
2022-05-09 13:04:40,033 [Thread-2043] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s0, 8, (t:7, i:11), 9, true, commits[s0:c9, s1:c10, s2:c11], entries: (t:8, i:12), CONFIGURATIONENTRY
2022-05-09 13:04:40,033 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,033 [Thread-2043] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-11_11 to index:11
2022-05-09 13:04:40,033 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:11: startIndex=11 endIndex=11
2022-05-09 13:04:40,034 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:12
2022-05-09 13:04:40,034 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:8, i:12), CONFIGURATIONENTRY
2022-05-09 13:04:40,035 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_11-11
2022-05-09 13:04:40,035 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_11-11
2022-05-09 13:04:40,035 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 11
2022-05-09 13:04:40,035 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=11, updated? true
2022-05-09 13:04:40,046 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12
2022-05-09 13:04:40,047 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12)
2022-05-09 13:04:40,047 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-05-09 13:04:40,047 [s0@group-29E37BC8E22E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), METADATAENTRY(c:12)
2022-05-09 13:04:40,048 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12)
2022-05-09 13:04:40,048 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12
2022-05-09 13:04:40,048 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-05-09 13:04:40,048 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12)
2022-05-09 13:04:40,048 [Thread-2050] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: receive appendEntries(s0, 8, (t:8, i:12), 12, true, commits[s0:c12, s1:c10, s2:c11], entries: (t:8, i:13), METADATAENTRY(c:12)
2022-05-09 13:04:40,048 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1423)) - s2@group-29E37BC8E22E: Failed appendEntries as previous log entry ((t:8, i:12)) is not found
2022-05-09 13:04:40,048 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-05-09 13:04:40,049 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1393)) - s2@group-29E37BC8E22E: inconsistency entries. Reply:s0<-s2#1250:FAIL-t8,INCONSISTENCY,nextIndex=12,followerCommit=11
2022-05-09 13:04:40,050 [s0@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-29E37BC8E22E->s2: nextIndex: updateUnconditionally 13 -> 12
2022-05-09 13:04:40,050 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: receive appendEntries(s0, 8, (t:7, i:11), 12, true, commits[s0:c12, s1:c10, s2:c11], entries: [(t:8, i:12), CONFIGURATIONENTRY, (t:8, i:13), METADATAENTRY(c:12)]
2022-05-09 13:04:40,050 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,052 [Thread-2289] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s0<-s1#1249:OK-t8,SUCCESS,nextIndex=13,followerCommit=10
2022-05-09 13:04:40,052 [Thread-2051] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(441)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Truncating segments toTruncate: (11, 12) isOpen? true, length=243, newEndIndex=11
  toDelete: [], start index 12
2022-05-09 13:04:40,052 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task TruncateLog:11: toTruncate: (11, 12) isOpen? true, length=243, newEndIndex=11
  toDelete: []
2022-05-09 13:04:40,053 [Thread-2051] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Starting segment from index:12
2022-05-09 13:04:40,053 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:12
2022-05-09 13:04:40,053 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:8, i:12), CONFIGURATIONENTRY
2022-05-09 13:04:40,053 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), METADATAENTRY(c:12)
2022-05-09 13:04:40,054 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran FileOutputStream.getChannel().truncate /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11 length: 256 -> 243
2022-05-09 13:04:40,054 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_11-11
2022-05-09 13:04:40,054 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(669)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Truncated log file /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_11 to length 243 and moved it to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_11-11
2022-05-09 13:04:40,055 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 12 -> 11
2022-05-09 13:04:40,055 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 10 -> 11
2022-05-09 13:04:40,056 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s0, 8, (t:8, i:12), 12, true, commits[s0:c12, s1:c10, s2:c11], entries: (t:8, i:13), METADATAENTRY(c:12)
2022-05-09 13:04:40,056 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), METADATAENTRY(c:12)
2022-05-09 13:04:40,057 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12)
2022-05-09 13:04:40,058 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-05-09 13:04:40,060 [Thread-2290] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s0<-s1#1252:OK-t8,SUCCESS,nextIndex=14,followerCommit=12
2022-05-09 13:04:40,061 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,061 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,061 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,061 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-05-09 13:04:40,061 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,061 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,061 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c11, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,061 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,071 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12
2022-05-09 13:04:40,071 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12)
2022-05-09 13:04:40,071 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 13
2022-05-09 13:04:40,072 [Thread-2291] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s0<-s2#1251:OK-t8,SUCCESS,nextIndex=14,followerCommit=12
2022-05-09 13:04:40,162 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,162 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,162 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,162 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,264 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,264 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,264 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,365 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,365 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,365 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,465 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,466 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,466 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t8, leader=s0, voted=null, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,466 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,514 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:442823869ns, electionTimeout:216ms
2022-05-09 13:04:40,515 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,515 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2022-05-09 13:04:40,515 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:40,515 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderElection97
2022-05-09 13:04:40,515 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from s0 to null at term 8 for PRE_VOTE
2022-05-09 13:04:40,515 [s2@group-29E37BC8E22E-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection97 PRE_VOTE round 0: submit vote requests at term 8 for 12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,516 [Thread-2035] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 8, (t:8, i:13))
2022-05-09 13:04:40,516 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 8, (t:8, i:13))
2022-05-09 13:04:40,516 [Thread-2035] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s0@group-29E37BC8E22E-LeaderStateImpl: Lost leadership on term: 8. Election timeout: 300ms. In charge for: 491ms. Conf: 12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,516 [Thread-2035] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-29E37BC8E22E->s1(c12,m13,n14, attendVote=true, lastRpcSendTime=380, lastRpcResponseTime=455)
2022-05-09 13:04:40,516 [Thread-2035] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-29E37BC8E22E->s2(c12,m13,n14, attendVote=true, lastRpcSendTime=365, lastRpcResponseTime=440)
2022-05-09 13:04:40,516 [Thread-2035] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from    LEADER to FOLLOWER at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-05-09 13:04:40,516 [Thread-2035] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:40,516 [s0@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:40,516 [Thread-2043] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:40,516 [s0@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:40,516 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s1#0:OK-t8. Peer's state: s1@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,516 [Thread-2035] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:40,517 [Thread-2035] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,517 [Thread-2035] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-05-09 13:04:40,517 [s2@group-29E37BC8E22E-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection97: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:40,517 [s2@group-29E37BC8E22E-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t8
2022-05-09 13:04:40,517 [s2@group-29E37BC8E22E-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection97 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:40,517 [Thread-2035] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t8. Peer's state: s0@group-29E37BC8E22E:t8, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,519 [s2@group-29E37BC8E22E-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection97 ELECTION round 0: submit vote requests at term 9 for 12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,519 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 9, (t:8, i:13))
2022-05-09 13:04:40,519 [Thread-2036] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:40,519 [Thread-2036] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from s0 to null at term 9 for updateCurrentTerm
2022-05-09 13:04:40,519 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s2
2022-05-09 13:04:40,519 [Thread-2036] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,519 [Thread-2036] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,519 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:40,520 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 9, (t:8, i:13))
2022-05-09 13:04:40,520 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:40,520 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from s0 to null at term 9 for updateCurrentTerm
2022-05-09 13:04:40,520 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s2
2022-05-09 13:04:40,520 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,520 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,520 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:40,521 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to ELECTION vote request: s2<-s0#0:OK-t9. Peer's state: s0@group-29E37BC8E22E:t9, leader=null, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c13, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection97: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t9
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection97 ELECTION round 0: result PASSED
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-29E37BC8E22E-LeaderElection97
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s2 at term 9 for becomeLeader, leader elected after 6ms
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:40,522 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:40,523 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:40,523 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:40,523 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:40,523 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:40,523 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:40,523 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:40,523 [s2@group-29E37BC8E22E-LeaderElection97] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:40,523 [s2@group-29E37BC8E22E-LeaderElection97] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-12_13 to index:13
2022-05-09 13:04:40,524 [s2@group-29E37BC8E22E-LeaderElection97] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:13: startIndex=12 endIndex=13
2022-05-09 13:04:40,524 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to ELECTION vote request: s2<-s1#0:OK-t9. Peer's state: s1@group-29E37BC8E22E:t9, leader=null, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c12, conf=12: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,525 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_12-13
2022-05-09 13:04:40,525 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_12-13
2022-05-09 13:04:40,525 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 13
2022-05-09 13:04:40,525 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=11, new=13, updated? true
2022-05-09 13:04:40,525 [s2@group-29E37BC8E22E-LeaderElection97] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:14
2022-05-09 13:04:40,525 [s2@group-29E37BC8E22E-LeaderElection97] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:9, i:14), CONFIGURATIONENTRY
2022-05-09 13:04:40,529 [Thread-2037] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s2 at term 9 for appendEntries, leader elected after 10ms
2022-05-09 13:04:40,530 [s2@group-29E37BC8E22E-LeaderElection97] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,530 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s2 at term 9 for appendEntries, leader elected after 10ms
2022-05-09 13:04:40,530 [Thread-2035] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s2, 9, (t:8, i:13), 12, true, commits[s2:c12, s0:c13, s1:c10], entries: (t:9, i:14), CONFIGURATIONENTRY
2022-05-09 13:04:40,531 [Thread-2035] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,531 [Thread-2035] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-12_13 to index:13
2022-05-09 13:04:40,531 [Thread-2035] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:13: startIndex=12 endIndex=13
2022-05-09 13:04:40,531 [Thread-2035] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:14
2022-05-09 13:04:40,531 [Thread-2035] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:9, i:14), CONFIGURATIONENTRY
2022-05-09 13:04:40,532 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_12-13
2022-05-09 13:04:40,532 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_12-13
2022-05-09 13:04:40,532 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 13
2022-05-09 13:04:40,532 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=11, new=13, updated? true
2022-05-09 13:04:40,536 [Thread-2043] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s2, 9, (t:8, i:13), 12, true, commits[s2:c12, s0:c13, s1:c12], entries: (t:9, i:14), CONFIGURATIONENTRY
2022-05-09 13:04:40,536 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,536 [Thread-2043] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-12_13 to index:13
2022-05-09 13:04:40,536 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:13: startIndex=12 endIndex=13
2022-05-09 13:04:40,536 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:14
2022-05-09 13:04:40,536 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:9, i:14), CONFIGURATIONENTRY
2022-05-09 13:04:40,537 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_12-13
2022-05-09 13:04:40,537 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_12 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_12-13
2022-05-09 13:04:40,537 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 13
2022-05-09 13:04:40,538 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=11, new=13, updated? true
2022-05-09 13:04:40,552 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14
2022-05-09 13:04:40,552 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14
2022-05-09 13:04:40,553 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14)
2022-05-09 13:04:40,553 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14)
2022-05-09 13:04:40,553 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-05-09 13:04:40,553 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-05-09 13:04:40,553 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14
2022-05-09 13:04:40,553 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14)
2022-05-09 13:04:40,554 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-05-09 13:04:40,554 [Thread-2319] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s0#1269:OK-t9,SUCCESS,nextIndex=15,followerCommit=13
2022-05-09 13:04:40,555 [s2@group-29E37BC8E22E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), METADATAENTRY(c:14)
2022-05-09 13:04:40,555 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14)
2022-05-09 13:04:40,555 [Thread-2320] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s1#1270:OK-t9,SUCCESS,nextIndex=15,followerCommit=12
2022-05-09 13:04:40,556 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-05-09 13:04:40,556 [Thread-2036] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s2, 9, (t:9, i:14), 14, true, commits[s2:c14, s0:c13, s1:c12], entries: (t:9, i:15), METADATAENTRY(c:14)
2022-05-09 13:04:40,556 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), METADATAENTRY(c:14)
2022-05-09 13:04:40,556 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14)
2022-05-09 13:04:40,556 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s2, 9, (t:9, i:14), 14, true, commits[s2:c14, s0:c13, s1:c12], entries: (t:9, i:15), METADATAENTRY(c:14)
2022-05-09 13:04:40,556 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-05-09 13:04:40,556 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), METADATAENTRY(c:14)
2022-05-09 13:04:40,556 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14)
2022-05-09 13:04:40,557 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-05-09 13:04:40,557 [Thread-2321] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s0#1273:OK-t9,SUCCESS,nextIndex=16,followerCommit=14
2022-05-09 13:04:40,557 [Thread-2322] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s1#1274:OK-t9,SUCCESS,nextIndex=16,followerCommit=14
2022-05-09 13:04:40,566 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,567 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,567 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,567 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-05-09 13:04:40,567 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,567 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,567 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,567 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,668 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,668 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,668 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,769 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,769 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,769 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,769 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,870 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,876 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,876 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,876 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,976 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:40,977 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,977 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:40,977 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:40,991 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:434677286ns, electionTimeout:232ms
2022-05-09 13:04:40,991 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,991 [s0@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2022-05-09 13:04:40,991 [s0@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:40,991 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-LeaderElection98
2022-05-09 13:04:40,992 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from s2 to null at term 9 for PRE_VOTE
2022-05-09 13:04:40,992 [s0@group-29E37BC8E22E-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-29E37BC8E22E-LeaderElection98 PRE_VOTE round 0: submit vote requests at term 9 for 14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,992 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s0, group-29E37BC8E22E, 9, (t:9, i:15))
2022-05-09 13:04:40,992 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s0, group-29E37BC8E22E, 9, (t:9, i:15))
2022-05-09 13:04:40,993 [Thread-2043] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:40,993 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s2@group-29E37BC8E22E-LeaderStateImpl: Lost leadership on term: 9. Election timeout: 300ms. In charge for: 470ms. Conf: 14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,993 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to PRE_VOTE vote request: s0<-s1#0:OK-t9. Peer's state: s1@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,993 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-29E37BC8E22E->s0(c14,m15,n16, attendVote=true, lastRpcSendTime=359, lastRpcResponseTime=435)
2022-05-09 13:04:40,993 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-29E37BC8E22E->s1(c14,m15,n16, attendVote=true, lastRpcSendTime=360, lastRpcResponseTime=435)
2022-05-09 13:04:40,993 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from    LEADER to FOLLOWER at term 9 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-05-09 13:04:40,993 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:40,993 [Thread-2050] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:40,993 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,993 [s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:40,994 [s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:40,994 [Thread-2050] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-05-09 13:04:40,994 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t9. Peer's state: s2@group-29E37BC8E22E:t9, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,994 [s0@group-29E37BC8E22E-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-29E37BC8E22E-LeaderElection98: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:40,994 [s0@group-29E37BC8E22E-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t9
2022-05-09 13:04:40,994 [s0@group-29E37BC8E22E-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-29E37BC8E22E-LeaderElection98 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:40,995 [s0@group-29E37BC8E22E-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-29E37BC8E22E-LeaderElection98 ELECTION round 0: submit vote requests at term 10 for 14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:40,996 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(ELECTION, s0, group-29E37BC8E22E, 10, (t:9, i:15))
2022-05-09 13:04:40,996 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:40,996 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from s2 to null at term 10 for updateCurrentTerm
2022-05-09 13:04:40,996 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s0
2022-05-09 13:04:40,996 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,996 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,996 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:40,996 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-29E37BC8E22E: receive requestVote(ELECTION, s0, group-29E37BC8E22E, 10, (t:9, i:15))
2022-05-09 13:04:40,996 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:40,996 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from s2 to null at term 10 for updateCurrentTerm
2022-05-09 13:04:40,996 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s0
2022-05-09 13:04:40,996 [Thread-2051] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,996 [Thread-2051] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:40,996 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:41,000 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to ELECTION vote request: s0<-s1#0:OK-t10. Peer's state: s1@group-29E37BC8E22E:t10, leader=null, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c14, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,000 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-29E37BC8E22E replies to ELECTION vote request: s0<-s2#0:OK-t10. Peer's state: s2@group-29E37BC8E22E:t10, leader=null, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c15, conf=14: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-29E37BC8E22E-LeaderElection98: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t10
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-29E37BC8E22E-LeaderElection98 ELECTION round 0: result PASSED
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-29E37BC8E22E-LeaderElection98
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s0 at term 10 for becomeLeader, leader elected after 9ms
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:41,001 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:41,002 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:41,002 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:41,002 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:41,002 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:41,002 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:41,002 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:41,003 [s0@group-29E37BC8E22E-LeaderElection98] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:41,003 [s0@group-29E37BC8E22E-LeaderElection98] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-14_15 to index:15
2022-05-09 13:04:41,003 [s0@group-29E37BC8E22E-LeaderElection98] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:15: startIndex=14 endIndex=15
2022-05-09 13:04:41,003 [s0@group-29E37BC8E22E-LeaderElection98] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:16
2022-05-09 13:04:41,003 [s0@group-29E37BC8E22E-LeaderElection98] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:10, i:16), CONFIGURATIONENTRY
2022-05-09 13:04:41,004 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s0 at term 10 for appendEntries, leader elected after 7ms
2022-05-09 13:04:41,004 [s0@group-29E37BC8E22E-LeaderElection98] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,004 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_14-15
2022-05-09 13:04:41,004 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_14-15
2022-05-09 13:04:41,004 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 15
2022-05-09 13:04:41,004 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=13, new=15, updated? true
2022-05-09 13:04:41,009 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s0 at term 10 for appendEntries, leader elected after 12ms
2022-05-09 13:04:41,009 [Thread-2043] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s0, 10, (t:9, i:15), 14, true, commits[s0:c14, s1:c14, s2:c14], entries: (t:10, i:16), CONFIGURATIONENTRY
2022-05-09 13:04:41,009 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,010 [Thread-2043] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-14_15 to index:15
2022-05-09 13:04:41,010 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:15: startIndex=14 endIndex=15
2022-05-09 13:04:41,010 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:16
2022-05-09 13:04:41,010 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:10, i:16), CONFIGURATIONENTRY
2022-05-09 13:04:41,010 [Thread-2050] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: receive appendEntries(s0, 10, (t:9, i:15), 14, true, commits[s0:c14, s1:c14, s2:c15], entries: (t:10, i:16), CONFIGURATIONENTRY
2022-05-09 13:04:41,010 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,010 [Thread-2050] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-14_15 to index:15
2022-05-09 13:04:41,010 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:15: startIndex=14 endIndex=15
2022-05-09 13:04:41,010 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:16
2022-05-09 13:04:41,011 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:10, i:16), CONFIGURATIONENTRY
2022-05-09 13:04:41,011 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_14-15
2022-05-09 13:04:41,011 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_14-15
2022-05-09 13:04:41,011 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 15
2022-05-09 13:04:41,011 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=13, new=15, updated? true
2022-05-09 13:04:41,011 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_14-15
2022-05-09 13:04:41,011 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_14 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_14-15
2022-05-09 13:04:41,011 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 15
2022-05-09 13:04:41,012 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=13, new=15, updated? true
2022-05-09 13:04:41,031 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16
2022-05-09 13:04:41,031 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16
2022-05-09 13:04:41,032 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16)
2022-05-09 13:04:41,032 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16
2022-05-09 13:04:41,032 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16)
2022-05-09 13:04:41,032 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16)
2022-05-09 13:04:41,032 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-05-09 13:04:41,032 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-05-09 13:04:41,033 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-05-09 13:04:41,033 [Thread-2348] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s0<-s2#1292:OK-t10,SUCCESS,nextIndex=17,followerCommit=15
2022-05-09 13:04:41,033 [Thread-2349] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s0<-s1#1291:OK-t10,SUCCESS,nextIndex=17,followerCommit=14
2022-05-09 13:04:41,033 [s0@group-29E37BC8E22E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), METADATAENTRY(c:16)
2022-05-09 13:04:41,034 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16)
2022-05-09 13:04:41,034 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s0, 10, (t:10, i:16), 16, true, commits[s0:c16, s1:c14, s2:c15], entries: (t:10, i:17), METADATAENTRY(c:16)
2022-05-09 13:04:41,035 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), METADATAENTRY(c:16)
2022-05-09 13:04:41,035 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16)
2022-05-09 13:04:41,035 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-05-09 13:04:41,035 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: receive appendEntries(s0, 10, (t:10, i:16), 16, true, commits[s0:c16, s1:c14, s2:c15], entries: (t:10, i:17), METADATAENTRY(c:16)
2022-05-09 13:04:41,035 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), METADATAENTRY(c:16)
2022-05-09 13:04:41,035 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16)
2022-05-09 13:04:41,036 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-05-09 13:04:41,036 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-05-09 13:04:41,036 [Thread-2350] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s0<-s1#1293:OK-t10,SUCCESS,nextIndex=18,followerCommit=16
2022-05-09 13:04:41,037 [Thread-2351] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s0<-s2#1294:OK-t10,SUCCESS,nextIndex=18,followerCommit=16
2022-05-09 13:04:41,078 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:41,078 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,079 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,079 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-05-09 13:04:41,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:41,079 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,079 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,079 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:41,180 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:41,180 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,180 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,181 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:41,281 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:41,281 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,282 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,282 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:41,382 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:41,383 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,383 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,383 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:41,449 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-29E37BC8E22E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:412398787ns, electionTimeout:204ms
2022-05-09 13:04:41,449 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:41,449 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2022-05-09 13:04:41,449 [s2@group-29E37BC8E22E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:41,449 [s2@group-29E37BC8E22E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderElection99
2022-05-09 13:04:41,450 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from s0 to null at term 10 for PRE_VOTE
2022-05-09 13:04:41,450 [s2@group-29E37BC8E22E-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection99 PRE_VOTE round 0: submit vote requests at term 10 for 16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,451 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 10, (t:10, i:17))
2022-05-09 13:04:41,451 [Thread-2043] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:41,451 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s1#0:OK-t10. Peer's state: s1@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,451 [Thread-2035] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(PRE_VOTE, s2, group-29E37BC8E22E, 10, (t:10, i:17))
2022-05-09 13:04:41,451 [s2@group-29E37BC8E22E-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection99: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:41,451 [Thread-2035] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s0@group-29E37BC8E22E-LeaderStateImpl: Lost leadership on term: 10. Election timeout: 300ms. In charge for: 450ms. Conf: 16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,451 [s2@group-29E37BC8E22E-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t10
2022-05-09 13:04:41,451 [s2@group-29E37BC8E22E-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection99 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:41,451 [Thread-2035] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-29E37BC8E22E->s1(c16,m17,n18, attendVote=true, lastRpcSendTime=339, lastRpcResponseTime=415)
2022-05-09 13:04:41,452 [Thread-2035] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-29E37BC8E22E->s2(c16,m17,n18, attendVote=true, lastRpcSendTime=339, lastRpcResponseTime=414)
2022-05-09 13:04:41,452 [Thread-2035] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from    LEADER to FOLLOWER at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-05-09 13:04:41,452 [Thread-2035] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:41,452 [Thread-2035] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:41,452 [Thread-2035] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:41,452 [s0@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:41,452 [s0@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-29E37BC8E22E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-05-09 13:04:41,452 [Thread-2035] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-05-09 13:04:41,452 [Thread-2035] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t10. Peer's state: s0@group-29E37BC8E22E:t10, leader=s0, voted=s0, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,453 [s2@group-29E37BC8E22E-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-29E37BC8E22E-LeaderElection99 ELECTION round 0: submit vote requests at term 11 for 16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,453 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s0@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 11, (t:10, i:17))
2022-05-09 13:04:41,453 [Thread-2036] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:41,453 [Thread-2036] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from s0 to null at term 11 for updateCurrentTerm
2022-05-09 13:04:41,454 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s2
2022-05-09 13:04:41,454 [Thread-2036] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:41,454 [Thread-2036] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:41,454 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-29E37BC8E22E: receive requestVote(ELECTION, s2, group-29E37BC8E22E, 11, (t:10, i:17))
2022-05-09 13:04:41,454 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:41,454 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-29E37BC8E22E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-05-09 13:04:41,454 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from s0 to null at term 11 for updateCurrentTerm
2022-05-09 13:04:41,454 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-29E37BC8E22E: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s2
2022-05-09 13:04:41,454 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:41,454 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:41,454 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:41,457 [Thread-2036] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s0@group-29E37BC8E22E replies to ELECTION vote request: s2<-s0#0:OK-t11. Peer's state: s0@group-29E37BC8E22E:t11, leader=null, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,457 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-29E37BC8E22E replies to ELECTION vote request: s2<-s1#0:OK-t11. Peer's state: s1@group-29E37BC8E22E:t11, leader=null, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=16: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,457 [s2@group-29E37BC8E22E-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-29E37BC8E22E-LeaderElection99: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:41,457 [s2@group-29E37BC8E22E-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t11
2022-05-09 13:04:41,457 [s2@group-29E37BC8E22E-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-29E37BC8E22E-LeaderElection99 ELECTION round 0: result PASSED
2022-05-09 13:04:41,457 [s2@group-29E37BC8E22E-LeaderElection99] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-29E37BC8E22E-LeaderElection99
2022-05-09 13:04:41,457 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-29E37BC8E22E: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2022-05-09 13:04:41,457 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-29E37BC8E22E: change Leader from null to s2 at term 11 for becomeLeader, leader elected after 7ms
2022-05-09 13:04:41,457 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:41,457 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:41,457 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:41,457 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:41,458 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:41,458 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:41,458 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:41,458 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:41,458 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:41,458 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:41,458 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:41,458 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:41,458 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:41,459 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:41,459 [s2@group-29E37BC8E22E-LeaderElection99] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:41,459 [s2@group-29E37BC8E22E-LeaderElection99] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-16_17 to index:17
2022-05-09 13:04:41,459 [s2@group-29E37BC8E22E-LeaderElection99] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:17: startIndex=16 endIndex=17
2022-05-09 13:04:41,459 [s2@group-29E37BC8E22E-LeaderElection99] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:18
2022-05-09 13:04:41,459 [s2@group-29E37BC8E22E-LeaderElection99] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:11, i:18), CONFIGURATIONENTRY
2022-05-09 13:04:41,460 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_16-17
2022-05-09 13:04:41,460 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_16-17
2022-05-09 13:04:41,460 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 17
2022-05-09 13:04:41,460 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=15, new=17, updated? true
2022-05-09 13:04:41,465 [s2@group-29E37BC8E22E-LeaderElection99] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-29E37BC8E22E: set configuration 18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,465 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-29E37BC8E22E: change Leader from null to s2 at term 11 for appendEntries, leader elected after 11ms
2022-05-09 13:04:41,465 [Thread-2037] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-29E37BC8E22E: change Leader from null to s2 at term 11 for appendEntries, leader elected after 11ms
2022-05-09 13:04:41,466 [Thread-2043] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s2, 11, (t:10, i:17), 16, true, commits[s2:c16, s0:c16, s1:c16], entries: (t:11, i:18), CONFIGURATIONENTRY
2022-05-09 13:04:41,466 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-29E37BC8E22E: set configuration 18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,466 [Thread-2043] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-16_17 to index:17
2022-05-09 13:04:41,466 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:17: startIndex=16 endIndex=17
2022-05-09 13:04:41,466 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:18
2022-05-09 13:04:41,466 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:11, i:18), CONFIGURATIONENTRY
2022-05-09 13:04:41,467 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_16-17
2022-05-09 13:04:41,467 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_16-17
2022-05-09 13:04:41,467 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 17
2022-05-09 13:04:41,467 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=15, new=17, updated? true
2022-05-09 13:04:41,469 [Thread-2035] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s2, 11, (t:10, i:17), 16, true, commits[s2:c16, s0:c17, s1:c16], entries: (t:11, i:18), CONFIGURATIONENTRY
2022-05-09 13:04:41,469 [Thread-2035] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-29E37BC8E22E: set configuration 18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null
2022-05-09 13:04:41,469 [Thread-2035] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolling segment log-16_17 to index:17
2022-05-09 13:04:41,469 [Thread-2035] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:17: startIndex=16 endIndex=17
2022-05-09 13:04:41,470 [Thread-2035] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task StartLogSegment:18
2022-05-09 13:04:41,470 [Thread-2035] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:11, i:18), CONFIGURATIONENTRY
2022-05-09 13:04:41,470 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_16-17
2022-05-09 13:04:41,470 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_16 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_16-17
2022-05-09 13:04:41,470 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 17
2022-05-09 13:04:41,470 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=15, new=17, updated? true
2022-05-09 13:04:41,479 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_18
2022-05-09 13:04:41,480 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_18)
2022-05-09 13:04:41,480 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-05-09 13:04:41,484 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:41,484 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t11, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c17, conf=18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t11, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t11, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c16, conf=18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,484 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-29E37BC8E22E not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-29E37BC8E22E not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:41,493 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_18
2022-05-09 13:04:41,493 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_18)
2022-05-09 13:04:41,493 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_18
2022-05-09 13:04:41,493 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_18)
2022-05-09 13:04:41,493 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-05-09 13:04:41,494 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-05-09 13:04:41,494 [Thread-2377] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s0#1312:OK-t11,SUCCESS,nextIndex=19,followerCommit=17
2022-05-09 13:04:41,494 [Thread-2378] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s1#1311:OK-t11,SUCCESS,nextIndex=19,followerCommit=16
2022-05-09 13:04:41,495 [s2@group-29E37BC8E22E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), METADATAENTRY(c:18)
2022-05-09 13:04:41,495 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s2/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_18)
2022-05-09 13:04:41,495 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-05-09 13:04:41,497 [Thread-2036] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: receive appendEntries(s2, 11, (t:11, i:18), 18, true, commits[s2:c18, s0:c17, s1:c16], entries: (t:11, i:19), METADATAENTRY(c:18)
2022-05-09 13:04:41,497 [Thread-2036] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), METADATAENTRY(c:18)
2022-05-09 13:04:41,497 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s0/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_18)
2022-05-09 13:04:41,497 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: receive appendEntries(s2, 11, (t:11, i:18), 18, true, commits[s2:c18, s0:c17, s1:c16], entries: (t:11, i:19), METADATAENTRY(c:18)
2022-05-09 13:04:41,498 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), METADATAENTRY(c:18)
2022-05-09 13:04:41,498 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-05-09 13:04:41,498 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpcab04844e/s1/c34c1ad7-4b32-4500-9216-29e37bc8e22e/current/log_inprogress_18)
2022-05-09 13:04:41,498 [Thread-2379] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s0@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s0#1313:OK-t11,SUCCESS,nextIndex=20,followerCommit=18
2022-05-09 13:04:41,498 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-05-09 13:04:41,499 [Thread-2380] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-29E37BC8E22E: succeeded to handle AppendEntries. Reply: s2<-s1#1314:OK-t11,SUCCESS,nextIndex=20,followerCommit=18
2022-05-09 13:04:41,935 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t11, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c19, conf=18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t11, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c19, conf=18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t11, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c19, conf=18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,935 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-05-09 13:04:41,935 [Time-limited test] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2022-05-09 13:04:41,935 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-05-09 13:04:41,935 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-05-09 13:04:41,935 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:41,935 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-05-09 13:04:41,935 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-05-09 13:04:41,935 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-29E37BC8E22E:t11, leader=s2, voted=s2, raftlog=s0@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c19, conf=18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-29E37BC8E22E:t11, leader=s2, voted=s2, raftlog=s1@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c19, conf=18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-29E37BC8E22E:t11, leader=s2, voted=s2, raftlog=s2@group-29E37BC8E22E-SegmentedRaftLog:OPENED:c19, conf=18: [s0|rpc:localhost:41861|admin:localhost:34939|client:localhost:41949|dataStream:localhost:38675|priority:0, s1|rpc:localhost:46101|admin:localhost:38137|client:localhost:44341|dataStream:localhost:40577|priority:0, s2|rpc:localhost:44757|admin:localhost:45919|client:localhost:44571|dataStream:localhost:42269|priority:0], old=null RUNNING
2022-05-09 13:04:41,936 [java.util.concurrent.ThreadPoolExecutor$Worker@7e74356a[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-05-09 13:04:41,941 [java.util.concurrent.ThreadPoolExecutor$Worker@7e74356a[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s1@group-29E37BC8E22E: shutdown
2022-05-09 13:04:41,941 [java.util.concurrent.ThreadPoolExecutor$Worker@7e74356a[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-29E37BC8E22E,id=s1
2022-05-09 13:04:41,941 [java.util.concurrent.ThreadPoolExecutor$Worker@7e74356a[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:41,941 [s1@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:41,941 [java.util.concurrent.ThreadPoolExecutor$Worker@6ef64ec6[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-05-09 13:04:41,942 [java.util.concurrent.ThreadPoolExecutor$Worker@6ad53244[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-05-09 13:04:41,942 [java.util.concurrent.ThreadPoolExecutor$Worker@6ef64ec6[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s0@group-29E37BC8E22E: shutdown
2022-05-09 13:04:41,941 [java.util.concurrent.ThreadPoolExecutor$Worker@7e74356a[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-29E37BC8E22E-StateMachineUpdater: set stopIndex = 19
2022-05-09 13:04:41,945 [java.util.concurrent.ThreadPoolExecutor$Worker@7e74356a[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s1@group-29E37BC8E22E: closes. applyIndex: 19
2022-05-09 13:04:41,945 [s1@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:41,945 [java.util.concurrent.ThreadPoolExecutor$Worker@6ef64ec6[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-29E37BC8E22E,id=s0
2022-05-09 13:04:41,945 [java.util.concurrent.ThreadPoolExecutor$Worker@6ef64ec6[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-29E37BC8E22E-FollowerState
2022-05-09 13:04:41,945 [java.util.concurrent.ThreadPoolExecutor$Worker@6ef64ec6[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-29E37BC8E22E-StateMachineUpdater: set stopIndex = 19
2022-05-09 13:04:41,945 [java.util.concurrent.ThreadPoolExecutor$Worker@6ad53244[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(433)) - s2@group-29E37BC8E22E: shutdown
2022-05-09 13:04:41,945 [s0@group-29E37BC8E22E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-29E37BC8E22E-FollowerState was interrupted
2022-05-09 13:04:41,946 [java.util.concurrent.ThreadPoolExecutor$Worker@6ef64ec6[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s0@group-29E37BC8E22E: closes. applyIndex: 19
2022-05-09 13:04:41,946 [java.util.concurrent.ThreadPoolExecutor$Worker@6ad53244[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-29E37BC8E22E,id=s2
2022-05-09 13:04:41,946 [java.util.concurrent.ThreadPoolExecutor$Worker@6ad53244[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-29E37BC8E22E-LeaderStateImpl
2022-05-09 13:04:41,946 [s0@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:41,946 [s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-29E37BC8E22E->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:41,946 [s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-29E37BC8E22E->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-05-09 13:04:41,946 [java.util.concurrent.ThreadPoolExecutor$Worker@6ad53244[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-29E37BC8E22E-PendingRequests: sendNotLeaderResponses
2022-05-09 13:04:41,947 [java.util.concurrent.ThreadPoolExecutor$Worker@6ad53244[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-29E37BC8E22E-StateMachineUpdater: set stopIndex = 19
2022-05-09 13:04:41,947 [java.util.concurrent.ThreadPoolExecutor$Worker@6ad53244[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(429)) - s2@group-29E37BC8E22E: closes. applyIndex: 19
2022-05-09 13:04:41,950 [java.util.concurrent.ThreadPoolExecutor$Worker@7e74356a[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-29E37BC8E22E-SegmentedRaftLogWorker close()
2022-05-09 13:04:41,951 [s2@group-29E37BC8E22E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-05-09 13:04:41,951 [Thread-2045] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,951 [Thread-2046] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,951 [Thread-2047] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,951 [java.util.concurrent.ThreadPoolExecutor$Worker@6ef64ec6[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-29E37BC8E22E-SegmentedRaftLogWorker close()
2022-05-09 13:04:41,951 [Thread-2042] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,952 [Thread-2043] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,952 [Thread-2044] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,952 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@2f9c7d49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-05-09 13:04:41,953 [Thread-2038] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,953 [Thread-2039] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,953 [Thread-2040] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,953 [java.util.concurrent.ThreadPoolExecutor$Worker@6ad53244[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-29E37BC8E22E-SegmentedRaftLogWorker close()
2022-05-09 13:04:41,954 [Thread-2035] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,954 [Thread-2036] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,954 [Thread-2037] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,954 [Thread-2052] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,954 [Thread-2053] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,954 [Thread-2054] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,954 [Thread-2050] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,954 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@5f4abf92] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-05-09 13:04:41,954 [Thread-2049] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,954 [Thread-2051] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-05-09 13:04:41,955 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@4bdbcdf0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-05-09 13:04:41,956 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-05-09 13:04:41,956 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:41,956 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:41,956 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:41,956 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:43,643 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:43,654 [Time-limited test] INFO  impl.LeaderElection (LeaderElection.java:startIfNew(214)) - any@group-46EB6A98BF89-LeaderElection100: skip starting since this is already CLOSED
2022-05-09 13:04:43,655 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:43,655 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:43,655 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:43,655 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:43,671 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:43,673 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-05-09 13:04:43,673 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-05-09 13:04:43,673 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-05-09 13:04:43,673 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-05-09 13:04:43,674 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-05-09 13:04:43,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-FF8B4DBBB79A:[s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0]
2022-05-09 13:04:43,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-05-09 13:04:43,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-05-09 13:04:43,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-05-09 13:04:43,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-05-09 13:04:43,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-05-09 13:04:43,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-05-09 13:04:43,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-FF8B4DBBB79A:[s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], format? true
2022-05-09 13:04:43,676 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0
2022-05-09 13:04:43,676 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0 does not exist.
2022-05-09 13:04:43,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0
2022-05-09 13:04:43,683 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:43,684 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:43,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:43,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:43,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:43,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:43,690 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0] (custom)
2022-05-09 13:04:43,702 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-FF8B4DBBB79A:[s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0] returns group-FF8B4DBBB79A:java.util.concurrent.CompletableFuture@7787cef5[Not completed]
2022-05-09 13:04:43,703 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-FF8B4DBBB79A:[s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], format? true
2022-05-09 13:04:43,703 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1
2022-05-09 13:04:43,703 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1 does not exist.
2022-05-09 13:04:43,703 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1
2022-05-09 13:04:43,703 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:43,704 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:43,704 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:43,704 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:43,704 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:43,704 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:43,705 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1] (custom)
2022-05-09 13:04:43,711 [pool-32-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s0: new RaftServerImpl for group-FF8B4DBBB79A:[s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:43,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:43,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:43,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:43,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:43,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:43,711 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:43,712 [pool-32-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-FF8B4DBBB79A: ConfigurationManager, init=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:43,712 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0] (custom)
2022-05-09 13:04:43,712 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:43,712 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:43,712 [pool-32-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a does not exist. Creating ...
2022-05-09 13:04:43,713 [pool-32-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a
2022-05-09 13:04:43,715 [pool-32-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:43,715 [pool-32-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/current
2022-05-09 13:04:43,716 [pool-32-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/sm
2022-05-09 13:04:43,717 [pool-32-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a has been successfully formatted.
2022-05-09 13:04:43,717 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:43,718 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:43,718 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:43,718 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:43,718 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:43,723 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:43,723 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:43,723 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:43,724 [pool-32-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-FF8B4DBBB79A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a
2022-05-09 13:04:43,724 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:43,724 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:43,724 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:43,724 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:43,724 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:43,724 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:43,724 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:43,724 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:43,725 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-FF8B4DBBB79A:[s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0] returns group-FF8B4DBBB79A:java.util.concurrent.CompletableFuture@46769fd2[Not completed]
2022-05-09 13:04:43,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-FF8B4DBBB79A:[s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], format? true
2022-05-09 13:04:43,725 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2
2022-05-09 13:04:43,725 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2 does not exist.
2022-05-09 13:04:43,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2
2022-05-09 13:04:43,725 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-05-09 13:04:43,726 [pool-33-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s1: new RaftServerImpl for group-FF8B4DBBB79A:[s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:43,726 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:43,726 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:43,726 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:43,726 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:43,726 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:43,726 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:43,726 [pool-33-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-FF8B4DBBB79A: ConfigurationManager, init=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:43,727 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1] (custom)
2022-05-09 13:04:43,727 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:43,727 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:43,727 [pool-33-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a does not exist. Creating ...
2022-05-09 13:04:43,727 [pool-33-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a
2022-05-09 13:04:43,729 [pool-33-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:43,729 [pool-33-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/current
2022-05-09 13:04:43,730 [pool-33-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/sm
2022-05-09 13:04:43,730 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-05-09 13:04:43,730 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-05-09 13:04:43,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-05-09 13:04:43,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:43,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:43,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2] (custom)
2022-05-09 13:04:43,733 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:43,733 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:43,733 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:43,733 [pool-32-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-FF8B4DBBB79A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:43,733 [pool-32-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-FF8B4DBBB79A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:43,734 [pool-33-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a has been successfully formatted.
2022-05-09 13:04:43,734 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:43,734 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:43,734 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:43,735 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:43,735 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:43,735 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:43,735 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:43,736 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:43,736 [pool-33-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-FF8B4DBBB79A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a
2022-05-09 13:04:43,736 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:43,736 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:43,736 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:43,736 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:43,736 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:43,736 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:43,736 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:43,736 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:43,738 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:43,738 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:43,738 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:43,738 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:43,738 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:43,741 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:43,741 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:43,741 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:43,741 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:43,742 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:43,742 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-FF8B4DBBB79A:[s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0] returns group-FF8B4DBBB79A:java.util.concurrent.CompletableFuture@6a9254c9[Not completed]
2022-05-09 13:04:43,743 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s0@group-FF8B4DBBB79A: start as a follower, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:43,743 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FF8B4DBBB79A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:43,743 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FF8B4DBBB79A-FollowerState
2022-05-09 13:04:43,744 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:43,744 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:43,744 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:43,744 [pool-33-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-FF8B4DBBB79A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:43,744 [pool-33-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-FF8B4DBBB79A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:43,745 [pool-34-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(189)) - s2: new RaftServerImpl for group-FF8B4DBBB79A:[s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0] with BaseStateMachine:uninitialized
2022-05-09 13:04:43,745 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-05-09 13:04:43,745 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:43,745 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-05-09 13:04:43,745 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-05-09 13:04:43,745 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-05-09 13:04:43,745 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-05-09 13:04:43,745 [pool-34-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-FF8B4DBBB79A: ConfigurationManager, init=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null, confs=<EMPTY_MAP>
2022-05-09 13:04:43,746 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FF8B4DBBB79A,id=s0
2022-05-09 13:04:43,747 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2] (custom)
2022-05-09 13:04:43,747 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-05-09 13:04:43,747 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-05-09 13:04:43,747 [pool-34-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a does not exist. Creating ...
2022-05-09 13:04:43,748 [pool-34-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a
2022-05-09 13:04:43,749 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-05-09 13:04:43,749 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:43,749 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:43,750 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:43,750 [pool-34-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/in_use.lock acquired by nodename 5030@fv-az54-248.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-05-09 13:04:43,750 [pool-34-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/current
2022-05-09 13:04:43,750 [pool-34-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/sm
2022-05-09 13:04:43,752 [pool-34-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a has been successfully formatted.
2022-05-09 13:04:43,752 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-05-09 13:04:43,752 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-05-09 13:04:43,752 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-05-09 13:04:43,752 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:43,752 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-05-09 13:04:43,752 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:43,753 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-05-09 13:04:43,753 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-05-09 13:04:43,753 [pool-34-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-FF8B4DBBB79A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a
2022-05-09 13:04:43,753 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:43,753 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-05-09 13:04:43,753 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-05-09 13:04:43,754 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-05-09 13:04:43,754 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-05-09 13:04:43,754 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-05-09 13:04:43,754 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-05-09 13:04:43,754 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-05-09 13:04:43,762 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:43,762 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:43,763 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:43,763 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:43,764 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:43,764 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:43,764 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:43,768 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-05-09 13:04:43,768 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-05-09 13:04:43,768 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-05-09 13:04:43,768 [pool-34-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-FF8B4DBBB79A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:43,768 [pool-34-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-FF8B4DBBB79A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-05-09 13:04:43,778 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@1a144987] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-05-09 13:04:43,779 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-05-09 13:04:43,779 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s1@group-FF8B4DBBB79A: start as a follower, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:43,779 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-05-09 13:04:43,779 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FF8B4DBBB79A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:43,779 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-05-09 13:04:43,779 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FF8B4DBBB79A-FollowerState
2022-05-09 13:04:43,779 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-05-09 13:04:43,779 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-05-09 13:04:43,781 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-05-09 13:04:43,781 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-05-09 13:04:43,781 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-05-09 13:04:43,781 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-05-09 13:04:43,781 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-05-09 13:04:43,782 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FF8B4DBBB79A,id=s1
2022-05-09 13:04:43,786 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-05-09 13:04:43,794 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(309)) - s2@group-FF8B4DBBB79A: start as a follower, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:43,794 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-FF8B4DBBB79A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-05-09 13:04:43,795 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@60f7e057] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-05-09 13:04:43,796 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FF8B4DBBB79A-FollowerState
2022-05-09 13:04:43,802 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FF8B4DBBB79A,id=s2
2022-05-09 13:04:43,803 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-05-09 13:04:43,811 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$278/721331247@2c81646e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-05-09 13:04:43,811 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-05-09 13:04:43,812 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s0@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s1@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s2@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
2022-05-09 13:04:43,812 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s0@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s1@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s2@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s0@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s1@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s2@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:320)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-05-09 13:04:43,946 [s0@group-FF8B4DBBB79A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FF8B4DBBB79A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:202392103ns, electionTimeout:197ms
2022-05-09 13:04:43,946 [s0@group-FF8B4DBBB79A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FF8B4DBBB79A-FollowerState
2022-05-09 13:04:43,946 [s0@group-FF8B4DBBB79A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FF8B4DBBB79A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-05-09 13:04:43,946 [s0@group-FF8B4DBBB79A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-05-09 13:04:43,946 [s0@group-FF8B4DBBB79A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FF8B4DBBB79A-LeaderElection102
2022-05-09 13:04:43,947 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FF8B4DBBB79A-LeaderElection102 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:43,949 [Thread-2455] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FF8B4DBBB79A: receive requestVote(PRE_VOTE, s0, group-FF8B4DBBB79A, 0, (t:0, i:0))
2022-05-09 13:04:43,949 [Thread-2455] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FF8B4DBBB79A-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:43,950 [Thread-2455] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FF8B4DBBB79A replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s1@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:43,951 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FF8B4DBBB79A-LeaderElection102: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:43,952 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-05-09 13:04:43,952 [Thread-2464] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FF8B4DBBB79A: receive requestVote(PRE_VOTE, s0, group-FF8B4DBBB79A, 0, (t:0, i:0))
2022-05-09 13:04:43,952 [Thread-2464] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FF8B4DBBB79A-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:43,952 [Thread-2464] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FF8B4DBBB79A replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-FF8B4DBBB79A:t0, leader=null, voted=, raftlog=s2@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:43,952 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FF8B4DBBB79A-LeaderElection102 PRE_VOTE round 0: result PASSED
2022-05-09 13:04:43,956 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FF8B4DBBB79A-LeaderElection102 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:43,962 [Thread-2456] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s1@group-FF8B4DBBB79A: receive requestVote(ELECTION, s0, group-FF8B4DBBB79A, 1, (t:0, i:0))
2022-05-09 13:04:43,962 [Thread-2456] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FF8B4DBBB79A-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:43,962 [Thread-2456] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s1@group-FF8B4DBBB79A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-05-09 13:04:43,962 [Thread-2456] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FF8B4DBBB79A-FollowerState
2022-05-09 13:04:43,966 [Thread-2456] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FF8B4DBBB79A-FollowerState
2022-05-09 13:04:43,966 [s1@group-FF8B4DBBB79A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FF8B4DBBB79A-FollowerState was interrupted
2022-05-09 13:04:43,972 [Thread-2465] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1151)) - s2@group-FF8B4DBBB79A: receive requestVote(ELECTION, s0, group-FF8B4DBBB79A, 1, (t:0, i:0))
2022-05-09 13:04:43,973 [Thread-2465] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FF8B4DBBB79A-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-05-09 13:04:43,973 [Thread-2465] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s2@group-FF8B4DBBB79A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-05-09 13:04:43,973 [Thread-2465] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FF8B4DBBB79A-FollowerState
2022-05-09 13:04:43,973 [Thread-2465] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FF8B4DBBB79A-FollowerState
2022-05-09 13:04:43,973 [s2@group-FF8B4DBBB79A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FF8B4DBBB79A-FollowerState was interrupted
2022-05-09 13:04:43,973 [Thread-2456] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s1@group-FF8B4DBBB79A replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-FF8B4DBBB79A:t1, leader=null, voted=s0, raftlog=s1@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:43,974 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FF8B4DBBB79A-LeaderElection102: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-05-09 13:04:43,974 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-05-09 13:04:43,978 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FF8B4DBBB79A-LeaderElection102 ELECTION round 0: result PASSED
2022-05-09 13:04:43,979 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FF8B4DBBB79A-LeaderElection102
2022-05-09 13:04:43,979 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(298)) - s0@group-FF8B4DBBB79A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-05-09 13:04:43,979 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s0@group-FF8B4DBBB79A: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 261ms
2022-05-09 13:04:43,979 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-05-09 13:04:43,979 [Thread-2465] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1183)) - s2@group-FF8B4DBBB79A replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-FF8B4DBBB79A:t1, leader=null, voted=s0, raftlog=s2@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:43,979 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:43,980 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-05-09 13:04:43,980 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-05-09 13:04:43,980 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-05-09 13:04:43,980 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-05-09 13:04:43,980 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-05-09 13:04:43,981 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-05-09 13:04:43,982 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:43,982 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:43,982 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:43,983 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-05-09 13:04:43,983 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-05-09 13:04:43,984 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-05-09 13:04:43,984 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FF8B4DBBB79A-LeaderStateImpl
2022-05-09 13:04:43,992 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-FF8B4DBBB79A-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:44,001 [Thread-2457] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s1@group-FF8B4DBBB79A: change Leader from null to s0 at term 1 for appendEntries, leader elected after 267ms
2022-05-09 13:04:44,006 [s0@group-FF8B4DBBB79A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-FF8B4DBBB79A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s0/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/current/log_inprogress_0
2022-05-09 13:04:44,007 [s0@group-FF8B4DBBB79A-LeaderElection102] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s0@group-FF8B4DBBB79A: set configuration 0: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:44,008 [Thread-2455] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FF8B4DBBB79A: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:44,009 [Thread-2455] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s1@group-FF8B4DBBB79A: set configuration 0: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:44,009 [Thread-2455] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-FF8B4DBBB79A-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:44,010 [Thread-2466] INFO  server.RaftServer$Division (ServerState.java:setLeader(287)) - s2@group-FF8B4DBBB79A: change Leader from null to s0 at term 1 for appendEntries, leader elected after 257ms
2022-05-09 13:04:44,016 [Thread-2464] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FF8B4DBBB79A: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-05-09 13:04:44,017 [Thread-2464] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(393)) - s2@group-FF8B4DBBB79A: set configuration 0: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null
2022-05-09 13:04:44,017 [Thread-2464] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-FF8B4DBBB79A-SegmentedRaftLogWorker: Starting segment from index:0
2022-05-09 13:04:44,021 [s1@group-FF8B4DBBB79A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-FF8B4DBBB79A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s1/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/current/log_inprogress_0
2022-05-09 13:04:44,022 [Thread-2499] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s1@group-FF8B4DBBB79A: succeeded to handle AppendEntries. Reply: s0<-s1#1387:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-05-09 13:04:44,030 [s2@group-FF8B4DBBB79A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-FF8B4DBBB79A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/274820dd/MiniRaftClusterWithSimulatedRpc254c7e2/s2/4939e2b6-4c86-4a84-a11f-ff8b4dbbb79a/current/log_inprogress_0
2022-05-09 13:04:44,039 [Thread-2500] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1257)) - s2@group-FF8B4DBBB79A: succeeded to handle AppendEntries. Reply: s0<-s2#1388:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-05-09 13:04:44,263 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-FF8B4DBBB79A:t1, leader=s0, voted=s0, raftlog=s0@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FF8B4DBBB79A:t1, leader=s0, voted=s0, raftlog=s1@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FF8B4DBBB79A:t1, leader=s0, voted=s0, raftlog=s2@group-FF8B4DBBB79A-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:41601|admin:localhost:42895|client:localhost:36413|dataStream:localhost:38605|priority:0, s1|rpc:localhost:36553|admin:localhost:45823|client:localhost:36699|dataStream:localhost:45227|priority:0, s2|rpc:localhost:37291|admin:localhost:42665|client:localhost:34159|dataStream:localhost:33215|priority:0], old=null RUNNING
